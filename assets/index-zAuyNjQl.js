(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Pp={exports:{}},Rc={};var bb;function F2(){if(bb)return Rc;bb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Rc.Fragment=e,Rc.jsx=n,Rc.jsxs=n,Rc}var Eb;function q2(){return Eb||(Eb=1,Pp.exports=F2()),Pp.exports}var b=q2(),Op={exports:{}},Ae={};var wb;function H2(){if(wb)return Ae;wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function C(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function O(B,ie,J){this.props=B,this.context=ie,this.refs=D,this.updater=J||I}O.prototype.isReactComponent={},O.prototype.setState=function(B,ie){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ie,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=O.prototype;function F(B,ie,J){this.props=B,this.context=ie,this.refs=D,this.updater=J||I}var te=F.prototype=new U;te.constructor=F,k(te,O.prototype),te.isPureReactComponent=!0;var Z=Array.isArray;function se(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(B,ie,J){var ce=J.ref;return{$$typeof:t,type:B,key:ie,ref:ce!==void 0?ce:null,props:J}}function j(B,ie){return N(B.type,ie,B.props)}function P(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function q(B){var ie={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(J){return ie[J]})}var V=/\/+/g;function ze(B,ie){return typeof B=="object"&&B!==null&&B.key!=null?q(""+B.key):ie.toString(36)}function Ye(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(se,se):(B.status="pending",B.then(function(ie){B.status==="pending"&&(B.status="fulfilled",B.value=ie)},function(ie){B.status==="pending"&&(B.status="rejected",B.reason=ie)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function K(B,ie,J,ce,ve){var we=typeof B;(we==="undefined"||we==="boolean")&&(B=null);var Fe=!1;if(B===null)Fe=!0;else switch(we){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(B.$$typeof){case t:case e:Fe=!0;break;case y:return Fe=B._init,K(Fe(B._payload),ie,J,ce,ve)}}if(Fe)return ve=ve(B),Fe=ce===""?"."+ze(B,0):ce,Z(ve)?(J="",Fe!=null&&(J=Fe.replace(V,"$&/")+"/"),K(ve,ie,J,"",function(Qr){return Qr})):ve!=null&&(P(ve)&&(ve=j(ve,J+(ve.key==null||B&&B.key===ve.key?"":(""+ve.key).replace(V,"$&/")+"/")+Fe)),ie.push(ve)),1;Fe=0;var Bt=ce===""?".":ce+":";if(Z(B))for(var ct=0;ct<B.length;ct++)ce=B[ct],we=Bt+ze(ce,ct),Fe+=K(ce,ie,J,we,ve);else if(ct=C(B),typeof ct=="function")for(B=ct.call(B),ct=0;!(ce=B.next()).done;)ce=ce.value,we=Bt+ze(ce,ct++),Fe+=K(ce,ie,J,we,ve);else if(we==="object"){if(typeof B.then=="function")return K(Ye(B),ie,J,ce,ve);throw ie=String(B),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function le(B,ie,J){if(B==null)return B;var ce=[],ve=0;return K(B,ce,"","",function(we){return ie.call(J,we,ve++)}),ce}function fe(B){if(B._status===-1){var ie=B._result;ie=ie(),ie.then(function(J){(B._status===0||B._status===-1)&&(B._status=1,B._result=J)},function(J){(B._status===0||B._status===-1)&&(B._status=2,B._result=J)}),B._status===-1&&(B._status=0,B._result=ie)}if(B._status===1)return B._result.default;throw B._result}var Se=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},De={map:le,forEach:function(B,ie,J){le(B,function(){ie.apply(this,arguments)},J)},count:function(B){var ie=0;return le(B,function(){ie++}),ie},toArray:function(B){return le(B,function(ie){return ie})||[]},only:function(B){if(!P(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ae.Activity=_,Ae.Children=De,Ae.Component=O,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=F,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},Ae.cache=function(B){return function(){return B.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(B,ie,J){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=k({},B.props),ve=B.key;if(ie!=null)for(we in ie.key!==void 0&&(ve=""+ie.key),ie)!S.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(ce[we]=ie[we]);var we=arguments.length-2;if(we===1)ce.children=J;else if(1<we){for(var Fe=Array(we),Bt=0;Bt<we;Bt++)Fe[Bt]=arguments[Bt+2];ce.children=Fe}return N(B.type,ve,ce)},Ae.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ae.createElement=function(B,ie,J){var ce,ve={},we=null;if(ie!=null)for(ce in ie.key!==void 0&&(we=""+ie.key),ie)S.call(ie,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ve[ce]=ie[ce]);var Fe=arguments.length-2;if(Fe===1)ve.children=J;else if(1<Fe){for(var Bt=Array(Fe),ct=0;ct<Fe;ct++)Bt[ct]=arguments[ct+2];ve.children=Bt}if(B&&B.defaultProps)for(ce in Fe=B.defaultProps,Fe)ve[ce]===void 0&&(ve[ce]=Fe[ce]);return N(B,we,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(B){return{$$typeof:d,render:B}},Ae.isValidElement=P,Ae.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:fe}},Ae.memo=function(B,ie){return{$$typeof:g,type:B,compare:ie===void 0?null:ie}},Ae.startTransition=function(B){var ie=R.T,J={};R.T=J;try{var ce=B(),ve=R.S;ve!==null&&ve(J,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(se,Se)}catch(we){Se(we)}finally{ie!==null&&J.types!==null&&(ie.types=J.types),R.T=ie}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(B){return R.H.use(B)},Ae.useActionState=function(B,ie,J){return R.H.useActionState(B,ie,J)},Ae.useCallback=function(B,ie){return R.H.useCallback(B,ie)},Ae.useContext=function(B){return R.H.useContext(B)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(B,ie){return R.H.useDeferredValue(B,ie)},Ae.useEffect=function(B,ie){return R.H.useEffect(B,ie)},Ae.useEffectEvent=function(B){return R.H.useEffectEvent(B)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(B,ie,J){return R.H.useImperativeHandle(B,ie,J)},Ae.useInsertionEffect=function(B,ie){return R.H.useInsertionEffect(B,ie)},Ae.useLayoutEffect=function(B,ie){return R.H.useLayoutEffect(B,ie)},Ae.useMemo=function(B,ie){return R.H.useMemo(B,ie)},Ae.useOptimistic=function(B,ie){return R.H.useOptimistic(B,ie)},Ae.useReducer=function(B,ie,J){return R.H.useReducer(B,ie,J)},Ae.useRef=function(B){return R.H.useRef(B)},Ae.useState=function(B){return R.H.useState(B)},Ae.useSyncExternalStore=function(B,ie,J){return R.H.useSyncExternalStore(B,ie,J)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.3",Ae}var xb;function Ty(){return xb||(xb=1,Op.exports=H2()),Op.exports}var M=Ty(),Lp={exports:{}},Cc={},jp={exports:{}},Up={};var Sb;function G2(){return Sb||(Sb=1,(function(t){function e(K,le){var fe=K.length;K.push(le);e:for(;0<fe;){var Se=fe-1>>>1,De=K[Se];if(0<a(De,le))K[Se]=le,K[fe]=De,fe=Se;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var le=K[0],fe=K.pop();if(fe!==le){K[0]=fe;e:for(var Se=0,De=K.length,B=De>>>1;Se<B;){var ie=2*(Se+1)-1,J=K[ie],ce=ie+1,ve=K[ce];if(0>a(J,fe))ce<De&&0>a(ve,J)?(K[Se]=ve,K[ce]=fe,Se=ce):(K[Se]=J,K[ie]=fe,Se=ie);else if(ce<De&&0>a(ve,fe))K[Se]=ve,K[ce]=fe,Se=ce;else break e}}return le}function a(K,le){var fe=K.sortIndex-le.sortIndex;return fe!==0?fe:K.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],g=[],y=1,_=null,w=3,C=!1,I=!1,k=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function te(K){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=K)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(g)}}function Z(K){if(k=!1,te(K),!I)if(n(m)!==null)I=!0,se||(se=!0,q());else{var le=n(g);le!==null&&Ye(Z,le.startTime-K)}}var se=!1,R=-1,S=5,N=-1;function j(){return D?!0:!(t.unstable_now()-N<S)}function P(){if(D=!1,se){var K=t.unstable_now();N=K;var le=!0;try{e:{I=!1,k&&(k=!1,U(R),R=-1),C=!0;var fe=w;try{t:{for(te(K),_=n(m);_!==null&&!(_.expirationTime>K&&j());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,w=_.priorityLevel;var De=Se(_.expirationTime<=K);if(K=t.unstable_now(),typeof De=="function"){_.callback=De,te(K),le=!0;break t}_===n(m)&&s(m),te(K)}else s(m);_=n(m)}if(_!==null)le=!0;else{var B=n(g);B!==null&&Ye(Z,B.startTime-K),le=!1}}break e}finally{_=null,w=fe,C=!1}le=void 0}}finally{le?q():se=!1}}}var q;if(typeof F=="function")q=function(){F(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ze=V.port2;V.port1.onmessage=P,q=function(){ze.postMessage(null)}}else q=function(){O(P,0)};function Ye(K,le){R=O(function(){K(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var fe=w;w=le;try{return K()}finally{w=fe}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=w;w=K;try{return le()}finally{w=fe}},t.unstable_scheduleCallback=function(K,le,fe){var Se=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,K){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=fe+De,K={id:y++,callback:le,priorityLevel:K,startTime:fe,expirationTime:De,sortIndex:-1},fe>Se?(K.sortIndex=fe,e(g,K),n(m)===null&&K===n(g)&&(k?(U(R),R=-1):k=!0,Ye(Z,fe-Se))):(K.sortIndex=De,e(m,K),I||C||(I=!0,se||(se=!0,q()))),K},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(K){var le=w;return function(){var fe=w;w=le;try{return K.apply(this,arguments)}finally{w=fe}}}})(Up)),Up}var Ab;function K2(){return Ab||(Ab=1,jp.exports=G2()),jp.exports}var Bp={exports:{}},on={};var Rb;function $2(){if(Rb)return on;Rb=1;var t=Ty();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},on.flushSync=function(m){var g=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=y,s.d.f()}},on.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},on.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},on.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},on.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},on.requestFormReset=function(m){s.d.r(m)},on.unstable_batchedUpdates=function(m,g){return m(g)},on.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.2.3",on}var Cb;function Y2(){if(Cb)return Bp.exports;Cb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=$2(),Bp.exports}var Ib;function Q2(){if(Ib)return Cc;Ib=1;var t=K2(),e=Ty(),n=Y2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===c)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var T=!1,x=f.child;x;){if(x===o){T=!0,o=f,c=p;break}if(x===c){T=!0,c=f,o=p;break}x=x.sibling}if(!T){for(x=p.child;x;){if(x===o){T=!0,o=p,c=f;break}if(x===c){T=!0,c=p,o=f;break}x=x.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function ze(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case Z:return"Suspense";case se:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case F:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case te:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:ze(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return ze(i(r))}catch{}}return null}var Ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Se=[],De=-1;function B(i){return{current:i}}function ie(i){0>De||(i.current=Se[De],Se[De]=null,De--)}function J(i,r){De++,Se[De]=i.current,i.current=r}var ce=B(null),ve=B(null),we=B(null),Fe=B(null);function Bt(i,r){switch(J(we,r),J(ve,i),J(ce,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?HT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=HT(r),i=GT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(ce),J(ce,i)}function ct(){ie(ce),ie(ve),ie(we)}function Qr(i){i.memoizedState!==null&&J(Fe,i);var r=ce.current,o=GT(r,i.type);r!==o&&(J(ve,i),J(ce,o))}function Ka(i){ve.current===i&&(ie(ce),ie(ve)),Fe.current===i&&(ie(Fe),wc._currentValue=fe)}var $a,Ya;function Ai(i){if($a===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$a=r&&r[1]||"",Ya=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+i+Ya}var wl=!1;function Xr(i,r){if(!i||wl)return"";wl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var Q=W}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(W){Q=W}i.call(ae.prototype)}}else{try{throw Error()}catch(W){Q=W}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],x=p[1];if(T&&x){var L=T.split(`
`),Y=x.split(`
`);for(f=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===L.length||f===Y.length)for(c=L.length-1,f=Y.length-1;1<=c&&0<=f&&L[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(L[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||L[c]!==Y[f]){var ee=`
`+L[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=f);break}}}finally{wl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ai(o):""}function xl(i,r){switch(i.tag){case 26:case 27:case 5:return Ai(i.type);case 16:return Ai("Lazy");case 13:return i.child!==r&&r!==null?Ai("Suspense Fallback"):Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Xr(i.type,!1);case 11:return Xr(i.type.render,!1);case 1:return Xr(i.type,!0);case 31:return Ai("Activity");default:return""}}function Sl(i){try{var r="",o=null;do r+=xl(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Rt=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Hs=t.unstable_cancelCallback,Ld=t.unstable_shouldYield,Du=t.unstable_requestPaint,dn=t.unstable_now,Wr=t.unstable_getCurrentPriorityLevel,Al=t.unstable_ImmediatePriority,Rl=t.unstable_UserBlockingPriority,Gs=t.unstable_NormalPriority,jd=t.unstable_LowPriority,Vu=t.unstable_IdlePriority,Mu=t.log,ku=t.unstable_setDisableYieldValue,li=null,Qt=null;function zn(i){if(typeof Mu=="function"&&ku(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(li,i)}catch{}}var bt=Math.clz32?Math.clz32:Ou,Pu=Math.log,Qa=Math.LN2;function Ou(i){return i>>>=0,i===0?32:31-(Pu(i)/Qa|0)|0}var Ri=256,Zr=262144,Ct=4194304;function Ci(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ii(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var x=c&134217727;return x!==0?(c=x&~p,c!==0?f=Ci(c):(T&=x,T!==0?f=Ci(T):o||(o=x&~i,o!==0&&(f=Ci(o))))):(x=c&~p,x!==0?f=Ci(x):T!==0?f=Ci(T):o||(o=c&~i,o!==0&&(f=Ci(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function ci(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ud(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var i=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),i}function Ni(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Jr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Bd(i,r,o,c,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var x=i.entanglements,L=i.expirationTimes,Y=i.hiddenUpdates;for(o=T&~o;0<o;){var ee=31-bt(o),ae=1<<ee;x[ee]=0,L[ee]=-1;var Q=Y[ee];if(Q!==null)for(Y[ee]=null,ee=0;ee<Q.length;ee++){var W=Q[ee];W!==null&&(W.lane&=-536870913)}o&=~ae}c!==0&&ea(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function ea(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-bt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Cl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-bt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Il(i,r){var o=r&-r;return o=(o&42)!==0?1:ta(o),(o&(i.suspendedLanes|r))!==0?0:o}function ta(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function os(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ju(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:mb(i.type))}function ui(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var hi=Math.random().toString(36).slice(2),It="__reactFiber$"+hi,Gt="__reactProps$"+hi,Di="__reactContainer$"+hi,Xa="__reactEvents$"+hi,zd="__reactListeners$"+hi,Uu="__reactHandles$"+hi,Bu="__reactResources$"+hi,Vi="__reactMarker$"+hi;function Wa(i){delete i[It],delete i[Gt],delete i[Xa],delete i[zd],delete i[Uu]}function Mi(i){var r=i[It];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Di]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=ZT(i);i!==null;){if(o=i[It])return o;i=ZT(i)}return r}i=o,o=i.parentNode}return null}function Fn(i){if(i=i[It]||i[Di]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ki(i){var r=i[Bu];return r||(r=i[Bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(i){i[Vi]=!0}var Nl=new Set,Dl={};function Pi(i,r){Oi(i,r),Oi(i+"Capture",r)}function Oi(i,r){for(Dl[i]=r,i=0;i<r.length;i++)Nl.add(r[i])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},kl={};function zu(i){return Rt.call(kl,i)?!0:Rt.call(Ml,i)?!1:Vl.test(i)?kl[i]=!0:(Ml[i]=!0,!1)}function Za(i,r,o){if(zu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Nn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Dt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Kt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ks(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xe(i){if(!i._valueTracker){var r=Ks(i)?"checked":"value";i._valueTracker=Pl(i,r,""+i[r])}}function na(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Ks(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ia=/[\n"\\]/g;function vn(i){return i.replace(ia,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ja(i,r,o,c,f,p,T,x){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Kt(r)):i.value!==""+Kt(r)&&(i.value=""+Kt(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Ol(i,T,Kt(r)):o!=null?Ol(i,T,Kt(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+Kt(x):i.removeAttribute("name")}function Fu(i,r,o,c,f,p,T,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Xe(i);return}o=o!=null?""+Kt(o):"",r=r!=null?""+Kt(r):o,x||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=x?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Xe(i)}function Ol(i,r,o){r==="number"&&Li(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function $s(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Kt(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function qu(i,r,o){if(r!=null&&(r=""+Kt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Kt(o):""}function Ys(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ye(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Kt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Xe(i)}function _n(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Hu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function jl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Ll(i,f,c)}else for(var p in r)r.hasOwnProperty(p)&&Ll(i,p,r[p])}function eo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(i){return Qs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fi(){}var Ul=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xs=null,ji=null;function sa(i){var r=Fn(i);if(r&&(i=r.stateNode)){var o=i[Gt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ja(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[Gt]||null;if(!f)throw Error(s(90));Ja(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&na(c)}break e;case"textarea":qu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&$s(i,!!o.multiple,r,!1)}}}var no=!1;function Ws(i,r,o){if(no)return i(r,o);no=!0;try{var c=i(r);return c}finally{if(no=!1,(Xs!==null||ji!==null)&&(jh(),Xs&&(r=Xs,i=ji,ji=Xs=null,sa(r),i)))for(r=0;r<i.length;r++)sa(i[r])}}function di(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Gt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(Hn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ra=!1}var Ui=null,Bl=null,aa=null;function zl(){if(aa)return aa;var i,r=Bl,o=r.length,c,f="value"in Ui?Ui.value:Ui.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(c=1;c<=T&&r[o-c]===f[p-c];c++);return aa=f.slice(i,1<c?1-c:void 0)}function oa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ls(){return!0}function mi(){return!1}function Xt(i){function r(o,c,f,p,T){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(o=i[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ls:mi,this.isPropagationStopped=mi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),r}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Xt(cs),Zs=_({},cs,{view:0,detail:0}),Fl=Xt(Zs),Js,io,zi,so=_({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(Js=i.screenX-zi.screenX,io=i.screenY-zi.screenY):io=Js=0,zi=i),Js)},movementY:function(i){return"movementY"in i?i.movementY:io}}),ql=Xt(so),la=_({},so,{dataTransfer:0}),Ku=Xt(la),$u=_({},Zs,{relatedTarget:0}),ca=Xt($u),Hl=_({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Xt(Hl),ro=_({},cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qu=Xt(ro),Xu=_({},cs,{data:0}),Fi=Xt(Xu),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ju[i])?!!r[i]:!1}function er(){return eh}var mn=_({},Zs,{key:function(i){if(i.key){var r=Wu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),th=Xt(mn),nh=_({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=Xt(nh),h=_({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),v=Xt(h),E=_({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Xt(E),G=_({},so,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Xt(G),ue=_({},cs,{newState:0,oldState:0}),Ce=Xt(ue),Et=[9,13,27,32],Ke=Hn&&"CompositionEvent"in window,ut=null;Hn&&"documentMode"in document&&(ut=document.documentMode);var Gn=Hn&&"TextEvent"in window&&!ut,qi=Hn&&(!Ke||ut&&8<ut&&11>=ut),pi=" ",gi=!1;function ua(i,r){switch(i){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oo=!1;function fC(i,r){switch(i){case"compositionend":return ao(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return i=r.data,i===pi&&gi?null:i;default:return null}}function dC(i,r){if(oo)return i==="compositionend"||!Ke&&ua(i,r)?(i=zl(),aa=Bl=Ui=null,oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var mC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!mC[i.type]:r==="textarea"}function nv(i,r,o,c){Xs?ji?ji.push(c):ji=[c]:Xs=c,r=Gh(r,"onChange"),0<r.length&&(o=new Bi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Gl=null,Kl=null;function pC(i){jT(i,0)}function ih(i){var r=In(i);if(na(r))return i}function iv(i,r){if(i==="change")return r}var sv=!1;if(Hn){var Fd;if(Hn){var qd="oninput"in document;if(!qd){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),qd=typeof rv.oninput=="function"}Fd=qd}else Fd=!1;sv=Fd&&(!document.documentMode||9<document.documentMode)}function av(){Gl&&(Gl.detachEvent("onpropertychange",ov),Kl=Gl=null)}function ov(i){if(i.propertyName==="value"&&ih(Kl)){var r=[];nv(r,Kl,i,qn(i)),Ws(pC,r)}}function gC(i,r,o){i==="focusin"?(av(),Gl=r,Kl=o,Gl.attachEvent("onpropertychange",ov)):i==="focusout"&&av()}function yC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ih(Kl)}function vC(i,r){if(i==="click")return ih(r)}function _C(i,r){if(i==="input"||i==="change")return ih(r)}function TC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Dn=typeof Object.is=="function"?Object.is:TC;function $l(i,r){if(Dn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Rt.call(r,f)||!Dn(i[f],r[f]))return!1}return!0}function lv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cv(i,r){var o=lv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lv(o)}}function uv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?uv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function hv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Li(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Li(i.document)}return r}function Hd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var bC=Hn&&"documentMode"in document&&11>=document.documentMode,lo=null,Gd=null,Yl=null,Kd=!1;function fv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Kd||lo==null||lo!==Li(c)||(c=lo,"selectionStart"in c&&Hd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yl&&$l(Yl,c)||(Yl=c,c=Gh(Gd,"onSelect"),0<c.length&&(r=new Bi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=lo)))}function ha(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var co={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},$d={},dv={};Hn&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function fa(i){if($d[i])return $d[i];if(!co[i])return i;var r=co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in dv)return $d[i]=r[o];return i}var mv=fa("animationend"),pv=fa("animationiteration"),gv=fa("animationstart"),EC=fa("transitionrun"),wC=fa("transitionstart"),xC=fa("transitioncancel"),yv=fa("transitionend"),vv=new Map,Yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yd.push("scrollEnd");function yi(i,r){vv.set(i,r),Pi(r,[i])}var sh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],uo=0,Qd=0;function rh(){for(var i=uo,r=Qd=uo=0;r<i;){var o=Kn[r];Kn[r++]=null;var c=Kn[r];Kn[r++]=null;var f=Kn[r];Kn[r++]=null;var p=Kn[r];if(Kn[r++]=null,c!==null&&f!==null){var T=c.pending;T===null?f.next=f:(f.next=T.next,T.next=f),c.pending=f}p!==0&&_v(o,f,p)}}function ah(i,r,o,c){Kn[uo++]=i,Kn[uo++]=r,Kn[uo++]=o,Kn[uo++]=c,Qd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Xd(i,r,o,c){return ah(i,r,o,c),oh(i)}function da(i,r){return ah(i,null,null,r),oh(i)}function _v(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-bt(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),p):null}function oh(i){if(50<gc)throw gc=0,rp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ho={};function SC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,c){return new SC(i,r,o,c)}function Wd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hs(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Tv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function lh(i,r,o,c,f,p){var T=0;if(c=i,typeof i=="function")Wd(i)&&(T=1);else if(typeof i=="string")T=N2(i,o,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Vn(31,o,r,f),i.elementType=N,i.lanes=p,i;case k:return ma(o.children,f,p,r);case D:T=8,f|=24;break;case O:return i=Vn(12,o,r,f|2),i.elementType=O,i.lanes=p,i;case Z:return i=Vn(13,o,r,f),i.elementType=Z,i.lanes=p,i;case se:return i=Vn(19,o,r,f),i.elementType=se,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:T=10;break e;case U:T=9;break e;case te:T=11;break e;case R:T=14;break e;case S:T=16,c=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Vn(T,o,r,f),r.elementType=i,r.type=c,r.lanes=p,r}function ma(i,r,o,c){return i=Vn(7,i,c,r),i.lanes=o,i}function Zd(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function bv(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function Jd(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ev=new WeakMap;function $n(i,r){if(typeof i=="object"&&i!==null){var o=Ev.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Sl(r)},Ev.set(i,r),r)}return{value:i,source:r,stack:Sl(r)}}var fo=[],mo=0,ch=null,Ql=0,Yn=[],Qn=0,tr=null,Hi=1,Gi="";function fs(i,r){fo[mo++]=Ql,fo[mo++]=ch,ch=i,Ql=r}function wv(i,r,o){Yn[Qn++]=Hi,Yn[Qn++]=Gi,Yn[Qn++]=tr,tr=i;var c=Hi;i=Gi;var f=32-bt(c)-1;c&=~(1<<f),o+=1;var p=32-bt(r)+f;if(30<p){var T=f-f%5;p=(c&(1<<T)-1).toString(32),c>>=T,f-=T,Hi=1<<32-bt(r)+f|o<<f|c,Gi=p+i}else Hi=1<<p|o<<f|c,Gi=i}function em(i){i.return!==null&&(fs(i,1),wv(i,1,0))}function tm(i){for(;i===ch;)ch=fo[--mo],fo[mo]=null,Ql=fo[--mo],fo[mo]=null;for(;i===tr;)tr=Yn[--Qn],Yn[Qn]=null,Gi=Yn[--Qn],Yn[Qn]=null,Hi=Yn[--Qn],Yn[Qn]=null}function xv(i,r){Yn[Qn++]=Hi,Yn[Qn++]=Gi,Yn[Qn++]=tr,Hi=r.id,Gi=r.overflow,tr=i}var Wt=null,at=null,Be=!1,nr=null,Xn=!1,nm=Error(s(519));function ir(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl($n(r,i)),nm}function Sv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[It]=i,r[Gt]=c,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<vc.length;o++)ke(vc[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Fu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Ys(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||FT(r.textContent,o)?(c.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),c.onScroll!=null&&ke("scroll",r),c.onScrollEnd!=null&&ke("scrollend",r),c.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||ir(i,!0)}function Av(i){for(Wt=i.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Wt=Wt.return}}function po(i){if(i!==Wt)return!1;if(!Be)return Av(i),Be=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Tp(i.type,i.memoizedProps)),o=!o),o&&at&&ir(i),Av(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=WT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=WT(i)}else r===27?(r=at,yr(i.type)?(i=Sp,Sp=null,at=i):at=r):at=Wt?Zn(i.stateNode.nextSibling):null;return!0}function pa(){at=Wt=null,Be=!1}function im(){var i=nr;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),nr=null),i}function Xl(i){nr===null?nr=[i]:nr.push(i)}var sm=B(null),ga=null,ds=null;function sr(i,r,o){J(sm,r._currentValue),r._currentValue=o}function ms(i){i._currentValue=sm.current,ie(sm)}function rm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function am(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=f;for(var L=0;L<r.length;L++)if(x.context===r[L]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),rm(p.return,o,i),c||(T=null);break e}p=x.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),rm(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function go(i,r,o,c){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var x=f.type;Dn(f.pendingProps.value,T.value)||(i!==null?i.push(x):i=[x])}}else if(f===Fe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(wc):i=[wc])}f=f.return}i!==null&&am(r,i,o,c),r.flags|=262144}function uh(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ya(i){ga=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return Rv(ga,i)}function hh(i,r){return ga===null&&ya(i),Rv(i,r)}function Rv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ds===null){if(i===null)throw Error(s(308));ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ds=ds.next=r;return o}var AC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},RC=t.unstable_scheduleCallback,CC=t.unstable_NormalPriority,Vt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new AC,data:new Map,refCount:0}}function Wl(i){i.refCount--,i.refCount===0&&RC(CC,function(){i.controller.abort()})}var Zl=null,lm=0,yo=0,vo=null;function IC(i,r){if(Zl===null){var o=Zl=[];lm=0,yo=hp(),vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return lm++,r.then(Cv,Cv),r}function Cv(){if(--lm===0&&Zl!==null){vo!==null&&(vo.status="fulfilled");var i=Zl;Zl=null,yo=0,vo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function NC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Iv=K.S;K.S=function(i,r){fT=dn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IC(i,r),Iv!==null&&Iv(i,r)};var va=B(null);function cm(){var i=va.current;return i!==null?i:it.pooledCache}function fh(i,r){r===null?J(va,va.current):J(va,r.pool)}function Nv(){var i=cm();return i===null?null:{parent:Vt._currentValue,pool:i}}var _o=Error(s(460)),um=Error(s(474)),dh=Error(s(542)),mh={then:function(){}};function Dv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Vv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(fi,fi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,kv(i),i;default:if(typeof r.status=="string")r.then(fi,fi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,kv(i),i}throw Ta=r,_o}}function _a(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ta=o,_o):o}}var Ta=null;function Mv(){if(Ta===null)throw Error(s(459));var i=Ta;return Ta=null,i}function kv(i){if(i===_o||i===dh)throw Error(s(483))}var To=null,Jl=0;function ph(i){var r=Jl;return Jl+=1,To===null&&(To=[]),Vv(To,i,r)}function ec(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function gh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Pv(i){function r(H,z){if(i){var $=H.deletions;$===null?(H.deletions=[z],H.flags|=16):$.push(z)}}function o(H,z){if(!i)return null;for(;z!==null;)r(H,z),z=z.sibling;return null}function c(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=hs(H,z),H.index=0,H.sibling=null,H}function p(H,z,$){return H.index=$,i?($=H.alternate,$!==null?($=$.index,$<z?(H.flags|=67108866,z):$):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function x(H,z,$,ne){return z===null||z.tag!==6?(z=Zd($,H.mode,ne),z.return=H,z):(z=f(z,$),z.return=H,z)}function L(H,z,$,ne){var ge=$.type;return ge===k?ee(H,z,$.props.children,ne,$.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&_a(ge)===z.type)?(z=f(z,$.props),ec(z,$),z.return=H,z):(z=lh($.type,$.key,$.props,null,H.mode,ne),ec(z,$),z.return=H,z)}function Y(H,z,$,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=Jd($,H.mode,ne),z.return=H,z):(z=f(z,$.children||[]),z.return=H,z)}function ee(H,z,$,ne,ge){return z===null||z.tag!==7?(z=ma($,H.mode,ne,ge),z.return=H,z):(z=f(z,$),z.return=H,z)}function ae(H,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Zd(""+z,H.mode,$),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return $=lh(z.type,z.key,z.props,null,H.mode,$),ec($,z),$.return=H,$;case I:return z=Jd(z,H.mode,$),z.return=H,z;case S:return z=_a(z),ae(H,z,$)}if(Ye(z)||q(z))return z=ma(z,H.mode,$,null),z.return=H,z;if(typeof z.then=="function")return ae(H,ph(z),$);if(z.$$typeof===F)return ae(H,hh(H,z),$);gh(H,z)}return null}function Q(H,z,$,ne){var ge=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:x(H,z,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return $.key===ge?L(H,z,$,ne):null;case I:return $.key===ge?Y(H,z,$,ne):null;case S:return $=_a($),Q(H,z,$,ne)}if(Ye($)||q($))return ge!==null?null:ee(H,z,$,ne,null);if(typeof $.then=="function")return Q(H,z,ph($),ne);if($.$$typeof===F)return Q(H,z,hh(H,$),ne);gh(H,$)}return null}function W(H,z,$,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get($)||null,x(z,H,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return H=H.get(ne.key===null?$:ne.key)||null,L(z,H,ne,ge);case I:return H=H.get(ne.key===null?$:ne.key)||null,Y(z,H,ne,ge);case S:return ne=_a(ne),W(H,z,$,ne,ge)}if(Ye(ne)||q(ne))return H=H.get($)||null,ee(z,H,ne,ge,null);if(typeof ne.then=="function")return W(H,z,$,ph(ne),ge);if(ne.$$typeof===F)return W(H,z,$,hh(z,ne),ge);gh(z,ne)}return null}function me(H,z,$,ne){for(var ge=null,He=null,pe=z,Ne=z=0,Oe=null;pe!==null&&Ne<$.length;Ne++){pe.index>Ne?(Oe=pe,pe=null):Oe=pe.sibling;var Ge=Q(H,pe,$[Ne],ne);if(Ge===null){pe===null&&(pe=Oe);break}i&&pe&&Ge.alternate===null&&r(H,pe),z=p(Ge,z,Ne),He===null?ge=Ge:He.sibling=Ge,He=Ge,pe=Oe}if(Ne===$.length)return o(H,pe),Be&&fs(H,Ne),ge;if(pe===null){for(;Ne<$.length;Ne++)pe=ae(H,$[Ne],ne),pe!==null&&(z=p(pe,z,Ne),He===null?ge=pe:He.sibling=pe,He=pe);return Be&&fs(H,Ne),ge}for(pe=c(pe);Ne<$.length;Ne++)Oe=W(pe,H,Ne,$[Ne],ne),Oe!==null&&(i&&Oe.alternate!==null&&pe.delete(Oe.key===null?Ne:Oe.key),z=p(Oe,z,Ne),He===null?ge=Oe:He.sibling=Oe,He=Oe);return i&&pe.forEach(function(Er){return r(H,Er)}),Be&&fs(H,Ne),ge}function _e(H,z,$,ne){if($==null)throw Error(s(151));for(var ge=null,He=null,pe=z,Ne=z=0,Oe=null,Ge=$.next();pe!==null&&!Ge.done;Ne++,Ge=$.next()){pe.index>Ne?(Oe=pe,pe=null):Oe=pe.sibling;var Er=Q(H,pe,Ge.value,ne);if(Er===null){pe===null&&(pe=Oe);break}i&&pe&&Er.alternate===null&&r(H,pe),z=p(Er,z,Ne),He===null?ge=Er:He.sibling=Er,He=Er,pe=Oe}if(Ge.done)return o(H,pe),Be&&fs(H,Ne),ge;if(pe===null){for(;!Ge.done;Ne++,Ge=$.next())Ge=ae(H,Ge.value,ne),Ge!==null&&(z=p(Ge,z,Ne),He===null?ge=Ge:He.sibling=Ge,He=Ge);return Be&&fs(H,Ne),ge}for(pe=c(pe);!Ge.done;Ne++,Ge=$.next())Ge=W(pe,H,Ne,Ge.value,ne),Ge!==null&&(i&&Ge.alternate!==null&&pe.delete(Ge.key===null?Ne:Ge.key),z=p(Ge,z,Ne),He===null?ge=Ge:He.sibling=Ge,He=Ge);return i&&pe.forEach(function(z2){return r(H,z2)}),Be&&fs(H,Ne),ge}function nt(H,z,$,ne){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case C:e:{for(var ge=$.key;z!==null;){if(z.key===ge){if(ge=$.type,ge===k){if(z.tag===7){o(H,z.sibling),ne=f(z,$.props.children),ne.return=H,H=ne;break e}}else if(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&_a(ge)===z.type){o(H,z.sibling),ne=f(z,$.props),ec(ne,$),ne.return=H,H=ne;break e}o(H,z);break}else r(H,z);z=z.sibling}$.type===k?(ne=ma($.props.children,H.mode,ne,$.key),ne.return=H,H=ne):(ne=lh($.type,$.key,$.props,null,H.mode,ne),ec(ne,$),ne.return=H,H=ne)}return T(H);case I:e:{for(ge=$.key;z!==null;){if(z.key===ge)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){o(H,z.sibling),ne=f(z,$.children||[]),ne.return=H,H=ne;break e}else{o(H,z);break}else r(H,z);z=z.sibling}ne=Jd($,H.mode,ne),ne.return=H,H=ne}return T(H);case S:return $=_a($),nt(H,z,$,ne)}if(Ye($))return me(H,z,$,ne);if(q($)){if(ge=q($),typeof ge!="function")throw Error(s(150));return $=ge.call($),_e(H,z,$,ne)}if(typeof $.then=="function")return nt(H,z,ph($),ne);if($.$$typeof===F)return nt(H,z,hh(H,$),ne);gh(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(o(H,z.sibling),ne=f(z,$),ne.return=H,H=ne):(o(H,z),ne=Zd($,H.mode,ne),ne.return=H,H=ne),T(H)):o(H,z)}return function(H,z,$,ne){try{Jl=0;var ge=nt(H,z,$,ne);return To=null,ge}catch(pe){if(pe===_o||pe===dh)throw pe;var He=Vn(29,pe,null,H.mode);return He.lanes=ne,He.return=H,He}}}var ba=Pv(!0),Ov=Pv(!1),rr=!1;function hm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function or(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=oh(i),_v(i,null,o),r}return ah(i,c,r,o),oh(i)}function tc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Cl(i,o)}}function dm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var mm=!1;function nc(){if(mm){var i=vo;if(i!==null)throw i}}function ic(i,r,o,c){mm=!1;var f=i.updateQueue;rr=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var L=x,Y=L.next;L.next=null,T===null?p=Y:T.next=Y,T=L;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,x=ee.lastBaseUpdate,x!==T&&(x===null?ee.firstBaseUpdate=Y:x.next=Y,ee.lastBaseUpdate=L))}if(p!==null){var ae=f.baseState;T=0,ee=Y=L=null,x=p;do{var Q=x.lane&-536870913,W=Q!==x.lane;if(W?(Pe&Q)===Q:(c&Q)===Q){Q!==0&&Q===yo&&(mm=!0),ee!==null&&(ee=ee.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var me=i,_e=x;Q=r;var nt=o;switch(_e.tag){case 1:if(me=_e.payload,typeof me=="function"){ae=me.call(nt,ae,Q);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,Q=typeof me=="function"?me.call(nt,ae,Q):me,Q==null)break e;ae=_({},ae,Q);break e;case 2:rr=!0}}Q=x.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ee===null?(Y=ee=W,L=ae):ee=ee.next=W,T|=Q;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;W=x,x=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);ee===null&&(L=ae),f.baseState=L,f.firstBaseUpdate=Y,f.lastBaseUpdate=ee,p===null&&(f.shared.lanes=0),fr|=T,i.lanes=T,i.memoizedState=ae}}function Lv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function jv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Lv(o[i],r)}var bo=B(null),yh=B(0);function Uv(i,r){i=ws,J(yh,i),J(bo,r),ws=i|r.baseLanes}function pm(){J(yh,ws),J(bo,bo.current)}function gm(){ws=yh.current,ie(bo),ie(yh)}var Mn=B(null),Wn=null;function lr(i){var r=i.alternate;J(wt,wt.current&1),J(Mn,i),Wn===null&&(r===null||bo.current!==null||r.memoizedState!==null)&&(Wn=i)}function ym(i){J(wt,wt.current),J(Mn,i),Wn===null&&(Wn=i)}function Bv(i){i.tag===22?(J(wt,wt.current),J(Mn,i),Wn===null&&(Wn=i)):cr()}function cr(){J(wt,wt.current),J(Mn,Mn.current)}function kn(i){ie(Mn),Wn===i&&(Wn=null),ie(wt)}var wt=B(0);function vh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||wp(o)||xp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ps=0,Ie=null,et=null,Mt=null,_h=!1,Eo=!1,Ea=!1,Th=0,sc=0,wo=null,DC=0;function gt(){throw Error(s(321))}function vm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Dn(i[o],r[o]))return!1;return!0}function _m(i,r,o,c,f,p){return ps=p,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=i===null||i.memoizedState===null?w_:km,Ea=!1,p=o(c,f),Ea=!1,Eo&&(p=Fv(r,o,c,f)),zv(i),p}function zv(i){K.H=oc;var r=et!==null&&et.next!==null;if(ps=0,Mt=et=Ie=null,_h=!1,sc=0,wo=null,r)throw Error(s(300));i===null||kt||(i=i.dependencies,i!==null&&uh(i)&&(kt=!0))}function Fv(i,r,o,c){Ie=i;var f=0;do{if(Eo&&(wo=null),sc=0,Eo=!1,25<=f)throw Error(s(301));if(f+=1,Mt=et=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=x_,p=r(o,c)}while(Eo);return p}function VC(){var i=K.H,r=i.useState()[0];return r=typeof r.then=="function"?rc(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ie.flags|=1024),r}function Tm(){var i=Th!==0;return Th=0,i}function bm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Em(i){if(_h){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_h=!1}ps=0,Mt=et=Ie=null,Eo=!1,sc=Th=0,wo=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ie.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function xt(){if(et===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Mt===null?Ie.memoizedState:Mt.next;if(r!==null)Mt=r,et=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Mt===null?Ie.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(i){var r=sc;return sc+=1,wo===null&&(wo=[]),i=Vv(wo,i,r),r=Ie,(Mt===null?r.memoizedState:Mt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?w_:km),i}function Eh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return rc(i);if(i.$$typeof===F)return Zt(i)}throw Error(s(438,String(i)))}function wm(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bh(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=j;return r.index++,o}function gs(i,r){return typeof r=="function"?r(i):r}function wh(i){var r=xt();return xm(r,et,i)}function xm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var x=T=null,L=null,Y=r,ee=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Pe&ae)===ae:(ps&ae)===ae){var Q=Y.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===yo&&(ee=!0);else if((ps&Q)===Q){Y=Y.next,Q===yo&&(ee=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(x=L=ae,T=p):L=L.next=ae,Ie.lanes|=Q,fr|=Q;ae=Y.action,Ea&&o(p,ae),p=Y.hasEagerState?Y.eagerState:o(p,ae)}else Q={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(x=L=Q,T=p):L=L.next=Q,Ie.lanes|=ae,fr|=ae;Y=Y.next}while(Y!==null&&Y!==r);if(L===null?T=p:L.next=x,!Dn(p,i.memoizedState)&&(kt=!0,ee&&(o=vo,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=L,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Sm(i){var r=xt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);Dn(p,r.memoizedState)||(kt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function qv(i,r,o){var c=Ie,f=xt(),p=Be;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Dn((et||f).memoizedState,o);if(T&&(f.memoizedState=o,kt=!0),f=f.queue,Cm(Kv.bind(null,c,f,i),[i]),f.getSnapshot!==r||T||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,xo(9,{destroy:void 0},Gv.bind(null,c,f,o,r),null),it===null)throw Error(s(349));p||(ps&127)!==0||Hv(c,r,o)}return o}function Hv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=bh(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Gv(i,r,o,c){r.value=o,r.getSnapshot=c,$v(r)&&Yv(i)}function Kv(i,r,o){return o(function(){$v(r)&&Yv(i)})}function $v(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Dn(i,o)}catch{return!0}}function Yv(i){var r=da(i,2);r!==null&&xn(r,i,2)}function Am(i){var r=pn();if(typeof i=="function"){var o=i;if(i=o(),Ea){zn(!0);try{o()}finally{zn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:i},r}function Qv(i,r,o,c){return i.baseState=o,xm(i,et,typeof c=="function"?c:gs)}function MC(i,r,o,c,f){if(Ah(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};K.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,Xv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Xv(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var p=K.T,T={};K.T=T;try{var x=o(f,c),L=K.S;L!==null&&L(T,x),Wv(i,r,x)}catch(Y){Rm(i,r,Y)}finally{p!==null&&T.types!==null&&(p.types=T.types),K.T=p}}else try{p=o(f,c),Wv(i,r,p)}catch(Y){Rm(i,r,Y)}}function Wv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Zv(i,r,c)},function(c){return Rm(i,r,c)}):Zv(i,r,o)}function Zv(i,r,o){r.status="fulfilled",r.value=o,Jv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Xv(i,o)))}function Rm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Jv(r),r=r.next;while(r!==c)}i.action=null}function Jv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function e_(i,r){return r}function t_(i,r){if(Be){var o=it.formState;if(o!==null){e:{var c=Ie;if(Be){if(at){t:{for(var f=at,p=Xn;f.nodeType!==8;){if(!p){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){at=Zn(f.nextSibling),c=f.data==="F!";break e}}ir(c)}c=!1}c&&(r=o[0])}}return o=pn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:r},o.queue=c,o=T_.bind(null,Ie,c),c.dispatch=o,c=Am(!1),p=Mm.bind(null,Ie,!1,c.queue),c=pn(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=MC.bind(null,Ie,f,p,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function n_(i){var r=xt();return i_(r,et,i)}function i_(i,r,o){if(r=xm(i,r,e_)[0],i=wh(gs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=rc(r)}catch(T){throw T===_o?dh:T}else c=r;r=xt();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,xo(9,{destroy:void 0},kC.bind(null,f,o),null)),[c,p,i]}function kC(i,r){i.action=r}function s_(i){var r=xt(),o=et;if(o!==null)return i_(r,o,i);xt(),r=r.memoizedState,o=xt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function xo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=bh(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function r_(){return xt().memoizedState}function xh(i,r,o,c){var f=pn();Ie.flags|=i,f.memoizedState=xo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Sh(i,r,o,c){var f=xt();c=c===void 0?null:c;var p=f.memoizedState.inst;et!==null&&c!==null&&vm(c,et.memoizedState.deps)?f.memoizedState=xo(r,p,o,c):(Ie.flags|=i,f.memoizedState=xo(1|r,p,o,c))}function a_(i,r){xh(8390656,8,i,r)}function Cm(i,r){Sh(2048,8,i,r)}function PC(i){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=bh(),Ie.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function o_(i){var r=xt().memoizedState;return PC({ref:r,nextImpl:i}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function l_(i,r){return Sh(4,2,i,r)}function c_(i,r){return Sh(4,4,i,r)}function u_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function h_(i,r,o){o=o!=null?o.concat([i]):null,Sh(4,4,u_.bind(null,r,i),o)}function Im(){}function f_(i,r){var o=xt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&vm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function d_(i,r){var o=xt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&vm(r,c[1]))return c[0];if(c=i(),Ea){zn(!0);try{i()}finally{zn(!1)}}return o.memoizedState=[c,r],c}function Nm(i,r,o){return o===void 0||(ps&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=mT(),Ie.lanes|=i,fr|=i,o)}function m_(i,r,o,c){return Dn(o,r)?o:bo.current!==null?(i=Nm(i,o,c),Dn(i,r)||(kt=!0),i):(ps&42)===0||(ps&1073741824)!==0&&(Pe&261930)===0?(kt=!0,i.memoizedState=o):(i=mT(),Ie.lanes|=i,fr|=i,r)}function p_(i,r,o,c,f){var p=le.p;le.p=p!==0&&8>p?p:8;var T=K.T,x={};K.T=x,Mm(i,!1,r,o);try{var L=f(),Y=K.S;if(Y!==null&&Y(x,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=NC(L,c);ac(i,r,ee,Ln(i))}else ac(i,r,c,Ln(i))}catch(ae){ac(i,r,{then:function(){},status:"rejected",reason:ae},Ln())}finally{le.p=p,T!==null&&x.types!==null&&(T.types=x.types),K.T=T}}function OC(){}function Dm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=g_(i).queue;p_(i,f,r,fe,o===null?OC:function(){return y_(i),o(c)})}function g_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function y_(i){var r=g_(i);r.next===null&&(r=i.alternate.memoizedState),ac(i,r.next.queue,{},Ln())}function Vm(){return Zt(wc)}function v_(){return xt().memoizedState}function __(){return xt().memoizedState}function LC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=ar(o);var c=or(r,i,o);c!==null&&(xn(c,r,o),tc(c,r,o)),r={cache:om()},i.payload=r;return}r=r.return}}function jC(i,r,o){var c=Ln();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(i)?b_(r,o):(o=Xd(i,r,o,c),o!==null&&(xn(o,i,c),E_(o,r,c)))}function T_(i,r,o){var c=Ln();ac(i,r,o,c)}function ac(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(i))b_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,x=p(T,o);if(f.hasEagerState=!0,f.eagerState=x,Dn(x,T))return ah(i,r,f,0),it===null&&rh(),!1}catch{}if(o=Xd(i,r,f,c),o!==null)return xn(o,i,c),E_(o,r,c),!0}return!1}function Mm(i,r,o,c){if(c={lane:2,revertLane:hp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ah(i)){if(r)throw Error(s(479))}else r=Xd(i,o,c,2),r!==null&&xn(r,i,2)}function Ah(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function b_(i,r){Eo=_h=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function E_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Cl(i,o)}}var oc={readContext:Zt,use:Eh,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};oc.useEffectEvent=gt;var w_={readContext:Zt,use:Eh,useCallback:function(i,r){return pn().memoizedState=[i,r===void 0?null:r],i},useContext:Zt,useEffect:a_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,xh(4194308,4,u_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return xh(4194308,4,i,r)},useInsertionEffect:function(i,r){xh(4,2,i,r)},useMemo:function(i,r){var o=pn();r=r===void 0?null:r;var c=i();if(Ea){zn(!0);try{i()}finally{zn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=pn();if(o!==void 0){var f=o(r);if(Ea){zn(!0);try{o(r)}finally{zn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=jC.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var r=pn();return i={current:i},r.memoizedState=i},useState:function(i){i=Am(i);var r=i.queue,o=T_.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(i,r){var o=pn();return Nm(o,i,r)},useTransition:function(){var i=Am(!1);return i=p_.bind(null,Ie,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ie,f=pn();if(Be){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(Pe&127)!==0||Hv(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,a_(Kv.bind(null,c,p,i),[i]),c.flags|=2048,xo(9,{destroy:void 0},Gv.bind(null,c,p,o,r),null),o},useId:function(){var i=pn(),r=it.identifierPrefix;if(Be){var o=Gi,c=Hi;o=(c&~(1<<32-bt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Th++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=DC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Vm,useFormState:t_,useActionState:t_,useOptimistic:function(i){var r=pn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Mm.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:wm,useCacheRefresh:function(){return pn().memoizedState=LC.bind(null,Ie)},useEffectEvent:function(i){var r=pn(),o={impl:i};return r.memoizedState=o,function(){if(($e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},km={readContext:Zt,use:Eh,useCallback:f_,useContext:Zt,useEffect:Cm,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:d_,useReducer:wh,useRef:r_,useState:function(){return wh(gs)},useDebugValue:Im,useDeferredValue:function(i,r){var o=xt();return m_(o,et.memoizedState,i,r)},useTransition:function(){var i=wh(gs)[0],r=xt().memoizedState;return[typeof i=="boolean"?i:rc(i),r]},useSyncExternalStore:qv,useId:v_,useHostTransitionStatus:Vm,useFormState:n_,useActionState:n_,useOptimistic:function(i,r){var o=xt();return Qv(o,et,i,r)},useMemoCache:wm,useCacheRefresh:__};km.useEffectEvent=o_;var x_={readContext:Zt,use:Eh,useCallback:f_,useContext:Zt,useEffect:Cm,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:d_,useReducer:Sm,useRef:r_,useState:function(){return Sm(gs)},useDebugValue:Im,useDeferredValue:function(i,r){var o=xt();return et===null?Nm(o,i,r):m_(o,et.memoizedState,i,r)},useTransition:function(){var i=Sm(gs)[0],r=xt().memoizedState;return[typeof i=="boolean"?i:rc(i),r]},useSyncExternalStore:qv,useId:v_,useHostTransitionStatus:Vm,useFormState:s_,useActionState:s_,useOptimistic:function(i,r){var o=xt();return et!==null?Qv(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:wm,useCacheRefresh:__};x_.useEffectEvent=o_;function Pm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Om={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Ln(),f=ar(c);f.payload=r,o!=null&&(f.callback=o),r=or(i,f,c),r!==null&&(xn(r,i,c),tc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Ln(),f=ar(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=or(i,f,c),r!==null&&(xn(r,i,c),tc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),c=ar(o);c.tag=2,r!=null&&(c.callback=r),r=or(i,c,o),r!==null&&(xn(r,i,o),tc(r,i,o))}};function S_(i,r,o,c,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,T):r.prototype&&r.prototype.isPureReactComponent?!$l(o,c)||!$l(f,p):!0}function A_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Om.enqueueReplaceState(r,r.state,null)}function wa(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function R_(i){sh(i)}function C_(i){console.error(i)}function I_(i){sh(i)}function Rh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function N_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Lm(i,r,o){return o=ar(o),o.tag=3,o.payload={element:null},o.callback=function(){Rh(i,r)},o}function D_(i){return i=ar(i),i.tag=3,i}function V_(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){N_(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){N_(r,o,c),typeof f!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function UC(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&go(r,o,f,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Wn===null?Uh():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===mh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),lp(i,c,f)),!1;case 22:return o.flags|=65536,c===mh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),lp(i,c,f)),!1}throw Error(s(435,o.tag))}return lp(i,c,f),Uh(),!1}if(Be)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==nm&&(i=Error(s(422),{cause:c}),Xl($n(i,o)))):(c!==nm&&(r=Error(s(423),{cause:c}),Xl($n(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=$n(c,o),f=Lm(i.stateNode,c,f),dm(i,f),yt!==4&&(yt=2)),!1;var p=Error(s(520),{cause:c});if(p=$n(p,o),pc===null?pc=[p]:pc.push(p),yt!==4&&(yt=2),r===null)return!0;c=$n(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Lm(o.stateNode,c,i),dm(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(dr===null||!dr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=D_(f),V_(f,i,o,c),dm(o,f),!1}o=o.return}while(o!==null);return!1}var jm=Error(s(461)),kt=!1;function Jt(i,r,o,c){r.child=i===null?Ov(r,null,o,c):ba(r,i.child,o,c)}function M_(i,r,o,c,f){o=o.render;var p=r.ref;if("ref"in c){var T={};for(var x in c)x!=="ref"&&(T[x]=c[x])}else T=c;return ya(r),c=_m(i,r,o,T,p,f),x=Tm(),i!==null&&!kt?(bm(i,r,f),ys(i,r,f)):(Be&&x&&em(r),r.flags|=1,Jt(i,r,c,f),r.child)}function k_(i,r,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!Wd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,P_(i,r,p,c,f)):(i=lh(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Km(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:$l,o(T,c)&&i.ref===r.ref)return ys(i,r,f)}return r.flags|=1,i=hs(p,c),i.ref=r.ref,i.return=r,r.child=i}function P_(i,r,o,c,f){if(i!==null){var p=i.memoizedProps;if($l(p,c)&&i.ref===r.ref)if(kt=!1,r.pendingProps=c=p,Km(i,f))(i.flags&131072)!==0&&(kt=!0);else return r.lanes=i.lanes,ys(i,r,f)}return Um(i,r,o,c,f)}function O_(i,r,o,c){var f=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,r.child=null;return L_(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&fh(r,p!==null?p.cachePool:null),p!==null?Uv(r,p):pm(),Bv(r);else return c=r.lanes=536870912,L_(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(fh(r,p.cachePool),Uv(r,p),cr(),r.memoizedState=null):(i!==null&&fh(r,null),pm(),cr());return Jt(i,r,f,o),r.child}function lc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function L_(i,r,o,c,f){var p=cm();return p=p===null?null:{parent:Vt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&fh(r,null),pm(),Bv(r),i!==null&&go(i,r,c,!0),r.childLanes=f,null}function Ch(i,r){return r=Nh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function j_(i,r,o){return ba(r,i.child,null,o),i=Ch(r,r.pendingProps),i.flags|=2,kn(r),r.memoizedState=null,i}function BC(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Be){if(c.mode==="hidden")return i=Ch(r,c),r.lanes=536870912,lc(null,i);if(ym(r),(i=at)?(i=XT(i,Xn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=bv(i),o.return=r,r.child=o,Wt=r,at=null)):i=null,i===null)throw ir(r);return r.lanes=536870912,null}return Ch(r,c)}var p=i.memoizedState;if(p!==null){var T=p.dehydrated;if(ym(r),f)if(r.flags&256)r.flags&=-257,r=j_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(kt||go(i,r,o,!1),f=(o&i.childLanes)!==0,kt||f){if(c=it,c!==null&&(T=Il(c,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,da(i,T),xn(c,i,T),jm;Uh(),r=j_(i,r,o)}else i=p.treeContext,at=Zn(T.nextSibling),Wt=r,Be=!0,nr=null,Xn=!1,i!==null&&xv(r,i),r=Ch(r,c),r.flags|=4096;return r}return i=hs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ih(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Um(i,r,o,c,f){return ya(r),o=_m(i,r,o,c,void 0,f),c=Tm(),i!==null&&!kt?(bm(i,r,f),ys(i,r,f)):(Be&&c&&em(r),r.flags|=1,Jt(i,r,o,f),r.child)}function U_(i,r,o,c,f,p){return ya(r),r.updateQueue=null,o=Fv(r,c,o,f),zv(i),c=Tm(),i!==null&&!kt?(bm(i,r,p),ys(i,r,p)):(Be&&c&&em(r),r.flags|=1,Jt(i,r,o,p),r.child)}function B_(i,r,o,c,f){if(ya(r),r.stateNode===null){var p=ho,T=o.contextType;typeof T=="object"&&T!==null&&(p=Zt(T)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Om,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},hm(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?Zt(T):ho,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Pm(r,o,T,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Om.enqueueReplaceState(p,p.state,null),ic(r,c,p,f),nc(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var x=r.memoizedProps,L=wa(o,x);p.props=L;var Y=p.context,ee=o.contextType;T=ho,typeof ee=="object"&&ee!==null&&(T=Zt(ee));var ae=o.getDerivedStateFromProps;ee=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||Y!==T)&&A_(r,p,c,T),rr=!1;var Q=r.memoizedState;p.state=Q,ic(r,c,p,f),nc(),Y=r.memoizedState,x||Q!==Y||rr?(typeof ae=="function"&&(Pm(r,o,ae,c),Y=r.memoizedState),(L=rr||S_(r,o,L,c,Q,Y,T))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),p.props=c,p.state=Y,p.context=T,c=L):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,fm(i,r),T=r.memoizedProps,ee=wa(o,T),p.props=ee,ae=r.pendingProps,Q=p.context,Y=o.contextType,L=ho,typeof Y=="object"&&Y!==null&&(L=Zt(Y)),x=o.getDerivedStateFromProps,(Y=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ae||Q!==L)&&A_(r,p,c,L),rr=!1,Q=r.memoizedState,p.state=Q,ic(r,c,p,f),nc();var W=r.memoizedState;T!==ae||Q!==W||rr||i!==null&&i.dependencies!==null&&uh(i.dependencies)?(typeof x=="function"&&(Pm(r,o,x,c),W=r.memoizedState),(ee=rr||S_(r,o,ee,c,Q,W,L)||i!==null&&i.dependencies!==null&&uh(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,W,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,W,L)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),p.props=c,p.state=W,p.context=L,c=ee):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Ih(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=ba(r,i.child,null,f),r.child=ba(r,null,o,f)):Jt(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ys(i,r,f),i}function z_(i,r,o,c){return pa(),r.flags|=256,Jt(i,r,o,c),r.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zm(i){return{baseLanes:i,cachePool:Nv()}}function Fm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=On),i}function F_(i,r,o){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(wt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Be){if(f?lr(r):cr(),(i=at)?(i=XT(i,Xn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=bv(i),o.return=r,r.child=o,Wt=r,at=null)):i=null,i===null)throw ir(r);return xp(i)?r.lanes=32:r.lanes=536870912,null}var x=c.children;return c=c.fallback,f?(cr(),f=r.mode,x=Nh({mode:"hidden",children:x},f),c=ma(c,f,o,null),x.return=r,c.return=r,x.sibling=c,r.child=x,c=r.child,c.memoizedState=zm(o),c.childLanes=Fm(i,T,o),r.memoizedState=Bm,lc(null,c)):(lr(r),qm(r,x))}var L=i.memoizedState;if(L!==null&&(x=L.dehydrated,x!==null)){if(p)r.flags&256?(lr(r),r.flags&=-257,r=Hm(i,r,o)):r.memoizedState!==null?(cr(),r.child=i.child,r.flags|=128,r=null):(cr(),x=c.fallback,f=r.mode,c=Nh({mode:"visible",children:c.children},f),x=ma(x,f,o,null),x.flags|=2,c.return=r,x.return=r,c.sibling=x,r.child=c,ba(r,i.child,null,o),c=r.child,c.memoizedState=zm(o),c.childLanes=Fm(i,T,o),r.memoizedState=Bm,r=lc(null,c));else if(lr(r),xp(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(s(419)),c.stack="",c.digest=T,Xl({value:c,source:null,stack:null}),r=Hm(i,r,o)}else if(kt||go(i,r,o,!1),T=(o&i.childLanes)!==0,kt||T){if(T=it,T!==null&&(c=Il(T,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,da(i,c),xn(T,i,c),jm;wp(x)||Uh(),r=Hm(i,r,o)}else wp(x)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,at=Zn(x.nextSibling),Wt=r,Be=!0,nr=null,Xn=!1,i!==null&&xv(r,i),r=qm(r,c.children),r.flags|=4096);return r}return f?(cr(),x=c.fallback,f=r.mode,L=i.child,Y=L.sibling,c=hs(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Y!==null?x=hs(Y,x):(x=ma(x,f,o,null),x.flags|=2),x.return=r,c.return=r,c.sibling=x,r.child=c,lc(null,c),c=r.child,x=i.child.memoizedState,x===null?x=zm(o):(f=x.cachePool,f!==null?(L=Vt._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=Nv(),x={baseLanes:x.baseLanes|o,cachePool:f}),c.memoizedState=x,c.childLanes=Fm(i,T,o),r.memoizedState=Bm,lc(i.child,c)):(lr(r),o=i.child,i=o.sibling,o=hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function qm(i,r){return r=Nh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Nh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function Hm(i,r,o){return ba(r,i.child,null,o),i=qm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function q_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),rm(i.return,r,o)}function Gm(i,r,o,c,f,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function H_(i,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var T=wt.current,x=(T&2)!==0;if(x?(T=T&1|2,r.flags|=128):T&=1,J(wt,T),Jt(i,r,c,o),c=Be?Ql:0,!x&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q_(i,o,r);else if(i.tag===19)q_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&vh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Gm(r,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&vh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Gm(r,!0,o,null,p,c);break;case"together":Gm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ys(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),fr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(go(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Km(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&uh(i)))}function zC(i,r,o){switch(r.tag){case 3:Bt(r,r.stateNode.containerInfo),sr(r,Vt,i.memoizedState.cache),pa();break;case 27:case 5:Qr(r);break;case 4:Bt(r,r.stateNode.containerInfo);break;case 10:sr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ym(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(lr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?F_(i,r,o):(lr(r),i=ys(i,r,o),i!==null?i.sibling:null);lr(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(go(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return H_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(wt,wt.current),c)break;return null;case 22:return r.lanes=0,O_(i,r,o,r.pendingProps);case 24:sr(r,Vt,i.memoizedState.cache)}return ys(i,r,o)}function G_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)kt=!0;else{if(!Km(i,o)&&(r.flags&128)===0)return kt=!1,zC(i,r,o);kt=(i.flags&131072)!==0}else kt=!1,Be&&(r.flags&1048576)!==0&&wv(r,Ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=_a(r.elementType),r.type=i,typeof i=="function")Wd(i)?(c=wa(i,c),r.tag=1,r=B_(null,r,i,c,o)):(r.tag=0,r=Um(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===te){r.tag=11,r=M_(null,r,i,c,o);break e}else if(f===R){r.tag=14,r=k_(null,r,i,c,o);break e}}throw r=ze(i)||i,Error(s(306,r,""))}}return r;case 0:return Um(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=wa(c,r.pendingProps),B_(i,r,c,f,o);case 3:e:{if(Bt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,fm(i,r),ic(r,c,null,o);var T=r.memoizedState;if(c=T.cache,sr(r,Vt,c),c!==p.cache&&am(r,[Vt],o,!0),nc(),c=T.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=z_(i,r,c,o);break e}else if(c!==f){f=$n(Error(s(424)),r),Xl(f),r=z_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,at=Zn(i.firstChild),Wt=r,Be=!0,nr=null,Xn=!0,o=Ov(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(pa(),c===f){r=ys(i,r,o);break e}Jt(i,r,c,o)}r=r.child}return r;case 26:return Ih(i,r),i===null?(o=nb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,i=r.pendingProps,c=Kh(we.current).createElement(o),c[It]=r,c[Gt]=i,en(c,o,i),Nt(c),r.stateNode=c):r.memoizedState=nb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Qr(r),i===null&&Be&&(c=r.stateNode=JT(r.type,r.pendingProps,we.current),Wt=r,Xn=!0,f=at,yr(r.type)?(Sp=f,at=Zn(c.firstChild)):at=f),Jt(i,r,r.pendingProps.children,o),Ih(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Be&&((f=c=at)&&(c=y2(c,r.type,r.pendingProps,Xn),c!==null?(r.stateNode=c,Wt=r,at=Zn(c.firstChild),Xn=!1,f=!0):f=!1),f||ir(r)),Qr(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,c=p.children,Tp(f,p)?c=null:T!==null&&Tp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=_m(i,r,VC,null,null,o),wc._currentValue=f),Ih(i,r),Jt(i,r,c,o),r.child;case 6:return i===null&&Be&&((i=o=at)&&(o=v2(o,r.pendingProps,Xn),o!==null?(r.stateNode=o,Wt=r,at=null,i=!0):i=!1),i||ir(r)),null;case 13:return F_(i,r,o);case 4:return Bt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=ba(r,null,c,o):Jt(i,r,c,o),r.child;case 11:return M_(i,r,r.type,r.pendingProps,o);case 7:return Jt(i,r,r.pendingProps,o),r.child;case 8:return Jt(i,r,r.pendingProps.children,o),r.child;case 12:return Jt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,sr(r,r.type,c.value),Jt(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,ya(r),f=Zt(f),c=c(f),r.flags|=1,Jt(i,r,c,o),r.child;case 14:return k_(i,r,r.type,r.pendingProps,o);case 15:return P_(i,r,r.type,r.pendingProps,o);case 19:return H_(i,r,o);case 31:return BC(i,r,o);case 22:return O_(i,r,o,r.pendingProps);case 24:return ya(r),c=Zt(Vt),i===null?(f=cm(),f===null&&(f=it,p=om(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:c,cache:f},hm(r),sr(r,Vt,f)):((i.lanes&o)!==0&&(fm(i,r),ic(r,null,null,o),nc()),f=i.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),sr(r,Vt,c)):(c=p.cache,sr(r,Vt,c),c!==f.cache&&am(r,[Vt],o,!0))),Jt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function vs(i){i.flags|=4}function $m(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(vT())i.flags|=8192;else throw Ta=mh,um}else i.flags&=-16777217}function K_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ob(r))if(vT())i.flags|=8192;else throw Ta=mh,um}function Dh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Lu():536870912,i.lanes|=r,Co|=r)}function cc(i,r){if(!Be)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function FC(i,r,o){var c=r.pendingProps;switch(tm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ms(Vt),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(po(r)?vs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,im())),ot(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(vs(r),p!==null?(ot(r),K_(r,p)):(ot(r),$m(r,f,null,c,o))):p?p!==i.memoizedState?(vs(r),ot(r),K_(r,p)):(ot(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&vs(r),ot(r),$m(r,f,i,c,o)),null;case 27:if(Ka(r),o=we.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&vs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=ce.current,po(r)?Sv(r):(i=JT(f,c,o),r.stateNode=i,vs(r))}return ot(r),null;case 5:if(Ka(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&vs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(p=ce.current,po(r))Sv(r);else{var T=Kh(we.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?T.createElement(f,{is:c.is}):T.createElement(f)}}p[It]=r,p[Gt]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;e:switch(en(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&vs(r)}}return ot(r),$m(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&vs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=we.current,po(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=Wt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[It]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||FT(i.nodeValue,o)),i||ir(r,!0)}else i=Kh(i).createTextNode(c),i[It]=r,r.stateNode=i}return ot(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=po(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[It]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),i=!1}else o=im(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=po(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=im(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Dh(r,r.updateQueue),ot(r),null);case 4:return ct(),i===null&&pp(r.stateNode.containerInfo),ot(r),null;case 10:return ms(r.type),ot(r),null;case 19:if(ie(wt),c=r.memoizedState,c===null)return ot(r),null;if(f=(r.flags&128)!==0,p=c.rendering,p===null)if(f)cc(c,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=vh(i),p!==null){for(r.flags|=128,cc(c,!1),i=p.updateQueue,r.updateQueue=i,Dh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Tv(o,i),o=o.sibling;return J(wt,wt.current&1|2),Be&&fs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&dn()>Oh&&(r.flags|=128,f=!0,cc(c,!1),r.lanes=4194304)}else{if(!f)if(i=vh(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Dh(r,i),cc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Be)return ot(r),null}else 2*dn()-c.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,f=!0,cc(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=dn(),i.sibling=null,o=wt.current,J(wt,f?o&1|2:o&1),Be&&fs(r,c.treeForkCount),i):(ot(r),null);case 22:case 23:return kn(r),gm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&Dh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ie(va),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ms(Vt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function qC(i,r){switch(tm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ms(Vt),ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ka(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(s(340));pa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(kn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));pa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ie(wt),null;case 4:return ct(),null;case 10:return ms(r.type),null;case 22:case 23:return kn(r),gm(),i!==null&&ie(va),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ms(Vt),null;case 25:return null;default:return null}}function $_(i,r){switch(tm(r),r.tag){case 3:ms(Vt),ct();break;case 26:case 27:case 5:Ka(r);break;case 4:ct();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:ie(wt);break;case 10:ms(r.type);break;case 22:case 23:kn(r),gm(),i!==null&&ie(va);break;case 24:ms(Vt)}}function uc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,T=o.inst;c=p(),T.destroy=c}o=o.next}while(o!==f)}}catch(x){Ze(r,r.return,x)}}function ur(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var T=c.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,f=r;var L=o,Y=x;try{Y()}catch(ee){Ze(f,L,ee)}}}c=c.next}while(c!==p)}}catch(ee){Ze(r,r.return,ee)}}function Y_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{jv(r,o)}catch(c){Ze(i,i.return,c)}}}function Q_(i,r,o){o.props=wa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(i,r,c)}}function hc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){Ze(i,r,f)}}function Ki(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Ze(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ze(i,r,f)}else o.current=null}function X_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Ze(i,i.return,f)}}function Ym(i,r,o){try{var c=i.stateNode;h2(c,i.type,o,r),c[Gt]=r}catch(f){Ze(i,i.return,f)}}function W_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yr(i.type)||i.tag===4}function Qm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||W_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xm(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fi));else if(c!==4&&(c===27&&yr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Xm(i,r,o),i=i.sibling;i!==null;)Xm(i,r,o),i=i.sibling}function Vh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&yr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Vh(i,r,o),i=i.sibling;i!==null;)Vh(i,r,o),i=i.sibling}function Z_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);en(r,c,o),r[It]=i,r[Gt]=o}catch(p){Ze(i,i.return,p)}}var _s=!1,Pt=!1,Wm=!1,J_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function HC(i,r){if(i=i.containerInfo,vp=Jh,i=hv(i),Hd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,x=-1,L=-1,Y=0,ee=0,ae=i,Q=null;t:for(;;){for(var W;ae!==o||f!==0&&ae.nodeType!==3||(x=T+f),ae!==p||c!==0&&ae.nodeType!==3||(L=T+c),ae.nodeType===3&&(T+=ae.nodeValue.length),(W=ae.firstChild)!==null;)Q=ae,ae=W;for(;;){if(ae===i)break t;if(Q===o&&++Y===f&&(x=T),Q===p&&++ee===c&&(L=T),(W=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=W}o=x===-1||L===-1?null:{start:x,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(_p={focusedElem:i,selectionRange:o},Jh=!1,$t=r;$t!==null;)if(r=$t,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,$t=i;else for(;$t!==null;){switch(r=$t,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var me=wa(o.type,f);i=c.getSnapshotBeforeUpdate(me,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Ze(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Ep(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ep(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,$t=i;break}$t=r.return}}function eT(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:bs(i,o),c&4&&uc(5,o);break;case 1:if(bs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Ze(o,o.return,T)}else{var f=wa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Ze(o,o.return,T)}}c&64&&Y_(o),c&512&&hc(o,o.return);break;case 3:if(bs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{jv(i,r)}catch(T){Ze(o,o.return,T)}}break;case 27:r===null&&c&4&&Z_(o);case 26:case 5:bs(i,o),r===null&&c&4&&X_(o),c&512&&hc(o,o.return);break;case 12:bs(i,o);break;case 31:bs(i,o),c&4&&iT(i,o);break;case 13:bs(i,o),c&4&&sT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=JC.bind(null,o),_2(i,o))));break;case 22:if(c=o.memoizedState!==null||_s,!c){r=r!==null&&r.memoizedState!==null||Pt,f=_s;var p=Pt;_s=c,(Pt=r)&&!p?Es(i,o,(o.subtreeFlags&8772)!==0):bs(i,o),_s=f,Pt=p}break;case 30:break;default:bs(i,o)}}function tT(i){var r=i.alternate;r!==null&&(i.alternate=null,tT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Wa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,Tn=!1;function Ts(i,r,o){for(o=o.child;o!==null;)nT(i,r,o),o=o.sibling}function nT(i,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:Pt||Ki(o,r),Ts(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Ki(o,r);var c=ht,f=Tn;yr(o.type)&&(ht=o.stateNode,Tn=!1),Ts(i,r,o),Tc(o.stateNode),ht=c,Tn=f;break;case 5:Pt||Ki(o,r);case 6:if(c=ht,f=Tn,ht=null,Ts(i,r,o),ht=c,Tn=f,ht!==null)if(Tn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(p){Ze(o,r,p)}else try{ht.removeChild(o.stateNode)}catch(p){Ze(o,r,p)}break;case 18:ht!==null&&(Tn?(i=ht,YT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Oo(i)):YT(ht,o.stateNode));break;case 4:c=ht,f=Tn,ht=o.stateNode.containerInfo,Tn=!0,Ts(i,r,o),ht=c,Tn=f;break;case 0:case 11:case 14:case 15:ur(2,o,r),Pt||ur(4,o,r),Ts(i,r,o);break;case 1:Pt||(Ki(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Q_(o,r,c)),Ts(i,r,o);break;case 21:Ts(i,r,o);break;case 22:Pt=(c=Pt)||o.memoizedState!==null,Ts(i,r,o),Pt=c;break;default:Ts(i,r,o)}}function iT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oo(i)}catch(o){Ze(r,r.return,o)}}}function sT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oo(i)}catch(o){Ze(r,r.return,o)}}function GC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new J_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new J_),r;default:throw Error(s(435,i.tag))}}function Mh(i,r){var o=GC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=e2.bind(null,i,c);c.then(f,f)}})}function bn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,T=r,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(yr(x.type)){ht=x.stateNode,Tn=!1;break e}break;case 5:ht=x.stateNode,Tn=!1;break e;case 3:case 4:ht=x.stateNode.containerInfo,Tn=!0;break e}x=x.return}if(ht===null)throw Error(s(160));nT(p,T,f),ht=null,Tn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)rT(r,i),r=r.sibling}var vi=null;function rT(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(r,i),En(i),c&4&&(ur(3,i,i.return),uc(3,i),ur(5,i,i.return));break;case 1:bn(r,i),En(i),c&512&&(Pt||o===null||Ki(o,o.return)),c&64&&_s&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=vi;if(bn(r,i),En(i),c&512&&(Pt||o===null||Ki(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Vi]||p[It]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),en(p,c,o),p[It]=i,Nt(p),c=p;break e;case"link":var T=rb("link","href",f).get(c+(o.href||""));if(T){for(var x=0;x<T.length;x++)if(p=T[x],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(x,1);break t}}p=f.createElement(c),en(p,c,o),f.head.appendChild(p);break;case"meta":if(T=rb("meta","content",f).get(c+(o.content||""))){for(x=0;x<T.length;x++)if(p=T[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(x,1);break t}}p=f.createElement(c),en(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[It]=i,Nt(p),c=p}i.stateNode=c}else ab(f,i.type,i.stateNode);else i.stateNode=sb(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?ab(f,i.type,i.stateNode):sb(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ym(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(r,i),En(i),c&512&&(Pt||o===null||Ki(o,o.return)),o!==null&&c&4&&Ym(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,i),En(i),c&512&&(Pt||o===null||Ki(o,o.return)),i.flags&32){f=i.stateNode;try{_n(f,"")}catch(me){Ze(i,i.return,me)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Ym(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Wm=!0);break;case 6:if(bn(r,i),En(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(me){Ze(i,i.return,me)}}break;case 3:if(Qh=null,f=vi,vi=$h(r.containerInfo),bn(r,i),vi=f,En(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(r.containerInfo)}catch(me){Ze(i,i.return,me)}Wm&&(Wm=!1,aT(i));break;case 4:c=vi,vi=$h(i.stateNode.containerInfo),bn(r,i),En(i),vi=c;break;case 12:bn(r,i),En(i);break;case 31:bn(r,i),En(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 13:bn(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ph=dn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 22:f=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Y=_s,ee=Pt;if(_s=Y||f,Pt=ee||L,bn(r,i),Pt=ee,_s=Y,En(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||L||_s||Pt||xa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(p=L.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=L.stateNode;var ae=L.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;x.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(me){Ze(L,L.return,me)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(me){Ze(L,L.return,me)}}}else if(r.tag===18){if(o===null){L=r;try{var W=L.stateNode;f?QT(W,!0):QT(L.stateNode,!1)}catch(me){Ze(L,L.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(i,o))));break;case 19:bn(r,i),En(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 30:break;case 21:break;default:bn(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(W_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Qm(i);Vh(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(_n(T,""),o.flags&=-33);var x=Qm(i);Vh(i,x,T);break;case 3:case 4:var L=o.stateNode.containerInfo,Y=Qm(i);Xm(i,Y,L);break;default:throw Error(s(161))}}catch(ee){Ze(i,i.return,ee)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function aT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;aT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function bs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)eT(i,r.alternate,r),r=r.sibling}function xa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ur(4,r,r.return),xa(r);break;case 1:Ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Q_(r,r.return,o),xa(r);break;case 27:Tc(r.stateNode);case 26:case 5:Ki(r,r.return),xa(r);break;case 22:r.memoizedState===null&&xa(r);break;case 30:xa(r);break;default:xa(r)}i=i.sibling}}function Es(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Es(f,p,o),uc(4,p);break;case 1:if(Es(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Ze(c,c.return,Y)}if(c=p,f=c.updateQueue,f!==null){var x=c.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)Lv(L[f],x)}catch(Y){Ze(c,c.return,Y)}}o&&T&64&&Y_(p),hc(p,p.return);break;case 27:Z_(p);case 26:case 5:Es(f,p,o),o&&c===null&&T&4&&X_(p),hc(p,p.return);break;case 12:Es(f,p,o);break;case 31:Es(f,p,o),o&&T&4&&iT(f,p);break;case 13:Es(f,p,o),o&&T&4&&sT(f,p);break;case 22:p.memoizedState===null&&Es(f,p,o),hc(p,p.return);break;case 30:break;default:Es(f,p,o)}r=r.sibling}}function Zm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Wl(o))}function Jm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Wl(i))}function _i(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)oT(i,r,o,c),r=r.sibling}function oT(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:_i(i,r,o,c),f&2048&&uc(9,r);break;case 1:_i(i,r,o,c);break;case 3:_i(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Wl(i)));break;case 12:if(f&2048){_i(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,x=p.onPostCommit;typeof x=="function"&&x(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Ze(r,r.return,L)}}else _i(i,r,o,c);break;case 31:_i(i,r,o,c);break;case 13:_i(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?_i(i,r,o,c):fc(i,r):p._visibility&2?_i(i,r,o,c):(p._visibility|=2,So(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Zm(T,r);break;case 24:_i(i,r,o,c),f&2048&&Jm(r.alternate,r);break;default:_i(i,r,o,c)}}function So(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,T=r,x=o,L=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:So(p,T,x,L,f),uc(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?So(p,T,x,L,f):fc(p,T):(ee._visibility|=2,So(p,T,x,L,f)),f&&Y&2048&&Zm(T.alternate,T);break;case 24:So(p,T,x,L,f),f&&Y&2048&&Jm(T.alternate,T);break;default:So(p,T,x,L,f)}r=r.sibling}}function fc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:fc(o,c),f&2048&&Zm(c.alternate,c);break;case 24:fc(o,c),f&2048&&Jm(c.alternate,c);break;default:fc(o,c)}r=r.sibling}}var dc=8192;function Ao(i,r,o){if(i.subtreeFlags&dc)for(i=i.child;i!==null;)lT(i,r,o),i=i.sibling}function lT(i,r,o){switch(i.tag){case 26:Ao(i,r,o),i.flags&dc&&i.memoizedState!==null&&D2(o,vi,i.memoizedState,i.memoizedProps);break;case 5:Ao(i,r,o);break;case 3:case 4:var c=vi;vi=$h(i.stateNode.containerInfo),Ao(i,r,o),vi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=dc,dc=16777216,Ao(i,r,o),dc=c):Ao(i,r,o));break;default:Ao(i,r,o)}}function cT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function mc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,hT(c,i)}cT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uT(i),i=i.sibling}function uT(i){switch(i.tag){case 0:case 11:case 15:mc(i),i.flags&2048&&ur(9,i,i.return);break;case 3:mc(i);break;case 12:mc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,kh(i)):mc(i);break;default:mc(i)}}function kh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,hT(c,i)}cT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ur(8,r,r.return),kh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,kh(r));break;default:kh(r)}i=i.sibling}}function hT(i,r){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Wl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=i;$t!==null;){c=$t;var f=c.sibling,p=c.return;if(tT(c),c===o){$t=null;break e}if(f!==null){f.return=p,$t=f;break e}$t=p}}}var KC={getCacheForType:function(i){var r=Zt(Vt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Zt(Vt).controller.signal}},$C=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Me=null,Pe=0,We=0,Pn=null,hr=!1,Ro=!1,ep=!1,ws=0,yt=0,fr=0,Sa=0,tp=0,On=0,Co=0,pc=null,wn=null,np=!1,Ph=0,fT=0,Oh=1/0,Lh=null,dr=null,Ft=0,mr=null,Io=null,xs=0,ip=0,sp=null,dT=null,gc=0,rp=null;function Ln(){return($e&2)!==0&&Pe!==0?Pe&-Pe:K.T!==null?hp():ju()}function mT(){if(On===0)if((Pe&536870912)===0||Be){var i=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),On=i}else On=536870912;return i=Mn.current,i!==null&&(i.flags|=32),On}function xn(i,r,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(No(i,0),pr(i,Pe,On,!1)),Jr(i,o),(($e&2)===0||i!==it)&&(i===it&&(($e&2)===0&&(Sa|=o),yt===4&&pr(i,Pe,On,!1)),$i(i))}function pT(i,r,o){if(($e&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ci(i,r),f=c?XC(i,r):op(i,r,!0),p=c;do{if(f===0){Ro&&!c&&pr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!YC(o)){f=op(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var x=i;f=pc;var L=x.current.memoizedState.isDehydrated;if(L&&(No(x,T).flags|=256),T=op(x,T,!1),T!==2){if(ep&&!L){x.errorRecoveryDisabledLanes|=p,Sa|=p,f=4;break e}p=wn,wn=f,p!==null&&(wn===null?wn=p:wn.push.apply(wn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){No(i,0),pr(i,r,0,!0);break}e:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:pr(c,r,On,!hr);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ph+300-dn(),10<f)){if(pr(c,r,On,!hr),Ii(c,0,!0)!==0)break e;xs=r,c.timeoutHandle=KT(gT.bind(null,c,o,wn,Lh,np,r,On,Sa,Co,hr,p,"Throttled",-0,0),f);break e}gT(c,o,wn,Lh,np,r,On,Sa,Co,hr,p,null,-0,0)}}break}while(!0);$i(i)}function gT(i,r,o,c,f,p,T,x,L,Y,ee,ae,Q,W){if(i.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},lT(r,p,ae);var me=(p&62914560)===p?Ph-dn():(p&4194048)===p?fT-dn():0;if(me=V2(ae,me),me!==null){xs=p,i.cancelPendingCommit=me(xT.bind(null,i,r,p,o,c,f,T,x,L,ee,ae,null,Q,W)),pr(i,p,T,!Y);return}}xT(i,r,p,o,c,f,T,x,L)}function YC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Dn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pr(i,r,o,c){r&=~tp,r&=~Sa,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var p=31-bt(f),T=1<<p;c[p]=-1,f&=~T}o!==0&&ea(i,o,r)}function jh(){return($e&6)===0?(yc(0),!1):!0}function ap(){if(Me!==null){if(We===0)var i=Me.return;else i=Me,ds=ga=null,Em(i),To=null,Jl=0,i=Me;for(;i!==null;)$_(i.alternate,i),i=i.return;Me=null}}function No(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,m2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),xs=0,ap(),it=i,Me=o=hs(i.current,null),Pe=r,We=0,Pn=null,hr=!1,Ro=ci(i,r),ep=!1,Co=On=tp=Sa=fr=yt=0,wn=pc=null,np=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-bt(c),p=1<<f;r|=i[f],c&=~p}return ws=r,rh(),o}function yT(i,r){Ie=null,K.H=oc,r===_o||r===dh?(r=Mv(),We=3):r===um?(r=Mv(),We=4):We=r===jm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Me===null&&(yt=1,Rh(i,$n(r,i.current)))}function vT(){var i=Mn.current;return i===null?!0:(Pe&4194048)===Pe?Wn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Wn:!1}function _T(){var i=K.H;return K.H=oc,i===null?oc:i}function TT(){var i=K.A;return K.A=KC,i}function Uh(){yt=4,hr||(Pe&4194048)!==Pe&&Mn.current!==null||(Ro=!0),(fr&134217727)===0&&(Sa&134217727)===0||it===null||pr(it,Pe,On,!1)}function op(i,r,o){var c=$e;$e|=2;var f=_T(),p=TT();(it!==i||Pe!==r)&&(Lh=null,No(i,r)),r=!1;var T=yt;e:do try{if(We!==0&&Me!==null){var x=Me,L=Pn;switch(We){case 8:ap(),T=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var Y=We;if(We=0,Pn=null,Do(i,x,L,Y),o&&Ro){T=0;break e}break;default:Y=We,We=0,Pn=null,Do(i,x,L,Y)}}QC(),T=yt;break}catch(ee){yT(i,ee)}while(!0);return r&&i.shellSuspendCounter++,ds=ga=null,$e=c,K.H=f,K.A=p,Me===null&&(it=null,Pe=0,rh()),T}function QC(){for(;Me!==null;)bT(Me)}function XC(i,r){var o=$e;$e|=2;var c=_T(),f=TT();it!==i||Pe!==r?(Lh=null,Oh=dn()+500,No(i,r)):Ro=ci(i,r);e:do try{if(We!==0&&Me!==null){r=Me;var p=Pn;t:switch(We){case 1:We=0,Pn=null,Do(i,r,p,1);break;case 2:case 9:if(Dv(p)){We=0,Pn=null,ET(r);break}r=function(){We!==2&&We!==9||it!==i||(We=7),$i(i)},p.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Dv(p)?(We=0,Pn=null,ET(r)):(We=0,Pn=null,Do(i,r,p,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var x=Me;if(T?ob(T):x.stateNode.complete){We=0,Pn=null;var L=x.sibling;if(L!==null)Me=L;else{var Y=x.return;Y!==null?(Me=Y,Bh(Y)):Me=null}break t}}We=0,Pn=null,Do(i,r,p,5);break;case 6:We=0,Pn=null,Do(i,r,p,6);break;case 8:ap(),yt=6;break e;default:throw Error(s(462))}}WC();break}catch(ee){yT(i,ee)}while(!0);return ds=ga=null,K.H=c,K.A=f,$e=o,Me!==null?0:(it=null,Pe=0,rh(),yt)}function WC(){for(;Me!==null&&!Ld();)bT(Me)}function bT(i){var r=G_(i.alternate,i,ws);i.memoizedProps=i.pendingProps,r===null?Bh(i):Me=r}function ET(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=U_(o,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=U_(o,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Em(r);default:$_(o,r),r=Me=Tv(r,ws),r=G_(o,r,ws)}i.memoizedProps=i.pendingProps,r===null?Bh(i):Me=r}function Do(i,r,o,c){ds=ga=null,Em(r),To=null,Jl=0;var f=r.return;try{if(UC(i,f,r,o,Pe)){yt=1,Rh(i,$n(o,i.current)),Me=null;return}}catch(p){if(f!==null)throw Me=f,p;yt=1,Rh(i,$n(o,i.current)),Me=null;return}r.flags&32768?(Be||c===1?i=!0:Ro||(Pe&536870912)!==0?i=!1:(hr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),wT(r,i)):Bh(r)}function Bh(i){var r=i;do{if((r.flags&32768)!==0){wT(r,hr);return}i=r.return;var o=FC(r.alternate,r,ws);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=i}while(r!==null);yt===0&&(yt=5)}function wT(i,r){do{var o=qC(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);yt=6,Me=null}function xT(i,r,o,c,f,p,T,x,L){i.cancelPendingCommit=null;do zh();while(Ft!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Qd,Bd(i,o,p,T,x,L),i===it&&(Me=it=null,Pe=0),Io=r,mr=i,xs=o,ip=p,sp=f,dT=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,t2(Gs,function(){return IT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,f=le.p,le.p=2,T=$e,$e|=4;try{HC(i,r,o)}finally{$e=T,le.p=f,K.T=c}}Ft=1,ST(),AT(),RT()}}function ST(){if(Ft===1){Ft=0;var i=mr,r=Io,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=le.p;le.p=2;var f=$e;$e|=4;try{rT(r,i);var p=_p,T=hv(i.containerInfo),x=p.focusedElem,L=p.selectionRange;if(T!==x&&x&&x.ownerDocument&&uv(x.ownerDocument.documentElement,x)){if(L!==null&&Hd(x)){var Y=L.start,ee=L.end;if(ee===void 0&&(ee=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(ee,x.value.length);else{var ae=x.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),me=x.textContent.length,_e=Math.min(L.start,me),nt=L.end===void 0?_e:Math.min(L.end,me);!W.extend&&_e>nt&&(T=nt,nt=_e,_e=T);var H=cv(x,_e),z=cv(x,nt);if(H&&z&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var $=ae.createRange();$.setStart(H.node,H.offset),W.removeAllRanges(),_e>nt?(W.addRange($),W.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),W.addRange($))}}}}for(ae=[],W=x;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ae.length;x++){var ne=ae[x];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Jh=!!vp,_p=vp=null}finally{$e=f,le.p=c,K.T=o}}i.current=r,Ft=2}}function AT(){if(Ft===2){Ft=0;var i=mr,r=Io,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=le.p;le.p=2;var f=$e;$e|=4;try{eT(i,r.alternate,r)}finally{$e=f,le.p=c,K.T=o}}Ft=3}}function RT(){if(Ft===4||Ft===3){Ft=0,Du();var i=mr,r=Io,o=xs,c=dT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,Io=mr=null,CT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(dr=null),os(o),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=K.T,f=le.p,le.p=2,K.T=null;try{for(var p=i.onRecoverableError,T=0;T<c.length;T++){var x=c[T];p(x.value,{componentStack:x.stack})}}finally{K.T=r,le.p=f}}(xs&3)!==0&&zh(),$i(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===rp?gc++:(gc=0,rp=i):gc=0,yc(0)}}function CT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Wl(r)))}function zh(){return ST(),AT(),RT(),IT()}function IT(){if(Ft!==5)return!1;var i=mr,r=ip;ip=0;var o=os(xs),c=K.T,f=le.p;try{le.p=32>o?32:o,K.T=null,o=sp,sp=null;var p=mr,T=xs;if(Ft=0,Io=mr=null,xs=0,($e&6)!==0)throw Error(s(331));var x=$e;if($e|=4,uT(p.current),oT(p,p.current,T,o),$e=x,yc(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(li,p)}catch{}return!0}finally{le.p=f,K.T=c,CT(i,r)}}function NT(i,r,o){r=$n(o,r),r=Lm(i.stateNode,r,2),i=or(i,r,2),i!==null&&(Jr(i,2),$i(i))}function Ze(i,r,o){if(i.tag===3)NT(i,i,o);else for(;r!==null;){if(r.tag===3){NT(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(dr===null||!dr.has(c))){i=$n(o,i),o=D_(2),c=or(r,o,2),c!==null&&(V_(o,c,r,i),Jr(c,2),$i(c));break}}r=r.return}}function lp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new $C;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(ep=!0,f.add(o),i=ZC.bind(null,i,r,o),r.then(i,i))}function ZC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Pe&o)===o&&(yt===4||yt===3&&(Pe&62914560)===Pe&&300>dn()-Ph?($e&2)===0&&No(i,0):tp|=o,Co===Pe&&(Co=0)),$i(i)}function DT(i,r){r===0&&(r=Lu()),i=da(i,r),i!==null&&(Jr(i,r),$i(i))}function JC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),DT(i,o)}function e2(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),DT(i,o)}function t2(i,r){return zt(i,r)}var Fh=null,Vo=null,cp=!1,qh=!1,up=!1,gr=0;function $i(i){i!==Vo&&i.next===null&&(Vo===null?Fh=Vo=i:Vo=Vo.next=i),qh=!0,cp||(cp=!0,i2())}function yc(i,r){if(!up&&qh){up=!0;do for(var o=!1,c=Fh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var T=c.suspendedLanes,x=c.pingedLanes;p=(1<<31-bt(42|i)+1)-1,p&=f&~(T&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,PT(c,p))}else p=Pe,p=Ii(c,c===it?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ci(c,p)||(o=!0,PT(c,p));c=c.next}while(o);up=!1}}function n2(){VT()}function VT(){qh=cp=!1;var i=0;gr!==0&&d2()&&(i=gr);for(var r=dn(),o=null,c=Fh;c!==null;){var f=c.next,p=MT(c,r);p===0?(c.next=null,o===null?Fh=f:o.next=f,f===null&&(Vo=o)):(o=c,(i!==0||(p&3)!==0)&&(qh=!0)),c=f}Ft!==0&&Ft!==5||yc(i),gr!==0&&(gr=0)}function MT(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-bt(p),x=1<<T,L=f[T];L===-1?((x&o)===0||(x&c)!==0)&&(f[T]=Ud(x,r)):L<=r&&(i.expiredLanes|=x),p&=~x}if(r=it,o=Pe,o=Ii(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Hs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ci(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Hs(c),os(o)){case 2:case 8:o=Rl;break;case 32:o=Gs;break;case 268435456:o=Vu;break;default:o=Gs}return c=kT.bind(null,i),o=zt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Hs(c),i.callbackPriority=2,i.callbackNode=null,2}function kT(i,r){if(Ft!==0&&Ft!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(zh()&&i.callbackNode!==o)return null;var c=Pe;return c=Ii(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(pT(i,c,r),MT(i,dn()),i.callbackNode!=null&&i.callbackNode===o?kT.bind(null,i):null)}function PT(i,r){if(zh())return null;pT(i,r,!0)}function i2(){p2(function(){($e&6)!==0?zt(Al,n2):VT()})}function hp(){if(gr===0){var i=yo;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),gr=i}return gr}function OT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:to(""+i)}function LT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function s2(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var p=OT((f[Gt]||null).action),T=c.submitter;T&&(r=(r=T[Gt]||null)?OT(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var x=new Bi("action","action",null,c,f);i.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(gr!==0){var L=T?LT(f,T):new FormData(f);Dm(o,{pending:!0,data:L,method:f.method,action:p},null,L)}}else typeof p=="function"&&(x.preventDefault(),L=T?LT(f,T):new FormData(f),Dm(o,{pending:!0,data:L,method:f.method,action:p},p,L))},currentTarget:f}]})}}for(var fp=0;fp<Yd.length;fp++){var dp=Yd[fp],r2=dp.toLowerCase(),a2=dp[0].toUpperCase()+dp.slice(1);yi(r2,"on"+a2)}yi(mv,"onAnimationEnd"),yi(pv,"onAnimationIteration"),yi(gv,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(EC,"onTransitionRun"),yi(wC,"onTransitionStart"),yi(xC,"onTransitionCancel"),yi(yv,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vc));function jT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var T=c.length-1;0<=T;T--){var x=c[T],L=x.instance,Y=x.currentTarget;if(x=x.listener,L!==p&&f.isPropagationStopped())break e;p=x,f.currentTarget=Y;try{p(f)}catch(ee){sh(ee)}f.currentTarget=null,p=L}else for(T=0;T<c.length;T++){if(x=c[T],L=x.instance,Y=x.currentTarget,x=x.listener,L!==p&&f.isPropagationStopped())break e;p=x,f.currentTarget=Y;try{p(f)}catch(ee){sh(ee)}f.currentTarget=null,p=L}}}}function ke(i,r){var o=r[Xa];o===void 0&&(o=r[Xa]=new Set);var c=i+"__bubble";o.has(c)||(UT(r,i,2,!1),o.add(c))}function mp(i,r,o){var c=0;r&&(c|=4),UT(o,i,c,r)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function pp(i){if(!i[Hh]){i[Hh]=!0,Nl.forEach(function(o){o!=="selectionchange"&&(o2.has(o)||mp(o,!1,i),mp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Hh]||(r[Hh]=!0,mp("selectionchange",!1,r))}}function UT(i,r,o,c){switch(mb(r)){case 2:var f=P2;break;case 8:f=O2;break;default:f=Np}o=f.bind(null,r,o,i),f=void 0,!ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function gp(i,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var x=c.stateNode.containerInfo;if(x===f)break;if(T===4)for(T=c.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;x!==null;){if(T=Mi(x),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){c=p=T;continue e}x=x.parentNode}}c=c.return}Ws(function(){var Y=p,ee=qn(o),ae=[];e:{var Q=vv.get(i);if(Q!==void 0){var W=Bi,me=i;switch(i){case"keypress":if(oa(o)===0)break e;case"keydown":case"keyup":W=th;break;case"focusin":me="focus",W=ca;break;case"focusout":me="blur",W=ca;break;case"beforeblur":case"afterblur":W=ca;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case mv:case pv:case gv:W=Yu;break;case yv:W=A;break;case"scroll":case"scrollend":W=Fl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=us;break;case"toggle":case"beforetoggle":W=Ce}var _e=(r&4)!==0,nt=!_e&&(i==="scroll"||i==="scrollend"),H=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var z=Y,$;z!==null;){var ne=z;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||H===null||(ne=di(z,H),ne!=null&&_e.push(_c(z,ne,$))),nt)break;z=z.return}0<_e.length&&(Q=new W(Q,me,null,o,ee),ae.push({event:Q,listeners:_e}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==Ul&&(me=o.relatedTarget||o.fromElement)&&(Mi(me)||me[Di]))break e;if((W||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=Y,me=me?Mi(me):null,me!==null&&(nt=l(me),_e=me.tag,me!==nt||_e!==5&&_e!==27&&_e!==6)&&(me=null)):(W=null,me=Y),W!==me)){if(_e=ql,ne="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(_e=us,ne="onPointerLeave",H="onPointerEnter",z="pointer"),nt=W==null?Q:In(W),$=me==null?Q:In(me),Q=new _e(ne,z+"leave",W,o,ee),Q.target=nt,Q.relatedTarget=$,ne=null,Mi(ee)===Y&&(_e=new _e(H,z+"enter",me,o,ee),_e.target=$,_e.relatedTarget=nt,ne=_e),nt=ne,W&&me)t:{for(_e=l2,H=W,z=me,$=0,ne=H;ne;ne=_e(ne))$++;ne=0;for(var ge=z;ge;ge=_e(ge))ne++;for(;0<$-ne;)H=_e(H),$--;for(;0<ne-$;)z=_e(z),ne--;for(;$--;){if(H===z||z!==null&&H===z.alternate){_e=H;break t}H=_e(H),z=_e(z)}_e=null}else _e=null;W!==null&&BT(ae,Q,W,_e,!1),me!==null&&nt!==null&&BT(ae,nt,me,_e,!0)}}e:{if(Q=Y?In(Y):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var He=iv;else if(tv(Q))if(sv)He=_C;else{He=yC;var pe=gC}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&eo(Y.elementType)&&(He=iv):He=vC;if(He&&(He=He(i,Y))){nv(ae,He,o,ee);break e}pe&&pe(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ol(Q,"number",Q.value)}switch(pe=Y?In(Y):window,i){case"focusin":(tv(pe)||pe.contentEditable==="true")&&(lo=pe,Gd=Y,Yl=null);break;case"focusout":Yl=Gd=lo=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,fv(ae,o,ee);break;case"selectionchange":if(bC)break;case"keydown":case"keyup":fv(ae,o,ee)}var Ne;if(Ke)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else oo?ua(i,o)&&(Oe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(qi&&o.locale!=="ko"&&(oo||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&oo&&(Ne=zl()):(Ui=ee,Bl="value"in Ui?Ui.value:Ui.textContent,oo=!0)),pe=Gh(Y,Oe),0<pe.length&&(Oe=new Fi(Oe,i,null,o,ee),ae.push({event:Oe,listeners:pe}),Ne?Oe.data=Ne:(Ne=ao(o),Ne!==null&&(Oe.data=Ne)))),(Ne=Gn?fC(i,o):dC(i,o))&&(Oe=Gh(Y,"onBeforeInput"),0<Oe.length&&(pe=new Fi("onBeforeInput","beforeinput",null,o,ee),ae.push({event:pe,listeners:Oe}),pe.data=Ne)),s2(ae,i,Y,o,ee)}jT(ae,r)})}function _c(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Gh(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=di(i,o),f!=null&&c.unshift(_c(i,f,p)),f=di(i,r),f!=null&&c.push(_c(i,f,p))),i.tag===3)return c;i=i.return}return[]}function l2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function BT(i,r,o,c,f){for(var p=r._reactName,T=[];o!==null&&o!==c;){var x=o,L=x.alternate,Y=x.stateNode;if(x=x.tag,L!==null&&L===c)break;x!==5&&x!==26&&x!==27||Y===null||(L=Y,f?(Y=di(o,p),Y!=null&&T.unshift(_c(o,Y,L))):f||(Y=di(o,p),Y!=null&&T.push(_c(o,Y,L)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var c2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function zT(i){return(typeof i=="string"?i:""+i).replace(c2,`
`).replace(u2,"")}function FT(i,r){return r=zT(r),zT(i)===r}function tt(i,r,o,c,f,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||_n(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&_n(i,""+c);break;case"className":Nn(i,"class",c);break;case"tabIndex":Nn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(i,o,c);break;case"style":jl(i,c,p);break;case"data":if(r!=="object"){Nn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=to(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",f.name,f,null),tt(i,r,"formEncType",f.formEncType,f,null),tt(i,r,"formMethod",f.formMethod,f,null),tt(i,r,"formTarget",f.formTarget,f,null)):(tt(i,r,"encType",f.encType,f,null),tt(i,r,"method",f.method,f,null),tt(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=to(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=fi);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=to(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ke("beforetoggle",i),ke("toggle",i),Za(i,"popover",c);break;case"xlinkActuate":Dt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Dt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Dt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Dt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Dt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Dt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Dt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Dt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Dt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Za(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gu.get(o)||o,Za(i,o,c))}}function yp(i,r,o,c,f,p){switch(o){case"style":jl(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?_n(i,c):(typeof c=="number"||typeof c=="bigint")&&_n(i,""+c);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"onClick":c!=null&&(i.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Gt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Za(i,o,c)}}}function en(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,p,T,o,null)}}f&&tt(i,r,"srcSet",o.srcSet,o,null),c&&tt(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var x=p=T=f=null,L=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":f=ee;break;case"type":T=ee;break;case"checked":L=ee;break;case"defaultChecked":Y=ee;break;case"value":p=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:tt(i,r,c,ee,o,null)}}Fu(i,p,x,L,Y,T,f,!1);return;case"select":ke("invalid",i),c=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(x=o[f],x!=null))switch(f){case"value":p=x;break;case"defaultValue":T=x;break;case"multiple":c=x;default:tt(i,r,f,x,o,null)}r=p,o=T,i.multiple=!!c,r!=null?$s(i,!!c,r,!1):o!=null&&$s(i,!!c,o,!0);return;case"textarea":ke("invalid",i),p=f=c=null;for(T in o)if(o.hasOwnProperty(T)&&(x=o[T],x!=null))switch(T){case"value":c=x;break;case"defaultValue":f=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:tt(i,r,T,x,o,null)}Ys(i,c,f,p);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":tt(i,r,L,c,o,null));return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(c=0;c<vc.length;c++)ke(vc[c],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,Y,c,o,null)}return;default:if(eo(r)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&yp(i,r,ee,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&tt(i,r,x,c,o,null))}function h2(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,x=null,L=null,Y=null,ee=null;for(W in o){var ae=o[W];if(o.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=ae;default:c.hasOwnProperty(W)||tt(i,r,W,null,c,ae)}}for(var Q in c){var W=c[Q];if(ae=o[Q],c.hasOwnProperty(Q)&&(W!=null||ae!=null))switch(Q){case"type":p=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":ee=W;break;case"value":T=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==ae&&tt(i,r,Q,W,c,ae)}}Ja(i,T,x,L,Y,ee,p,f);return;case"select":W=T=x=Q=null;for(p in o)if(L=o[p],o.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":W=L;default:c.hasOwnProperty(p)||tt(i,r,p,null,c,L)}for(f in c)if(p=c[f],L=o[f],c.hasOwnProperty(f)&&(p!=null||L!=null))switch(f){case"value":Q=p;break;case"defaultValue":x=p;break;case"multiple":T=p;default:p!==L&&tt(i,r,f,p,c,L)}r=x,o=T,c=W,Q!=null?$s(i,!!o,Q,!1):!!c!=!!o&&(r!=null?$s(i,!!o,r,!0):$s(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(x in o)if(f=o[x],o.hasOwnProperty(x)&&f!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:tt(i,r,x,null,c,f)}for(T in c)if(f=c[T],p=o[T],c.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":Q=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&tt(i,r,T,f,c,p)}qu(i,Q,W);return;case"option":for(var me in o)Q=o[me],o.hasOwnProperty(me)&&Q!=null&&!c.hasOwnProperty(me)&&(me==="selected"?i.selected=!1:tt(i,r,me,null,c,Q));for(L in c)Q=c[L],W=o[L],c.hasOwnProperty(L)&&Q!==W&&(Q!=null||W!=null)&&(L==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":tt(i,r,L,Q,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Q=o[_e],o.hasOwnProperty(_e)&&Q!=null&&!c.hasOwnProperty(_e)&&tt(i,r,_e,null,c,Q);for(Y in c)if(Q=c[Y],W=o[Y],c.hasOwnProperty(Y)&&Q!==W&&(Q!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:tt(i,r,Y,Q,c,W)}return;default:if(eo(r)){for(var nt in o)Q=o[nt],o.hasOwnProperty(nt)&&Q!==void 0&&!c.hasOwnProperty(nt)&&yp(i,r,nt,void 0,c,Q);for(ee in c)Q=c[ee],W=o[ee],!c.hasOwnProperty(ee)||Q===W||Q===void 0&&W===void 0||yp(i,r,ee,Q,c,W);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!c.hasOwnProperty(H)&&tt(i,r,H,null,c,Q);for(ae in c)Q=c[ae],W=o[ae],!c.hasOwnProperty(ae)||Q===W||Q==null&&W==null||tt(i,r,ae,Q,c,W)}function qT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,T=f.initiatorType,x=f.duration;if(p&&x&&qT(T)){for(T=0,x=f.responseEnd,c+=1;c<o.length;c++){var L=o[c],Y=L.startTime;if(Y>x)break;var ee=L.transferSize,ae=L.initiatorType;ee&&qT(ae)&&(L=L.responseEnd,T+=ee*(L<x?1:(x-Y)/(L-Y)))}if(--c,r+=8*(p+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var vp=null,_p=null;function Kh(i){return i.nodeType===9?i:i.ownerDocument}function HT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Tp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bp=null;function d2(){var i=window.event;return i&&i.type==="popstate"?i===bp?!1:(bp=i,!0):(bp=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,m2=typeof clearTimeout=="function"?clearTimeout:void 0,$T=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof $T<"u"?function(i){return $T.resolve(null).then(i).catch(g2)}:KT;function g2(i){setTimeout(function(){throw i})}function yr(i){return i==="head"}function YT(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),Oo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Tc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Tc(o);for(var p=o.firstChild;p;){var T=p.nextSibling,x=p.nodeName;p[Vi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&Tc(i.ownerDocument.body);o=f}while(o);Oo(r)}function QT(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Ep(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ep(o),Wa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function y2(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Vi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function v2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Zn(i.nextSibling),i===null))return null;return i}function XT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Zn(i.nextSibling),i===null))return null;return i}function wp(i){return i.data==="$?"||i.data==="$~"}function xp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function _2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Zn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Sp=null;function WT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Zn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function ZT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function JT(i,r,o){switch(r=Kh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Tc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Wa(i)}var Jn=new Map,eb=new Set;function $h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=le.d;le.d={f:T2,r:b2,D:E2,C:w2,L:x2,m:S2,X:R2,S:A2,M:C2};function T2(){var i=Ss.f(),r=jh();return i||r}function b2(i){var r=Fn(i);r!==null&&r.tag===5&&r.type==="form"?y_(r):Ss.r(i)}var Mo=typeof document>"u"?null:document;function tb(i,r,o){var c=Mo;if(c&&typeof r=="string"&&r){var f=vn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),eb.has(f)||(eb.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),en(r,"link",i),Nt(r),c.head.appendChild(r)))}}function E2(i){Ss.D(i),tb("dns-prefetch",i,null)}function w2(i,r){Ss.C(i,r),tb("preconnect",i,r)}function x2(i,r,o){Ss.L(i,r,o);var c=Mo;if(c&&i&&r){var f='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+vn(o.imageSizes)+'"]')):f+='[href="'+vn(i)+'"]';var p=f;switch(r){case"style":p=ko(i);break;case"script":p=Po(i)}Jn.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Jn.set(p,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(bc(p))||r==="script"&&c.querySelector(Ec(p))||(r=c.createElement("link"),en(r,"link",i),Nt(r),c.head.appendChild(r)))}}function S2(i,r){Ss.m(i,r);var o=Mo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Po(i)}if(!Jn.has(p)&&(i=_({rel:"modulepreload",href:i},r),Jn.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ec(p)))return}c=o.createElement("link"),en(c,"link",i),Nt(c),o.head.appendChild(c)}}}function A2(i,r,o){Ss.S(i,r,o);var c=Mo;if(c&&i){var f=ki(c).hoistableStyles,p=ko(i);r=r||"default";var T=f.get(p);if(!T){var x={loading:0,preload:null};if(T=c.querySelector(bc(p)))x.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Jn.get(p))&&Ap(i,o);var L=T=c.createElement("link");Nt(L),en(L,"link",i),L._p=new Promise(function(Y,ee){L.onload=Y,L.onerror=ee}),L.addEventListener("load",function(){x.loading|=1}),L.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Yh(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:x},f.set(p,T)}}}function R2(i,r){Ss.X(i,r);var o=Mo;if(o&&i){var c=ki(o).hoistableScripts,f=Po(i),p=c.get(f);p||(p=o.querySelector(Ec(f)),p||(i=_({src:i,async:!0},r),(r=Jn.get(f))&&Rp(i,r),p=o.createElement("script"),Nt(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function C2(i,r){Ss.M(i,r);var o=Mo;if(o&&i){var c=ki(o).hoistableScripts,f=Po(i),p=c.get(f);p||(p=o.querySelector(Ec(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=Jn.get(f))&&Rp(i,r),p=o.createElement("script"),Nt(p),en(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function nb(i,r,o,c){var f=(f=we.current)?$h(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ko(o.href),o=ki(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ko(o.href);var p=ki(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(bc(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(i,o),p||I2(f,i,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(o),o=ki(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ko(i){return'href="'+vn(i)+'"'}function bc(i){return'link[rel="stylesheet"]['+i+"]"}function ib(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function I2(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),en(r,"link",o),Nt(r),i.head.appendChild(r))}function Po(i){return'[src="'+vn(i)+'"]'}function Ec(i){return"script[async]"+i}function sb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(c)return r.instance=c,Nt(c),c;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Nt(c),en(c,"style",f),Yh(c,o.precedence,i),r.instance=c;case"stylesheet":f=ko(o.href);var p=i.querySelector(bc(f));if(p)return r.state.loading|=4,r.instance=p,Nt(p),p;c=ib(o),(f=Jn.get(f))&&Ap(c,f),p=(i.ownerDocument||i).createElement("link"),Nt(p);var T=p;return T._p=new Promise(function(x,L){T.onload=x,T.onerror=L}),en(p,"link",c),r.state.loading|=4,Yh(p,o.precedence,i),r.instance=p;case"script":return p=Po(o.src),(f=i.querySelector(Ec(p)))?(r.instance=f,Nt(f),f):(c=o,(f=Jn.get(p))&&(c=_({},o),Rp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),Nt(f),en(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Yh(c,o.precedence,i));return r.instance}function Yh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,T=0;T<c.length;T++){var x=c[T];if(x.dataset.precedence===r)p=x;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Ap(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Rp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Qh=null;function rb(i,r,o){if(Qh===null){var c=new Map,f=Qh=new Map;f.set(o,c)}else f=Qh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Vi]||p[It]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var x=c.get(T);x?x.push(p):c.set(T,[p])}}return c}function ab(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function N2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ob(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function D2(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ko(c.href),p=r.querySelector(bc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Xh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Nt(p);return}p=r.ownerDocument||r,c=ib(c),(f=Jn.get(f))&&Ap(c,f),p=p.createElement("link"),Nt(p);var T=p;T._p=new Promise(function(x,L){T.onload=x,T.onerror=L}),en(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Xh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Cp=0;function V2(i,r){return i.stylesheets&&i.count===0&&Zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Cp===0&&(Cp=62500*f2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Cp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wh=null;function Zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wh=new Map,r.forEach(M2,i),Wh=null,Xh.call(i))}function M2(i,r){if(!(r.state.loading&4)){var o=Wh.get(i);if(o)var c=o.get(null);else{o=new Map,Wh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||c,p===c&&o.set(null,f),o.set(T,f),this.count++,c=Xh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var wc={$$typeof:F,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function k2(i,r,o,c,f,p,T,x,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function lb(i,r,o,c,f,p,T,x,L,Y,ee,ae){return i=new k2(i,r,o,T,L,Y,ee,ae,x),r=1,p===!0&&(r|=24),p=Vn(3,null,null,r),i.current=p,p.stateNode=i,r=om(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},hm(p),i}function cb(i){return i?(i=ho,i):ho}function ub(i,r,o,c,f,p){f=cb(f),c.context===null?c.context=f:c.pendingContext=f,c=ar(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=or(i,c,r),o!==null&&(xn(o,i,r),tc(o,i,r))}function hb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ip(i,r){hb(i,r),(i=i.alternate)&&hb(i,r)}function fb(i){if(i.tag===13||i.tag===31){var r=da(i,67108864);r!==null&&xn(r,i,67108864),Ip(i,67108864)}}function db(i){if(i.tag===13||i.tag===31){var r=Ln();r=ta(r);var o=da(i,r);o!==null&&xn(o,i,r),Ip(i,r)}}var Jh=!0;function P2(i,r,o,c){var f=K.T;K.T=null;var p=le.p;try{le.p=2,Np(i,r,o,c)}finally{le.p=p,K.T=f}}function O2(i,r,o,c){var f=K.T;K.T=null;var p=le.p;try{le.p=8,Np(i,r,o,c)}finally{le.p=p,K.T=f}}function Np(i,r,o,c){if(Jh){var f=Dp(c);if(f===null)gp(i,r,c,ef,o),pb(i,c);else if(j2(f,i,r,o,c))c.stopPropagation();else if(pb(i,c),r&4&&-1<L2.indexOf(i)){for(;f!==null;){var p=Fn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Ci(p.pendingLanes);if(T!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var L=1<<31-bt(T);x.entanglements[1]|=L,T&=~L}$i(p),($e&6)===0&&(Oh=dn()+500,yc(0))}}break;case 31:case 13:x=da(p,2),x!==null&&xn(x,p,2),jh(),Ip(p,2)}if(p=Dp(c),p===null&&gp(i,r,c,ef,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else gp(i,r,c,null,o)}}function Dp(i){return i=qn(i),Vp(i)}var ef=null;function Vp(i){if(ef=null,i=Mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ef=i,null}function mb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case Al:return 2;case Rl:return 8;case Gs:case jd:return 32;case Vu:return 268435456;default:return 32}default:return 32}}var Mp=!1,vr=null,_r=null,Tr=null,xc=new Map,Sc=new Map,br=[],L2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(i,r){switch(i){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":xc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(r.pointerId)}}function Ac(i,r,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Fn(r),r!==null&&fb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function j2(i,r,o,c,f){switch(r){case"focusin":return vr=Ac(vr,i,r,o,c,f),!0;case"dragenter":return _r=Ac(_r,i,r,o,c,f),!0;case"mouseover":return Tr=Ac(Tr,i,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return xc.set(p,Ac(xc.get(p)||null,i,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Sc.set(p,Ac(Sc.get(p)||null,i,r,o,c,f)),!0}return!1}function gb(i){var r=Mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,ui(i.priority,function(){db(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,ui(i.priority,function(){db(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Dp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Ul=c,o.target.dispatchEvent(c),Ul=null}else return r=Fn(o),r!==null&&fb(r),i.blockedOn=o,!1;r.shift()}return!0}function yb(i,r,o){tf(i)&&o.delete(r)}function U2(){Mp=!1,vr!==null&&tf(vr)&&(vr=null),_r!==null&&tf(_r)&&(_r=null),Tr!==null&&tf(Tr)&&(Tr=null),xc.forEach(yb),Sc.forEach(yb)}function nf(i,r){i.blockedOn===r&&(i.blockedOn=null,Mp||(Mp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,U2)))}var sf=null;function vb(i){sf!==i&&(sf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sf===i&&(sf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(Vp(c||o)===null)continue;break}var p=Fn(o);p!==null&&(i.splice(r,3),r-=3,Dm(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Oo(i){function r(L){return nf(L,i)}vr!==null&&nf(vr,i),_r!==null&&nf(_r,i),Tr!==null&&nf(Tr,i),xc.forEach(r),Sc.forEach(r);for(var o=0;o<br.length;o++){var c=br[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<br.length&&(o=br[0],o.blockedOn===null);)gb(o),o.blockedOn===null&&br.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],T=f[Gt]||null;if(typeof p=="function")T||vb(o);else if(T){var x=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Gt]||null)x=T.formAction;else if(Vp(f)!==null)continue}else x=T.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),vb(o)}}}function _b(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function kp(i){this._internalRoot=i}rf.prototype.render=kp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Ln();ub(o,c,i,r,null,null)},rf.prototype.unmount=kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ub(i.current,2,null,i,null,null),jh(),r[Di]=null}};function rf(i){this._internalRoot=i}rf.prototype.unstable_scheduleHydration=function(i){if(i){var r=ju();i={blockedOn:null,target:i,priority:r};for(var o=0;o<br.length&&r!==0&&r<br[o].priority;o++);br.splice(o,0,i),o===0&&gb(i)}};var Tb=e.version;if(Tb!=="19.2.3")throw Error(s(527,Tb,"19.2.3"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var B2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{li=af.inject(B2),Qt=af}catch{}}return Cc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=R_,p=C_,T=I_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=lb(i,1,!1,null,null,o,c,null,f,p,T,_b),i[Di]=r.current,pp(i),new kp(r)},Cc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",p=R_,T=C_,x=I_,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=lb(i,1,!0,r,o??null,c,f,L,p,T,x,_b),r.context=cb(null),o=r.current,c=Ln(),c=ta(c),f=ar(c),f.callback=null,or(o,f,c),o=c,r.current.lanes=o,Jr(r,o),$i(r),i[Di]=r.current,pp(i),new rf(r)},Cc.version="19.2.3",Cc}var Nb;function X2(){if(Nb)return Lp.exports;Nb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=Q2(),Lp.exports}var W2=X2();var Db="popstate";function Z2(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return Eg("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Yc(a)}return eI(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J2(){return Math.random().toString(36).substring(2,10)}function Vb(t,e){return{usr:t.state,key:t.key,idx:e}}function Eg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cl(e):e,state:n,key:e&&e.key||s||J2()}}function Yc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function eI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function _(){d="POP";let D=y(),O=D==null?null:D-g;g=D,m&&m({action:d,location:k.location,delta:O})}function w(D,O){d="PUSH";let U=Eg(k.location,D,O);g=y()+1;let F=Vb(U,g),te=k.createHref(U);try{u.pushState(F,"",te)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(te)}l&&m&&m({action:d,location:k.location,delta:1})}function C(D,O){d="REPLACE";let U=Eg(k.location,D,O);g=y();let F=Vb(U,g),te=k.createHref(U);u.replaceState(F,"",te),l&&m&&m({action:d,location:k.location,delta:0})}function I(D){return tI(D)}let k={get action(){return d},get location(){return t(a,u)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Db,_),m=D,()=>{a.removeEventListener(Db,_),m=null}},createHref(D){return e(a,D)},createURL:I,encodeLocation(D){let O=I(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:C,go(D){return u.go(D)}};return k}function tI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Yc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function V1(t,e,n="/"){return nI(t,e,n,!1)}function nI(t,e,n,s){let a=typeof e=="string"?cl(e):e,l=ks(a.pathname||"/",n);if(l==null)return null;let u=M1(t);iI(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let g=mI(l);d=fI(u[m],g,s)}return d}function M1(t,e=[],n=[],s="",a=!1){let l=(u,d,m=a,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Ds([s,y.relativePath]),w=n.concat(y);u.children&&u.children.length>0&&(dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),M1(u.children,e,w,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:uI(_,u.index),routesMeta:w})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of k1(u.path))l(u,d,!0,m)}),e}function k1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=k1(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function iI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sI=/^:[\w-]+$/,rI=3,aI=2,oI=1,lI=10,cI=-2,Mb=t=>t==="*";function uI(t,e){let n=t.split("/"),s=n.length;return n.some(Mb)&&(s+=cI),e&&(s+=aI),n.filter(a=>!Mb(a)).reduce((a,l)=>a+(sI.test(l)?rI:l===""?oI:lI),s)}function hI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function fI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),w=m.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Ds([l,_.pathname]),pathnameBase:vI(Ds([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Ds([l,_.pathnameBase]))}return u}function Pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=dI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},w)=>{if(y==="*"){let I=d[w]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const C=d[w];return _&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function dI(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function mI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var P1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pI=t=>P1.test(t);function gI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?cl(t):t,l;if(n)if(pI(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=kb(n.substring(1),"/"):l=kb(n,e)}else l=e;return{pathname:l,search:_I(s),hash:TI(a)}}function kb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function zp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function by(t){let e=yI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ey(t,e,n,s=!1){let a;typeof t=="string"?a=cl(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),zp("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),zp("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),zp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let m=gI(a,d),g=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Ds=t=>t.join("/").replace(/\/\/+/g,"/"),vI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,bI=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function EI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function wI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var O1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function L1(t,e){let n=t;if(typeof n!="string"||!P1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(O1)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=ks(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{ri(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j1=["POST","PUT","PATCH","DELETE"];new Set(j1);var xI=["GET",...j1];new Set(xI);var ul=M.createContext(null);ul.displayName="DataRouter";var cd=M.createContext(null);cd.displayName="DataRouterState";var SI=M.createContext(!1),U1=M.createContext({isTransitioning:!1});U1.displayName="ViewTransition";var AI=M.createContext(new Map);AI.displayName="Fetchers";var RI=M.createContext(null);RI.displayName="Await";var Bn=M.createContext(null);Bn.displayName="Navigation";var cu=M.createContext(null);cu.displayName="Location";var Si=M.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var wy=M.createContext(null);wy.displayName="RouteError";var B1="REACT_ROUTER_ERROR",CI="REDIRECT",II="ROUTE_ERROR_RESPONSE";function NI(t){if(t.startsWith(`${B1}:${CI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function DI(t){if(t.startsWith(`${B1}:${II}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new bI(e.status,e.statusText,e.data)}catch{}}function VI(t,{relative:e}={}){dt(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Bn),{hash:a,pathname:l,search:u}=uu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ds([n,l])),s.createHref({pathname:d,search:u,hash:a})}function hl(){return M.useContext(cu)!=null}function qr(){return dt(hl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(cu).location}var z1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F1(t){M.useContext(Bn).static||M.useLayoutEffect(t)}function zs(){let{isDataRoute:t}=M.useContext(Si);return t?GI():MI()}function MI(){dt(hl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(ul),{basename:e,navigator:n}=M.useContext(Bn),{matches:s}=M.useContext(Si),{pathname:a}=qr(),l=JSON.stringify(by(s)),u=M.useRef(!1);return F1(()=>{u.current=!0}),M.useCallback((m,g={})=>{if(ri(u.current,z1),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=Ey(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ds([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,a,t])}M.createContext(null);function ud(){let{matches:t}=M.useContext(Si),e=t[t.length-1];return e?e.params:{}}function uu(t,{relative:e}={}){let{matches:n}=M.useContext(Si),{pathname:s}=qr(),a=JSON.stringify(by(n));return M.useMemo(()=>Ey(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function kI(t,e){return q1(t,e)}function q1(t,e,n,s,a){dt(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(Bn),{matches:u}=M.useContext(Si),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let U=_&&_.path||"";G1(g,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=qr(),C;if(e){let U=typeof e=="string"?cl(e):e;dt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),C=U}else C=w;let I=C.pathname||"/",k=I;if(y!=="/"){let U=y.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=V1(t,{pathname:k});ri(_||D!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ri(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=UI(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:Ds([y,l.encodeLocation?l.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Ds([y,l.encodeLocation?l.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),u,n,s,a);return e&&O?M.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},O):O}function PI(){let t=HI(),e=EI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,u)}var OI=M.createElement(PI,null),H1=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=DI(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(Si.Provider,{value:this.props.routeContext},M.createElement(wy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(LI,{error:t},e):e}};H1.contextType=SI;var Fp=new WeakMap;function LI({children:t,error:e}){let{basename:n}=M.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=NI(e.digest);if(s){let a=Fp.get(e);if(a)throw a;let l=L1(s.location,n);if(O1&&!Fp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Fp.set(e,u),u}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function jI({routeContext:t,match:e,children:n}){let s=M.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Si.Provider,{value:t},n)}function UI(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:w,errors:C}=n,I=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||I){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:wI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,w)=>{let C,I=!1,k=null,D=null;n&&(C=u&&_.route.id?u[_.route.id]:void 0,k=_.route.errorElement||OI,d&&(m<0&&w===0?(G1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):m===w&&(I=!0,D=_.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,w+1)),U=()=>{let F;return C?F=k:I?F=D:_.route.Component?F=M.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=y,M.createElement(jI,{match:_,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?M.createElement(H1,{location:n.location,revalidation:n.revalidation,component:k,error:C,children:U(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:g}):U()},null)}function xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BI(t){let e=M.useContext(ul);return dt(e,xy(t)),e}function zI(t){let e=M.useContext(cd);return dt(e,xy(t)),e}function FI(t){let e=M.useContext(Si);return dt(e,xy(t)),e}function Sy(t){let e=FI(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qI(){return Sy("useRouteId")}function HI(){let t=M.useContext(wy),e=zI("useRouteError"),n=Sy("useRouteError");return t!==void 0?t:e.errors?.[n]}function GI(){let{router:t}=BI("useNavigate"),e=Sy("useNavigate"),n=M.useRef(!1);return F1(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{ri(n.current,z1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Pb={};function G1(t,e,n){!e&&!Pb[t]&&(Pb[t]=!0,ri(!1,n))}M.memo(KI);function KI({routes:t,future:e,state:n,onError:s}){return q1(t,void 0,n,s,e)}function K1({to:t,replace:e,state:n,relative:s}){dt(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(Bn);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(Si),{pathname:u}=qr(),d=zs(),m=Ey(t,by(l),u,s==="path"),g=JSON.stringify(m);return M.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function As(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $I({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){dt(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=cl(n));let{pathname:g="/",search:y="",hash:_="",state:w=null,key:C="default"}=n,I=M.useMemo(()=>{let k=ks(g,d);return k==null?null:{location:{pathname:k,search:y,hash:_,state:w,key:C},navigationType:s}},[d,g,y,_,w,C,s]);return ri(I!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:M.createElement(Bn.Provider,{value:m},M.createElement(cu.Provider,{children:e,value:I}))}function YI({children:t,location:e}){return kI(wg(t),e)}function wg(t,e=[]){let n=[];return M.Children.forEach(t,(s,a)=>{if(!M.isValidElement(s))return;let l=[...e,a];if(s.type===M.Fragment){n.push.apply(n,wg(s.props.children,l));return}dt(s.type===As,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=wg(s.props.children,l)),n.push(u)}),n}var _f="get",Tf="application/x-www-form-urlencoded";function hd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function QI(t){return hd(t)&&t.tagName.toLowerCase()==="button"}function XI(t){return hd(t)&&t.tagName.toLowerCase()==="form"}function WI(t){return hd(t)&&t.tagName.toLowerCase()==="input"}function ZI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JI(t,e){return t.button===0&&(!e||e==="_self")&&!ZI(t)}var of=null;function eN(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var tN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qp(t){return t!=null&&!tN.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):t}function nN(t,e){let n,s,a,l,u;if(XI(t)){let d=t.getAttribute("action");s=d?ks(d,e):null,n=t.getAttribute("method")||_f,a=qp(t.getAttribute("enctype"))||Tf,l=new FormData(t)}else if(QI(t)||WI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?ks(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||_f,a=qp(t.getAttribute("formenctype"))||qp(d.getAttribute("enctype"))||Tf,l=new FormData(d,t),!eN()){let{name:g,type:y,value:_}=t;if(y==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,_)}}else{if(hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,s=null,a=Tf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ay(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iN(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function sN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await sN(l,n);return u.links?u.links():[]}return[]}));return uN(s.flat(1).filter(rN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ob(t,e,n,s,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>u(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function oN(t,e,{includeHydrateFallback:n}={}){return lN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function lN(t){return[...new Set(t)]}function cN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(cN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function $1(){let t=M.useContext(ul);return Ay(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hN(){let t=M.useContext(cd);return Ay(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ry=M.createContext(void 0);Ry.displayName="FrameworkContext";function Y1(){let t=M.useContext(Ry);return Ay(t,"You must render this element inside a <HydratedRouter> element"),t}function fN(t,e){let n=M.useContext(Ry),[s,a]=M.useState(!1),[l,u]=M.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=e,w=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=O=>{O.forEach(U=>{u(U.isIntersecting)})},D=new IntersectionObserver(k,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[t]),M.useEffect(()=>{if(s){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[s]);let C=()=>{a(!0)},I=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Ic(d,C),onBlur:Ic(m,I),onMouseEnter:Ic(g,C),onMouseLeave:Ic(y,I),onTouchStart:Ic(_,C)}]:[!1,w,{}]}function Ic(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dN({page:t,...e}){let{router:n}=$1(),s=M.useMemo(()=>V1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?M.createElement(pN,{page:t,matches:s,...e}):null}function mN(t){let{manifest:e,routeModules:n}=Y1(),[s,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return aN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function pN({page:t,matches:e,...n}){let s=qr(),{manifest:a,routeModules:l}=Y1(),{basename:u}=$1(),{loaderData:d,matches:m}=hN(),g=M.useMemo(()=>Ob(t,e,m,a,s,"data"),[t,e,m,a,s]),y=M.useMemo(()=>Ob(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=M.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let I=new Set,k=!1;if(e.forEach(O=>{let U=a.routes[O.route.id];!U||!U.hasLoader||(!g.some(F=>F.route.id===O.route.id)&&O.route.id in d&&l[O.route.id]?.shouldRevalidate||U.hasClientLoader?k=!0:I.add(O.route.id))}),I.size===0)return[];let D=iN(t,u,"data");return k&&I.size>0&&D.searchParams.set("_routes",e.filter(O=>I.has(O.route.id)).map(O=>O.route.id).join(",")),[D.pathname+D.search]},[u,d,s,a,g,e,t,l]),w=M.useMemo(()=>oN(y,a),[y,a]),C=mN(y);return M.createElement(M.Fragment,null,_.map(I=>M.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>M.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),C.map(({key:I,link:k})=>M.createElement("link",{key:I,nonce:n.nonce,...k})))}function gN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yN&&(window.__reactRouterVersion="7.11.0")}catch{}function vN({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=M.useRef();a.current==null&&(a.current=Z2({window:s,v5Compat:!0}));let l=a.current,[u,d]=M.useState({action:l.action,location:l.location}),m=M.useCallback(g=>{n===!1?d(g):M.startTransition(()=>d(g))},[n]);return M.useLayoutEffect(()=>l.listen(m),[l,m]),M.createElement($I,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X1=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:w,...C},I){let{basename:k,unstable_useTransitions:D}=M.useContext(Bn),O=typeof g=="string"&&Q1.test(g),U=L1(g,k);g=U.to;let F=VI(g,{relative:a}),[te,Z,se]=fN(s,C),R=EN(g,{replace:u,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:D});function S(j){e&&e(j),j.defaultPrevented||R(j)}let N=M.createElement("a",{...C,...se,href:U.absoluteURL||F,onClick:U.isExternal||l?e:S,ref:gN(I,Z),target:m,"data-discover":!O&&n==="render"?"true":void 0});return te&&!O?M.createElement(M.Fragment,null,N,M.createElement(dN,{page:F})):N});X1.displayName="Link";var _N=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...g},y){let _=uu(u,{relative:g.relative}),w=qr(),C=M.useContext(cd),{navigator:I,basename:k}=M.useContext(Bn),D=C!=null&&RN(_)&&d===!0,O=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,U=w.pathname,F=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(U=U.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&k&&(F=ks(F,k)||F);const te=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Z=U===O||!a&&U.startsWith(O)&&U.charAt(te)==="/",se=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),R={isActive:Z,isPending:se,isTransitioning:D},S=Z?e:void 0,N;typeof s=="function"?N=s(R):N=[s,Z?"active":null,se?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(R):l;return M.createElement(X1,{...g,"aria-current":S,className:N,ref:y,style:j,to:u,viewTransition:d},typeof m=="function"?m(R):m)});_N.displayName="NavLink";var TN=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=_f,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:w,...C},I)=>{let{unstable_useTransitions:k}=M.useContext(Bn),D=SN(),O=AN(d,{relative:g}),U=u.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&Q1.test(d),te=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let se=Z.nativeEvent.submitter,R=se?.getAttribute("formmethod")||u,S=()=>D(se||Z.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:w});k&&n!==!1?M.startTransition(()=>S()):S()};return M.createElement("form",{ref:I,method:U,action:O,onSubmit:s?m:te,...C,"data-discover":!F&&t==="render"?"true":void 0})});TN.displayName="Form";function bN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(t){let e=M.useContext(ul);return dt(e,bN(t)),e}function EN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=zs(),y=qr(),_=uu(t,{relative:l});return M.useCallback(w=>{if(JI(w,e)){w.preventDefault();let C=n!==void 0?n:Yc(y)===Yc(_),I=()=>g(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?M.startTransition(()=>I()):I()}},[y,g,_,n,s,e,t,a,l,u,d,m])}var wN=0,xN=()=>`__${String(++wN)}__`;function SN(){let{router:t}=W1("useSubmit"),{basename:e}=M.useContext(Bn),n=qI(),s=t.fetch,a=t.navigate;return M.useCallback(async(l,u={})=>{let{action:d,method:m,encType:g,formData:y,body:_}=nN(l,e);if(u.navigate===!1){let w=u.fetcherKey||xN();await s(w,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function AN(t,{relative:e}={}){let{basename:n}=M.useContext(Bn),s=M.useContext(Si);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...uu(t||".",{relative:e})},u=qr();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ds([n,l.pathname])),Yc(l)}function RN(t,{relative:e}={}){let n=M.useContext(U1);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=W1("useViewTransitionState"),a=uu(t,{relative:e});if(!n.isTransitioning)return!1;let l=ks(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=ks(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pf(a.pathname,u)!=null||Pf(a.pathname,l)!=null}const CN=()=>{};var Lb={};const Z1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},IN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},J1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,C=g&63;m||(C=64,u||(w=64)),s.push(n[y],n[_],n[w],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new NN;const w=l<<2|d>>4;if(s.push(w),g!==64){const C=d<<4&240|g>>2;if(s.push(C),_!==64){const I=g<<6&192|_;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DN=function(t){const e=Z1(t);return J1.encodeByteArray(e,!0)},Of=function(t){return DN(t).replace(/\./g,"")},ex=function(t){try{return J1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MN=()=>VN().__FIREBASE_DEFAULTS__,kN=()=>{if(typeof process>"u"||typeof Lb>"u")return;const t=Lb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ex(t[1]);return e&&JSON.parse(e)},fd=()=>{try{return CN()||MN()||kN()||PN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tx=t=>fd()?.emulatorHosts?.[t],ON=t=>{const e=tx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},nx=()=>fd()?.config,ix=t=>fd()?.[`_${t}`];class LN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sx(t){return(await fetch(t,{credentials:"include"})).ok}function jN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Of(JSON.stringify(n)),Of(JSON.stringify(u)),""].join(".")}const jc={};function UN(){const t={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?t.emulator.push(e):t.prod.push(e);return t}function BN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jb=!1;function rx(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||jc[t]===e||jc[t]||jb)return;jc[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=UN().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{jb=!0,u()},w}function y(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=BN(s),C=n("text"),I=document.getElementById(C)||document.createElement("span"),k=n("learnmore"),D=document.getElementById(k)||document.createElement("a"),O=n("preprendIcon"),U=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;d(F),y(D,k);const te=g();m(U,O),F.append(U,I,D,te),document.body.appendChild(F)}l?(I.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function FN(){const t=fd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KN(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $N(){return!FN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YN(){try{return typeof indexedDB=="object"}catch{return!1}}function QN(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const XN="FirebaseError";class Fs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=XN,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?WN(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Fs(a,d,s)}}function WN(t,e){return t.replace(ZN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const ZN=/\{\$([^}]+)}/g;function JN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ja(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Ub(l)&&Ub(u)){if(!ja(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ub(t){return t!==null&&typeof t=="object"}function fu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eD(t,e){const n=new tD(t,e);return n.subscribe.bind(n)}class tD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Hp),a.error===void 0&&(a.error=Hp),a.complete===void 0&&(a.complete=Hp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}function _t(t){return t&&t._delegate?t._delegate:t}class Ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ra="[DEFAULT]";class iD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new LN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rD(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sD(t){return t===Ra?void 0:t}function rD(t){return t.instantiationMode==="EAGER"}class aD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const oD={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},lD=Le.INFO,cD={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},uD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=cD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=lD,this._logHandler=uD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const hD=(t,e)=>e.some(n=>t instanceof n);let Bb,zb;function fD(){return Bb||(Bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dD(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ax=new WeakMap,xg=new WeakMap,ox=new WeakMap,Gp=new WeakMap,Iy=new WeakMap;function mD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ir(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ax.set(n,t)}).catch(()=>{}),Iy.set(e,t),e}function pD(t){if(xg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});xg.set(t,e)}let Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ox.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gD(t){Sg=t(Sg)}function yD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Kp(this),e,...n);return ox.set(s,e.sort?e.sort():[e]),Ir(s)}:dD().includes(t)?function(...e){return t.apply(Kp(this),e),Ir(ax.get(this))}:function(...e){return Ir(t.apply(Kp(this),e))}}function vD(t){return typeof t=="function"?yD(t):(t instanceof IDBTransaction&&pD(t),hD(t,fD())?new Proxy(t,Sg):t)}function Ir(t){if(t instanceof IDBRequest)return mD(t);if(Gp.has(t))return Gp.get(t);const e=vD(t);return e!==t&&(Gp.set(t,e),Iy.set(e,t)),e}const Kp=t=>Iy.get(t);function _D(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Ir(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Ir(u.result),m.oldVersion,m.newVersion,Ir(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const TD=["get","getKey","getAll","getAllKeys","count"],bD=["put","add","delete","clear"],$p=new Map;function Fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($p.get(e))return $p.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=bD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||TD.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return $p.set(e,l),l}gD(t=>({...t,get:(e,n,s)=>Fb(e,n)||t.get(e,n,s),has:(e,n)=>!!Fb(e,n)||t.has(e,n)}));class ED{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wD(t){return t.getComponent()?.type==="VERSION"}const Ag="@firebase/app",qb="0.14.6";const Ps=new Cy("@firebase/app"),xD="@firebase/app-compat",SD="@firebase/analytics-compat",AD="@firebase/analytics",RD="@firebase/app-check-compat",CD="@firebase/app-check",ID="@firebase/auth",ND="@firebase/auth-compat",DD="@firebase/database",VD="@firebase/data-connect",MD="@firebase/database-compat",kD="@firebase/functions",PD="@firebase/functions-compat",OD="@firebase/installations",LD="@firebase/installations-compat",jD="@firebase/messaging",UD="@firebase/messaging-compat",BD="@firebase/performance",zD="@firebase/performance-compat",FD="@firebase/remote-config",qD="@firebase/remote-config-compat",HD="@firebase/storage",GD="@firebase/storage-compat",KD="@firebase/firestore",$D="@firebase/ai",YD="@firebase/firestore-compat",QD="firebase",XD="12.6.0";const Rg="[DEFAULT]",WD={[Ag]:"fire-core",[xD]:"fire-core-compat",[AD]:"fire-analytics",[SD]:"fire-analytics-compat",[CD]:"fire-app-check",[RD]:"fire-app-check-compat",[ID]:"fire-auth",[ND]:"fire-auth-compat",[DD]:"fire-rtdb",[VD]:"fire-data-connect",[MD]:"fire-rtdb-compat",[kD]:"fire-fn",[PD]:"fire-fn-compat",[OD]:"fire-iid",[LD]:"fire-iid-compat",[jD]:"fire-fcm",[UD]:"fire-fcm-compat",[BD]:"fire-perf",[zD]:"fire-perf-compat",[FD]:"fire-rc",[qD]:"fire-rc-compat",[HD]:"fire-gcs",[GD]:"fire-gcs-compat",[KD]:"fire-fst",[YD]:"fire-fst-compat",[$D]:"fire-vertex","fire-js":"fire-js",[QD]:"fire-js-all"};const Lf=new Map,ZD=new Map,Cg=new Map;function Hb(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jo(t){const e=t.name;if(Cg.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,t);for(const n of Lf.values())Hb(n,t);for(const n of ZD.values())Hb(n,t);return!0}function Ny(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}const JD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new hu("app","Firebase",JD);class eV{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const dl=XD;function lx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Rg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Nr.create("bad-app-name",{appName:String(a)});if(n||(n=nx()),!n)throw Nr.create("no-options");const l=Lf.get(a);if(l){if(ja(n,l.options)&&ja(s,l.config))return l;throw Nr.create("duplicate-app",{appName:a})}const u=new aD(a);for(const m of Cg.values())u.addComponent(m);const d=new eV(n,s,u);return Lf.set(a,d),d}function cx(t=Rg){const e=Lf.get(t);if(!e&&t===Rg&&nx())return lx();if(!e)throw Nr.create("no-app",{appName:t});return e}function Dr(t,e,n){let s=WD[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(u.join(" "));return}Jo(new Ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const tV="firebase-heartbeat-database",nV=1,Qc="firebase-heartbeat-store";let Yp=null;function ux(){return Yp||(Yp=_D(tV,nV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),Yp}async function iV(t){try{const n=(await ux()).transaction(Qc),s=await n.objectStore(Qc).get(hx(t));return await n.done,s}catch(e){if(e instanceof Fs)Ps.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e?.message});Ps.warn(n.message)}}}async function Gb(t,e){try{const s=(await ux()).transaction(Qc,"readwrite");await s.objectStore(Qc).put(e,hx(t)),await s.done}catch(n){if(n instanceof Fs)Ps.warn(n.message);else{const s=Nr.create("idb-set",{originalErrorMessage:n?.message});Ps.warn(s.message)}}}function hx(t){return`${t.name}!${t.options.appId}`}const sV=1024,rV=30;class aV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lV(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rV){const a=cV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kb(),{heartbeatsToSend:n,unsentEntries:s}=oV(this._heartbeatsCache.heartbeats),a=Of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ps.warn(e),""}}}function Kb(){return new Date().toISOString().substring(0,10)}function oV(t,e=sV){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),$b(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),$b(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YN()?QN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $b(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}function cV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function uV(t){Jo(new Ua("platform-logger",e=>new ED(e),"PRIVATE")),Jo(new Ua("heartbeat",e=>new aV(e),"PRIVATE")),Dr(Ag,qb,t),Dr(Ag,qb,"esm2020"),Dr("fire-js","")}uV("");function fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hV=fx,dx=new hu("auth","Firebase",fx());const jf=new Cy("@firebase/auth");function fV(t,...e){jf.logLevel<=Le.WARN&&jf.warn(`Auth (${dl}): ${t}`,...e)}function bf(t,...e){jf.logLevel<=Le.ERROR&&jf.error(`Auth (${dl}): ${t}`,...e)}function ai(t,...e){throw Vy(t,...e)}function wi(t,...e){return Vy(t,...e)}function Dy(t,e,n){const s={...hV(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:t.name})}function Vs(t){return Dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dV(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ai(t,"argument-error"),Dy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return dx.create(t,...e)}function Te(t,e,...n){if(!t)throw Vy(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bf(e),new Error(e)}function Os(t,e){t||Cs(e)}function Ig(){return typeof self<"u"&&self.location?.href||""}function mV(){return Yb()==="http:"||Yb()==="https:"}function Yb(){return typeof self<"u"&&self.location?.protocol||null}function pV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mV()||HN()||"connection"in navigator)?navigator.onLine:!0}function gV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=zN()||GN()}get(){return pV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function My(t,e){Os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_V=new du(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function rs(t,e,n,s,a={}){return px(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=fu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return qN()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(g.credentials="include"),mx.fetch()(await gx(t,t.config.apiHost,n,d),g)})}async function px(t,e,n){t._canInitEmulator=!1;const s={...yV,...e};try{const a=new bV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw lf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw lf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw lf(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dy(t,y,g);ai(t,y)}}catch(a){if(a instanceof Fs)throw a;ai(t,"network-request-failed",{message:String(a)})}}async function mu(t,e,n,s,a={}){const l=await rs(t,e,n,s,a);return"mfaPendingCredential"in l&&ai(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function gx(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?My(t.config,a):`${t.config.apiScheme}://${a}`;return vV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function TV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(wi(this.auth,"network-request-failed")),_V.get())})}}function lf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=wi(t,e,s);return a.customData._tokenResponse=n,a}function Qb(t){return t!==void 0&&t.enterprise!==void 0}class EV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wV(t,e){return rs(t,"GET","/v2/recaptchaConfig",qs(t,e))}async function xV(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function Uf(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SV(t,e=!1){const n=_t(t),s=await n.getIdToken(e),a=ky(s);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Uc(Qp(a.auth_time)),issuedAtTime:Uc(Qp(a.iat)),expirationTime:Uc(Qp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Qp(t){return Number(t)*1e3}function ky(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const a=ex(n);return a?JSON.parse(a):(bf("Failed to decode base64 JWT payload"),null)}catch(a){return bf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Xb(t){const e=ky(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function el(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Fs&&AV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function AV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class RV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bf(t){const e=t.auth,n=await t.getIdToken(),s=await el(t,Uf(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?yx(a.providerUserInfo):[],u=IV(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ng(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function CV(t){const e=_t(t);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function yx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function NV(t,e){const n=await px(t,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await gx(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&fl(t.emulatorConfig.host)&&(m.credentials="include"),mx.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DV(t,e){return rs(t,"POST","/v2/accounts:revokeToken",qs(t,e))}class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Xb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await NV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new $o;return s&&(Te(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Te(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function wr(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new RV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ng(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await el(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SV(this,e)}reload(){return CV(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await el(this,xV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:C,providerData:I,stsTokenManager:k}=n;Te(_&&k,e,"internal-error");const D=$o.fromJSON(this.name,k);Te(typeof _=="string",e,"internal-error"),wr(s,e.name),wr(a,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof C=="boolean",e,"internal-error"),wr(l,e.name),wr(u,e.name),wr(d,e.name),wr(m,e.name),wr(g,e.name),wr(y,e.name);const O=new Ei({uid:_,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:D,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(O.providerData=I.map(U=>({...U}))),m&&(O._redirectEventId=m),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new $o;a.updateFromServerResponse(n);const l=new Ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Bf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?yx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new $o;d.updateFromIdToken(s);const m=new Ei({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ng(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const Wb=new Map;function Is(t){Os(t instanceof Function,"Expected a class definition");let e=Wb.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wb.set(t,e),e)}class vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vx.type="NONE";const Zb=vx;function Ef(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Ef(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ef("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uf(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yo(Is(Zb),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Is(Zb);const u=Ef(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(u);if(y){let _;if(typeof y=="string"){const w=await Uf(e,{idToken:y}).catch(()=>{});if(!w)break;_=await Ei._fromGetAccountInfoResponse(e,w,y)}else _=Ei._fromJSON(e,y);g!==l&&(d=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Yo(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Yo(l,e,s))}}function Jb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_x(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xx(e))return"Blackberry";if(Sx(e))return"Webos";if(Tx(e))return"Safari";if((e.includes("chrome/")||bx(e))&&!e.includes("edge/"))return"Chrome";if(wx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function _x(t=fn()){return/firefox\//i.test(t)}function Tx(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bx(t=fn()){return/crios\//i.test(t)}function Ex(t=fn()){return/iemobile/i.test(t)}function wx(t=fn()){return/android/i.test(t)}function xx(t=fn()){return/blackberry/i.test(t)}function Sx(t=fn()){return/webos/i.test(t)}function Py(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VV(t=fn()){return Py(t)&&!!window.navigator?.standalone}function MV(){return KN()&&document.documentMode===10}function Ax(t=fn()){return Py(t)||wx(t)||Sx(t)||xx(t)||/windows phone/i.test(t)||Ex(t)}function Rx(t,e=[]){let n;switch(t){case"Browser":n=Jb(fn());break;case"Worker":n=`${Jb(fn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${s}`}class kV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function PV(t,e={}){return rs(t,"GET","/v2/passwordPolicy",qs(t,e))}const OV=6;class LV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class jV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new kV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uf(this,{idToken:e}),s=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Vs(this));const n=e?_t(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PV(this),n=new LV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Is(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hr(t){return _t(t)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eD(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UV(t){dd=t}function Cx(t){return dd.loadJS(t)}function BV(){return dd.recaptchaEnterpriseScript}function zV(){return dd.gapiScript}function FV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qV{constructor(){this.enterprise=new HV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GV="recaptcha-enterprise",Ix="NO_RECAPTCHA";class KV{constructor(e){this.type=GV,this.auth=Hr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{wV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new EV(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;Qb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(Ix)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qV().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&Qb(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=BV();m.length!==0&&(m+=d),Cx(m).then(()=>{a(d,l,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function tE(t,e,n,s=!1,a=!1){const l=new KV(t);let u;if(a)u=Ix;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Dg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await tE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await tE(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function $V(t,e){const n=Ny(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ja(l,e??{}))return a;ai(a,"already-initialized")}return n.initialize({options:e})}function YV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function QV(t,e,n){const s=Hr(t);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Nx(e),{host:u,port:d}=XV(e),m=d===null?"":`:${d}`,g={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ja(g,s.config.emulator)&&ja(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,fl(u)?(sx(`${l}//${u}${m}`),rx("Auth",!0)):WV()}function Nx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XV(t){const e=Nx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:nE(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:nE(u)}}}function nE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function ZV(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}async function JV(t,e){return mu(t,"POST","/v1/accounts:signInWithPassword",qs(t,e))}async function eM(t,e){return rs(t,"POST","/v1/accounts:sendOobCode",qs(t,e))}async function tM(t,e){return eM(t,e)}async function nM(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}async function iM(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}class Xc extends Oy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Xc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Xc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dg(e,n,"signInWithPassword",JV);case"emailLink":return nM(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dg(e,s,"signUpPassword",ZV);case"emailLink":return iM(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qo(t,e){return mu(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}const sM="http://localhost";class Ba extends Oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Ba(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:sM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function rM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aM(t){const e=Dc(Vc(t)).link,n=e?Dc(Vc(e)).deep_link_id:null,s=Dc(Vc(t)).deep_link_id;return(s?Dc(Vc(s)).link:null)||s||n||e||t}class Ly{constructor(e){const n=Dc(Vc(e)),s=n.apiKey??null,a=n.oobCode??null,l=rM(n.mode??null);Te(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aM(e);try{return new Ly(n)}catch{return null}}}class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return Xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ly.parseLink(n);return Te(s,"argument-error"),Xc._fromEmailAndCode(e,s.code,s.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends jy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sr extends pu{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";class Rs extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ba._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Rs.credential(n,s)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";class Ar extends pu{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";class Rr extends pu{constructor(){super("twitter.com")}static credential(e,n){return Ba._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";async function oM(t,e){return mu(t,"POST","/v1/accounts:signUp",qs(t,e))}class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ei._fromIdTokenResponse(e,s,a),u=iE(s);return new za({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=iE(s);return new za({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function iE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class zf extends Fs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new zf(e,n,s,a)}}function Dx(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(t,l,e,s):l})}async function lM(t,e,n=!1){const s=await el(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return za._forOperation(t,"link",s)}async function cM(t,e,n=!1){const{auth:s}=t;if(jn(s.app))return Promise.reject(Vs(s));const a="reauthenticate";try{const l=await el(t,Dx(s,a,e,t),n);Te(l.idToken,s,"internal-error");const u=ky(l.idToken);Te(u,s,"internal-error");const{sub:d}=u;return Te(t.uid===d,s,"user-mismatch"),za._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),l}}async function Vx(t,e,n=!1){if(jn(t.app))return Promise.reject(Vs(t));const s="signIn",a=await Dx(t,s,e),l=await za._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function uM(t,e){return Vx(Hr(t),e)}async function Mx(t){const e=Hr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hM(t,e,n){if(jn(t.app))return Promise.reject(Vs(t));const s=Hr(t),u=await Dg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Mx(t),m}),d=await za._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function fM(t,e,n){return jn(t.app)?Promise.reject(Vs(t)):uM(_t(t),ml.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Mx(t),s})}async function kx(t,e){const n=_t(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await tM(n.auth,a);l!==t.email&&await t.reload()}async function dM(t,e){return rs(t,"POST","/v1/accounts:update",e)}async function mM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=_t(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await el(s,dM(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function pM(t,e,n,s){return _t(t).onIdTokenChanged(e,n,s)}function gM(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function yM(t,e,n,s){return _t(t).onAuthStateChanged(e,n,s)}function vM(t){return _t(t).signOut()}const Ff="__sak";class Px{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _M=1e3,TM=10;class Ox extends Px{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ax(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);MV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ox.type="LOCAL";const bM=Ox;class Lx extends Px{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lx.type="SESSION";const jx=Lx;function EM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new md(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async g=>g(n.origin,l)),m=await EM(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];function Uy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class wM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const g=Uy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Wi(){return window}function xM(t){Wi().location.href=t}function Ux(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function SM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AM(){return navigator?.serviceWorker?.controller||null}function RM(){return Ux()?self:null}const Bx="firebaseLocalStorageDb",CM=1,qf="firebaseLocalStorage",zx="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function IM(){const t=indexedDB.deleteDatabase(Bx);return new gu(t).toPromise()}function Vg(){const t=indexedDB.open(Bx,CM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(qf,{keyPath:zx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(qf)?e(s):(s.close(),await IM(),e(await Vg()))})})}async function sE(t,e,n){const s=pd(t,!0).put({[zx]:e,value:n});return new gu(s).toPromise()}async function NM(t,e){const n=pd(t,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function rE(t,e){const n=pd(t,!0).delete(e);return new gu(n).toPromise()}const DM=800,VM=3;class Fx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>VM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ux()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(RM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SM(),!this.activeServiceWorker)return;this.sender=new wM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await sE(e,Ff,"1"),await rE(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=pd(a,!1).getAll();return new gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fx.type="LOCAL";const MM=Fx;new du(3e4,6e4);function qx(t,e){return e?Is(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class By extends Oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kM(t){return Vx(t.auth,new By(t),t.bypassAuthState)}function PM(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),cM(n,new By(t),t.bypassAuthState)}async function OM(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),lM(n,new By(t),t.bypassAuthState)}class Hx{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kM;case"linkViaPopup":case"linkViaRedirect":return OM;case"reauthViaPopup":case"reauthViaRedirect":return PM;default:ai(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LM=new du(2e3,1e4);async function jM(t,e,n){if(jn(t.app))return Promise.reject(wi(t,"operation-not-supported-in-this-environment"));const s=Hr(t);dV(t,e,jy);const a=qx(s,n);return new Ia(s,"signInViaPopup",e,a).executeNotNull()}class Ia extends Hx{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LM.get())};e()}}Ia.currentPopupAction=null;const UM="pendingRedirect",wf=new Map;class BM extends Hx{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wf.get(this.auth._key());if(!e){try{const s=await zM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wf.set(this.auth._key(),e)}return this.bypassAuthState||wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zM(t,e){const n=HM(e),s=qM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function FM(t,e){wf.set(t._key(),e)}function qM(t){return Is(t._redirectPersistence)}function HM(t){return Ef(UM,t.config.apiKey,t.name)}async function GM(t,e,n=!1){if(jn(t.app))return Promise.reject(Vs(t));const s=Hr(t),a=qx(s,e),u=await new BM(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const KM=600*1e3;class $M{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Gx(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(wi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KM&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(e))}saveEventToCache(e){this.cachedEventUids.add(aE(e)),this.lastProcessedEventTime=Date.now()}}function aE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gx(t);default:return!1}}async function QM(t,e={}){return rs(t,"GET","/v1/projects",e)}const XM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WM=/^https?/;async function ZM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QM(t);for(const n of e)try{if(JM(n))return}catch{}ai(t,"unauthorized-domain")}function JM(t){const e=Ig(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!WM.test(n))return!1;if(XM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const e4=new du(3e4,6e4);function oE(){const t=Wi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t4(t){return new Promise((e,n)=>{function s(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(wi(t,"network-request-failed"))},timeout:e4.get()})}if(Wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wi().gapi?.load)s();else{const a=FV("iframefcb");return Wi()[a]=()=>{gapi.load?s():n(wi(t,"network-request-failed"))},Cx(`${zV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xf=null,e})}let xf=null;function n4(t){return xf=xf||t4(t),xf}const i4=new du(5e3,15e3),s4="__/auth/iframe",r4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l4(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?My(e,r4):`https://${t.config.authDomain}/${s4}`,s={apiKey:e.apiKey,appName:t.name,v:dl},a=o4.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${fu(s).slice(1)}`}async function c4(t){const e=await n4(t),n=Wi().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:l4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=wi(t,"network-request-failed"),d=Wi().setTimeout(()=>{l(u)},i4.get());function m(){Wi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const u4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h4=500,f4=600,d4="_blank",m4="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p4(t,e,n,s=h4,a=f4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...u4,width:s.toString(),height:a.toString(),top:l,left:u},g=fn().toLowerCase();n&&(d=bx(g)?d4:n),_x(g)&&(e=e||m4,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[C,I])=>`${w}${C}=${I},`,"");if(VV(g)&&d!=="_self")return g4(e||"",d),new lE(null);const _=window.open(e||"",d,y);Te(_,t,"popup-blocked");try{_.focus()}catch{}return new lE(_)}function g4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const y4="__/auth/handler",v4="emulator/auth/handler",_4=encodeURIComponent("fac");async function cE(t,e,n,s,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:dl,eventId:a};if(e instanceof jy){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",JN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof pu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),g=m?`#${_4}=${encodeURIComponent(m)}`:"";return`${T4(t)}?${fu(d).slice(1)}${g}`}function T4({config:t}){return t.emulator?My(t,v4):`https://${t.authDomain}/${y4}`}const Xp="webStorageSupport";class b4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jx,this._completeRedirectFn=GM,this._overrideRedirectResult=FM}async _openPopup(e,n,s,a){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await cE(e,n,s,Ig(),a);return p4(e,l,Uy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await cE(e,n,s,Ig(),a);return xM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await c4(e),s=new $M(e);return n.register("authEvent",a=>(Te(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},a=>{const l=a?.[0]?.[Xp];l!==void 0&&n(!!l),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ax()||Tx()||Py()}}const E4=b4;var uE="@firebase/auth",hE="1.12.0";class w4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function x4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S4(t){Jo(new Ua("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rx(t)},g=new jV(s,a,l,m);return YV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ua("auth-internal",e=>{const n=Hr(e.getProvider("auth").getImmediate());return(s=>new w4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(uE,hE,x4(t)),Dr(uE,hE,"esm2020")}const A4=300,R4=ix("authIdTokenMaxAge")||A4;let fE=null;const C4=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>R4)return;const a=n?.token;fE!==a&&(fE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function I4(t=cx()){const e=Ny(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$V(t,{popupRedirectResolver:E4,persistence:[MM,bM,jx]}),s=ix("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=C4(l.toString());gM(n,u,()=>u(n.currentUser)),pM(n,d=>u(d))}}const a=tx("auth");return a&&QV(n,`http://${a}`),n}function N4(){return document.getElementsByTagName("head")?.[0]??document}UV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=wi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",N4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S4("Browser");var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vr,Kx;(function(){var t;function e(R,S){function N(){}N.prototype=S.prototype,R.F=S.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(j,P,q){for(var V=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)V[ze-2]=arguments[ze];return S.prototype[P].apply(j,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,N){N||(N=0);const j=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)j[P]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(P=0;P<16;++P)j[P]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=R.g[0],N=R.g[1],P=R.g[2];let q=R.g[3],V;V=S+(q^N&(P^q))+j[0]+3614090360&4294967295,S=N+(V<<7&4294967295|V>>>25),V=q+(P^S&(N^P))+j[1]+3905402710&4294967295,q=S+(V<<12&4294967295|V>>>20),V=P+(N^q&(S^N))+j[2]+606105819&4294967295,P=q+(V<<17&4294967295|V>>>15),V=N+(S^P&(q^S))+j[3]+3250441966&4294967295,N=P+(V<<22&4294967295|V>>>10),V=S+(q^N&(P^q))+j[4]+4118548399&4294967295,S=N+(V<<7&4294967295|V>>>25),V=q+(P^S&(N^P))+j[5]+1200080426&4294967295,q=S+(V<<12&4294967295|V>>>20),V=P+(N^q&(S^N))+j[6]+2821735955&4294967295,P=q+(V<<17&4294967295|V>>>15),V=N+(S^P&(q^S))+j[7]+4249261313&4294967295,N=P+(V<<22&4294967295|V>>>10),V=S+(q^N&(P^q))+j[8]+1770035416&4294967295,S=N+(V<<7&4294967295|V>>>25),V=q+(P^S&(N^P))+j[9]+2336552879&4294967295,q=S+(V<<12&4294967295|V>>>20),V=P+(N^q&(S^N))+j[10]+4294925233&4294967295,P=q+(V<<17&4294967295|V>>>15),V=N+(S^P&(q^S))+j[11]+2304563134&4294967295,N=P+(V<<22&4294967295|V>>>10),V=S+(q^N&(P^q))+j[12]+1804603682&4294967295,S=N+(V<<7&4294967295|V>>>25),V=q+(P^S&(N^P))+j[13]+4254626195&4294967295,q=S+(V<<12&4294967295|V>>>20),V=P+(N^q&(S^N))+j[14]+2792965006&4294967295,P=q+(V<<17&4294967295|V>>>15),V=N+(S^P&(q^S))+j[15]+1236535329&4294967295,N=P+(V<<22&4294967295|V>>>10),V=S+(P^q&(N^P))+j[1]+4129170786&4294967295,S=N+(V<<5&4294967295|V>>>27),V=q+(N^P&(S^N))+j[6]+3225465664&4294967295,q=S+(V<<9&4294967295|V>>>23),V=P+(S^N&(q^S))+j[11]+643717713&4294967295,P=q+(V<<14&4294967295|V>>>18),V=N+(q^S&(P^q))+j[0]+3921069994&4294967295,N=P+(V<<20&4294967295|V>>>12),V=S+(P^q&(N^P))+j[5]+3593408605&4294967295,S=N+(V<<5&4294967295|V>>>27),V=q+(N^P&(S^N))+j[10]+38016083&4294967295,q=S+(V<<9&4294967295|V>>>23),V=P+(S^N&(q^S))+j[15]+3634488961&4294967295,P=q+(V<<14&4294967295|V>>>18),V=N+(q^S&(P^q))+j[4]+3889429448&4294967295,N=P+(V<<20&4294967295|V>>>12),V=S+(P^q&(N^P))+j[9]+568446438&4294967295,S=N+(V<<5&4294967295|V>>>27),V=q+(N^P&(S^N))+j[14]+3275163606&4294967295,q=S+(V<<9&4294967295|V>>>23),V=P+(S^N&(q^S))+j[3]+4107603335&4294967295,P=q+(V<<14&4294967295|V>>>18),V=N+(q^S&(P^q))+j[8]+1163531501&4294967295,N=P+(V<<20&4294967295|V>>>12),V=S+(P^q&(N^P))+j[13]+2850285829&4294967295,S=N+(V<<5&4294967295|V>>>27),V=q+(N^P&(S^N))+j[2]+4243563512&4294967295,q=S+(V<<9&4294967295|V>>>23),V=P+(S^N&(q^S))+j[7]+1735328473&4294967295,P=q+(V<<14&4294967295|V>>>18),V=N+(q^S&(P^q))+j[12]+2368359562&4294967295,N=P+(V<<20&4294967295|V>>>12),V=S+(N^P^q)+j[5]+4294588738&4294967295,S=N+(V<<4&4294967295|V>>>28),V=q+(S^N^P)+j[8]+2272392833&4294967295,q=S+(V<<11&4294967295|V>>>21),V=P+(q^S^N)+j[11]+1839030562&4294967295,P=q+(V<<16&4294967295|V>>>16),V=N+(P^q^S)+j[14]+4259657740&4294967295,N=P+(V<<23&4294967295|V>>>9),V=S+(N^P^q)+j[1]+2763975236&4294967295,S=N+(V<<4&4294967295|V>>>28),V=q+(S^N^P)+j[4]+1272893353&4294967295,q=S+(V<<11&4294967295|V>>>21),V=P+(q^S^N)+j[7]+4139469664&4294967295,P=q+(V<<16&4294967295|V>>>16),V=N+(P^q^S)+j[10]+3200236656&4294967295,N=P+(V<<23&4294967295|V>>>9),V=S+(N^P^q)+j[13]+681279174&4294967295,S=N+(V<<4&4294967295|V>>>28),V=q+(S^N^P)+j[0]+3936430074&4294967295,q=S+(V<<11&4294967295|V>>>21),V=P+(q^S^N)+j[3]+3572445317&4294967295,P=q+(V<<16&4294967295|V>>>16),V=N+(P^q^S)+j[6]+76029189&4294967295,N=P+(V<<23&4294967295|V>>>9),V=S+(N^P^q)+j[9]+3654602809&4294967295,S=N+(V<<4&4294967295|V>>>28),V=q+(S^N^P)+j[12]+3873151461&4294967295,q=S+(V<<11&4294967295|V>>>21),V=P+(q^S^N)+j[15]+530742520&4294967295,P=q+(V<<16&4294967295|V>>>16),V=N+(P^q^S)+j[2]+3299628645&4294967295,N=P+(V<<23&4294967295|V>>>9),V=S+(P^(N|~q))+j[0]+4096336452&4294967295,S=N+(V<<6&4294967295|V>>>26),V=q+(N^(S|~P))+j[7]+1126891415&4294967295,q=S+(V<<10&4294967295|V>>>22),V=P+(S^(q|~N))+j[14]+2878612391&4294967295,P=q+(V<<15&4294967295|V>>>17),V=N+(q^(P|~S))+j[5]+4237533241&4294967295,N=P+(V<<21&4294967295|V>>>11),V=S+(P^(N|~q))+j[12]+1700485571&4294967295,S=N+(V<<6&4294967295|V>>>26),V=q+(N^(S|~P))+j[3]+2399980690&4294967295,q=S+(V<<10&4294967295|V>>>22),V=P+(S^(q|~N))+j[10]+4293915773&4294967295,P=q+(V<<15&4294967295|V>>>17),V=N+(q^(P|~S))+j[1]+2240044497&4294967295,N=P+(V<<21&4294967295|V>>>11),V=S+(P^(N|~q))+j[8]+1873313359&4294967295,S=N+(V<<6&4294967295|V>>>26),V=q+(N^(S|~P))+j[15]+4264355552&4294967295,q=S+(V<<10&4294967295|V>>>22),V=P+(S^(q|~N))+j[6]+2734768916&4294967295,P=q+(V<<15&4294967295|V>>>17),V=N+(q^(P|~S))+j[13]+1309151649&4294967295,N=P+(V<<21&4294967295|V>>>11),V=S+(P^(N|~q))+j[4]+4149444226&4294967295,S=N+(V<<6&4294967295|V>>>26),V=q+(N^(S|~P))+j[11]+3174756917&4294967295,q=S+(V<<10&4294967295|V>>>22),V=P+(S^(q|~N))+j[2]+718787259&4294967295,P=q+(V<<15&4294967295|V>>>17),V=N+(q^(P|~S))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+q&4294967295}s.prototype.v=function(R,S){S===void 0&&(S=R.length);const N=S-this.blockSize,j=this.C;let P=this.h,q=0;for(;q<S;){if(P==0)for(;q<=N;)a(this,R,q),q+=this.blockSize;if(typeof R=="string"){for(;q<S;)if(j[P++]=R.charCodeAt(q++),P==this.blockSize){a(this,j),P=0;break}}else for(;q<S;)if(j[P++]=R[q++],P==this.blockSize){a(this,j),P=0;break}}this.h=P,this.o+=S},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)R[S++]=this.g[N]>>>j&255;return R};function l(R,S){var N=d;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=S(R)}function u(R,S){this.h=S;const N=[];let j=!0;for(let P=R.length-1;P>=0;P--){const q=R[P]|0;j&&q==S||(N[P]=q,j=!1)}this.g=N}var d={};function m(R){return-128<=R&&R<128?l(R,function(S){return new u([S|0],S<0?-1:0)}):new u([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return D(g(-R));const S=[];let N=1;for(let j=0;R>=N;j++)S[j]=R/N|0,N*=4294967296;return new u(S,0)}function y(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return D(y(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(S,8));let j=_;for(let q=0;q<R.length;q+=8){var P=Math.min(8,R.length-q);const V=parseInt(R.substring(q,q+P),S);P<8?(P=g(Math.pow(S,P)),j=j.j(P).add(g(V))):(j=j.j(N),j=j.add(g(V)))}return j}var _=m(0),w=m(1),C=m(16777216);t=u.prototype,t.m=function(){if(k(this))return-D(this).m();let R=0,S=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);R+=(j>=0?j:4294967296+j)*S,S*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(k(this))return"-"+D(this).toString(R);const S=g(Math.pow(R,6));var N=this;let j="";for(;;){const P=te(N,S).g;N=O(N,P.j(S));let q=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=P,I(N))return q+j;for(;q.length<6;)q="0"+q;j=q+j}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function k(R){return R.h==-1}t.l=function(R){return R=O(this,R),k(R)?-1:I(R)?0:1};function D(R){const S=R.g.length,N=[];for(let j=0;j<S;j++)N[j]=~R.g[j];return new u(N,~R.h).add(w)}t.abs=function(){return k(this)?D(this):this},t.add=function(R){const S=Math.max(this.g.length,R.g.length),N=[];let j=0;for(let P=0;P<=S;P++){let q=j+(this.i(P)&65535)+(R.i(P)&65535),V=(q>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);j=V>>>16,q&=65535,V&=65535,N[P]=V<<16|q}return new u(N,N[N.length-1]&-2147483648?-1:0)};function O(R,S){return R.add(D(S))}t.j=function(R){if(I(this)||I(R))return _;if(k(this))return k(R)?D(this).j(D(R)):D(D(this).j(R));if(k(R))return D(this.j(D(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,N=[];for(var j=0;j<2*S;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<R.g.length;P++){const q=this.i(j)>>>16,V=this.i(j)&65535,ze=R.i(P)>>>16,Ye=R.i(P)&65535;N[2*j+2*P]+=V*Ye,U(N,2*j+2*P),N[2*j+2*P+1]+=q*Ye,U(N,2*j+2*P+1),N[2*j+2*P+1]+=V*ze,U(N,2*j+2*P+1),N[2*j+2*P+2]+=q*ze,U(N,2*j+2*P+2)}for(R=0;R<S;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=S;R<2*S;R++)N[R]=0;return new u(N,0)};function U(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function F(R,S){this.g=R,this.h=S}function te(R,S){if(I(S))throw Error("division by zero");if(I(R))return new F(_,_);if(k(R))return S=te(D(R),S),new F(D(S.g),D(S.h));if(k(S))return S=te(R,D(S)),new F(D(S.g),S.h);if(R.g.length>30){if(k(R)||k(S))throw Error("slowDivide_ only works with positive integers.");for(var N=w,j=S;j.l(R)<=0;)N=Z(N),j=Z(j);var P=se(N,1),q=se(j,1);for(j=se(j,2),N=se(N,2);!I(j);){var V=q.add(j);V.l(R)<=0&&(P=P.add(N),q=V),j=se(j,1),N=se(N,1)}return S=O(R,P.j(S)),new F(P,S)}for(P=_;R.l(S)>=0;){for(N=Math.max(1,Math.floor(R.m()/S.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),q=g(N),V=q.j(S);k(V)||V.l(R)>0;)N-=j,q=g(N),V=q.j(S);I(q)&&(q=w),P=P.add(q),R=O(R,V)}return new F(P,R)}t.B=function(R){return te(this,R).h},t.and=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)&R.i(j);return new u(N,this.h&R.h)},t.or=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)|R.i(j);return new u(N,this.h|R.h)},t.xor=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)^R.i(j);return new u(N,this.h^R.h)};function Z(R){const S=R.g.length+1,N=[];for(let j=0;j<S;j++)N[j]=R.i(j)<<1|R.i(j-1)>>>31;return new u(N,R.h)}function se(R,S){const N=S>>5;S%=32;const j=R.g.length-N,P=[];for(let q=0;q<j;q++)P[q]=S>0?R.i(q+N)>>>S|R.i(q+N+1)<<32-S:R.i(q+N);return new u(P,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Kx=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,Vr=u}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $x,Mc,Yx,Sf,Mg,Qx,Xx,Wx;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in E))break e;E=E[G]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var l=l||{},u=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=m,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,G,X){for(var ue=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ue[Ce-2]=arguments[Ce];return v.prototype[G].apply(A,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function I(h,v){for(let A=1;A<arguments.length;A++){const G=arguments[A];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=h.length||0;const X=G.length||0;h.length=E+X;for(let ue=0;ue<X;ue++)h[E+ue]=G[ue]}else h.push(G)}}class k{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function D(h){u.setTimeout(()=>{throw h},0)}function O(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,E){const A=F.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var F=new k(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,se=!1,R=new U,S=()=>{const h=Promise.resolve(void 0);Z=()=>{h.then(N)}};function N(){for(var h;h=O();){try{h.h.call(h.g)}catch(E){D(E)}var v=F;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}se=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function ze(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(ze,P),ze.prototype.init=function(h,v){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(h,v,E,A,G){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=G,this.key=++K,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Se(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function De(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function B(h){const v={};for(const E in h)v[E]=h[E];return v}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(h,v){let E,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(E in A)h[E]=A[E];for(let X=0;X<ie.length;X++)E=ie[X],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,v,E,A,G){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=we(h,v,A,G);return ue>-1?(v=h[ue],E||(v.fa=!1)):(v=new le(v,this.src,X,!!A,G),v.fa=E,h.push(v)),v};function ve(h,v){const E=v.type;if(E in h.g){var A=h.g[E],G=Array.prototype.indexOf.call(A,v,void 0),X;(X=G>=0)&&Array.prototype.splice.call(A,G,1),X&&(fe(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function we(h,v,E,A){for(let G=0;G<h.length;++G){const X=h[G];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==A)return G}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Bt={};function ct(h,v,E,A,G){if(Array.isArray(v)){for(let X=0;X<v.length;X++)ct(h,v[X],E,A,G);return null}return E=Sl(E),h&&h[Ye]?h.J(v,E,d(A)?!!A.capture:!1,G):Qr(h,v,E,!1,A,G)}function Qr(h,v,E,A,G,X){if(!v)throw Error("Invalid event type");const ue=d(G)?!!G.capture:!!G;let Ce=Xr(h);if(Ce||(h[Fe]=Ce=new ce(h)),E=Ce.add(v,E,A,ue,X),E.proxy)return E;if(A=Ka(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)q||(G=ue),G===void 0&&(G=!1),h.addEventListener(v.toString(),A,G);else if(h.attachEvent)h.attachEvent(Ai(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ka(){function h(E){return v.call(h.src,h.listener,E)}const v=wl;return h}function $a(h,v,E,A,G){if(Array.isArray(v))for(var X=0;X<v.length;X++)$a(h,v[X],E,A,G);else A=d(A)?!!A.capture:!!A,E=Sl(E),h&&h[Ye]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],E=we(v,E,A,G),E>-1&&(fe(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Xr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=we(v,E,A,G)),(E=h>-1?v[h]:null)&&Ya(E))}function Ya(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ye])ve(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(Ai(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Xr(v))?(ve(E,h),E.h==0&&(E.src=null,v[Fe]=null)):fe(h)}}}function Ai(h){return h in Bt?Bt[h]:Bt[h]="on"+h}function wl(h,v){if(h.da)h=!0;else{v=new ze(v,this);const E=h.listener,A=h.ha||h.src;h.fa&&Ya(h),h=E.call(A,v)}return h}function Xr(h){return h=h[Fe],h instanceof ce?h:null}var xl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sl(h){return typeof h=="function"?h:(h[xl]||(h[xl]=function(v){return h.handleEvent(v)}),h[xl])}function Rt(){j.call(this),this.i=new ce(this),this.M=this,this.G=null}_(Rt,j),Rt.prototype[Ye]=!0,Rt.prototype.removeEventListener=function(h,v,E,A){$a(this,h,v,E,A)};function zt(h,v){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var G=v;v=new P(A,h),J(v,G)}G=!0;let X,ue;if(E)for(ue=E.length-1;ue>=0;ue--)X=v.g=E[ue],G=Hs(X,A,!0,v)&&G;if(X=v.g=h,G=Hs(X,A,!0,v)&&G,G=Hs(X,A,!1,v)&&G,E)for(ue=0;ue<E.length;ue++)X=v.g=E[ue],G=Hs(X,A,!1,v)&&G}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let A=0;A<E.length;A++)fe(E[A]);delete h.g[v],h.h--}}this.G=null},Rt.prototype.J=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},Rt.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function Hs(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let X=0;X<v.length;++X){const ue=v[X];if(ue&&!ue.da&&ue.capture==E){const Ce=ue.listener,Et=ue.ha||ue.src;ue.fa&&ve(h.i,ue),G=Ce.call(Et,A)!==!1&&G}}return G&&!A.defaultPrevented}function Ld(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function Du(h){h.g=Ld(()=>{h.g=null,h.i&&(h.i=!1,Du(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class dn extends j{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(h){j.call(this),this.h=h,this.g={}}_(Wr,j);var Al=[];function Rl(h){Se(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ya(v)},h),h.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),Rl(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=u.JSON.stringify,jd=u.JSON.parse,Vu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Mu(){}function ku(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){P.call(this,"d")}_(Qt,P);function zn(){P.call(this,"c")}_(zn,P);var bt={},Pu=null;function Qa(){return Pu=Pu||new Rt}bt.Ia="serverreachability";function Ou(h){P.call(this,bt.Ia,h)}_(Ou,P);function Ri(h){const v=Qa();zt(v,new Ou(v))}bt.STAT_EVENT="statevent";function Zr(h,v){P.call(this,bt.STAT_EVENT,h),this.stat=v}_(Zr,P);function Ct(h){const v=Qa();zt(v,new Zr(v,h))}bt.Ja="timingevent";function Ci(h,v){P.call(this,bt.Ja,h),this.size=v}_(Ci,P);function Ii(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function Ud(h,v,E,A,G,X){h.info(function(){if(h.g)if(X){var ue="",Ce=X.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var Et=Ce[Ke].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Gn=ut.split("_");ue=Gn.length>=2&&Gn[1]=="type"?ue+(ut+"="+Et+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+v+`
`+E+`
`+ue})}function Lu(h,v,E,A,G,X,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+v+`
`+E+`
`+X+" "+ue})}function Ni(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bd(h,E)+(A?" "+A:"")})}function Jr(h,v){h.info(function(){return"TIMEOUT: "+v})}ci.prototype.info=function(){};function Bd(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return Gs(X)}catch{return v}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Il;function ta(){}_(ta,Mu),ta.prototype.g=function(){return new XMLHttpRequest},Il=new ta;function os(h){return encodeURIComponent(String(h))}function ju(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ui(h,v,E,A){this.j=h,this.i=v,this.l=E,this.S=A||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var It={},Gt={};function Di(h,v,E){h.M=1,h.A=na(Dt(v)),h.u=E,h.R=!0,Xa(h,null)}function Xa(h,v){h.F=Date.now(),Vi(h),h.B=Dt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),eo(E.i,"t",A),h.C=0,E=h.j.L,h.h=new hi,h.g=Ju(h.j,E?v:null,!h.u),h.P>0&&(h.O=new dn(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Al[0]=G.toString()),G=Al);for(let X=0;X<G.length;X++){const ue=ct(E,G[X],A||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?B(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ri(),Ud(h.i,h.v,h.B,h.l,h.S,h.u)}ui.prototype.ba=function(h){h=h.target;const v=this.O;v&&mi(h)==3?v.j():this.Y(h)},ui.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=mi(this.g),Et=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ce!=4||Et==7||(Et==8||Ke<=0?Ri(3):Ri(2)),Mi(this);var v=this.g.ca();this.X=v;var E=zd(this);if(this.o=v==200,Lu(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(A)){var X=A;break t}}X=null}if(h=X)Ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,h);else{this.o=!1,this.m=3,Ct(12),In(this),Fn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Bu(this,E),ut==Gt){Ce==4&&(this.m=4,Ct(14),h=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==It){this.m=4,Ct(15),Ni(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ni(this.i,this.l,ut,null),ki(this,ut);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)Ni(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),Fn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Hl(ue),ue.P=!0,Ct(11))}}else Ni(this.i,this.l,E,null),ki(this,E);Ce==4&&In(this),this.o&&!this.K&&(Ce==4?Qu(this.j,this):(this.o=!1,Vi(this)))}else cs(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),In(this),Fn(this)}}}catch{}};function zd(h){if(!Uu(h))return h.g.la();const v=Xt(h.g);if(v==="")return"";let E="";const A=v.length,G=mi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),Fn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<A;X++)h.h.h=!0,E+=h.h.i.decode(v[X],{stream:!(G&&X==A-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Uu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Bu(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?Gt:(E=Number(v.substring(E,A)),isNaN(E)?It:(A+=1,A+E>v.length?Gt:(v=v.slice(A,A+E),h.C=A+E,v)))}ui.prototype.cancel=function(){this.K=!0,In(this)};function Vi(h){h.T=Date.now()+h.H,Wa(h,h.H)}function Wa(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ii(g(h.aa,h),v)}function Mi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ui.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(Ri(),Ct(17)),In(this),this.m=2,Fn(this)):Wa(this,this.T-h)};function Fn(h){h.j.I==0||h.K||Qu(h.j,h)}function In(h){Mi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Rl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function ki(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Oi(E.h,h))){if(!h.L&&Oi(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)ro(E),Js(E);else break e;ca(E),Ct(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ii(g(E.Va,E),6e3));Pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fi(E,11)}else if((h.L||E.g==h)&&ro(E),!V(v))for(G=E.Ba.g.parse(v),v=0;v<G.length;v++){let Ke=G[v];const ut=Ke[0];if(!(ut<=E.K))if(E.K=ut,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Gn=Ke[3];Gn!=null&&(E.ka=Gn,E.j.info("VER="+E.ka));const qi=Ke[4];qi!=null&&(E.za=qi,E.j.info("SVER="+E.za));const pi=Ke[5];pi!=null&&typeof pi=="number"&&pi>0&&(A=1.5*pi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const gi=h.g;if(gi){const ua=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var X=A.h;X.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Vl(X,X.h),X.h=null))}if(A.G){const ao=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(A.wa=ao,Xe(A.J,A.G,ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ue=h;if(A.na=Zu(A,A.L?A.ba:null,A.W),ue.L){Ml(A.h,ue);var Ce=ue,Et=A.O;Et&&(Ce.H=Et),Ce.D&&(Mi(Ce),Vi(Ce)),A.g=ue}else $u(A);E.i.length>0&&zi(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Fi(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Fi(E,7):Fl(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Ri(4)}catch{}}var Nt=class{constructor(h,v){this.g=h,this.map=v}};function Nl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pi(h){return h.h?1:h.g?h.g.size:0}function Oi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Vl(h,v){h.g?h.g.add(v):h.h=v}function Ml(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Nl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return C(h.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let G,X=null;A>=0?(G=h[E].substring(0,A),X=h[E].substring(A+1)):G=h[E],v(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Nn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Nn?(this.l=h.l,Kt(this,h.j),this.o=h.o,this.g=h.g,Ks(this,h.u),this.h=h.h,Pl(this,Gu(h.i)),this.m=h.m):h&&(v=String(h).match(zu))?(this.l=!1,Kt(this,v[1]||"",!0),this.o=Li(v[2]||""),this.g=Li(v[3]||"",!0),Ks(this,v[4]),this.h=Li(v[5]||"",!0),Pl(this,v[6]||"",!0),this.m=Li(v[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}Nn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(ia(v,Ja,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ia(v,Ja,!0),"@"),h.push(os(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ia(E,E.charAt(0)=="/"?Ol:Fu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ia(E,qu)),h.join("")},Nn.prototype.resolve=function(h){const v=Dt(this);let E=!!h.j;E?Kt(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var A=h.h;if(E)Ks(v,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=v.h.lastIndexOf("/");G!=-1&&(A=v.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ue=0;ue<G.length;){const Ce=G[ue++];Ce=="."?A&&ue==G.length&&X.push(""):Ce==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ue==G.length&&X.push("")):(X.push(Ce),A=!0)}A=X.join("/")}else A=G}return E?v.h=A:E=h.i.toString()!=="",E?Pl(v,Gu(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Dt(h){return new Nn(h)}function Kt(h,v,E){h.j=E?Li(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ks(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Pl(h,v,E){v instanceof Ys?(h.i=v,to(h.i,h.l)):(E||(v=ia(v,$s)),h.i=new Ys(v,h.l))}function Xe(h,v,E){h.i.set(v,E)}function na(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Li(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ia(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,vn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ja=/[#\/\?@]/g,Fu=/[#\?:]/g,Ol=/[#\?]/g,$s=/[#\?@]/g,qu=/#/g;function Ys(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function _n(h){h.g||(h.g=new Map,h.h=0,h.i&&Za(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Ys.prototype,t.add=function(h,v){_n(this),this.i=null,h=Qs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Hu(h,v){_n(h),v=Qs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ll(h,v){return _n(h),v=Qs(h,v),h.g.has(v)}t.forEach=function(h,v){_n(this),this.g.forEach(function(E,A){E.forEach(function(G){h.call(v,G,A,this)},this)},this)};function jl(h,v){_n(h);let E=[];if(typeof v=="string")Ll(h,v)&&(E=E.concat(h.g.get(Qs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return _n(this),this.i=null,h=Qs(this,h),Ll(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=jl(this,h),h.length>0?String(h[0]):v):v};function eo(h,v,E){Hu(h,v),E.length>0&&(h.i=null,h.g.set(Qs(h,v),C(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const G=os(E);E=jl(this,E);for(let X=0;X<E.length;X++){let ue=G;E[X]!==""&&(ue+="="+os(E[X])),h.push(ue)}}return this.i=h.join("&")};function Gu(h){const v=new Ys;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Qs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function to(h,v){v&&!h.j&&(_n(h),h.i=null,h.g.forEach(function(E,A){const G=A.toLowerCase();A!=G&&(Hu(this,A),eo(this,G,E))},h)),h.j=v}function fi(h,v){const E=new ci;if(u.Image){const A=new Image;A.onload=y(qn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=y(qn,E,"TestLoadImage: error",!1,v,A),A.onabort=y(qn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(qn,E,"TestLoadImage: timeout",!1,v,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Ul(h,v){const E=new ci,A=new AbortController,G=setTimeout(()=>{A.abort(),qn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(G),X.ok?qn(E,"TestPingServer: ok",!0,v):qn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),qn(E,"TestPingServer: error",!1,v)})}function qn(h,v,E,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(E)}catch{}}function Xs(){this.g=new Vu}function ji(h){this.i=h.Sb||null,this.h=h.ab||!1}_(ji,Mu),ji.prototype.g=function(){return new sa(this.i,this.h)};function sa(h,v){Rt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(sa,Rt),t=sa.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,di(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ws(this):di(this),this.readyState==3&&no(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ws(this))},t.Na=function(h){this.g&&(this.response=h,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(h){h.readyState=4,h.l=null,h.j=null,h.B=null,di(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hn(h){let v="";return Se(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function ra(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Hn(E),typeof h=="string"?E!=null&&os(E):Xe(h,v,E))}function Je(h){Rt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Je,Rt);var Ui=/^https?$/i,Bl=["POST","PUT"];t=Je.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Il.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){aa(this,X);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)E.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Bl,v,void 0)>=0)||A||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of E)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){aa(this,X)}};function aa(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,zl(h),ls(h)}function zl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},t.Xa=function(){oa(this)};function oa(h){if(h.h&&typeof l<"u"){if(h.v&&mi(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),mi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=X===0){let ue=String(h.D).match(zu)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),A=!Ui.test(ue?ue.toLowerCase():"")}E=A}if(E)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var G=mi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",zl(h)}}finally{ls(h)}}}}function ls(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||zt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),jd(v)}};function Xt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(h){const v={};h=(h.g&&mi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(V(h[A]))continue;var E=ju(h[A]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[G]||[];v[G]=X,X.push(E)}De(v,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Zs(h){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,h),this.Za=Bi("retryDelaySeedMs",1e4,h),this.Ta=Bi("forwardChannelMaxRetries",2,h),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(h&&h.concurrentRequestLimit),this.Ba=new Xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zs.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,A){Ct(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Zu(this,null,this.W),zi(this)};function Fl(h){if(io(h),h.I==3){var v=h.V++,E=Dt(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",v),Xe(E,"TYPE","terminate"),la(h,E),v=new ui(h,h.j,v),v.M=2,v.A=na(Dt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.A,E=!0),E||(v.g=Ju(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Vi(v)}Wu(h)}function Js(h){h.g&&(Hl(h),h.g.cancel(),h.g=null)}function io(h){Js(h),h.v&&(u.clearTimeout(h.v),h.v=null),ro(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function zi(h){if(!Dl(h.h)&&!h.m){h.m=!0;var v=h.Ea;Z||S(),se||(Z(),se=!0),R.add(v,h),h.D=0}}function so(h,v){return Pi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ii(g(h.Ea,h,v),Xu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new ui(this,this.j,h);let X=this.o;if(this.U&&(X?(X=B(X),J(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Ku(this,G,v),E=Dt(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),la(this,E),X&&(this.R?v="headers="+os(Hn(X))+"&"+v:this.u&&ra(E,this.u,X)),Vl(this.h,G),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",v),Xe(E,"SID","null"),G.U=!0,Di(G,E,null)):Di(G,E,v),this.I=2}}else this.I==3&&(h?ql(this,h):this.i.length==0||Dl(this.h)||ql(this))};function ql(h,v){var E;v?E=v.l:E=h.V++;const A=Dt(h.J);Xe(A,"SID",h.M),Xe(A,"RID",E),Xe(A,"AID",h.K),la(h,A),h.u&&h.o&&ra(A,h.u,h.o),E=new ui(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Ku(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Vl(h.h,E),Di(E,A,v)}function la(h,v){h.H&&Se(h.H,function(E,A){Xe(v,A,E)}),h.l&&Se({},function(E,A){Xe(v,A,E)})}function Ku(h,v,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ce=-1;for(;;){const Et=["count="+E];Ce==-1?E>0?(Ce=G[0].g,Et.push("ofs="+Ce)):Ce=0:Et.push("ofs="+Ce);let Ke=!0;for(let ut=0;ut<E;ut++){var X=G[ut].g;const Gn=G[ut].map;if(X-=Ce,X<0)Ce=Math.max(0,G[ut].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var ue=Gn instanceof Map?Gn:Object.entries(Gn);for(const[qi,pi]of ue){let gi=pi;d(pi)&&(gi=Gs(pi)),Et.push(X+qi+"="+encodeURIComponent(gi))}}catch(qi){throw Et.push(X+"type="+encodeURIComponent("_badmap")),qi}}catch{A&&A(Gn)}}if(Ke){ue=Et.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),v.G=h,ue}function $u(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;Z||S(),se||(Z(),se=!0),R.add(v,h),h.A=0}}function ca(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ii(g(h.Da,h),Xu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ii(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Js(this),Yu(this))};function Hl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Yu(h){h.g=new ui(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Dt(h.na);Xe(v,"RID","rpc"),Xe(v,"SID",h.M),Xe(v,"AID",h.K),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(v,"TO",h.ia),Xe(v,"TYPE","xmlhttp"),la(h,v),h.u&&h.o&&ra(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=na(Dt(v)),E.u=null,E.R=!0,Xa(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Js(this),ca(this),Ct(19))};function ro(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Qu(h,v){var E=null;if(h.g==v){ro(h),Hl(h),h.g=null;var A=2}else if(Oi(h.h,v))E=v.G,Ml(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var G=h.D;A=Qa(),zt(A,new Ci(A,E)),zi(h)}else $u(h);else if(G=v.m,G==3||G==0&&v.X>0||!(A==1&&so(h,v)||A==2&&ca(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),G){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function Xu(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Fi(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),A=h.Ua;const G=!A;A=new Nn(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Kt(A,"https"),na(A),G?fi(A.toString(),E):Ul(A.toString(),E)}else Ct(2);h.I=0,h.l&&h.l.pa(v),Wu(h),io(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Wu(h){if(h.I=0,h.ja=[],h.l){const v=kl(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ja,v),I(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Zu(h,v,E){var A=E instanceof Nn?Dt(E):new Nn(E);if(A.g!="")v&&(A.g=v+"."+A.g),Ks(A,A.u);else{var G=u.location;A=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const X=new Nn(null);A&&Kt(X,A),v&&(X.g=v),G&&Ks(X,G),E&&(X.h=E),A=X}return E=h.G,v=h.wa,E&&v&&Xe(A,E,v),Xe(A,"VER",h.ka),la(h,A),A}function Ju(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Je(new ji({ab:E})):new Je(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}t=eh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function er(){}er.prototype.g=function(h,v){return new mn(h,v)};function mn(h,v){Rt.call(this),this.g=new Zs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!V(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new us(this)}_(mn,Rt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Fl(this.g)},mn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Gs(h),h=E);v.i.push(new Nt(v.Ya++,h)),v.I==3&&zi(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,mn.Z.N.call(this)};function th(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(th,Qt);function nh(){zn.call(this),this.status=1}_(nh,zn);function us(h){this.g=h}_(us,eh),us.prototype.ra=function(){zt(this.g,"a")},us.prototype.qa=function(h){zt(this.g,new th(h))},us.prototype.pa=function(h){zt(this.g,new nh)},us.prototype.oa=function(){zt(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Wx=function(){return new er},Xx=function(){return Qa()},Qx=bt,Mg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Sf=ea,Cl.COMPLETE="complete",Yx=Cl,ku.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Mc=ku,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,$x=Je}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const mE="@firebase/firestore",pE="4.9.3";let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let pl="12.7.0";const Fa=new Cy("@firebase/firestore");function jo(){return Fa.logLevel}function de(t,...e){if(Fa.logLevel<=Le.DEBUG){const n=e.map(zy);Fa.debug(`Firestore (${pl}): ${t}`,...n)}}function Ls(t,...e){if(Fa.logLevel<=Le.ERROR){const n=e.map(zy);Fa.error(`Firestore (${pl}): ${t}`,...n)}}function tl(t,...e){if(Fa.logLevel<=Le.WARN){const n=e.map(zy);Fa.warn(`Firestore (${pl}): ${t}`,...n)}}function zy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Zx(t,s,n)}function Zx(t,e,n){let s=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ls(s),new Error(s)}function Qe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Zx(e,a,s)}function Re(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Jx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class V4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class M4{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ms,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ms)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new Jx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class k4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new k4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function L4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Fy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=L4(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function je(t,e){return t<e?-1:t>e?1:0}function kg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Wp(a)===Wp(l)?je(a,l):Wp(a)?1:-1}return je(t.length,e.length)}const j4=55296,U4=57343;function Wp(t){const e=t.charCodeAt(0);return e>=j4&&e<=U4}function nl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const yE="__name__";class Yi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Yi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return je(e.length,n.length)}static compareSegments(e,n){const s=Yi.isNumericId(e),a=Yi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):kg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class st extends Yi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const B4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Yi{construct(e,n,s){return new sn(e,n,s)}static isValidIdentifier(e){return B4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yE}static keyField(){return new sn([yE])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new he(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function eS(t,e,n){if(!n)throw new he(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z4(t,e,n,s){if(e===!0&&s===!0)throw new he(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vE(t){if(!ye.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _E(t){if(ye.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(t);throw new he(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function yu(t,e){if(!tS(t))throw new he(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(re.INVALID_ARGUMENT,n);return!0}const TE=-62135596800,bE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*bE);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TE)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Ut("string",lt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new lt(0,0))}static max(){return new xe(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wc=-1;function F4(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Pr(a,ye.empty(),e)}function q4(t){return new Pr(t.readTime,t.key,Wc)}class Pr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Pr(xe.min(),ye.empty(),Wc)}static max(){return new Pr(xe.max(),ye.empty(),Wc)}}function H4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}const G4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==G4)throw t;de("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((y=>{u[g]=y,++d,d===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function $4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yd.ce=-1;const qy=-1;function vd(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function Y4(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const nS="";function Q4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EE(e)),e=X4(t.get(n),e);return EE(e)}function X4(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case nS:n+="";break;default:n+=l}}return n}function EE(t){return t+nS+""}function wE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new nn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ht(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sS("Invalid base64 string: "+l):l}})(e);return new an(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const W4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=W4.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}const rS="server_timestamp",aS="__type__",oS="__previous_value__",lS="__local_write_time__";function Hy(t){return(t?.mapValue?.fields||{})[aS]?.stringValue===rS}function _d(t){const e=t.mapValue.fields[oS];return Hy(e)?_d(e):e}function Zc(t){const e=Or(t.mapValue.fields[lS].timestampValue);return new lt(e.seconds,e.nanos)}class Z4{constructor(e,n,s,a,l,u,d,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Gf="(default)";class Jc{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}const cS="__type__",J4="__max__",hf={mapValue:{}},uS="__vector__",Kf="value";function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hy(t)?4:tk(t)?9007199254740991:ek(t)?10:11:be(28295,{value:t})}function ss(t,e){if(t===e)return!0;const n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Or(a.timestampValue),d=Or(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Lr(a.bytesValue).isEqual(Lr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=St(a.doubleValue),d=St(l.doubleValue);return u===d?Hf(u)===Hf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(wE(u)!==wE(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!ss(u[m],d[m])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function eu(t,e){return(t.values||[]).find((n=>ss(n,e)))!==void 0}function il(t,e){if(t===e)return 0;const n=jr(t),s=jr(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=St(l.integerValue||l.doubleValue),m=St(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return SE(t.timestampValue,e.timestampValue);case 4:return SE(Zc(t),Zc(e));case 5:return kg(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Lr(l),m=Lr(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=je(d[g],m[g]);if(y!==0)return y}return je(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=je(St(l.latitude),St(u.latitude));return d!==0?d:je(St(l.longitude),St(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return AE(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},g=d[Kf]?.arrayValue,y=m[Kf]?.arrayValue,_=je(g?.values?.length||0,y?.values?.length||0);return _!==0?_:AE(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===hf.mapValue&&u===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(u===hf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=u.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const w=kg(m[_],y[_]);if(w!==0)return w;const C=il(d[m[_]],g[y[_]]);if(C!==0)return C}return je(m.length,y.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function SE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Or(t),s=Or(e),a=je(n.seconds,s.seconds);return a!==0?a:je(n.nanos,s.nanos)}function AE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=il(n[a],s[a]);if(l)return l}return je(n.length,s.length)}function sl(t){return Pg(t)}function Pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Or(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Lr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Pg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Pg(n.fields[u])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Af(t){switch(jr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(t);return e?16+Af(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Af(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Gr(s.fields,((l,u)=>{a+=l.length+Af(u)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function RE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Og(t){return!!t&&"integerValue"in t}function Gy(t){return!!t&&"arrayValue"in t}function CE(t){return!!t&&"nullValue"in t}function IE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rf(t){return!!t&&"mapValue"in t}function ek(t){return(t?.mapValue?.fields||{})[cS]?.stringValue===uS}function Bc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return{...t}}function tk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===J4}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=sn.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=Bc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Gr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Rn(Bc(this.value))}}function hS(t){const e=[];return Gr(t.fields,((n,s)=>{const a=new sn([n]);if(Rf(s)){const l=hS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Un(e)}class un{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new un(e,0,xe.min(),xe.min(),xe.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,xe.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,xe.min(),xe.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,xe.min(),xe.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(e,n){this.position=e,this.inclusive=n}}function NE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(u.referenceValue),n.key):s=il(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function DE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ss(t.position[n],e.position[n]))return!1;return!0}class Yf{constructor(e,n="asc"){this.field=e,this.dir=n}}function nk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fS{}class jt extends fS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new sk(e,n,s):n==="array-contains"?new ok(e,s):n==="in"?new lk(e,s):n==="not-in"?new ck(e,s):n==="array-contains-any"?new uk(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new rk(e,s):new ak(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(il(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends fS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xi(e,n)}matches(e){return dS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dS(t){return t.op==="and"}function mS(t){return ik(t)&&dS(t)}function ik(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function Lg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(mS(t))return t.filters.map((e=>Lg(e))).join(",");{const e=t.filters.map((n=>Lg(n))).join(",");return`${t.op}(${e})`}}function pS(t,e){return t instanceof jt?(function(s,a){return a instanceof jt&&s.op===a.op&&s.field.isEqual(a.field)&&ss(s.value,a.value)})(t,e):t instanceof xi?(function(s,a){return a instanceof xi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&pS(u,a.filters[d])),!0):!1})(t,e):void be(19439)}function gS(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`})(t):t instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(gS).join(" ,")+"}"})(t):"Filter"}class sk extends jt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class rk extends jt{constructor(e,n){super(e,"in",n),this.keys=yS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ak extends jt{constructor(e,n){super(e,"not-in",n),this.keys=yS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yS(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class ok extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gy(n)&&eu(n.arrayValue,this.value)}}class lk extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class ck extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class uk extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}class hk{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function VE(t,e=null,n=[],s=[],a=null,l=null,u=null){return new hk(t,e,n,s,a,l,u)}function Ky(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Lg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>sl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>sl(s))).join(",")),e.Te=n}return e.Te}function $y(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DE(t.startAt,e.startAt)&&DE(t.endAt,e.endAt)}function jg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class vu{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fk(t,e,n,s,a,l,u,d){return new vu(t,e,n,s,a,l,u,d)}function Yy(t){return new vu(t)}function ME(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vS(t){return t.collectionGroup!==null}function zc(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ht(sn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Yf(l,s))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new Yf(sn.keyField(),s))}return e.Ie}function Zi(t){const e=Re(t);return e.Ee||(e.Ee=dk(e,zc(t))),e.Ee}function dk(t,e){if(t.limitType==="F")return VE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Yf(a.field,l)}));const n=t.endAt?new $f(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $f(t.startAt.position,t.startAt.inclusive):null;return VE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ug(t,e){const n=t.filters.concat([e]);return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bg(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Td(t,e){return $y(Zi(t),Zi(e))&&t.limitType===e.limitType}function _S(t){return`${Ky(Zi(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>gS(a))).join(", ")}]`),vd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>sl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>sl(a))).join(",")),`Target(${s})`})(Zi(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of zc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const g=NE(u,d,m);return u.inclusive?g<=0:g<0})(s.startAt,zc(s),a)||s.endAt&&!(function(u,d,m){const g=NE(u,d,m);return u.inclusive?g>=0:g>0})(s.endAt,zc(s),a))})(t,e)}function mk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TS(t){return(e,n)=>{let s=!1;for(const a of zc(t)){const l=pk(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function pk(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),g=d.data.field(l);return m!==null&&g!==null?il(m,g):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return iS(this.inner)}size(){return this.innerSize}}const gk=new pt(ye.comparator);function js(){return gk}const bS=new pt(ye.comparator);function kc(...t){let e=bS;for(const n of t)e=e.insert(n.key,n);return e}function ES(t){let e=bS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Na(){return Fc()}function wS(){return Fc()}function Fc(){return new Ha((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yk=new pt(ye.comparator),vk=new Ht(ye.comparator);function Ue(...t){let e=vk;for(const n of t)e=e.add(n);return e}const _k=new Ht(je);function Tk(){return _k}function Qy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function xS(t){return{integerValue:""+t}}function bk(t,e){return Y4(e)?xS(e):Qy(t,e)}class Ed{constructor(){this._=void 0}}function Ek(t,e,n){return t instanceof Qf?(function(a,l){const u={fields:{[aS]:{stringValue:rS},[lS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Hy(l)&&(l=_d(l)),l&&(u.fields[oS]=l),{mapValue:u}})(n,e):t instanceof tu?AS(t,e):t instanceof nu?RS(t,e):(function(a,l){const u=SS(a,l),d=kE(u)+kE(a.Ae);return Og(u)&&Og(a.Ae)?xS(d):Qy(a.serializer,d)})(t,e)}function wk(t,e,n){return t instanceof tu?AS(t,e):t instanceof nu?RS(t,e):n}function SS(t,e){return t instanceof Xf?(function(s){return Og(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Qf extends Ed{}class tu extends Ed{constructor(e){super(),this.elements=e}}function AS(t,e){const n=CS(e);for(const s of t.elements)n.some((a=>ss(a,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends Ed{constructor(e){super(),this.elements=e}}function RS(t,e){let n=CS(e);for(const s of t.elements)n=n.filter((a=>!ss(a,s)));return{arrayValue:{values:n}}}class Xf extends Ed{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kE(t){return St(t.integerValue||t.doubleValue)}function CS(t){return Gy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xk(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof tu&&a instanceof tu||s instanceof nu&&a instanceof nu?nl(s.elements,a.elements,ss):s instanceof Xf&&a instanceof Xf?ss(s.Ae,a.Ae):s instanceof Qf&&a instanceof Qf})(t.transform,e.transform)}class Sk{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function IS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xd(t.key,yn.none()):new _u(t.key,t.data,yn.none());{const n=t.data,s=Rn.empty();let a=new Ht(sn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Kr(t.key,s,new Un(a.toArray()),yn.none())}}function Ak(t,e,n){t instanceof _u?(function(a,l,u){const d=a.value.clone(),m=OE(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Kr?(function(a,l,u){if(!Cf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=OE(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(NS(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function qc(t,e,n,s){return t instanceof _u?(function(l,u,d,m){if(!Cf(l.precondition,u))return d;const g=l.value.clone(),y=LE(l.fieldTransforms,m,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Kr?(function(l,u,d,m){if(!Cf(l.precondition,u))return d;const g=LE(l.fieldTransforms,m,u),y=u.data;return y.setAll(NS(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,u,d){return Cf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function Rk(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=SS(s.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,l))}return n||null}function PE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&nl(s,a,((l,u)=>xk(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends wd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Kr extends wd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function NS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function OE(t,e,n){const s=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,wk(u,d,n[a]))}return s}function LE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,Ek(l,u,e))}return s}class xd extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ck extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ik{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Ak(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=qc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=qc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=IS(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((n,s)=>PE(n,s)))&&nl(this.baseMutations,e.baseMutations,((n,s)=>PE(n,s)))}}class Xy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return yk})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Xy(e,n,s,a)}}class Nk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dk{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,qe;function Vk(t){switch(t){case re.OK:return be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function DS(t){if(t===void 0)return Ls("GRPC error has no .code"),re.UNKNOWN;switch(t){case Ot.OK:return re.OK;case Ot.CANCELLED:return re.CANCELLED;case Ot.UNKNOWN:return re.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return re.INTERNAL;case Ot.UNAVAILABLE:return re.UNAVAILABLE;case Ot.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ot.NOT_FOUND:return re.NOT_FOUND;case Ot.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ot.ABORTED:return re.ABORTED;case Ot.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ot.DATA_LOSS:return re.DATA_LOSS;default:return be(39323,{code:t})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function Mk(){return new TextEncoder}const kk=new Vr([4294967295,4294967295],0);function jE(t){const e=Mk().encode(t),n=new Kx;return n.update(e),new Uint8Array(n.digest())}function UE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Vr([n,s],0),new Vr([a,l],0)]}class Wy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pc(`Invalid padding: ${n}`);if(s<0)throw new Pc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Vr.fromNumber(s)));return a.compare(kk)===1&&(a=new Vr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jE(e),[s,a]=UE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Wy(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=jE(e),[s,a]=UE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Sd(xe.min(),a,new pt(je),js(),Ue())}}class Tu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Ue(),Ue(),Ue())}}class If{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class VS{constructor(e,n){this.targetId=e,this.Ce=n}}class MS{constructor(e,n,s=an.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class BE{constructor(){this.ve=0,this.Fe=zE(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be(38017,{changeType:l})}})),new Tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=zE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Pk{constructor(e){this.Ge=e,this.ze=new Map,this.je=js(),this.Je=ff(),this.He=ff(),this.Ye=new pt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(jg(l))if(s===0){const u=new ye(l.path);this.et(n,u,un.newNoDocument(u,xe.min()))}else Qe(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Lr(s).toUint8Array()}catch(m){if(m instanceof sS)return tl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Wy(u,a,l)}catch(m){return tl(m instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&jg(d.target)){const m=new ye(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,un.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Ue();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Sd(e,n,this.Ye,this.je,s);return this.je=js(),this.Je=ff(),this.He=ff(),this.Ye=new pt(je),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ff(){return new pt(ye.comparator)}function zE(){return new pt(ye.comparator)}const Ok={asc:"ASCENDING",desc:"DESCENDING"},Lk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jk={and:"AND",or:"OR"};class Uk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zg(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bk(t,e){return Wf(t,e.toTimestamp())}function Ji(t){return Qe(!!t,49232),xe.fromTimestamp((function(n){const s=Or(n);return new lt(s.seconds,s.nanos)})(t))}function Zy(t,e){return Fg(t,e).canonicalString()}function Fg(t,e){const n=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function PS(t){const e=st.fromString(t);return Qe(BS(e),10190,{key:e.toString()}),e}function qg(t,e){return Zy(t.databaseId,e.path)}function Zp(t,e){const n=PS(e);if(n.get(1)!==t.databaseId.projectId)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(LS(n))}function OS(t,e){return Zy(t.databaseId,e)}function zk(t){const e=PS(t);return e.length===4?st.emptyPath():LS(e)}function Hg(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LS(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FE(t,e,n){return{name:qg(t,e),fields:n.value.mapValue.fields}}function Fk(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const y=g.code===void 0?re.UNKNOWN:DS(g.code);return new he(y,g.message||"")})(u);n=new MS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Zp(t,s.document.name),l=Ji(s.document.updateTime),u=s.document.createTime?Ji(s.document.createTime):xe.min(),d=new Rn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(a,l,u,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new If(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Zp(t,s.document),l=s.readTime?Ji(s.readTime):xe.min(),u=un.newNoDocument(a,l),d=s.removedTargetIds||[];n=new If([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Zp(t,s.document),l=s.removedTargetIds||[];n=new If([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new Dk(a,l),d=s.targetId;n=new VS(d,u)}}return n}function qk(t,e){let n;if(e instanceof _u)n={update:FE(t,e.key,e.value)};else if(e instanceof xd)n={delete:qg(t,e.key)};else if(e instanceof Kr)n={update:FE(t,e.key,e.data),updateMask:Zk(e.fieldMask)};else{if(!(e instanceof Ck))return be(16599,{Vt:e.type});n={verify:qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof Qf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Bk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function Hk(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Ji(a.updateTime):Ji(l);return u.isEqual(xe.min())&&(u=Ji(l)),new Sk(u,a.transformResults||[])})(n,e)))):[]}function Gk(t,e){return{documents:[OS(t,e.path)]}}function Kk(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=OS(t,a);const l=(function(g){if(g.length!==0)return US(xi.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(w){return{field:Bo(w.field),direction:Qk(w.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=zg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function $k(t){let e=zk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qe(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const w=jS(_);return w instanceof xi&&mS(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((w=>(function(I){return new Yf(zo(I.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let w;return w=typeof _=="object"?_.value:_,vd(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(_){const w=!!_.before,C=_.values||[];return new $f(C,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const w=!_.before,C=_.values||[];return new $f(C,w)})(n.endAt)),fk(e,a,u,l,d,"F",m,g)}function Yk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(n.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(zo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((s=>jS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function Qk(t){return Ok[t]}function Xk(t){return Lk[t]}function Wk(t){return jk[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function zo(t){return sn.fromServerFormat(t.fieldPath)}function US(t){return t instanceof jt?(function(n){if(n.op==="=="){if(IE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(CE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(CE(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:Xk(n.op),value:n.value}}})(t):t instanceof xi?(function(n){const s=n.getFilters().map((a=>US(a)));return s.length===1?s[0]:{compositeFilter:{op:Wk(n.op),filters:s}}})(t):be(54877,{filter:t})}function Zk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Cr{constructor(e,n,s,a,l=xe.min(),u=xe.min(),d=an.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jk{constructor(e){this.yt=e}}function eP(t){const e=$k({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bg(e,e.limit,"L"):e}class tP{constructor(){this.Cn=new nP}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Pr.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class nP{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ht(st.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ht(st.comparator)).toArray()}}const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zS=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(zS,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}const HE="LruGarbageCollector",iP=1048576;function GE([t,e],[n,s]){const a=je(t,n);return a===0?je(e,s):a}class sP{constructor(e){this.Ir=e,this.buffer=new Ht(GE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();GE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rP{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(HE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?de(HE,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)}))}}class aP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(yd.ce);const s=new sP(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(qE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(g=Date.now(),jo()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function oP(t,e){return new aP(t,e)}class lP{constructor(){this.changes=new Ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uP{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&qc(s.mutation,a,Un.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const a=Na();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=kc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=js();const u=Fc(),d=(function(){return Fc()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Kr)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),qc(y.mutation,g,y.mutation.getFieldMask(),lt.now())):u.set(g.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>u.set(g,y))),n.forEach(((g,y)=>d.set(g,new cP(y,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Fc();let a=new pt(((u,d)=>u-d)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Un.empty();y=d.applyToLocalView(g,y),s.set(m,y);const _=(a.get(d.batchId)||Ue()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=wS();y.forEach((w=>{if(!l.has(w)){const C=IS(n.get(w),s.get(w));C!==null&&_.set(w,C),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return oe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(Na());let d=Wc,m=l;return u.next((g=>oe.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ue()))).next((y=>({batchId:d,changes:ES(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=kc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(m=>{const g=(function(_,w){return new vu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((y=>{y.forEach(((_,w)=>{u=u.insert(_,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,un.newInvalidDocument(y)))}));let d=kc();return u.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&qc(y.mutation,g,Un.empty(),lt.now()),bd(n,g)&&(d=d.insert(m,g))})),d}))}}class hP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ji(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:eP(a.bundledQuery),readTime:Ji(a.readTime)}})(n)),oe.resolve()}}class fP{constructor(){this.overlays=new pt(ye.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Na();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=Na(),l=n.length+1,u=new ye(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Na(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Na(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return oe.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new Nk(n,s));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class dP{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class Jy{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Yt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Yt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new st([])),s=new Yt(n,e),a=new Yt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new st([])),s=new Yt(n,e),a=new Yt(n,e+1);let l=Ue();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Yt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class mP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Ik(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?qy:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Yt(n,0),a=new Yt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const d=this.Xr(u.Yr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(je);return n.forEach((a=>{const l=new Yt(a,0),u=new Yt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{s=s.add(d.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const u=new Yt(new ye(l),0);let d=new Ht(je);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),u),oe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new Yt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Yt(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pP{constructor(e){this.ri=e,this.docs=(function(){return new pt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=js();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=js();const u=n.path,d=new ye(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||H4(q4(y),s)<=0||(a.has(y.key)||bd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){be(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new gP(this)}getSize(e){return oe.resolve(this.size)}}class gP extends lP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class yP{constructor(e){this.persistence=e,this.si=new Ha((n=>Ky(n)),$y),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Jy,this.targetCount=0,this.ai=rl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}class FS{constructor(e,n){this.ui={},this.overlays={},this.ci=new yd(0),this.li=!1,this.li=!0,this.hi=new dP,this.referenceDelegate=e(this),this.Pi=new yP(this),this.indexManager=new tP,this.remoteDocumentCache=(function(a){return new pP(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Jk(n),this.Ii=new hP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new mP(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new vP(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class vP extends K4{constructor(e){super(),this.currentSequenceNumber=e}}class e0{constructor(e){this.persistence=e,this.Ri=new Jy,this.Vi=null}static mi(e){return new e0(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zf{constructor(e,n){this.persistence=e,this.pi=new Ha((s=>Q4(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=oP(this,n)}static mi(e,n){return new Zf(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((d=>{d||(s++,l.removeEntry(u,xe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Af(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class t0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new t0(e,n.fromCache,s,a)}}class _P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $N()?8:$4(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new _P;return this.Ss(e,n,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(jo()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(jo()<=Le.DEBUG&&de("QueryEngine","Query:",Uo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(jo()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):oe.resolve())}ys(e,n){if(ME(n))return oe.resolve(null);let s=Zi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Bg(n,null,"F"),s=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ue(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,u,m.readTime)?this.ys(e,Bg(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return ME(n)||a.isEqual(xe.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?oe.resolve(null):(jo()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(n)),this.vs(e,u,n,F4(a,Wc)).next((d=>d)))}))}Ds(e,n){let s=new Ht(TS(e));return n.forEach(((a,l)=>{bd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return jo()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.ps.getDocumentsMatchingQuery(e,n,Pr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const n0="LocalStore",bP=3e8;class EP{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new pt(je),this.xs=new Ha((l=>Ky(l)),$y),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function wP(t,e,n,s){return new EP(t,e,n,s)}async function qS(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=Ue();for(const g of a){u.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function xP(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const _=g.batch,w=_.keys();let C=oe.resolve();return w.forEach((I=>{C=C.next((()=>y.getEntry(m,I))).next((k=>{const D=g.docVersions.get(I);Qe(D!==null,48541),k.version.compareTo(D)<0&&(_.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),y.addEntry(k)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function HS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function SP(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,_)=>{const w=a.get(_);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(an.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(_,C),(function(k,D,O){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=bP?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(w,C,y)&&d.push(n.Pi.updateTargetData(l,C))}));let m=js(),g=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(AP(l,u,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(xe.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return oe.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function AP(t,e,n){let s=Ue(),a=Ue();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=js();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):de(n0,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function RP(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=qy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CP(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Cr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Gg(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!yl(u))throw u;de(n0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function KE(t,e,n){const s=Re(t);let a=xe.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,y){const _=Re(m),w=_.xs.get(y);return w!==void 0?oe.resolve(_.Ms.get(w)):_.Pi.getTargetData(g,y)})(s,u,Zi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:xe.min(),n?l:Ue()))).next((d=>(IP(s,mk(e),d),{documents:d,Qs:l})))))}function IP(t,e,n){let s=t.Os.get(e)||xe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class $E{constructor(){this.activeTargetIds=Tk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NP{constructor(){this.Mo=new $E,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $E,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DP{Oo(e){}shutdown(){}}const YE="ConnectivityMonitor";class QE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(YE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(YE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let df=null;function Kg(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}const Jp="RestConnection",VP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Kg(),d=this.zo(e,n.toUriEncodedString());de(Jp,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=fl(g);return this.Jo(e,d,m,s,y).then((_=>(de(Jp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw tl(Jp,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=VP[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class kP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class PP extends MP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Kg();return new Promise(((d,m)=>{const g=new $x;g.setWithCredentials(!0),g.listenOnce(Yx.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Sf.NO_ERROR:const _=g.getResponseJson();de(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case Sf.TIMEOUT:de(ln,`RPC '${e}' ${u} timed out`),m(new he(re.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const w=g.getStatus();if(de(ln,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C?.error;if(I&&I.status&&I.message){const k=(function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(U)>=0?U:re.UNKNOWN})(I.status);m(new he(k,I.message))}else m(new he(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(re.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(ln,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);de(ln,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Kg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Wx(),d=Xx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");de(ln,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=u.createWebChannel(y,m);this.I_(_);let w=!1,C=!1;const I=new kP({Yo:D=>{C?de(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(w||(de(ln,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),de(ln,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Zo:()=>_.close()}),k=(D,O,U)=>{D.listen(O,(F=>{try{U(F)}catch(te){setTimeout((()=>{throw te}),0)}}))};return k(_,Mc.EventType.OPEN,(()=>{C||(de(ln,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),k(_,Mc.EventType.CLOSE,(()=>{C||(C=!0,de(ln,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(_))})),k(_,Mc.EventType.ERROR,(D=>{C||(C=!0,tl(ln,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),I.a_(new he(re.UNAVAILABLE,"The operation could not be completed")))})),k(_,Mc.EventType.MESSAGE,(D=>{if(!C){const O=D.data[0];Qe(!!O,16349);const U=O,F=U?.error||U[0]?.error;if(F){de(ln,`RPC '${e}' stream ${a} received error:`,F);const te=F.status;let Z=(function(S){const N=Ot[S];if(N!==void 0)return DS(N)})(te),se=F.message;Z===void 0&&(Z=re.INTERNAL,se="Unknown error status: "+te+" with message "+F.message),C=!0,I.a_(new he(Z,se)),_.close()}else de(ln,`RPC '${e}' stream ${a} received:`,O),I.u_(O)}})),k(d,Qx.STAT_EVENT,(D=>{D.stat===Mg.PROXY?de(ln,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Mg.NOPROXY&&de(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function eg(){return typeof document<"u"?document:null}function Ad(t){return new Uk(t,!0)}class GS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const XE="PersistentStream";class KS{constructor(e,n,s,a,l,u,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(XE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(XE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OP extends KS{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Fk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return xe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Ji(u.readTime):xe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Hg(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=jg(m)?{documents:Gk(l,m)}:{query:Kk(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=kS(l,u.resumeToken);const g=zg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(xe.min())>0){d.readTime=Wf(l,u.snapshotVersion.toTimestamp());const g=zg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=Yk(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Hg(this.serializer),n.removeTarget=e,this.q_(n)}}class LP extends KS{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Hk(e.writeResults,e.commitTime),s=Ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Hg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>qk(this.serializer,s)))};this.q_(n)}}class jP{}class UP extends jP{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Fg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(re.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Fg(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class zP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Ga(this)&&(de(qa,"Restarting streams for network reachability change."),await(async function(m){const g=Re(m);g.Ea.add(4),await bu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Ra=new BP(s,a)}}async function Rd(t){if(Ga(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function $S(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),a0(n)?r0(n):vl(n).O_()&&s0(n,e))}function i0(t,e){const n=Re(t),s=vl(n);n.Ia.delete(e),s.O_()&&YS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ga(n)&&n.Ra.set("Unknown"))}function s0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Y_(e)}function YS(t,e){t.Va.Ue(e),vl(t).Z_(e)}function r0(t){t.Va=new Pk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Ra.ua()}function a0(t){return Ga(t)&&!vl(t).x_()&&t.Ia.size>0}function Ga(t){return Re(t).Ea.size===0}function QS(t){t.Va=void 0}async function FP(t){t.Ra.set("Online")}async function qP(t){t.Ia.forEach(((e,n)=>{s0(t,e)}))}async function HP(t,e){QS(t),a0(t)?(t.Ra.ha(e),r0(t)):t.Ra.set("Unknown")}async function GP(t,e,n){if(t.Ra.set("Online"),e instanceof MS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){de(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jf(t,s)}else if(e instanceof If?t.Va.Ze(e):e instanceof VS?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const s=await HS(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),YS(l,m);const _=new Cr(y.target,m,g,y.sequenceNumber);s0(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){de(qa,"Failed to raise snapshot:",s),await Jf(t,s)}}async function Jf(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await bu(t),t.Ra.set("Offline"),n||(n=()=>HS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rd(t)}))}function XS(t,e){return e().catch((n=>Jf(t,n,e)))}async function Cd(t){const e=Re(t),n=Ur(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qy;for(;KP(e);)try{const a=await RP(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,$P(e,a)}catch(a){await Jf(e,a)}WS(e)&&ZS(e)}function KP(t){return Ga(t)&&t.Ta.length<10}function $P(t,e){t.Ta.push(e);const n=Ur(t);n.O_()&&n.X_&&n.ea(e.mutations)}function WS(t){return Ga(t)&&!Ur(t).x_()&&t.Ta.length>0}function ZS(t){Ur(t).start()}async function YP(t){Ur(t).ra()}async function QP(t){const e=Ur(t);for(const n of t.Ta)e.ea(n.mutations)}async function XP(t,e,n){const s=t.Ta.shift(),a=Xy.from(s,e,n);await XS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Cd(t)}async function WP(t,e){e&&Ur(t).X_&&await(async function(s,a){if((function(u){return Vk(u)&&u!==re.ABORTED})(a.code)){const l=s.Ta.shift();Ur(s).B_(),await XS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cd(s)}})(t,e),WS(t)&&ZS(t)}async function WE(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),de(qa,"RemoteStore received new credentials");const s=Ga(n);n.Ea.add(3),await bu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rd(n)}async function ZP(t,e){const n=Re(t);e?(n.Ea.delete(2),await Rd(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function vl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new OP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:FP.bind(null,t),t_:qP.bind(null,t),r_:HP.bind(null,t),H_:GP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),a0(t)?r0(t):t.Ra.set("Unknown")):(await t.ma.stop(),QS(t))}))),t.ma}function Ur(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new LP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:YP.bind(null,t),r_:WP.bind(null,t),ta:QP.bind(null,t),na:XP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cd(t)):(await t.fa.stop(),t.Ta.length>0&&(de(qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class o0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new o0(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),yl(t))return new he(re.UNAVAILABLE,`${e}: ${t}`);throw t}class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=kc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ZE{constructor(){this.ga=new pt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class al{constructor(e,n,s,a,l,u,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new al(e,n,Xo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class JP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eO{constructor(){this.queries=JE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=JE(),l.forEach(((u,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new he(re.ABORTED,"Firestore shutting down"))}}function JE(){return new Ha((t=>_S(t)),Td)}async function JS(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new JP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=l0(u,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&c0(n)}async function eA(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tO(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(s=!0);u.wa=a}}s&&c0(n)}function nO(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function c0(t){t.Ca.forEach((e=>{e.next()}))}var $g,ew;(ew=$g||($g={})).Ma="default",ew.Cache="cache";class tA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new al(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$g.Cache}}class nA{constructor(e){this.key=e}}class iA{constructor(e){this.key=e}}class iO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=TS(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ZE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const w=a.get(y),C=bd(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),k=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let D=!1;w&&C?w.data.isEqual(C.data)?I!==k&&(s.track({type:3,doc:C}),D=!0):this.su(w,C)||(s.track({type:2,doc:C}),D=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!w&&C?(s.track({type:0,doc:C}),D=!0):w&&!C&&(s.track({type:1,doc:w}),D=!0,(m||g)&&(d=!0)),D&&(C?(u=u.add(C),l=k?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(C,I){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:D})}};return k(C)-k(I)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new al(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new iA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new nA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const u0="SyncEngine";class sO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rO{constructor(e){this.key=e,this.hu=!1}}class aO{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ha((d=>_S(d)),Td),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ye.comparator),this.Au=new Map,this.Ru=new Jy,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oO(t,e,n=!0){const s=cA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await sA(s,e,n,!0),a}async function lO(t,e){const n=cA(t);await sA(n,e,!0,!1)}async function sA(t,e,n,s){const a=await CP(t.localStore,Zi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await cO(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&$S(t.remoteStore,a),d}async function cO(t,e,n,s,a){t.pu=(_,w,C)=>(async function(k,D,O,U){let F=D.view.ru(O);F.Cs&&(F=await KE(k.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,F))));const te=U&&U.targetChanges.get(D.targetId),Z=U&&U.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges(F,k.isPrimaryClient,te,Z);return nw(k,D.targetId,se.au),se.snapshot})(t,_,w,C);const l=await KE(t.localStore,e,!0),u=new iO(e,l.Qs),d=u.ru(l.documents),m=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(d,t.isPrimaryClient,m);nw(t,n,g.au);const y=new sO(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function uO(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Td(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Gg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&i0(s.remoteStore,a.targetId),Yg(s,a.targetId)})).catch(gl)):(Yg(s,a.targetId),await Gg(s.localStore,a.targetId,!0))}async function hO(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),i0(n.remoteStore,s.targetId))}async function fO(t,e,n){const s=_O(t);try{const a=await(function(u,d){const m=Re(u),g=lt.now(),y=d.reduce(((C,I)=>C.add(I.key)),Ue());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let I=js(),k=Ue();return m.Ns.getEntries(C,y).next((D=>{I=D,I.forEach(((O,U)=>{U.isValidDocument()||(k=k.add(O))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,I))).next((D=>{_=D;const O=[];for(const U of d){const F=Rk(U,_.get(U.key).overlayedDocument);F!=null&&O.push(new Kr(U.key,F,hS(F.value.mapValue),yn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,O,d)})).next((D=>{w=D;const O=D.applyToLocalDocumentSet(_,k);return m.documentOverlayCache.saveOverlays(C,D.batchId,O)}))})).then((()=>({batchId:w.batchId,changes:ES(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new pt(je)),g=g.insert(d,m),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await Eu(s,a.changes),await Cd(s.remoteStore)}catch(a){const l=l0(a,"Failed to persist write");n.reject(l)}}async function rA(t,e){const n=Re(t);try{const s=await SP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Qe(u.hu,14607):a.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await Eu(n,s,e)}catch(s){await gl(s)}}function tw(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=Re(u);m.onlineState=d;let g=!1;m.queries.forEach(((y,_)=>{for(const w of _.Sa)w.va(d)&&(g=!0)})),g&&c0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dO(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new pt(ye.comparator);u=u.insert(l,un.newNoDocument(l,xe.min()));const d=Ue().add(l),m=new Sd(xe.min(),new Map,new pt(je),u,d);await rA(s,m),s.du=s.du.remove(l),s.Au.delete(e),h0(s)}else await Gg(s.localStore,e,!1).then((()=>Yg(s,e,n))).catch(gl)}async function mO(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await xP(n.localStore,e);oA(n,s,null),aA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,a)}catch(a){await gl(a)}}async function pO(t,e,n){const s=Re(t);try{const a=await(function(u,d){const m=Re(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((_=>(Qe(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,e);oA(s,e,n),aA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,a)}catch(a){await gl(a)}}function aA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function oA(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||lA(t,s)}))}function lA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(i0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),h0(t))}function nw(t,e,n){for(const s of n)s instanceof nA?(t.Ru.addReference(s.key,e),gO(t,s)):s instanceof iA?(de(u0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||lA(t,s.key)):be(19791,{wu:s})}function gO(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(de(u0,"New document in limbo: "+n),t.Eu.add(s),h0(t))}function h0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(st.fromString(e)),s=t.fu.next();t.Au.set(s,new rO(n)),t.du=t.du.insert(n,s),$S(t.remoteStore,new Cr(Zi(Yy(n.path)),s,"TargetPurposeLimboResolution",yd.ce))}}async function Eu(t,e,n){const s=Re(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=t0.As(m.targetId,g);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,g){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>oe.forEach(g,(w=>oe.forEach(w.Es,(C=>y.persistence.referenceDelegate.addReference(_,w.targetId,C))).next((()=>oe.forEach(w.ds,(C=>y.persistence.referenceDelegate.removeReference(_,w.targetId,C)))))))))}catch(_){if(!yl(_))throw _;de(n0,"Failed to update sequence numbers: "+_)}for(const _ of g){const w=_.targetId;if(!_.fromCache){const C=y.Ms.get(w),I=C.snapshotVersion,k=C.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(w,k)}}})(s.localStore,l))}async function yO(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){de(u0,"User change. New user:",e.toKey());const s=await qS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(re.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ls)}}function vO(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function cA(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dO.bind(null,e),e.Pu.H_=tO.bind(null,e.eventManager),e.Pu.yu=nO.bind(null,e.eventManager),e}function _O(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pO.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wP(this.persistence,new TP,e.initialUser,this.serializer)}Cu(e){return new FS(e0.mi,this.serializer)}Du(e){return new NP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class TO extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Zf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rP(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new FS((s=>Zf.mi(s,n)),this.serializer)}}class Qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yO.bind(null,this.syncEngine),await ZP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eO})()}createDatastore(e){const n=Ad(e.databaseInfo.databaseId),s=(function(l){return new PP(l)})(e.databaseInfo);return(function(l,u,d,m){return new UP(l,u,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new zP(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>tw(this.syncEngine,n,0)),(function(){return QE.v()?new QE:new DP})())}createSyncEngine(e,n){return(function(a,l,u,d,m,g,y){const _=new aO(a,l,u,d,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);de(qa,"RemoteStore shutting down."),s.Ea.add(5),await bu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qg.provider={build:()=>new Qg};class uA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Br="FirestoreClient";class bO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=Fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{de(Br,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(de(Br,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=l0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tg(t,e){t.asyncQueue.verifyOperationInProgress(),de(Br,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await qS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function iw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EO(t);de(Br,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>WE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>WE(e.remoteStore,a))),t._onlineComponents=e}async function EO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Br,"Using user provided OfflineComponentProvider");try{await tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await tg(t,new ed)}}else de(Br,"Using default OfflineComponentProvider"),await tg(t,new TO(void 0));return t._offlineComponents}async function hA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Br,"Using user provided OnlineComponentProvider"),await iw(t,t._uninitializedComponentsProvider._online)):(de(Br,"Using default OnlineComponentProvider"),await iw(t,new Qg))),t._onlineComponents}function wO(t){return hA(t).then((e=>e.syncEngine))}async function fA(t){const e=await hA(t),n=e.eventManager;return n.onListen=oO.bind(null,e.syncEngine),n.onUnlisten=uO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hO.bind(null,e.syncEngine),n}function xO(t,e,n={}){const s=new Ms;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,g){const y=new uA({next:w=>{y.Nu(),u.enqueueAndForget((()=>eA(l,_)));const C=w.docs.has(d);!C&&w.fromCache?g.reject(new he(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&m&&m.source==="server"?g.reject(new he(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new tA(Yy(d.path),y,{includeMetadataChanges:!0,qa:!0});return JS(l,_)})(await fA(t),t.asyncQueue,e,n,s))),s.promise}function SO(t,e,n={}){const s=new Ms;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,g){const y=new uA({next:w=>{y.Nu(),u.enqueueAndForget((()=>eA(l,_))),w.fromCache&&m.source==="server"?g.reject(new he(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new tA(d,y,{includeMetadataChanges:!0,qa:!0});return JS(l,_)})(await fA(t),t.asyncQueue,e,n,s))),s.promise}function dA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const sw=new Map;const mA="firestore.googleapis.com",rw=!0;class aw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=rw}else this.host=e.host,this.ssl=e.ssl??rw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iP)throw new he(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new D4;switch(s.type){case"firstParty":return new P4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=sw.get(n);s&&(de("ComponentProvider","Removing Datastore"),sw.delete(n),s.terminate())})(this),Promise.resolve()}}function AO(t,e,n,s={}){t=oi(t,Id);const a=fl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(sx(`https://${d}`),rx("Firestore",!0)),l.host!==mA&&l.host!==d&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!ja(m,u)&&(t._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=cn.MOCK_USER;else{g=jN(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new he(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(_)}t._authCredentials=new V4(new Jx(g,y))}}class _l{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _l(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,At._jsonSchema))return new At(e,s||null,new ye(st.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Ut("string",At._jsonSchemaVersion),referencePath:Ut("string")};class Mr extends _l{constructor(e,n,s){super(e,n,Yy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ye(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function Qi(t,e,...n){if(t=_t(t),eS("collection","path",e),t instanceof Id){const s=st.fromString(e,...n);return _E(s),new Mr(t,null,s)}{if(!(t instanceof At||t instanceof Mr))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return _E(s),new Mr(t.firestore,null,s)}}function rt(t,e,...n){if(t=_t(t),arguments.length===1&&(e=Fy.newId()),eS("doc","path",e),t instanceof Id){const s=st.fromString(e,...n);return vE(s),new At(t,null,new ye(s))}{if(!(t instanceof At||t instanceof Mr))throw new he(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return vE(s),new At(t.firestore,t instanceof Mr?t.converter:null,new ye(s))}}const ow="AsyncQueue";class lw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GS(this,"async_queue_retry"),this._c=()=>{const s=eg();s&&de(ow,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;de(ow,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",cw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=o0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:cw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $r extends Id{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new lw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lw(e),this._firestoreClient=void 0,await e}}}function RO(t,e){const n=typeof t=="object"?t:cx(),s=typeof t=="string"?t:Gf,a=Ny(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=ON("firestore");l&&AO(a,...l)}return a}function Nd(t){if(t._terminated)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CO(t),t._firestoreClient}function CO(t){const e=t._freezeSettings(),n=(function(a,l,u,d){return new Z4(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(an.fromBase64String(e))}catch(n){throw new he(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Ut("string",ni._jsonSchemaVersion),bytes:Ut("string")};class wu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class f0{constructor(e){this._methodName=e}}class es{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(e){if(yu(e,es._jsonSchema))return new es(e.latitude,e.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:Ut("string",es._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class ts{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ts(e.vectorValues);throw new he(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ts._jsonSchemaVersion="firestore/vectorValue/1.0",ts._jsonSchema={type:Ut("string",ts._jsonSchemaVersion),vectorValues:Ut("object")};const IO=/^__.*__$/;class NO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class pA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class d0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new d0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gA(this.Ac)&&IO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ad(e)}Cc(e,n,s,a=!1){return new d0({Ac:e,methodName:n,Dc:s,path:sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xu(t){const e=t._freezeSettings(),n=Ad(t._databaseId);return new DO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m0(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);p0("Data must be an object, but it was:",u,s);const d=_A(s,u);let m,g;if(l.merge)m=new Un(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const w=Xg(e,_,n);if(!u.contains(w))throw new he(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);bA(y,w)||y.push(w)}m=new Un(y),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new NO(new Rn(d),m,g)}class Dd extends f0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function yA(t,e,n,s){const a=t.Cc(1,e,n);p0("Data must be an object, but it was:",a,s);const l=[],u=Rn.empty();Gr(s,((m,g)=>{const y=g0(e,m,n);g=_t(g);const _=a.yc(y);if(g instanceof Dd)l.push(y);else{const w=Su(g,_);w!=null&&(l.push(y),u.set(y,w))}}));const d=new Un(l);return new pA(u,d,a.fieldTransforms)}function vA(t,e,n,s,a,l){const u=t.Cc(1,e,n),d=[Xg(e,s,n)],m=[a];if(l.length%2!=0)throw new he(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Xg(e,l[w])),m.push(l[w+1]);const g=[],y=Rn.empty();for(let w=d.length-1;w>=0;--w)if(!bA(g,d[w])){const C=d[w];let I=m[w];I=_t(I);const k=u.yc(C);if(I instanceof Dd)g.push(C);else{const D=Su(I,k);D!=null&&(g.push(C),y.set(C,D))}}const _=new Un(g);return new pA(y,_,u.fieldTransforms)}function VO(t,e,n,s=!1){return Su(n,t.Cc(s?4:3,e))}function Su(t,e){if(TA(t=_t(t)))return p0("Unsupported field value:",e,t),_A(t,e);if(t instanceof f0)return(function(s,a){if(!gA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=Su(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=lt.fromDate(s);return{timestampValue:Wf(a.serializer,l)}}if(s instanceof lt){const l=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,l)}}if(s instanceof es)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:kS(a.serializer,s._byteString)};if(s instanceof At){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ts)return(function(u,d){return{mapValue:{fields:{[cS]:{stringValue:uS},[Kf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Qy(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${gd(s)}`)})(t,e)}function _A(t,e){const n={};return iS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,((s,a)=>{const l=Su(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function TA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof es||t instanceof ni||t instanceof At||t instanceof f0||t instanceof ts)}function p0(t,e,n){if(!TA(n)||!tS(n)){const s=gd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Xg(t,e,n){if((e=_t(e))instanceof wu)return e._internalPath;if(typeof e=="string")return g0(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const MO=new RegExp("[~\\*/\\[\\]]");function g0(t,e,n){if(e.search(MO)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wu(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new he(re.INVALID_ARGUMENT,d+t+m)}function bA(t,e){return t.some((n=>n.isEqual(e)))}class EA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(y0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kO extends EA{data(){return super.data()}}function y0(t,e){return typeof e=="string"?g0(t,e):e instanceof wu?e._internalPath:e._delegate._internalPath}function PO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}class OO extends v0{}function Da(t,e,...n){let s=[];e instanceof v0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof _0)).length,d=l.filter((m=>m instanceof Vd)).length;if(u>1||u>0&&d>0)throw new he(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Vd extends OO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Vd(e,n,s)}_apply(e){const n=this._parse(e);return wA(e._query,n),new _l(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=xu(e.firestore);return(function(l,u,d,m,g,y,_){let w;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){hw(_,y);const I=[];for(const k of _)I.push(uw(m,l,k));w={arrayValue:{values:I}}}else w=uw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||hw(_,y),w=VO(d,u,_,y==="in"||y==="not-in");return jt.create(g,y,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ns(t,e,n){const s=e,a=y0("where",t);return Vd._create(a,s,n)}class _0 extends v0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)wA(u,m),u=Ug(u,m)})(e._query,n),new _l(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function uw(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new he(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!ye.isDocumentKey(s))throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return RE(t,new ye(s))}if(n instanceof At)return RE(t,n._key);throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function hw(t,e){if(!Array.isArray(t)||t.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wA(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LO{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Gr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Kf].arrayValue?.values?.map((s=>St(s.doubleValue)));return new ts(n)}convertGeoPoint(e){return new es(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_d(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=Or(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Qe(BS(s),9688,{name:e});const a=new Jc(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Ls(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function T0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends EA{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(y0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:Ut("string",Pa._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Nf extends Pa{data(e={}){return super.data(e)}}class Wo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Oc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nf(this._firestore,this._userDataWriter,s.key,s,new Oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Nf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Oc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Nf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Oc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:jO(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function rn(t){t=oi(t,At);const e=oi(t.firestore,$r);return xO(Nd(e),t._key).then((n=>zO(e,t,n)))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:Ut("string",Wo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class xA extends LO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Va(t){t=oi(t,_l);const e=oi(t.firestore,$r),n=Nd(e),s=new xA(e);return PO(t._query),SO(n,t._query).then((a=>new Wo(e,s,t,a)))}function iu(t,e,n){t=oi(t,At);const s=oi(t.firestore,$r),a=T0(t.converter,e,n);return Au(s,[m0(xu(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,yn.none())])}function UO(t,e,n,...s){t=oi(t,At);const a=oi(t.firestore,$r),l=xu(a);let u;return u=typeof(e=_t(e))=="string"||e instanceof wu?vA(l,"updateDoc",t._key,e,n,s):yA(l,"updateDoc",t._key,e),Au(a,[u.toMutation(t._key,yn.exists(!0))])}function BO(t){return Au(oi(t.firestore,$r),[new xd(t._key,yn.none())])}function ng(t,e){const n=oi(t.firestore,$r),s=rt(t),a=T0(t.converter,e);return Au(n,[m0(xu(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,yn.exists(!1))]).then((()=>s))}function Au(t,e){return(function(s,a){const l=new Ms;return s.asyncQueue.enqueueAndForget((async()=>fO(await wO(s),a,l))),l.promise})(Nd(t),e)}function zO(t,e,n){const s=n.docs.get(e._key),a=new xA(t);return new Pa(t,a,e._key,s,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}class FO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xu(e)}set(e,n,s){this._verifyNotCommitted();const a=ig(e,this._firestore),l=T0(a.converter,n,s),u=m0(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,yn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=ig(e,this._firestore);let u;return u=typeof(n=_t(n))=="string"||n instanceof wu?vA(this._dataReader,"WriteBatch.update",l._key,n,s,a):yA(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ig(e,this._firestore);return this._mutations=this._mutations.concat(new xd(n._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ig(t,e){if((t=_t(t)).firestore!==e)throw new he(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function SA(t){return Nd(t=oi(t,$r)),new FO(t,(e=>Au(t,e)))}(function(e,n=!0){(function(a){pl=a})(dl),Jo(new Ua("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new $r(new M4(s.getProvider("auth-internal")),new O4(u,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(g.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Dr(mE,pE,e),Dr(mE,pE,"esm2020")})();var qO="firebase",HO="12.7.0";Dr(qO,HO,"app");const GO={apiKey:"AIzaSyBaGcQdywx3EHrWuo7KAa4ed4oXOMvsFYM",authDomain:"nfl-bracket-b3140.firebaseapp.com",projectId:"nfl-bracket-b3140",storageBucket:"nfl-bracket-b3140.firebasestorage.app",messagingSenderId:"965277224800",appId:"1:965277224800:web:83afd415384e97b6d51805"};let sg,ei,Ve;try{sg=lx(GO),ei=I4(sg),Ve=RO(sg)}catch(t){console.error("Firebase initialization error:",t),console.warn("Please configure Firebase credentials in .env file")}const AA=M.createContext(),as=()=>M.useContext(AA),rg="drewpdewitt@gmail.com".split(",").map(t=>t.trim())||[],KO=({children:t})=>{const[e,n]=M.useState(null),[s,a]=M.useState(!0),[l,u]=M.useState(null),[d,m]=M.useState(!1),[g,y]=M.useState(null);M.useEffect(()=>{if(!ei){u("Firebase not configured. Please add .env file with Firebase credentials."),a(!1);return}return yM(ei,async D=>{if(n(D),m(D?rg.includes(D.email):!1),D){const O=await rn(rt(Ve,"users",D.uid));O.exists()?y(O.data().username):y(D.displayName||D.email.split("@")[0])}else y(null);a(!1)})},[]);const _=(k,D)=>{if(!ei)throw new Error("Firebase not configured");return fM(ei,k,D)},w=async(k,D,O)=>{if(!ei)throw new Error("Firebase not configured");const U=await hM(ei,k,D);await mM(U.user,{displayName:O});const F=rg.includes(k);return await iu(rt(Ve,"users",U.user.uid),{username:O,email:k,isAdmin:F,createdAt:new Date,emailVerified:!1}),await kx(U.user),U},C=async()=>{if(!ei)throw new Error("Firebase not configured");const k=new Rs,D=await jM(ei,k),O=await rn(rt(Ve,"users",D.user.uid)),U=rg.includes(D.user.email);return O.exists()||await iu(rt(Ve,"users",D.user.uid),{username:D.user.displayName||D.user.email.split("@")[0],email:D.user.email,isAdmin:U,createdAt:new Date}),D},I=()=>{if(!ei)throw new Error("Firebase not configured");return vM(ei)};return l?b.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md",children:[b.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:" Configuration Required"}),b.jsx("p",{className:"text-gray-700 mb-4",children:l}),b.jsxs("div",{className:"bg-gray-100 p-4 rounded text-sm",children:[b.jsx("p",{className:"font-semibold mb-2",children:"Quick Setup:"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[b.jsx("li",{children:"Create Firebase project at console.firebase.google.com"}),b.jsx("li",{children:"Enable Authentication (Email/Password)"}),b.jsx("li",{children:"Create Firestore database"}),b.jsx("li",{children:"Copy .env.example to .env"}),b.jsx("li",{children:"Add your Firebase credentials to .env"}),b.jsx("li",{children:"Restart dev server"})]})]})]})}):b.jsx(AA.Provider,{value:{user:e,login:_,signup:w,loginWithGoogle:C,logout:I,loading:s,isAdmin:d,username:g},children:t})};const $O=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),fw=t=>{const e=YO(t);return e.charAt(0).toUpperCase()+e.slice(1)},RA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),QO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var XO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WO=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>M.createElement("svg",{ref:m,...XO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:RA("lucide",a),...!l&&!QO(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,y])=>M.createElement(g,y)),...Array.isArray(l)?l:[l]]));const Tt=(t,e)=>{const n=M.forwardRef(({className:s,...a},l)=>M.createElement(WO,{ref:l,iconNode:e,className:RA(`lucide-${$O(fw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=fw(t),n};const ZO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kr=Tt("arrow-left",ZO);const JO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ag=Tt("arrow-right",JO);const e3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],t3=Tt("award",e3);const n3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],i3=Tt("calendar",n3);const s3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],r3=Tt("chart-column",s3);const a3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],o3=Tt("check",a3);const l3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nd=Tt("circle-alert",l3);const c3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u3=Tt("eye",c3);const h3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],f3=Tt("lock-open",h3);const d3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dw=Tt("lock",d3);const m3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],p3=Tt("log-out",m3);const g3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CA=Tt("mail",g3);const y3=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],v3=Tt("medal",y3);const _3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mw=Tt("plus",_3);const T3=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],b3=Tt("radio",T3);const E3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],w3=Tt("refresh-cw",E3);const x3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],S3=Tt("save",x3);const A3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IA=Tt("settings",A3);const R3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],NA=Tt("trash-2",R3);const C3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Wg=Tt("trophy",C3);const I3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N3=Tt("user",I3);const D3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pw=Tt("users",D3);function V3(){const[t,e]=M.useState(!0),[n,s]=M.useState(""),[a,l]=M.useState(""),[u,d]=M.useState(""),[m,g]=M.useState(""),[y,_]=M.useState(""),[w,C]=M.useState(!1),{login:I,signup:k,loginWithGoogle:D}=as(),O=zs(),U=Z=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Z),F=async Z=>{if(Z.preventDefault(),_(""),C(!1),!t){if(!U(n)){_("Please enter a valid email address");return}if(a!==u){_("Passwords do not match");return}if(a.length<6){_("Password must be at least 6 characters");return}}try{t?(await I(n,a),O("/rooms")):(await k(n,a,m),C(!0))}catch(se){_(se.message)}},te=async()=>{_("");try{await D(),O("/rooms")}catch(Z){_(Z.message)}};return b.jsxs("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),b.jsxs("div",{className:"relative z-10 bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[b.jsx("div",{className:"flex items-center justify-center mb-6",children:b.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:b.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[14px] flex items-center justify-center text-white text-2xl font-black italic",children:"NFL"})})}),b.jsx("h1",{className:"text-3xl font-black text-center mb-2 text-white uppercase tracking-tight",children:"Mixin it up Family Bracket"}),b.jsx("p",{className:"text-center text-slate-400 mb-6 text-sm",children:t?"Sign in to continue":"Create your account"}),w?b.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-6 text-center",children:[b.jsx(nd,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-bold text-green-400 mb-2",children:"Verification Email Sent!"}),b.jsx("p",{className:"text-slate-300 mb-4",children:"Please check your email and click the verification link to activate your account."}),b.jsx("button",{onClick:()=>{C(!1),e(!0)},className:"text-green-400 font-semibold hover:underline",children:"Back to Sign In"})]}):b.jsxs(b.Fragment,{children:[b.jsxs("form",{onSubmit:F,className:"space-y-4",children:[!t&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Username"}),b.jsx("input",{type:"text",value:m,onChange:Z=>g(Z.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:n,onChange:Z=>s(Z.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),b.jsx("input",{type:"password",value:a,onChange:Z=>l(Z.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),!t&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Confirm Password"}),b.jsx("input",{type:"password",value:u,onChange:Z=>d(Z.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),y&&b.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",children:[b.jsx(nd,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),b.jsx("p",{className:"text-red-400 text-sm",children:y})]}),b.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition font-bold uppercase tracking-wide",children:t?"Sign In":"Sign Up"})]}),b.jsxs("div",{className:"relative my-6",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-slate-700"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-slate-900/60 text-slate-400",children:"Or continue with"})})]}),b.jsxs("button",{onClick:te,className:"w-full flex items-center justify-center gap-3 bg-white/10 border border-white/20 text-white py-3 rounded-lg hover:bg-white/20 transition font-semibold",children:[b.jsx(CA,{className:"w-5 h-5"}),"Google"]}),b.jsxs("p",{className:"text-center mt-4 text-sm text-slate-400",children:[t?"Don't have an account? ":"Already have an account? ",b.jsx("button",{onClick:()=>e(!t),className:"text-blue-400 font-semibold hover:underline",children:t?"Sign Up":"Sign In"})]})]})]})]})}function M3(){const[t,e]=M.useState(""),[n,s]=M.useState([]),{user:a,logout:l,isAdmin:u,username:d}=as(),m=zs();M.useEffect(()=>{g()},[a]);const g=async()=>{const I=Da(Qi(Ve,"userRooms"),Ns("userId","==",a.uid)),k=await Va(I),D=[];for(const O of k.docs){const U=O.data(),F=await rn(rt(Ve,"rooms",U.roomId));F.exists()&&D.push({id:O.id,...U,isCreator:F.data().createdBy===a.uid})}s(D)},y=async()=>{const I=Math.random().toString(36).substring(2,8).toUpperCase(),k=await ng(Qi(Ve,"rooms"),{code:I,createdAt:new Date,createdBy:a.uid});await ng(Qi(Ve,"userRooms"),{userId:a.uid,roomId:k.id,roomCode:I}),m(`/bracket/${k.id}`)},_=async I=>{I.preventDefault();const k=Da(Qi(Ve,"rooms"),Ns("code","==",t.toUpperCase())),D=await Va(k);if(!D.empty){const O=D.docs[0].id;await ng(Qi(Ve,"userRooms"),{userId:a.uid,roomId:O,roomCode:t.toUpperCase()}),m(`/bracket/${O}`)}},w=async(I,k)=>{if(window.confirm(`Are you sure you want to delete room ${k}? This will delete all brackets in this room and cannot be undone.`))try{console.log("Starting room deletion for:",I),console.log("Fetching brackets...");const D=Da(Qi(Ve,"brackets"),Ns("roomId","==",I)),O=await Va(D);console.log("Found brackets:",O.docs.length),console.log("Fetching userRooms...");const U=Da(Qi(Ve,"userRooms"),Ns("roomId","==",I)),F=await Va(U);console.log("Found userRooms:",F.docs.length);const te=SA(Ve);console.log("Adding brackets to batch delete..."),O.docs.forEach(Z=>{te.delete(Z.ref)}),console.log("Adding userRooms to batch delete..."),F.docs.forEach(Z=>{te.delete(Z.ref)}),console.log("Adding room to batch delete..."),te.delete(rt(Ve,"rooms",I)),console.log("Committing batch..."),await te.commit(),console.log("Room deleted successfully!"),alert("Room deleted successfully!"),g()}catch(D){console.error("Full error object:",D),console.error("Error code:",D.code),console.error("Error message:",D.message),alert(`Error deleting room: ${D.message}

Check console for details.`)}},C=n.length===0;return b.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),b.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),b.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),b.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),b.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[b.jsxs("div",{className:"flex justify-between items-center mb-12",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px] transition-transform duration-500",children:b.jsx("div",{className:"bg-[#020617] w-full h-full rounded-[10px] flex items-center justify-center text-white text-[14px] font-black italic",children:"NFL"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),b.jsxs("p",{className:"text-blue-200 text-sm",children:["Welcome back, ",d||"User"]})]})]}),b.jsxs("button",{onClick:l,className:"flex items-center gap-2 bg-red-500/20 backdrop-blur-sm border border-red-400/30 text-red-200 px-6 py-3 rounded-xl hover:bg-red-500/30 transition-all duration-300 shadow-lg hover:shadow-red-500/20",children:[b.jsx(p3,{className:"w-4 h-4"})," Logout"]}),u&&b.jsxs("button",{onClick:()=>m("/admin/playoff-config"),className:"flex items-center gap-2 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 text-blue-200 px-6 py-3 rounded-xl hover:bg-blue-500/30 transition-all duration-300 shadow-lg hover:shadow-blue-500/20",children:[b.jsx(IA,{className:"w-4 h-4"})," Playoff Config"]})]}),C?b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-3xl p-12 shadow-2xl",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 rounded-2xl mb-6 shadow-lg shadow-yellow-600/10",children:b.jsx(pw,{className:"w-10 h-10 text-white"})}),b.jsx("h2",{className:"text-4xl font-bold text-white mb-3",children:"Join a Room"}),b.jsx("p",{className:"text-slate-300 text-lg",children:"Enter a room code to get started with your bracket predictions"})]}),b.jsxs("form",{onSubmit:_,className:"space-y-6",children:[b.jsx("div",{children:b.jsx("input",{type:"text",value:t,onChange:I=>e(I.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-6 py-5 bg-slate-800/50 backdrop-blur-sm border-2 border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center text-2xl font-bold tracking-widest focus:ring-4 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all duration-300",maxLength:"6",required:!0})}),b.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-5 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-bold text-lg shadow-xl shadow-yellow-600/10 hover:shadow-2xl hover:scale-105 flex items-center justify-center gap-3",children:["Join Room ",b.jsx(ag,{className:"w-5 h-5"})]})]}),u&&b.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[b.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Or create a new room as admin"}),b.jsxs("button",{onClick:y,className:"w-full bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 text-white py-4 rounded-xl hover:bg-slate-700/50 transition-all duration-300 font-semibold flex items-center justify-center gap-2",children:[b.jsx(mw,{className:"w-5 h-5"})," Create New Room"]})]})]})}):b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:b.jsx(pw,{className:"w-6 h-6 text-white"})}),b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Join Room"})]}),b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[b.jsx("input",{type:"text",value:t,onChange:I=>e(I.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center font-bold tracking-wider focus:ring-2 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all",maxLength:"6",required:!0}),b.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl flex items-center justify-center gap-2",children:["Join ",b.jsx(ag,{className:"w-4 h-4"})]})]})]}),u&&b.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:b.jsx(mw,{className:"w-6 h-6 text-white"})}),b.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Room"})]}),b.jsx("p",{className:"text-slate-300 mb-6",children:"Start a new bracket room and share the code with friends"}),b.jsx("button",{onClick:y,className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl",children:"Create New Room"})]})]}),b.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[b.jsx(Wg,{className:"w-6 h-6 text-yellow-600/90"}),"My Rooms"]}),b.jsx("div",{className:"grid gap-4",children:n.map(I=>b.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl hover:bg-slate-800/50 transition-all duration-300 hover:shadow-lg",children:[b.jsxs("button",{onClick:()=>m(`/bracket/${I.roomId}`),className:"flex items-center gap-4 flex-grow text-left",children:[b.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-4 py-2 rounded-lg shadow-lg shadow-yellow-600/10",children:b.jsx("span",{className:"text-white font-bold text-lg tracking-wider",children:I.roomCode})}),b.jsxs("span",{className:"text-white font-semibold text-lg",children:["Room ",I.roomCode]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[u&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:k=>{k.stopPropagation(),m(`/admin/brackets/${I.roomId}`)},className:"p-2 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition text-blue-400",title:"View Submitted Brackets (Admin)",children:b.jsx(u3,{className:"w-4 h-4"})}),b.jsx("button",{onClick:k=>{k.stopPropagation(),w(I.roomId,I.roomCode)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Room (Admin)",children:b.jsx(NA,{className:"w-4 h-4"})})]}),b.jsx(ag,{className:"w-5 h-5 text-yellow-600/70"})]})]},I.id))})]})]})]}),b.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const gw=[{id:1,name:"Chiefs",city:"Kansas City",seed:1,conference:"AFC",color:"#E31837"},{id:2,name:"Bills",city:"Buffalo",seed:2,conference:"AFC",color:"#00338D"},{id:3,name:"Ravens",city:"Baltimore",seed:3,conference:"AFC",color:"#241773"},{id:4,name:"Texans",city:"Houston",seed:4,conference:"AFC",color:"#03202F"},{id:5,name:"Steelers",city:"Pittsburgh",seed:5,conference:"AFC",color:"#FFB612"},{id:6,name:"Chargers",city:"Los Angeles",seed:6,conference:"AFC",color:"#0080C6"},{id:7,name:"Broncos",city:"Denver",seed:7,conference:"AFC",color:"#FB4F14"},{id:8,name:"Lions",city:"Detroit",seed:1,conference:"NFC",color:"#0076B6"},{id:9,name:"Eagles",city:"Philadelphia",seed:2,conference:"NFC",color:"#004C54"},{id:10,name:"Rams",city:"Los Angeles",seed:3,conference:"NFC",color:"#003594"},{id:11,name:"Buccaneers",city:"Tampa Bay",seed:4,conference:"NFC",color:"#D50A0A"},{id:12,name:"Vikings",city:"Minnesota",seed:5,conference:"NFC",color:"#4F2683"},{id:13,name:"Commanders",city:"Washington",seed:6,conference:"NFC",color:"#5A1414"},{id:14,name:"Packers",city:"Green Bay",seed:7,conference:"NFC",color:"#203731"}],b0=async()=>{try{const t=await rn(rt(Ve,"config","playoffs"));if(t.exists()){const e=t.data(),n=e.afcTeams||[],s=e.nfcTeams||[],a=[...n,...s].filter(Boolean);if(a.length===14)return a}return gw}catch(t){return console.error("Error fetching playoff teams:",t),gw}},E0=M.createContext({});function w0(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const x0=typeof window<"u",DA=x0?M.useLayoutEffect:M.useEffect,Md=M.createContext(null);function S0(t,e){t.indexOf(e)===-1&&t.push(e)}function A0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Us=(t,e,n)=>n>e?e:n<t?t:n;let R0=()=>{};const Bs={},VA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MA(t){return typeof t=="object"&&t!==null}const kA=t=>/^0[^.\s]+$/u.test(t);function C0(t){let e;return()=>(e===void 0&&(e=t()),e)}const si=t=>t,k3=(t,e)=>n=>e(t(n)),Ru=(...t)=>t.reduce(k3),su=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class I0{constructor(){this.subscriptions=[]}add(e){return S0(this.subscriptions,e),()=>A0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ns=t=>t*1e3,ii=t=>t/1e3;function PA(t,e){return e?t*(1e3/e):0}const OA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,P3=1e-7,O3=12;function L3(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=OA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>P3&&++d<O3);return u}function Cu(t,e,n,s){if(t===e&&n===s)return si;const a=l=>L3(l,0,1,t,n);return l=>l===0||l===1?l:OA(a(l),e,s)}const LA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jA=t=>e=>1-t(1-e),UA=Cu(.33,1.53,.69,.99),N0=jA(UA),BA=LA(N0),zA=t=>(t*=2)<1?.5*N0(t):.5*(2-Math.pow(2,-10*(t-1))),D0=t=>1-Math.sin(Math.acos(t)),FA=jA(D0),qA=LA(D0),j3=Cu(.42,0,1,1),U3=Cu(0,0,.58,1),HA=Cu(.42,0,.58,1),B3=t=>Array.isArray(t)&&typeof t[0]!="number",GA=t=>Array.isArray(t)&&typeof t[0]=="number",z3={linear:si,easeIn:j3,easeInOut:HA,easeOut:U3,circIn:D0,circInOut:qA,circOut:FA,backIn:N0,backInOut:BA,backOut:UA,anticipate:zA},F3=t=>typeof t=="string",yw=t=>{if(GA(t)){R0(t.length===4);const[e,n,s,a]=t;return Cu(e,n,s,a)}else if(F3(t))return z3[t];return t},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),t()),y(d)}const g={schedule:(y,_=!1,w=!1)=>{const I=w&&a?n:s;return _&&u.add(y),I.has(y)||I.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const H3=40;function KA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=mf.reduce((F,te)=>(F[te]=q3(l),F),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:w,render:C,postRender:I}=u,k=()=>{const F=Bs.useManualTiming?a.timestamp:performance.now();n=!1,Bs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,H3),1)),a.timestamp=F,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),_.process(a),w.process(a),C.process(a),I.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(k))},D=()=>{n=!0,s=!0,a.isProcessing||t(k)};return{schedule:mf.reduce((F,te)=>{const Z=u[te];return F[te]=(se,R=!1,S=!1)=>(n||D(),Z.schedule(se,R,S)),F},{}),cancel:F=>{for(let te=0;te<mf.length;te++)u[mf[te]].cancel(F)},state:a,steps:u}}const{schedule:ft,cancel:zr,state:tn,steps:og}=KA(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let Df;function G3(){Df=void 0}const Cn={now:()=>(Df===void 0&&Cn.set(tn.isProcessing||Bs.useManualTiming?tn.timestamp:performance.now()),Df),set:t=>{Df=t,queueMicrotask(G3)}},$A=t=>e=>typeof e=="string"&&e.startsWith(t),YA=$A("--"),K3=$A("var(--"),V0=t=>K3(t)?$3.test(t.split("/*")[0].trim()):!1,$3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ru={...Tl,transform:t=>Us(0,1,t)},pf={...Tl,default:1},Hc=t=>Math.round(t*1e5)/1e5,M0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y3(t){return t==null}const Q3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,k0=(t,e)=>n=>!!(typeof n=="string"&&Q3.test(n)&&n.startsWith(t)||e&&!Y3(n)&&Object.prototype.hasOwnProperty.call(n,e)),QA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(M0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},X3=t=>Us(0,255,t),lg={...Tl,transform:t=>Math.round(X3(t))},Ma={test:k0("rgb","red"),parse:QA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+lg.transform(t)+", "+lg.transform(e)+", "+lg.transform(n)+", "+Hc(ru.transform(s))+")"};function W3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Zg={test:k0("#"),parse:W3,transform:Ma.transform},Iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=Iu("deg"),is=Iu("%"),Ee=Iu("px"),Z3=Iu("vh"),J3=Iu("vw"),vw={...is,parse:t=>is.parse(t)/100,transform:t=>is.transform(t*100)},Fo={test:k0("hsl","hue"),parse:QA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+is.transform(Hc(e))+", "+is.transform(Hc(n))+", "+Hc(ru.transform(s))+")"},Lt={test:t=>Ma.test(t)||Zg.test(t)||Fo.test(t),parse:t=>Ma.test(t)?Ma.parse(t):Fo.test(t)?Fo.parse(t):Zg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ma.transform(t):Fo.transform(t),getAnimatableNone:t=>{const e=Lt.parse(t);return e.alpha=0,Lt.transform(e)}},e6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t6(t){return isNaN(t)&&typeof t=="string"&&(t.match(M0)?.length||0)+(t.match(e6)?.length||0)>0}const XA="number",WA="color",n6="var",i6="var(",_w="${}",s6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function au(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(s6,m=>(Lt.test(m)?(s.color.push(l),a.push(WA),n.push(Lt.parse(m))):m.startsWith(i6)?(s.var.push(l),a.push(n6),n.push(m)):(s.number.push(l),a.push(XA),n.push(parseFloat(m))),++l,_w)).split(_w);return{values:n,split:d,indexes:s,types:a}}function ZA(t){return au(t).values}function JA(t){const{split:e,types:n}=au(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===XA?l+=Hc(a[u]):d===WA?l+=Lt.transform(a[u]):l+=a[u]}return l}}const r6=t=>typeof t=="number"?0:Lt.test(t)?Lt.getAnimatableNone(t):t;function a6(t){const e=ZA(t);return JA(t)(e.map(r6))}const Fr={test:t6,parse:ZA,createTransformer:JA,getAnimatableNone:a6};function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function o6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=cg(m,d,t+1/3),l=cg(m,d,t),u=cg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function id(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,ug=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},l6=[Zg,Ma,Fo],c6=t=>l6.find(e=>e.test(t));function Tw(t){const e=c6(t);if(!e)return!1;let n=e.parse(t);return e===Fo&&(n=o6(n)),n}const bw=(t,e)=>{const n=Tw(t),s=Tw(e);if(!n||!s)return id(t,e);const a={...n};return l=>(a.red=ug(n.red,s.red,l),a.green=ug(n.green,s.green,l),a.blue=ug(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),Ma.transform(a))},Jg=new Set(["none","hidden"]);function u6(t,e){return Jg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function h6(t,e){return n=>mt(t,e,n)}function P0(t){return typeof t=="number"?h6:typeof t=="string"?V0(t)?id:Lt.test(t)?bw:m6:Array.isArray(t)?eR:typeof t=="object"?Lt.test(t)?bw:f6:id}function eR(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>P0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function f6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=P0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function d6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const m6=(t,e)=>{const n=Fr.createTransformer(e),s=au(t),a=au(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Jg.has(t)&&!a.values.length||Jg.has(e)&&!s.values.length?u6(t,e):Ru(eR(d6(s,a),a.values),n):id(t,e)};function tR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):P0(t)(t,e)}const p6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>zr(e),now:()=>tn.isProcessing?tn.timestamp:Cn.now()}},nR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},sd=2e4;function O0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<sd;)e+=n,s=t.next(e);return e>=sd?1/0:e}function g6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(O0(s),sd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ii(a)}}const y6=5;function iR(t,e,n){const s=Math.max(e-y6,0);return PA(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hg=.001;function v6({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,u=1-e;u=Us(vt.minDamping,vt.maxDamping,u),t=Us(vt.minDuration,vt.maxDuration,ii(t)),u<1?(a=g=>{const y=g*u,_=y*t,w=y-n,C=ey(g,u),I=Math.exp(-_);return hg-w/C*I},l=g=>{const _=g*u*t,w=_*n+n,C=Math.pow(u,2)*Math.pow(g,2)*t,I=Math.exp(-_),k=ey(Math.pow(g,2),u);return(-a(g)+hg>0?-1:1)*((w-C)*I)/k}):(a=g=>{const y=Math.exp(-g*t),_=(g-n)*t+1;return-hg+y*_},l=g=>{const y=Math.exp(-g*t),_=(n-g)*(t*t);return y*_});const d=5/t,m=T6(a,l,d);if(t=ns(t),isNaN(m))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const _6=12;function T6(t,e,n){let s=n;for(let a=1;a<_6;a++)s=s-t(s)/e(s);return s}function ey(t,e){return t*Math.sqrt(1-e*e)}const b6=["duration","bounce"],E6=["stiffness","damping","mass"];function Ew(t,e){return e.some(n=>t[n]!==void 0)}function w6(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!Ew(t,E6)&&Ew(t,b6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Us(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=v6(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function rd(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:_,velocity:w,isResolvedFromDuration:C}=w6({...n,velocity:-ii(n.velocity||0)}),I=w||0,k=g/(2*Math.sqrt(m*y)),D=u-l,O=ii(Math.sqrt(m/y)),U=Math.abs(D)<5;s||(s=U?vt.restSpeed.granular:vt.restSpeed.default),a||(a=U?vt.restDelta.granular:vt.restDelta.default);let F;if(k<1){const Z=ey(O,k);F=se=>{const R=Math.exp(-k*O*se);return u-R*((I+k*O*D)/Z*Math.sin(Z*se)+D*Math.cos(Z*se))}}else if(k===1)F=Z=>u-Math.exp(-O*Z)*(D+(I+O*D)*Z);else{const Z=O*Math.sqrt(k*k-1);F=se=>{const R=Math.exp(-k*O*se),S=Math.min(Z*se,300);return u-R*((I+k*O*D)*Math.sinh(S)+Z*D*Math.cosh(S))/Z}}const te={calculatedDuration:C&&_||null,next:Z=>{const se=F(Z);if(C)d.done=Z>=_;else{let R=Z===0?I:0;k<1&&(R=Z===0?ns(I):iR(F,Z,se));const S=Math.abs(R)<=s,N=Math.abs(u-se)<=a;d.done=S&&N}return d.value=d.done?u:se,d},toString:()=>{const Z=Math.min(O0(te),sd),se=nR(R=>te.next(Z*R).value,Z,30);return Z+"ms "+se},toTransition:()=>{}};return te}rd.applyToOptions=t=>{const e=g6(t,100,rd);return t.ease=e.ease,t.duration=ns(e.duration),t.type="keyframes",t};function ty({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:g=.5,restSpeed:y}){const _=t[0],w={done:!1,value:_},C=S=>d!==void 0&&S<d||m!==void 0&&S>m,I=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let k=n*e;const D=_+k,O=u===void 0?D:u(D);O!==D&&(k=O-_);const U=S=>-k*Math.exp(-S/s),F=S=>O+U(S),te=S=>{const N=U(S),j=F(S);w.done=Math.abs(N)<=g,w.value=w.done?O:j};let Z,se;const R=S=>{C(w.value)&&(Z=S,se=rd({keyframes:[w.value,I(w.value)],velocity:iR(F,S,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return R(0),{calculatedDuration:null,next:S=>{let N=!1;return!se&&Z===void 0&&(N=!0,te(S),R(S)),Z!==void 0&&S>=Z?se.next(S-Z):(!N&&te(S),w)}}}function x6(t,e,n){const s=[],a=n||Bs.mix||tR,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||si:e;d=Ru(m,d)}s.push(d)}return s}function S6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(R0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=x6(e,s,a),m=d.length,g=y=>{if(u&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const w=su(t[_],t[_+1],y);return d[_](w)};return n?y=>g(Us(t[0],t[l-1],y)):g}function A6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=su(0,e,s);t.push(mt(n,1,a))}}function R6(t){const e=[0];return A6(e,t.length-1),e}function C6(t,e){return t.map(n=>n*e)}function I6(t,e){return t.map(()=>e||HA).splice(0,t.length-1)}function Gc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=B3(s)?s.map(yw):yw(s),l={done:!1,value:e[0]},u=C6(n&&n.length===e.length?n:R6(e),t),d=S6(u,e,{ease:Array.isArray(a)?a:I6(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const N6=t=>t!==null;function L0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(N6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const D6={decay:ty,inertia:ty,tween:Gc,keyframes:Gc,spring:rd};function sR(t){typeof t.type=="string"&&(t.type=D6[t.type])}class j0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const V6=t=>t/100;class U0 extends j0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sR(e);const{type:n=Gc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||Gc;m!==Gc&&typeof d[0]!="number"&&(this.mixKeyframes=Ru(V6,tR(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=O0(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:w,repeatDelay:C,type:I,onUpdate:k,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-g*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,te=s;if(_){const S=Math.min(this.currentTime,a)/d;let N=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&N--,N=Math.min(N,_+1),N%2&&(w==="reverse"?(j=1-j,C&&(j-=C/d)):w==="mirror"&&(te=u)),F=Us(0,1,j)*d}const Z=U?{done:!1,value:y[0]}:te.next(F);l&&(Z.value=l(Z.value));let{done:se}=Z;!U&&m!==null&&(se=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return R&&I!==ty&&(Z.value=L0(y,this.options,D,this.speed)),k&&k(Z.value),R&&this.finish(),Z}then(e,n){return this.finished.then(e,n)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(this.currentTime)}set time(e){e=ns(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=p6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function M6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ka=t=>t*180/Math.PI,ny=t=>{const e=ka(Math.atan2(t[1],t[0]));return iy(e)},k6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ny,rotateZ:ny,skewX:t=>ka(Math.atan(t[1])),skewY:t=>ka(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},iy=t=>(t=t%360,t<0&&(t+=360),t),ww=ny,xw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Sw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),P6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xw,scaleY:Sw,scale:t=>(xw(t)+Sw(t))/2,rotateX:t=>iy(ka(Math.atan2(t[6],t[5]))),rotateY:t=>iy(ka(Math.atan2(-t[2],t[0]))),rotateZ:ww,rotate:ww,skewX:t=>ka(Math.atan(t[4])),skewY:t=>ka(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function sy(t){return t.includes("scale")?1:0}function ry(t,e){if(!t||t==="none")return sy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=P6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=k6,a=d}if(!a)return sy(e);const l=s[e],u=a[1].split(",").map(L6);return typeof l=="function"?l(u):u[l]}const O6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ry(n,e)};function L6(t){return parseFloat(t.trim())}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],El=new Set(bl),Aw=t=>t===Tl||t===Ee,j6=new Set(["x","y","z"]),U6=bl.filter(t=>!j6.has(t));function B6(t){const e=[];return U6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ry(e,"x"),y:(t,{transform:e})=>ry(e,"y")};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const La=new Set;let ay=!1,oy=!1,ly=!1;function rR(){if(oy){const t=Array.from(La).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=B6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}oy=!1,ay=!1,La.forEach(t=>t.complete(ly)),La.clear()}function aR(){La.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(oy=!0)})}function z6(){ly=!0,aR(),rR(),ly=!1}class B0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(La.add(this),ay||(ay=!0,ft.read(aR),ft.resolveKeyframes(rR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}M6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),La.delete(this)}cancel(){this.state==="scheduled"&&(La.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const F6=t=>t.startsWith("--");function q6(t,e,n){F6(e)?t.style.setProperty(e,n):t.style[e]=n}const H6=C0(()=>window.ScrollTimeline!==void 0),G6={};function K6(t,e){const n=C0(t);return()=>G6[e]??n()}const oR=K6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lc([0,.65,.55,1]),circOut:Lc([.55,0,1,.45]),backIn:Lc([.31,.01,.66,-.59]),backOut:Lc([.33,1.53,.69,.99])};function lR(t,e){if(t)return typeof t=="function"?oR()?nR(t,e):"ease-out":GA(t)?Lc(t):Array.isArray(t)?t.map(n=>lR(n,e)||Rw.easeOut):Rw[t]}function $6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[e]:n};m&&(y.offset=m);const _=lR(d,a);Array.isArray(_)&&(y.easing=_);const w={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),t.animate(y,w)}function cR(t){return typeof t=="function"&&"applyToOptions"in t}function Y6({type:t,...e}){return cR(t)&&oR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Q6 extends j0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,R0(typeof e.type!="string");const g=Y6(e);this.animation=$6(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=L0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):q6(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ns(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&H6()?(this.animation.timeline=e,si):n(this)}}const uR={anticipate:zA,backInOut:BA,circInOut:qA};function X6(t){return t in uR}function W6(t){typeof t.ease=="string"&&X6(t.ease)&&(t.ease=uR[t.ease])}const Cw=10;class Z6 extends Q6{constructor(e){W6(e),sR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new U0({...u,autoplay:!1}),m=ns(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-Cw).value,d.sample(m).value,Cw),d.stop()}}const Iw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fr.test(t)||t==="0")&&!t.startsWith("url("));function J6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eL(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Iw(a,e),d=Iw(l,e);return!u||!d?!1:J6(t)||(n==="spring"||cR(n))&&s}function cy(t){t.duration=0,t.type="keyframes"}const tL=new Set(["opacity","clipPath","filter","transform"]),nL=C0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return nL()&&n&&tL.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const sL=40;class rL extends j0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:y,..._},C=y?.KeyframeResolver||B0;this.keyframeResolver=new C(d,(I,k,D)=>this.onKeyframesResolved(I,k,w,!D),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=Cn.now(),eL(e,l,u,d)||((Bs.instantAnimations||!m)&&y?.(L0(e,s,n)),e[0]=e[e.length-1],cy(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>sL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!g&&iL(w)?new Z6({...w,element:w.motionValue.owner.current}):new U0(w);C.finished.then(()=>this.notifyFinished()).catch(si),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),z6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const aL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oL(t){const e=aL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function hR(t,e,n=1){const[s,a]=oL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return VA(u)?parseFloat(u):u}return V0(a)?hR(a,e,n+1):a}function z0(t,e){return t?.[e]??t?.default??t}const fR=new Set(["width","height","top","left","right","bottom",...bl]),lL={test:t=>t==="auto",parse:t=>t},dR=t=>e=>e.test(t),mR=[Tl,Ee,is,xr,J3,Z3,lL],Nw=t=>mR.find(dR(t));function cL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kA(t):!0}const uL=new Set(["brightness","contrast","saturate","opacity"]);function hL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(M0)||[];if(!s)return t;const a=n.replace(s,"");let l=uL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const fL=/\b([a-z-]*)\(.*?\)/gu,uy={...Fr,getAnimatableNone:t=>{const e=t.match(fL);return e?e.map(hL).join(" "):t}},Dw={...Tl,transform:Math.round},dL={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:pf,scaleX:pf,scaleY:pf,scaleZ:pf,skew:xr,skewX:xr,skewY:xr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:ru,originX:vw,originY:vw,originZ:Ee},F0={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...dL,zIndex:Dw,fillOpacity:ru,strokeOpacity:ru,numOctaves:Dw},mL={...F0,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:uy,WebkitFilter:uy},pR=t=>mL[t];function gR(t,e){let n=pR(t);return n!==uy&&(n=Fr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pL=new Set(["auto","none","0"]);function gL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!pL.has(l)&&au(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=gR(n,a)}class yL extends B0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),V0(g))){const y=hR(g,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!fR.has(s)||e.length!==2)return;const[a,l]=e,u=Nw(a),d=Nw(l);if(u!==d)if(Aw(u)&&Aw(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||cL(e[a]))&&s.push(a);s.length&&gL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function vL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const yR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vR(t){return MA(t)&&"offsetHeight"in t}const Vw=30,_L=t=>!isNaN(parseFloat(t));class TL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_L(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new I0);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Vw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vw);return PA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new TL(t,e)}const{schedule:q0}=KA(queueMicrotask,!1),bi={x:!1,y:!1};function _R(){return bi.x||bi.y}function bL(t){return t==="x"||t==="y"?bi[t]?null:(bi[t]=!0,()=>{bi[t]=!1}):bi.x||bi.y?null:(bi.x=bi.y=!0,()=>{bi.x=bi.y=!1})}function TR(t,e){const n=vL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Mw(t){return!(t.pointerType==="touch"||_R())}function EL(t,e,n={}){const[s,a,l]=TR(t,n),u=d=>{if(!Mw(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const y=_=>{Mw(_)&&(g(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const bR=(t,e)=>e?t===e?!0:bR(t,e.parentElement):!1,H0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xL(t){return wL.has(t.tagName)||t.tabIndex!==-1}const Vf=new WeakSet;function kw(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const SL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=kw(()=>{if(Vf.has(n))return;fg(n,"down");const a=kw(()=>{fg(n,"up")}),l=()=>fg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Pw(t){return H0(t)&&!_R()}function AL(t,e,n={}){const[s,a,l]=TR(t,n),u=d=>{const m=d.currentTarget;if(!Pw(d))return;Vf.add(m);const g=e(m,d),y=(C,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),Vf.has(m)&&Vf.delete(m),Pw(C)&&typeof g=="function"&&g(C,{success:I})},_=C=>{y(C,m===window||m===document||n.useGlobalTarget||bR(m,C.target))},w=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",w,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),vR(d)&&(d.addEventListener("focus",g=>SL(g,a)),!xL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ER(t){return MA(t)&&"ownerSVGElement"in t}function RL(t){return ER(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),CL=[...mR,Lt,Fr],IL=t=>CL.find(dR(t)),G0=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ow(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NL(...t){return e=>{let n=!1;const s=t.map(a=>{const l=Ow(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Ow(t[a],null)}}}}function DL(...t){return M.useCallback(NL(...t),t)}class VL extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=vR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ML({children:t,isPresent:e,anchorX:n,root:s}){const a=M.useId(),l=M.useRef(null),u=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=M.useContext(G0),m=DL(l,t?.ref);return M.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:w,right:C}=u.current;if(e||!l.current||!g||!y)return;const I=n==="left"?`left: ${w}`:`right: ${C}`;l.current.dataset.motionPopId=a;const k=document.createElement("style");d&&(k.nonce=d);const D=s??document.head;return D.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${I}px !important;
            top: ${_}px !important;
          }
        `),()=>{D.contains(k)&&D.removeChild(k)}},[e]),b.jsx(VL,{isPresent:e,childRef:l,sizeRef:u,children:M.cloneElement(t,{ref:m})})}const kL=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:m})=>{const g=w0(PL),y=M.useId();let _=!0,w=M.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{g.set(C,!0);for(const I of g.values())if(!I)return;s&&s()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,s]);return l&&_&&(w={...w}),M.useMemo(()=>{g.forEach((C,I)=>g.set(I,!1))},[n]),M.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=b.jsx(ML,{isPresent:n,anchorX:d,root:m,children:t})),b.jsx(Md.Provider,{value:w,children:t})};function PL(){return new Map}function wR(t=!0){const e=M.useContext(Md);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const u=M.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const gf=t=>t.key||"";function Lw(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const xR=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[g,y]=wR(u),_=M.useMemo(()=>Lw(t),[t]),w=u&&!g?[]:_.map(gf),C=M.useRef(!0),I=M.useRef(_),k=w0(()=>new Map),[D,O]=M.useState(_),[U,F]=M.useState(_);DA(()=>{C.current=!1,I.current=_;for(let se=0;se<U.length;se++){const R=gf(U[se]);w.includes(R)?k.delete(R):k.get(R)!==!0&&k.set(R,!1)}},[U,w.length,w.join("-")]);const te=[];if(_!==D){let se=[..._];for(let R=0;R<U.length;R++){const S=U[R],N=gf(S);w.includes(N)||(se.splice(R,0,S),te.push(S))}return l==="wait"&&te.length&&(se=te),F(Lw(se)),O(_),null}const{forceRender:Z}=M.useContext(E0);return b.jsx(b.Fragment,{children:U.map(se=>{const R=gf(se),S=u&&!g?!1:_===U||w.includes(R),N=()=>{if(k.has(R))k.set(R,!0);else return;let j=!0;k.forEach(P=>{P||(j=!1)}),j&&(Z?.(),F(I.current),u&&y?.(),s&&s())};return b.jsx(kL,{isPresent:S,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:S?void 0:N,anchorX:d,children:se},R)})})},SR=M.createContext({strict:!1}),jw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in jw)ll[t]={isEnabled:e=>jw[t].some(n=>!!e[n])};function OL(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const LL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LL.has(t)}let AR=t=>!ad(t);function jL(t){typeof t=="function"&&(AR=e=>e.startsWith("on")?!ad(e):t(e))}try{jL(require("@emotion/is-prop-valid").default)}catch{}function UL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(AR(a)||n===!0&&ad(a)||!e&&!ad(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const kd=M.createContext({});function Pd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ou(t){return typeof t=="string"||Array.isArray(t)}const K0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$0=["initial",...K0];function Od(t){return Pd(t.animate)||$0.some(e=>ou(t[e]))}function RR(t){return!!(Od(t)||t.variants)}function BL(t,e){if(Od(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ou(n)?n:void 0,animate:ou(s)?s:void 0}}return t.inherit!==!1?e:{}}function zL(t){const{initial:e,animate:n}=BL(t,M.useContext(kd));return M.useMemo(()=>({initial:e,animate:n}),[Uw(e),Uw(n)])}function Uw(t){return Array.isArray(t)?t.join(" "):t}function Bw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=Bw(t,e.target.x),s=Bw(t,e.target.y);return`${n}% ${s}%`}},FL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Fr.parse(t);if(a.length>5)return s;const l=Fr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const g=mt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},hy={borderRadius:{...Nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nc,borderTopRightRadius:Nc,borderBottomLeftRadius:Nc,borderBottomRightRadius:Nc,boxShadow:FL};function CR(t,{layout:e,layoutId:n}){return El.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hy[t]||t==="opacity")}const qL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HL=bl.length;function GL(t,e,n){let s="",a=!0;for(let l=0;l<HL;l++){const u=bl[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=yR(d,F0[u]);if(!m){a=!1;const y=qL[u]||u;s+=`${y}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Y0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const g=e[m];if(El.has(m)){u=!0;continue}else if(YA(m)){a[m]=g;continue}else{const y=yR(g,F0[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=GL(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const Q0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IR(t,e,n){for(const s in e)!hn(e[s])&&!CR(s,n)&&(t[s]=e[s])}function KL({transformTemplate:t},e){return M.useMemo(()=>{const n=Q0();return Y0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $L(t,e){const n=t.style||{},s={};return IR(s,n,t),Object.assign(s,KL(t,e)),s}function YL(t,e){const n={},s=$L(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const QL={offset:"stroke-dashoffset",array:"stroke-dasharray"},XL={offset:"strokeDashoffset",array:"strokeDasharray"};function WL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?QL:XL;t[l.offset]=Ee.transform(-s);const u=Ee.transform(e),d=Ee.transform(n);t[l.array]=`${u} ${d}`}function NR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,g,y){if(Y0(t,d,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:w}=t;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&WL(_,a,l,u,!1)}const DR=()=>({...Q0(),attrs:{}}),VR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZL(t,e,n,s){const a=M.useMemo(()=>{const l=DR();return NR(l,e,VR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};IR(l,t.style,t),a.style={...l,...a.style}}return a}const JL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X0(t){return typeof t!="string"||t.includes("-")?!1:!!(JL.indexOf(t)>-1||/[A-Z]/u.test(t))}function e5(t,e,n,{latestValues:s},a,l=!1){const d=(X0(t)?ZL:YL)(e,s,a,t),m=UL(e,typeof t=="string",l),g=t!==M.Fragment?{...m,...d,ref:n}:{},{children:y}=e,_=M.useMemo(()=>hn(y)?y.get():y,[y]);return M.createElement(t,{...g,children:_})}function zw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function W0(t,e,n,s){if(typeof e=="function"){const[a,l]=zw(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=zw(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Mf(t){return hn(t)?t.get():t}function t5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:n5(n,s,a,t),renderState:e()}}function n5(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Mf(l[w]);let{initial:u,animate:d}=t;const m=Od(t),g=RR(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?d:u;if(_&&typeof _!="boolean"&&!Pd(_)){const w=Array.isArray(_)?_:[_];for(let C=0;C<w.length;C++){const I=W0(t,w[C]);if(I){const{transitionEnd:k,transition:D,...O}=I;for(const U in O){let F=O[U];if(Array.isArray(F)){const te=y?F.length-1:0;F=F[te]}F!==null&&(a[U]=F)}for(const U in k)a[U]=k[U]}}}return a}const MR=t=>(e,n)=>{const s=M.useContext(kd),a=M.useContext(Md),l=()=>t5(t,e,s,a);return n?l():w0(l)};function Z0(t,e,n){const{style:s}=t,a={};for(const l in s)(hn(s[l])||e.style&&hn(e.style[l])||CR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const i5=MR({scrapeMotionValuesFromProps:Z0,createRenderState:Q0});function kR(t,e,n){const s=Z0(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const s5=MR({scrapeMotionValuesFromProps:kR,createRenderState:DR}),r5=Symbol.for("motionComponentSymbol");function qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function a5(t,e,n){return M.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qo(n)&&(n.current=s))},[e])}const J0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o5="framerAppearId",PR="data-"+J0(o5),OR=M.createContext({});function l5(t,e,n,s,a){const{visualElement:l}=M.useContext(kd),u=M.useContext(SR),d=M.useContext(Md),m=M.useContext(G0).reducedMotion,g=M.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=M.useContext(OR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&c5(g.current,n,a,_);const w=M.useRef(!1);M.useInsertionEffect(()=>{y&&w.current&&y.update(n,d)});const C=n[PR],I=M.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return DA(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),I.current&&y.animationState&&y.animationState.animateChanges())}),M.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),I.current=!1),y.enteringChildren=void 0)}),y}function c5(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:LR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&qo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function LR(t){if(t)return t.options.allowProjection!==!1?t.projection:LR(t.parent)}function dg(t,{forwardMotionProps:e=!1}={},n,s){n&&OL(n);const a=X0(t)?s5:i5;function l(d,m){let g;const y={...M.useContext(G0),...d,layoutId:u5(d)},{isStatic:_}=y,w=zL(d),C=a(d,_);if(!_&&x0){h5();const I=f5(y);g=I.MeasureLayout,w.visualElement=l5(t,C,y,s,I.ProjectionNode)}return b.jsxs(kd.Provider,{value:w,children:[g&&w.visualElement?b.jsx(g,{visualElement:w.visualElement,...y}):null,e5(t,d,a5(C,w.visualElement,m),C,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=M.forwardRef(l);return u[r5]=t,u}function u5({layoutId:t}){const e=M.useContext(E0).id;return e&&t!==void 0?e+"-"+t:t}function h5(t,e){M.useContext(SR).strict}function f5(t){const{drag:e,layout:n}=ll;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function d5(t,e){if(typeof Proxy>"u")return dg;const n=new Map,s=(l,u)=>dg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,dg(u,void 0,t,e)),n.get(u))})}function jR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function m5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function mg(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:n}){return!mg(t)||!mg(e)||!mg(n)}function Ca(t){return fy(t)||UR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function UR(t){return Fw(t.x)||Fw(t.y)}function Fw(t){return t&&t!=="0%"}function od(t,e,n){const s=t-n,a=e*s;return n+a}function qw(t,e,n,s,a){return a!==void 0&&(t=od(t,a,s)),od(t,n,s)+e}function dy(t,e=0,n=1,s,a){t.min=qw(t.min,e,n,s,a),t.max=qw(t.max,e,n,s,a)}function BR(t,{x:e,y:n}){dy(t.x,e.translate,e.scale,e.originPoint),dy(t.y,n.translate,n.scale,n.originPoint)}const Hw=.999999999999,Gw=1.0000000000001;function g5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Go(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,BR(t,u)),s&&Ca(l.latestValues)&&Go(t,l.latestValues))}e.x<Gw&&e.x>Hw&&(e.x=1),e.y<Gw&&e.y>Hw&&(e.y=1)}function Ho(t,e){t.min=t.min+e,t.max=t.max+e}function Kw(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);dy(t,e,n,l,s)}function Go(t,e){Kw(t.x,e.x,e.scaleX,e.scale,e.originX),Kw(t.y,e.y,e.scaleY,e.scale,e.originY)}function zR(t,e){return jR(p5(t.getBoundingClientRect(),e))}function y5(t,e,n){const s=zR(t,n),{scroll:a}=e;return a&&(Ho(s.x,a.offset.x),Ho(s.y,a.offset.y)),s}const $w=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:$w(),y:$w()}),Yw=()=>({min:0,max:0}),qt=()=>({x:Yw(),y:Yw()}),my={current:null},FR={current:!1};function v5(){if(FR.current=!0,!!x0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addEventListener("change",e),e()}else my.current=!1}const _5=new WeakMap;function T5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(hn(a))t.addValue(s,a);else if(hn(l))t.addValue(s,ol(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,ol(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Qw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class b5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Cn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Od(n),this.isVariantNode=RR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const C=_[w];m[w]!==void 0&&hn(C)&&C.set(m[w])}}mount(e){this.current=e,_5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),FR.current||v5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=El.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ll){const n=ll[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Qw.length;s++){const a=Qw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=T5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ol(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(VA(s)||kA(s))?s=parseFloat(s):!IL(s)&&Fr.test(n)&&(s=gR(e,n)),this.setBaseTarget(e,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=W0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new I0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){q0.render(this.render)}}class qR extends b5{constructor(){super(...arguments),this.KeyframeResolver=yL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function HR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function E5(t){return window.getComputedStyle(t)}class w5 extends qR{constructor(){super(...arguments),this.type="html",this.renderInstance=HR}readValueFromInstance(e,n){if(El.has(n))return this.projection?.isProjecting?sy(n):O6(e,n);{const s=E5(e),a=(YA(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zR(e,n)}build(e,n,s){Y0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Z0(e,n,s)}}const GR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function x5(t,e,n,s){HR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(GR.has(a)?a:J0(a),e.attrs[a])}class S5 extends qR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(El.has(n)){const s=pR(n);return s&&s.default||0}return n=GR.has(n)?n:J0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return kR(e,n,s)}build(e,n,s){NR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){x5(e,n,s,a)}mount(e){this.isSVGTag=VR(e.tagName),super.mount(e)}}const A5=(t,e)=>X0(t)?new S5(e):new w5(e,{allowProjection:t!==M.Fragment});function Zo(t,e,n){const s=t.getProps();return W0(s,e,n!==void 0?n:s.custom,t)}const py=t=>Array.isArray(t);function R5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function C5(t){return py(t)?t[t.length-1]||0:t}function I5(t,e){const n=Zo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=C5(l[u]);R5(t,u,d)}}function N5(t){return!!(hn(t)&&t.add)}function gy(t,e){const n=t.getValue("willChange");if(N5(n))return n.add(e);if(!n&&Bs.WillChange){const s=new Bs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function KR(t){return t.props[PR]}const D5=t=>t!==null;function V5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(D5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const M5={type:"spring",stiffness:500,damping:25,restSpeed:10},k5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),P5={type:"keyframes",duration:.8},O5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L5=(t,{keyframes:e})=>e.length>2?P5:El.has(t)?t.startsWith("scale")?k5(e[1]):M5:O5;function j5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const ev=(t,e,n,s={},a,l)=>u=>{const d=z0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-ns(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};j5(d)||Object.assign(y,L5(t,y)),y.duration&&(y.duration=ns(y.duration)),y.repeatDelay&&(y.repeatDelay=ns(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(cy(y),y.delay===0&&(_=!0)),(Bs.instantAnimations||Bs.skipAnimations)&&(_=!0,cy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const w=V5(y.keyframes,d);if(w!==void 0){ft.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new U0(y):new rL(y)};function U5({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function $R(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const _=t.getValue(y,t.latestValues[y]??null),w=d[y];if(w===void 0||g&&U5(g,y))continue;const C={delay:n,...z0(l||{},y)},I=_.get();if(I!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===I&&!C.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const O=KR(t);if(O){const U=window.MotionHandoffAnimation(O,y,ft);U!==null&&(C.startTime=U,k=!0)}}gy(t,y),_.start(ev(y,_,w,t.shouldReduceMotion&&fR.has(y)?{type:!1}:C,t,k));const D=_.animation;D&&m.push(D)}return u&&Promise.all(m).then(()=>{ft.update(()=>{u&&I5(t,u)})}),m}function YR(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}function yy(t,e,n={}){const s=Zo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all($R(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return B5(t,e,m,g,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function B5(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(yy(m,e,{...u,delay:n+(typeof s=="function"?0:s)+YR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function z5(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>yy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=yy(t,e,n);else{const a=typeof e=="function"?Zo(t,e,n.custom):e;s=Promise.all($R(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function QR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const F5=$0.length;function XR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?XR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<F5;n++){const s=$0[n],a=t.props[s];(ou(a)||a===!1)&&(e[s]=a)}return e}const q5=[...K0].reverse(),H5=K0.length;function G5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>z5(t,n,s)))}function K5(t){let e=G5(t),n=Xw(),s=!0;const a=m=>(g,y)=>{const _=Zo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:w,transitionEnd:C,...I}=_;g={...g,...I,...C}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,y=XR(t.parent)||{},_=[],w=new Set;let C={},I=1/0;for(let D=0;D<H5;D++){const O=q5[D],U=n[O],F=g[O]!==void 0?g[O]:y[O],te=ou(F),Z=O===m?U.isActive:null;Z===!1&&(I=D);let se=F===y[O]&&F!==g[O]&&te;if(se&&s&&t.manuallyAnimateOnMount&&(se=!1),U.protectedKeys={...C},!U.isActive&&Z===null||!F&&!U.prevProp||Pd(F)||typeof F=="boolean")continue;const R=$5(U.prevProp,F);let S=R||O===m&&U.isActive&&!se&&te||D>I&&te,N=!1;const j=Array.isArray(F)?F:[F];let P=j.reduce(a(O),{});Z===!1&&(P={});const{prevResolvedValues:q={}}=U,V={...q,...P},ze=le=>{S=!0,w.has(le)&&(N=!0,w.delete(le)),U.needsAnimating[le]=!0;const fe=t.getValue(le);fe&&(fe.liveStyle=!1)};for(const le in V){const fe=P[le],Se=q[le];if(C.hasOwnProperty(le))continue;let De=!1;py(fe)&&py(Se)?De=!QR(fe,Se):De=fe!==Se,De?fe!=null?ze(le):w.add(le):fe!==void 0&&w.has(le)?ze(le):U.protectedKeys[le]=!0}U.prevProp=F,U.prevResolvedValues=P,U.isActive&&(C={...C,...P}),s&&t.blockInitialAnimation&&(S=!1);const Ye=se&&R;S&&(!Ye||N)&&_.push(...j.map(le=>{const fe={type:O};if(typeof le=="string"&&s&&!Ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:Se}=t,De=Zo(Se,le);if(Se.enteringChildren&&De){const{delayChildren:B}=De.transition||{};fe.delay=YR(Se.enteringChildren,t,B)}}return{animation:le,options:fe}}))}if(w.size){const D={};if(typeof g.initial!="boolean"){const O=Zo(t,Array.isArray(g.initial)?g.initial[0]:g.initial);O&&O.transition&&(D.transition=O.transition)}w.forEach(O=>{const U=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),D[O]=U??null}),_.push({animation:D})}let k=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(_):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),n[m].isActive=g;const y=u(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Xw()}}}function $5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QR(e,t):!1}function Aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xw(){return{animate:Aa(!0),whileInView:Aa(),whileHover:Aa(),whileTap:Aa(),whileDrag:Aa(),whileFocus:Aa(),exit:Aa()}}class Yr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Y5 extends Yr{constructor(e){super(e),e.animationState||(e.animationState=K5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Q5=0;class X5 extends Yr{constructor(){super(...arguments),this.id=Q5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const W5={animation:{Feature:Y5},exit:{Feature:X5}};function lu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Nu(t){return{point:{x:t.pageX,y:t.pageY}}}const Z5=t=>e=>H0(e)&&t(e,Nu(e));function Kc(t,e,n,s){return lu(t,e,Z5(n),s)}const WR=1e-4,J5=1-WR,ej=1+WR,ZR=.01,tj=0-ZR,nj=0+ZR;function gn(t){return t.max-t.min}function ij(t,e,n){return Math.abs(t-e)<=n}function Ww(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=J5&&t.scale<=ej||isNaN(t.scale))&&(t.scale=1),(t.translate>=tj&&t.translate<=nj||isNaN(t.translate))&&(t.translate=0)}function $c(t,e,n,s){Ww(t.x,e.x,n.x,s?s.originX:void 0),Ww(t.y,e.y,n.y,s?s.originY:void 0)}function Zw(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function sj(t,e,n){Zw(t.x,e.x,n.x),Zw(t.y,e.y,n.y)}function Jw(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function ld(t,e,n){Jw(t.x,e.x,n.x),Jw(t.y,e.y,n.y)}function ti(t){return[t("x"),t("y")]}const JR=({current:t})=>t?t.ownerDocument.defaultView:null,e1=(t,e)=>Math.abs(t-e);function rj(t,e){const n=e1(t.x,e.x),s=e1(t.y,e.y);return Math.sqrt(n**2+s**2)}class eC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=gg(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,I=rj(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!I)return;const{point:k}=w,{timestamp:D}=tn;this.history.push({...k,timestamp:D});const{onStart:O,onMove:U}=this.handlers;C||(O&&O(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,w)},this.handlePointerMove=(w,C)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=pg(C,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(w,C)=>{this.end();const{onEnd:I,onSessionEnd:k,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=gg(w.type==="pointercancel"?this.lastMoveEventInfo:pg(C,this.transformPagePoint),this.history);this.startEvent&&I&&I(w,O),k&&k(w,O)},!H0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const d=Nu(e),m=pg(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=tn;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,gg(m,this.history)),this.removeListeners=Ru(Kc(this.contextWindow,"pointermove",this.handlePointerMove),Kc(this.contextWindow,"pointerup",this.handlePointerUp),Kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function pg(t,e){return e?{point:e(t.point)}:t}function t1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gg({point:t},e){return{point:t,delta:t1(t,tC(e)),offset:t1(t,aj(e)),velocity:oj(e,.1)}}function aj(t){return t[0]}function tC(t){return t[t.length-1]}function oj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=tC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ns(e)));)n--;if(!s)return{x:0,y:0};const l=ii(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function lj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function n1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cj(t,{top:e,left:n,bottom:s,right:a}){return{x:n1(t.x,n,a),y:n1(t.y,e,s)}}function i1(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function uj(t,e){return{x:i1(t.x,e.x),y:i1(t.y,e.y)}}function hj(t,e){let n=.5;const s=gn(t),a=gn(e);return a>s?n=su(e.min,e.max-s,t.min):s>a&&(n=su(t.min,t.max-a,e.min)),Us(0,1,n)}function fj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vy=.35;function dj(t=vy){return t===!1?t=0:t===!0&&(t=vy),{x:s1(t,"left","right"),y:s1(t,"top","bottom")}}function s1(t,e,n){return{min:r1(t,e),max:r1(t,n)}}function r1(t,e){return typeof t=="number"?t:t[e]||0}const mj=new WeakMap;class pj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nu(_).point)},u=(_,w)=>{const{drag:C,dragPropagation:I,onDragStart:k}=this.getProps();if(C&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bL(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(O=>{let U=this.getAxisMotionValue(O).get()||0;if(is.test(U)){const{projection:F}=this.visualElement;if(F&&F.layout){const te=F.layout.layoutBox[O];te&&(U=gn(te)*(parseFloat(U)/100))}}this.originPoint[O]=U}),k&&ft.postRender(()=>k(_,w)),gy(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},d=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:C,dragDirectionLock:I,onDirectionLock:k,onDrag:D}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:O}=w;if(I&&this.currentDirection===null){this.currentDirection=gj(O),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,O),this.updateAxis("y",w.point,O),this.visualElement.render(),D&&D(_,w)},m=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ti(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new eC(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:JR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ft.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!yf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=lj(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=cj(s.layoutBox,e):this.constraints=!1,this.elastic=dj(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ti(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=fj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=y5(s,a.root,this.visualElement.getTransformPagePoint());let u=uj(a.layout.layoutBox,l);if(n){const d=n(m5(u));this.hasMutatedConstraints=!!d,d&&(u=jR(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ti(y=>{if(!yf(y,n,this.currentDirection))return;let _=m&&m[y]||{};u&&(_={min:0,max:0});const w=a?200:1e6,C=a?40:1e7,I={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,I)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return gy(this.visualElement,e),s.start(ev(e,s,0,n,this.visualElement,!1))}stopAnimation(){ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ti(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ti(n=>{const{drag:s}=this.getProps();if(!yf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-mt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=hj({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ti(u=>{if(!yf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];d.set(mt(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;mj.set(this.visualElement,this);const e=this.visualElement.current,n=Kc(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const u=lu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ti(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=vy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function yf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yj extends Yr{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new pj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}unmount(){this.removeGroupControls(),this.removeListeners()}}const a1=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class vj extends Yr{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new eC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:a1(e),onStart:a1(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&ft.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Kc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let yg=!1;class _j extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),yg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,yg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),q0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;yg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nC(t){const[e,n]=wR(),s=M.useContext(E0);return b.jsx(_j,{...t,layoutGroup:s,switchLayoutGroup:M.useContext(OR),isPresent:e,safeToRemove:n})}function Tj(t,e,n){const s=hn(t)?t:ol(t);return s.start(ev("",s,e,n)),s.animation}const bj=(t,e)=>t.depth-e.depth;class Ej{constructor(){this.children=[],this.isDirty=!1}add(e){S0(this.children,e),this.isDirty=!0}remove(e){A0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bj),this.isDirty=!1,this.children.forEach(e)}}function wj(t,e){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(zr(s),t(l-e))};return ft.setup(s,!0),()=>zr(s)}const iC=["TopLeft","TopRight","BottomLeft","BottomRight"],xj=iC.length,o1=t=>typeof t=="string"?parseFloat(t):t,l1=t=>typeof t=="number"||Ee.test(t);function Sj(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,Aj(s)),t.opacityExit=mt(e.opacity??1,0,Rj(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let u=0;u<xj;u++){const d=`border${iC[u]}Radius`;let m=c1(e,d),g=c1(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||l1(m)===l1(g)?(t[d]=Math.max(mt(o1(m),o1(g),s),0),(is.test(g)||is.test(m))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function c1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Aj=sC(0,.5,FA),Rj=sC(.5,.95,si);function sC(t,e,n){return s=>s<t?0:s>e?1:n(su(t,e,s))}function u1(t,e){t.min=e.min,t.max=e.max}function Ti(t,e){u1(t.x,e.x),u1(t.y,e.y)}function h1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function f1(t,e,n,s,a){return t-=e,t=od(t,1/n,s),a!==void 0&&(t=od(t,1/a,s)),t}function Cj(t,e=0,n=1,s=.5,a,l=t,u=t){if(is.test(e)&&(e=parseFloat(e),e=mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=mt(l.min,l.max,s);t===l&&(d-=e),t.min=f1(t.min,e,n,d,a),t.max=f1(t.max,e,n,d,a)}function d1(t,e,[n,s,a],l,u){Cj(t,e[n],e[s],e[a],e.scale,l,u)}const Ij=["x","scaleX","originX"],Nj=["y","scaleY","originY"];function m1(t,e,n,s){d1(t.x,e,Ij,n?n.x:void 0,s?s.x:void 0),d1(t.y,e,Nj,n?n.y:void 0,s?s.y:void 0)}function p1(t){return t.translate===0&&t.scale===1}function rC(t){return p1(t.x)&&p1(t.y)}function g1(t,e){return t.min===e.min&&t.max===e.max}function Dj(t,e){return g1(t.x,e.x)&&g1(t.y,e.y)}function y1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aC(t,e){return y1(t.x,e.x)&&y1(t.y,e.y)}function v1(t){return gn(t.x)/gn(t.y)}function _1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Vj{constructor(){this.members=[]}add(e){S0(this.members,e),e.scheduleRender()}remove(e){if(A0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mj(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:w,skewX:C,skewY:I}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),w&&(s+=`rotateY(${w}deg) `),C&&(s+=`skewX(${C}deg) `),I&&(s+=`skewY(${I}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const vg=["","X","Y","Z"],kj=1e3;let Pj=0;function _g(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function oC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&oC(s)}function lC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=Pj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jj),this.nodes.forEach(Fj),this.nodes.forEach(qj),this.nodes.forEach(Uj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ej)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new I0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ER(u)&&!RL(u),this.instance=u;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,_=0;const w=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{_=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,y&&y(),y=wj(w,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(E1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||Yj,{onLayoutAnimationStart:k,onLayoutAnimationComplete:D}=g.getProps(),O=!this.targetLayout||!aC(this.targetLayout,C),U=!_&&w;if(this.options.layoutRoot||this.resumeFrom||U||_&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...z0(I,"layout"),onPlay:k,onComplete:D};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,U)}else _||E1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hj),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(b1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zj),this.nodes.forEach(Oj),this.nodes.forEach(Lj)):this.nodes.forEach(b1),this.clearAllSnapshots();const d=Cn.now();tn.delta=Us(0,1e3/60,d-tn.timestamp),tn.timestamp=d,tn.isProcessing=!0,og.update.process(tn),og.preRender.process(tn),og.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bj),this.sharedNodes.forEach(Gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!rC(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||Ca(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),Qj(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return qt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Xj))){const{scroll:g}=this.root;g&&(Ho(d.x,g.offset.x),Ho(d.y,g.offset.y))}return d}removeElementScroll(u){const d=qt();if(Ti(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Ti(d,u),Ho(d.x,y.offset.x),Ho(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const m=qt();Ti(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Go(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ca(y.latestValues)&&Go(m,y.latestValues)}return Ca(this.latestValues)&&Go(m,this.latestValues),m}removeTransform(u){const d=qt();Ti(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Ca(g.latestValues))continue;fy(g.latestValues)&&g.updateSnapshot();const y=qt(),_=g.measurePageBox();Ti(y,_),m1(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Ca(this.latestValues)&&m1(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=tn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),BR(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||UR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),ld(this.relativeTargetOrigin,d,m),Ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ti(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;g5(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=qt());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(h1(this.prevProjectionDelta.x,this.projectionDelta.x),h1(this.prevProjectionDelta.y,this.projectionDelta.y)),$c(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!_1(this.projectionDelta.x,this.prevProjectionDelta.x)||!_1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(u,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=qt(),C=m?m.source:void 0,I=this.layout?this.layout.source:void 0,k=C!==I,D=this.getStack(),O=!D||D.members.length<=1,U=!!(k&&!O&&this.options.crossfade===!0&&!this.path.some($j));this.animationProgress=0;let F;this.mixTargetDelta=te=>{const Z=te/1e3;w1(_.x,u.x,Z),w1(_.y,u.y,Z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ld(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kj(this.relativeTarget,this.relativeTargetOrigin,w,Z),F&&Dj(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=qt()),Ti(F,this.relativeTarget)),k&&(this.animationValues=y,Sj(y,g,this.latestValues,Z,U,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=Tj(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=u;if(!(!d||!m||!g)){if(this!==u&&this.layout&&g&&cC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||qt();const _=gn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const w=gn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}Ti(d,m),Go(d,y),$c(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Vj),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&_g("z",u,g,this.animationValues);for(let y=0;y<vg.length;y++)_g(`rotate${vg[y]}`,u,g,this.animationValues),_g(`skew${vg[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Mf(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Mf(d?.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=Mj(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),u.transform=_;const{x:w,y:C}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${C.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in hy){if(y[I]===void 0)continue;const{correct:k,applyTo:D,isCSSVariable:O}=hy[I],U=_==="none"?y[I]:k(y[I],g);if(D){const F=D.length;for(let te=0;te<F;te++)u[D[te]]=U}else O?this.options.visualElement.renderState.vars[I]=U:u[I]=U}this.options.layoutId&&(u.pointerEvents=g===this?Mf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(T1),this.root.sharedNodes.clear()}}}function Oj(t){t.updateLayout()}function Lj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ti(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],w=gn(_);_.min=n[y].min,_.max=_.min+w}):cC(a,e.layoutBox,n)&&ti(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],w=gn(n[y]);_.max=_.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const u=Ko();$c(u,n,e.layoutBox);const d=Ko();l?$c(d,t.applyTransform(s,!0),e.measuredBox):$c(d,n,e.layoutBox);const m=!rC(u);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:w}=y;if(_&&w){const C=qt();ld(C,e.layoutBox,_.layoutBox);const I=qt();ld(I,n,w.layoutBox),aC(C,I)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function jj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Uj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Bj(t){t.clearSnapshot()}function T1(t){t.clearMeasurements()}function b1(t){t.isLayoutDirty=!1}function zj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function E1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Fj(t){t.resolveTargetDelta()}function qj(t){t.calcProjection()}function Hj(t){t.resetSkewAndRotation()}function Gj(t){t.removeLeadSnapshot()}function w1(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function x1(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function Kj(t,e,n,s){x1(t.x,e.x,n.x,s),x1(t.y,e.y,n.y,s)}function $j(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yj={duration:.45,ease:[.4,0,.1,1]},S1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),A1=S1("applewebkit/")&&!S1("chrome/")?Math.round:si;function R1(t){t.min=A1(t.min),t.max=A1(t.max)}function Qj(t){R1(t.x),R1(t.y)}function cC(t,e,n){return t==="position"||t==="preserve-aspect"&&!ij(v1(e),v1(n),.2)}function Xj(t){return t!==t.root&&t.scroll?.wasRoot}const Wj=lC({attachResizeListener:(t,e)=>lu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tg={current:void 0},uC=lC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tg.current){const t=new Wj({});t.mount(window),t.setOptions({layoutScroll:!0}),Tg.current=t}return Tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zj={pan:{Feature:vj},drag:{Feature:yj,ProjectionNode:uC,MeasureLayout:nC}};function C1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Nu(e)))}class Jj extends Yr{mount(){const{current:e}=this.node;e&&(this.unmount=EL(e,(n,s)=>(C1(this.node,s,"Start"),a=>C1(this.node,a,"End"))))}unmount(){}}class e9 extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(lu(this.node.current,"focus",()=>this.onFocus()),lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Nu(e)))}class t9 extends Yr{mount(){const{current:e}=this.node;e&&(this.unmount=AL(e,(n,s)=>(I1(this.node,s,"Start"),(a,{success:l})=>I1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _y=new WeakMap,bg=new WeakMap,n9=t=>{const e=_y.get(t.target);e&&e(t)},i9=t=>{t.forEach(n9)};function s9({root:t,...e}){const n=t||document;bg.has(n)||bg.set(n,{});const s=bg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(i9,{root:t,...e})),s[a]}function r9(t,e,n){const s=s9(e);return _y.set(t,n),s.observe(t),()=>{_y.delete(t),s.unobserve(t)}}const a9={some:0,all:1};class o9 extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:a9[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),w=g?y:_;w&&w(m)};return r9(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l9(e,n))&&this.startObserver()}unmount(){}}function l9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c9={inView:{Feature:o9},tap:{Feature:t9},focus:{Feature:e9},hover:{Feature:Jj}},u9={layout:{ProjectionNode:uC,MeasureLayout:nC}},h9={...W5,...c9,...Zj,...u9},Xi=d5(h9,A5);function An({matchup:t,onPickWinner:e,isLocked:n=!1}){const{team1:s,team2:a,winner:l,result:u}=t,d=(m,g)=>{if(!m)return b.jsx("div",{className:`h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-${g?"b":"t"}-xl border-x border-slate-800/40 ${g?"border-b":"border-t"}`,children:b.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})});const y=l?.id===m.id,_=l&&l.id!==m.id,w=!n&&m,C=u&&l?.id===u,I=u&&l&&l.id!==u;return b.jsxs(Xi.button,{whileHover:w?{backgroundColor:"rgba(30, 41, 59, 0.9)",x:2}:{},whileTap:w?{scale:.98}:{},onClick:()=>w&&e(t.id,m),disabled:!w,className:`w-full h-9 lg:h-11 px-3 lg:px-4 flex items-center justify-between transition-all relative overflow-hidden
          ${g?"rounded-b-xl":"rounded-t-xl"} 
          ${y&&C?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":y&&I?"bg-red-900/40 ring-1 ring-inset ring-red-400/50":y?"bg-slate-800/80 ring-1 ring-inset ring-blue-400/30":"bg-slate-900/60"} 
          ${_?"opacity-20 grayscale":"opacity-100"}
          ${w?"cursor-pointer":"cursor-not-allowed"}
          border-x border-slate-800/50 ${g?"border-b":"border-t"}`,children:[y&&b.jsx(Xi.div,{layoutId:`winner-glow-${t.id}`,className:`absolute inset-0 pointer-events-none ${C?"bg-gradient-to-r from-green-500/20 to-transparent":I?"bg-gradient-to-r from-red-500/20 to-transparent":"bg-gradient-to-r from-blue-500/10 to-transparent"}`}),b.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 z-10",children:[b.jsx("div",{className:"w-5 h-5 lg:w-6 lg:h-6 rounded flex items-center justify-center font-bold text-[9px] lg:text-[10px] text-white shadow-lg border border-white/10",style:{backgroundColor:m.color},children:m.seed}),b.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[b.jsx("span",{className:"text-[7px] lg:text-[8px] text-slate-500 font-bold uppercase tracking-wider",children:m.city}),b.jsx("span",{className:"font-bold text-[11px] lg:text-[13px] text-slate-100 uppercase tracking-tight",children:m.name})]})]}),b.jsx(xR,{children:y&&b.jsx(Xi.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:C?"text-green-400":I?"text-red-400":"text-blue-400",children:b.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 lg:w-4 lg:h-4",children:b.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})};return b.jsx("div",{className:`w-40 lg:w-48 flex-shrink-0 relative group transition-all duration-500 ${!s||!a?"opacity-50":"opacity-100"}`,children:b.jsxs("div",{className:"shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm",children:[d(s,!1),d(a,!0)]})})}const hC="/assets/super_bowl_lx-logo_brandlogos.net_3b9vb-STySwuiF.png";function f9(){const{roomId:t}=ud(),{user:e,isAdmin:n}=as(),s=zs(),[a,l]=M.useState([]),[u,d]=M.useState(null),[m,g]=M.useState(!0),[y,_]=M.useState(null),[w,C]=M.useState({});M.useEffect(()=>{I()},[t,e]);const I=async()=>{const J=await b0();l(J),await O(),await D(),await k(),g(!1)},k=async()=>{const J=await rn(rt(Ve,"gameResults",t));J.exists()&&C(J.data().results||{})},D=async()=>{const J=await rn(rt(Ve,"rooms",t));J.exists()&&_(J.data().createdBy)},O=async()=>{const J=rt(Ve,"brackets",`${t}_${e.uid}`),ce=await rn(J);ce.exists()&&d(ce.data())},U=async(J,ce=!1)=>{const ve=rt(Ve,"brackets",`${t}_${e.uid}`),we={userId:e.uid,roomId:t,picks:J,submitted:ce,submittedAt:ce?new Date:null};await iu(ve,we),d(we)},F=(J,ce)=>{if(u?.submitted)return;const ve={...u?.picks||{},[J]:ce.id};U(ve,!1)},te=async()=>{if(!u?.picks||Object.keys(u.picks).length===0){alert("Please make at least one pick before submitting");return}await U(u.picks,!0)},Z=async()=>{if(window.confirm("Are you sure you want to reset ALL brackets in this room? This cannot be undone."))try{const J=Da(Qi(Ve,"brackets"),Ns("roomId","==",t)),ce=await Va(J);if(ce.empty){alert("No brackets to reset.");return}const ve=SA(Ve);ce.docs.forEach(we=>{ve.delete(we.ref)}),await ve.commit(),d(null),alert(`Successfully reset ${ce.docs.length} bracket(s)!`),window.location.reload()}catch(J){console.error("Error resetting brackets:",J),alert(`Error resetting brackets: ${J.message}`)}};if(m)return b.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:b.jsx("div",{className:"text-white text-xl",children:"Loading bracket..."})});const se=a.filter(J=>J.conference==="AFC"),R=a.filter(J=>J.conference==="NFC"),S=u?.submitted===!0,N=y===e.uid,j=J=>a.find(ce=>ce.id===J),P=J=>u?.picks?.[J]?j(u.picks[J]):null,q=[{id:"afc-wc-0",team1:se[1],team2:se[6],winner:P("afc-wc-0"),result:w["afc-wc-0"]},{id:"afc-wc-1",team1:se[2],team2:se[5],winner:P("afc-wc-1"),result:w["afc-wc-1"]},{id:"afc-wc-2",team1:se[3],team2:se[4],winner:P("afc-wc-2"),result:w["afc-wc-2"]}],V=[{id:"nfc-wc-0",team1:R[1],team2:R[6],winner:P("nfc-wc-0"),result:w["nfc-wc-0"]},{id:"nfc-wc-1",team1:R[2],team2:R[5],winner:P("nfc-wc-1"),result:w["nfc-wc-1"]},{id:"nfc-wc-2",team1:R[3],team2:R[4],winner:P("nfc-wc-2"),result:w["nfc-wc-2"]}],ze=q.map(J=>J.winner).filter(Boolean).sort((J,ce)=>J.seed-ce.seed),Ye=V.map(J=>J.winner).filter(Boolean).sort((J,ce)=>J.seed-ce.seed),K=[{id:"afc-div-0",team1:se[0],team2:ze[2]||null,winner:P("afc-div-0"),result:w["afc-div-0"]},{id:"afc-div-1",team1:ze[0]||null,team2:ze[1]||null,winner:P("afc-div-1"),result:w["afc-div-1"]}],le=[{id:"nfc-div-0",team1:R[0],team2:Ye[2]||null,winner:P("nfc-div-0"),result:w["nfc-div-0"]},{id:"nfc-div-1",team1:Ye[0]||null,team2:Ye[1]||null,winner:P("nfc-div-1"),result:w["nfc-div-1"]}],fe=K.map(J=>J.winner).filter(Boolean),Se=le.map(J=>J.winner).filter(Boolean),De={id:"afc-conf",team1:fe[0]||null,team2:fe[1]||null,winner:P("afc-conf"),result:w["afc-conf"]},B={id:"nfc-conf",team1:Se[0]||null,team2:Se[1]||null,winner:P("nfc-conf"),result:w["nfc-conf"]},ie={id:"super-bowl",team1:De.winner||null,team2:B.winner||null,winner:P("super-bowl"),result:w["super-bowl"]};return b.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100 relative selection:bg-blue-500/30",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),b.jsxs("header",{className:"h-[70px] flex items-center justify-between px-10 bg-slate-950/60 backdrop-blur-xl border-b border-white/5 z-50",children:[b.jsxs("div",{className:"flex items-center space-x-5",children:[b.jsx("button",{onClick:()=>s("/rooms"),className:"text-slate-400 hover:text-white transition",children:b.jsx(kr,{className:"w-6 h-6"})}),b.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:b.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[10px] flex items-center justify-center text-white text-[14px] font-black italic",children:"NFL"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),b.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-[0.4em] mt-1 opacity-60",children:"Professional Playoff Simulator"})]})]}),b.jsxs("div",{className:"flex items-center space-x-6",children:[b.jsxs("button",{onClick:()=>s(`/leaderboard/${t}`),className:"flex items-center gap-2 px-4 py-2 bg-yellow-600/20 border border-yellow-600/30 text-yellow-400 rounded-lg hover:bg-yellow-600/30 transition text-xs font-bold uppercase tracking-wider",children:[b.jsx(r3,{className:"w-4 h-4"})," Leaderboard"]}),n&&b.jsxs("button",{onClick:()=>s(`/game-results/${t}`),className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg hover:bg-blue-500/30 transition text-xs font-bold uppercase tracking-wider",children:[b.jsx(IA,{className:"w-4 h-4"})," Game Results"]}),b.jsxs("div",{className:"hidden lg:flex items-center space-x-8 text-[11px] font-bold uppercase tracking-[0.2em] text-slate-500",children:[b.jsxs("div",{className:"flex items-center space-x-2.5",children:[b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-600 shadow-lg shadow-red-600/30"}),b.jsx("span",{children:"AFC Bracket"})]}),b.jsxs("div",{className:"flex items-center space-x-2.5",children:[b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-600 shadow-lg shadow-blue-600/30"}),b.jsx("span",{children:"NFC Bracket"})]})]}),n&&N&&b.jsxs(Xi.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-500/30 text-red-400 rounded-lg hover:bg-red-500/30 transition text-xs font-bold uppercase tracking-wider",children:[b.jsx(f3,{className:"w-4 h-4"})," Reset All Brackets"]}),!S&&u?.picks&&Object.keys(u.picks).length>0&&b.jsxs(Xi.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:te,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider text-sm shadow-xl",children:[b.jsx(dw,{className:"w-4 h-4"})," Submit Bracket"]}),S&&b.jsxs("div",{className:"px-4 py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400 text-xs font-bold flex items-center gap-2",children:[b.jsx(dw,{className:"w-4 h-4"})," SUBMITTED"]})]})]}),b.jsx("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 relative overflow-x-auto",children:b.jsxs("div",{className:"flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-90 lg:scale-95 xl:scale-100",children:[b.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[b.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),q.map(J=>b.jsx(An,{matchup:J,onPickWinner:F,isLocked:S},J.id)),b.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[b.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),b.jsxs("div",{className:"text-left overflow-hidden",children:[b.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),b.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:se[0]?.name})]})]})]}),b.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),K.map(J=>b.jsx(An,{matchup:J,onPickWinner:F,isLocked:S},J.id))]}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),b.jsx(An,{matchup:De,onPickWinner:F,isLocked:S})]})]}),b.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6 relative",children:[b.jsxs("div",{className:"relative w-28 h-28 lg:w-36 lg:h-36 flex items-center justify-center mb-2",children:[b.jsx(Xi.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),b.jsx("img",{src:hC,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80 drop-shadow-[0_0_15px_rgba(202,138,4,0.3)]"})]}),b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/20 via-blue-500/20 to-red-600/20 rounded-2xl blur opacity-30 group-hover:opacity-70 transition duration-1000"}),b.jsx(An,{matchup:ie,onPickWinner:F,isLocked:S})]}),b.jsx("div",{className:"h-[80px] lg:h-[100px] mt-4 lg:mt-6 flex flex-col items-center justify-center",children:b.jsx(xR,{mode:"wait",children:ie.winner?b.jsxs(Xi.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"text-center relative",children:[b.jsx(Xi.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1,repeat:1/0,repeatDelay:2},className:"text-amber-500 font-black text-[10px] lg:text-[12px] uppercase tracking-[0.8em] mb-2",children:"Super Bowl Winner"}),b.jsx("div",{className:"text-3xl lg:text-5xl xl:text-6xl font-black text-white italic tracking-tighter uppercase drop-shadow-[0_0_30px_rgba(255,255,255,0.4)] leading-none",children:ie.winner.name}),b.jsx(Xi.div,{initial:{width:0},animate:{width:120},className:"h-[2px] lg:h-[3px] bg-gradient-to-r from-transparent via-amber-500 to-transparent mx-auto mt-4 lg:mt-6 rounded-full shadow-[0_0_20px_rgba(245,158,11,0.8)]"})]},"celebration"):b.jsxs(Xi.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center opacity-40",children:[b.jsx("div",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase tracking-[0.8em] italic",children:"Pick Your Champion"}),b.jsx("div",{className:"w-24 lg:w-32 h-[1px] bg-slate-800 mt-3 lg:mt-4"})]},"placeholder")})})]}),b.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[b.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),V.map(J=>b.jsx(An,{matchup:J,onPickWinner:F,isLocked:S},J.id)),b.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[b.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),b.jsxs("div",{className:"text-left overflow-hidden",children:[b.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),b.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:R[0]?.name})]})]})]}),b.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),le.map(J=>b.jsx(An,{matchup:J,onPickWinner:F,isLocked:S},J.id))]}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),b.jsx(An,{matchup:B,onPickWinner:F,isLocked:S})]})]})]})}),b.jsx("footer",{className:"h-[50px] flex items-center justify-center px-10 bg-slate-950/40 border-t border-white/5 text-[9px] font-bold text-slate-500 uppercase tracking-widest relative z-50",children:b.jsxs("div",{className:"flex items-center space-x-12 opacity-40",children:[b.jsx("span",{children:"NFL Re-seeding Active: #1 hosts highest numeric seed"}),b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-800"}),b.jsx("span",{children:"Predict Super Bowl LX Live"})]})})]})}function d9(){const{roomId:t}=ud(),{isAdmin:e}=as(),n=zs(),[s,a]=M.useState([]),[l,u]=M.useState(null),[d,m]=M.useState([]),[g,y]=M.useState(!0),[_,w]=M.useState("");M.useEffect(()=>{if(!e){n("/rooms");return}C()},[t,e]);const C=async()=>{const D=await b0();m(D);const O=await rn(rt(Ve,"rooms",t));O.exists()&&w(O.data().code);const U=Da(Qi(Ve,"brackets"),Ns("roomId","==",t),Ns("submitted","==",!0)),F=await Va(U),te=await Promise.all(F.docs.map(async Z=>{const se=Z.data(),R=await rn(rt(Ve,"users",se.userId)),S=R.exists()?R.data():{};return{id:Z.id,...se,username:S.username||S.email||"Unknown User"}}));a(te.sort((Z,se)=>se.submittedAt?.toDate()-Z.submittedAt?.toDate())),y(!1)},I=async(D,O)=>{if(window.confirm(`Are you sure you want to delete ${O}'s bracket? This cannot be undone.`))try{await BO(rt(Ve,"brackets",D)),a(s.filter(U=>U.id!==D)),alert("Bracket deleted successfully!")}catch(U){console.error("Error deleting bracket:",U),alert(`Error deleting bracket: ${U.message}`)}},k=D=>{const O=d.filter(K=>K.conference==="AFC"),U=d.filter(K=>K.conference==="NFC"),F=K=>d.find(le=>le.id===K),te=K=>D.picks?.[K]?F(D.picks[K]):null,Z=[{id:"afc-wc-0",team1:O[1],team2:O[6],winner:te("afc-wc-0")},{id:"afc-wc-1",team1:O[2],team2:O[5],winner:te("afc-wc-1")},{id:"afc-wc-2",team1:O[3],team2:O[4],winner:te("afc-wc-2")}],se=[{id:"nfc-wc-0",team1:U[1],team2:U[6],winner:te("nfc-wc-0")},{id:"nfc-wc-1",team1:U[2],team2:U[5],winner:te("nfc-wc-1")},{id:"nfc-wc-2",team1:U[3],team2:U[4],winner:te("nfc-wc-2")}],R=Z.map(K=>K.winner).filter(Boolean).sort((K,le)=>K.seed-le.seed),S=se.map(K=>K.winner).filter(Boolean).sort((K,le)=>K.seed-le.seed),N=[{id:"afc-div-0",team1:O[0],team2:R[2]||null,winner:te("afc-div-0")},{id:"afc-div-1",team1:R[0]||null,team2:R[1]||null,winner:te("afc-div-1")}],j=[{id:"nfc-div-0",team1:U[0],team2:S[2]||null,winner:te("nfc-div-0")},{id:"nfc-div-1",team1:S[0]||null,team2:S[1]||null,winner:te("nfc-div-1")}],P=N.map(K=>K.winner).filter(Boolean),q=j.map(K=>K.winner).filter(Boolean),V={id:"afc-conf",team1:P[0]||null,team2:P[1]||null,winner:te("afc-conf")},ze={id:"nfc-conf",team1:q[0]||null,team2:q[1]||null,winner:te("nfc-conf")},Ye={id:"super-bowl",team1:V.winner||null,team2:ze.winner||null,winner:te("super-bowl")};return b.jsxs("div",{className:"flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-75 lg:scale-85 xl:scale-90",children:[b.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[b.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),Z.map(K=>b.jsx(An,{matchup:K,isLocked:!0},K.id)),b.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[b.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),b.jsxs("div",{className:"text-left overflow-hidden",children:[b.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),b.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:O[0]?.name})]})]})]}),b.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),N.map(K=>b.jsx(An,{matchup:K,isLocked:!0},K.id))]}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),b.jsx(An,{matchup:V,isLocked:!0})]})]}),b.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6",children:[b.jsx("div",{className:"relative w-24 h-24 lg:w-32 lg:h-32 flex items-center justify-center mb-2",children:b.jsx("img",{src:hC,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})}),b.jsx(An,{matchup:Ye,isLocked:!0}),Ye.winner&&b.jsxs("div",{className:"mt-4 text-center",children:[b.jsx("div",{className:"text-amber-500 font-black text-[10px] uppercase tracking-widest mb-1",children:"Super Bowl Winner"}),b.jsx("div",{className:"text-2xl lg:text-4xl font-black text-white italic uppercase",children:Ye.winner.name})]})]}),b.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[b.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),se.map(K=>b.jsx(An,{matchup:K,isLocked:!0},K.id)),b.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[b.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),b.jsxs("div",{className:"text-left overflow-hidden",children:[b.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),b.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:U[0]?.name})]})]})]}),b.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),j.map(K=>b.jsx(An,{matchup:K,isLocked:!0},K.id))]}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),b.jsx(An,{matchup:ze,isLocked:!0})]})]})]})};return g?b.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:b.jsx("div",{className:"text-white text-xl",children:"Loading brackets..."})}):l?b.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100",children:[b.jsx("header",{className:"h-[70px] flex items-center justify-between px-10 bg-slate-950/60 backdrop-blur-xl border-b border-white/5",children:b.jsxs("div",{className:"flex items-center space-x-5",children:[b.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white transition",children:b.jsx(kr,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl font-black uppercase tracking-tighter text-white",children:[l.username,"'s Bracket"]}),b.jsxs("p",{className:"text-xs text-slate-500",children:["Submitted ",l.submittedAt?.toDate().toLocaleString()]})]})]})}),b.jsx("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 overflow-x-auto",children:k(l)})]}):b.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 overflow-hidden",children:b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),b.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[b.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:b.jsx(kr,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Submitted Brackets"}),b.jsxs("p",{className:"text-slate-400",children:["Room: ",_]})]})]}),s.length===0?b.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:b.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):b.jsx("div",{className:"grid gap-4",children:s.map(D=>b.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:bg-slate-800/50 transition-all",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("button",{onClick:()=>u(D),className:"flex items-center gap-4 flex-grow text-left",children:[b.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl",children:b.jsx(N3,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:D.username}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",children:[b.jsx(i3,{className:"w-4 h-4"}),b.jsxs("span",{children:["Submitted ",D.submittedAt?.toDate().toLocaleString()]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:O=>{O.stopPropagation(),I(D.id,D.username)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Bracket",children:b.jsx(NA,{className:"w-4 h-4"})}),b.jsx(kr,{className:"w-5 h-5 text-yellow-600/70 rotate-180"})]})]})},D.id))})]})]})}const vf={wc:1,div:2,conf:3,"super-bowl":5};function m9(){const{roomId:t}=ud(),{user:e}=as(),n=zs(),[s,a]=M.useState([]),[l,u]=M.useState(""),[d,m]=M.useState(!0),[g,y]=M.useState({}),[_,w]=M.useState(!1);M.useEffect(()=>{C()},[t]);const C=async()=>{try{const k=await rn(rt(Ve,"brackets",`${t}_${e.uid}`)),D=k.exists()&&k.data().submitted===!0;w(D);const O=await rn(rt(Ve,"rooms",t));O.exists()&&u(O.data().code);const U=await rn(rt(Ve,"gameResults",t)),F=U.exists()?U.data().results||{}:{};y(F);const te=Da(Qi(Ve,"brackets"),Ns("roomId","==",t),Ns("submitted","==",!0)),Z=await Va(te),se=await Promise.all(Z.docs.map(async R=>{const S=R.data(),N=await rn(rt(Ve,"users",S.userId)),j=N.exists()?N.data():{},P=I(S.picks,F);return{userId:S.userId,username:j.username||j.email||"Unknown User",points:P,submittedAt:S.submittedAt}}));se.sort((R,S)=>S.points-R.points),a(se)}catch(k){console.error("Error loading leaderboard:",k)}finally{m(!1)}},I=(k,D)=>{let O=0;return Object.entries(k).forEach(([U,F])=>{D[U]===F&&(U.includes("wc")?O+=vf.wc:U.includes("div")?O+=vf.div:U.includes("conf")?O+=vf.conf:U==="super-bowl"&&(O+=vf["super-bowl"]))}),O};return d?b.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:b.jsx("div",{className:"text-white text-xl",children:"Loading leaderboard..."})}):_?b.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 overflow-hidden",children:b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),b.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[b.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:b.jsx(kr,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsxs("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white flex items-center gap-3",children:[b.jsx(Wg,{className:"w-10 h-10 text-yellow-600/90"}),"Leaderboard"]}),b.jsxs("p",{className:"text-slate-400",children:["Room: ",l]})]})]}),s.length===0?b.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:b.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):b.jsx("div",{className:"space-y-3",children:s.map((k,D)=>{const O=k.userId===e.uid,U=D+1;return b.jsx("div",{className:`bg-slate-900/40 backdrop-blur-xl border rounded-xl p-6 transition-all ${O?"border-yellow-600/50 bg-yellow-600/5":"border-white/10 hover:bg-slate-800/50"}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl ${U===1?"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white":U===2?"bg-gradient-to-br from-slate-300 to-slate-400 text-slate-900":U===3?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-slate-800 text-slate-400"}`,children:U===1?b.jsx(Wg,{className:"w-6 h-6"}):U===2?b.jsx(v3,{className:"w-6 h-6"}):U===3?b.jsx(t3,{className:"w-6 h-6"}):U}),b.jsxs("div",{children:[b.jsxs("h3",{className:`text-xl font-bold ${O?"text-yellow-500":"text-white"}`,children:[k.username," ",O&&"(You)"]}),b.jsxs("p",{className:"text-sm text-slate-400",children:["Submitted ",k.submittedAt?.toDate().toLocaleDateString()]})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-3xl font-black text-yellow-600/90",children:k.points}),b.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Points"})]})]})},k.userId)})}),b.jsxs("div",{className:"mt-8 bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Point System"}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"1"}),b.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Wild Card"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"2"}),b.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Divisional"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"3"}),b.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Conference"})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"5"}),b.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Super Bowl"})]})]})]})]})]}):b.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 overflow-hidden",children:b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),b.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-4 py-8",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[b.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:b.jsx(kr,{className:"w-6 h-6"})}),b.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Leaderboard"})]}),b.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-yellow-600/30 rounded-2xl p-12 text-center",children:[b.jsx(nd,{className:"w-16 h-16 text-yellow-600/90 mx-auto mb-4"}),b.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Submit Your Bracket First"}),b.jsx("p",{className:"text-slate-300 mb-6",children:"You must submit your bracket before viewing the leaderboard."}),b.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"px-6 py-3 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition font-bold uppercase tracking-wider",children:"Go to Bracket"})]})]})]})}const p9="https://site.api.espn.com/apis/site/v2/sports/football/nfl",g9=async()=>{try{return(await(await fetch(`${p9}/scoreboard`)).json()).events||[]}catch(t){return console.error("Error fetching NFL scoreboard:",t),[]}},y9=(t,e)=>{const n={},s={};return t.forEach(a=>{const l=a.competitions?.[0];if(!l)return;const u=l.competitors,d=l.status,m=d.type.completed,g=d.type.state==="in",y=u.find(k=>k.homeAway==="home"),_=u.find(k=>k.homeAway==="away");if(!y||!_)return;const w=N1(e,y.team.displayName),C=N1(e,_.team.displayName);if(!w||!C)return;const I=v9(w,C);if(I&&(s[I]={homeTeam:{id:w.id,name:w.name,score:parseInt(y.score)||0},awayTeam:{id:C.id,name:C.name,score:parseInt(_.score)||0},status:d.type.description,isCompleted:m,isInProgress:g,period:d.period||0,clock:d.displayClock||""},m)){const k=parseInt(y.score)||0,D=parseInt(_.score)||0,O=k>D?w.id:C.id;n[I]=O}}),{gameResults:n,liveScores:s}},N1=(t,e)=>{let n=t.find(s=>e.includes(s.city)&&e.includes(s.name));return n||(n=t.find(s=>e.includes(s.name))),n},v9=(t,e)=>{const n=[t.seed,e.seed].sort((a,l)=>a-l),s=t.conference.toLowerCase();return n[0]===2&&n[1]===7?`${s}-wc-0`:n[0]===3&&n[1]===6?`${s}-wc-1`:n[0]===4&&n[1]===5?`${s}-wc-2`:null},_9=async(t,e,n)=>{const s=await g9(),{gameResults:a,liveScores:l}=y9(s,e);return{gameResults:a,liveScores:l}};function T9(){const{roomId:t}=ud(),{isAdmin:e}=as(),n=zs(),[s,a]=M.useState([]),[l,u]=M.useState({}),[d,m]=M.useState({}),[g,y]=M.useState(""),[_,w]=M.useState(!0),[C,I]=M.useState(!1);M.useEffect(()=>{if(!e){n("/rooms");return}k();const R=setInterval(()=>{D()},3e4);return()=>clearInterval(R)},[t,e]);const k=async()=>{const R=await b0();a(R);const S=await rn(rt(Ve,"rooms",t));S.exists()&&y(S.data().code);const N=await rn(rt(Ve,"gameResults",t));N.exists()&&u(N.data().results||{}),w(!1),D(R)},D=async(R=s)=>{I(!0);try{const{gameResults:S,liveScores:N}=await _9(t,R,l);if(m(N),Object.keys(S).length>0){const j={...l,...S};await O(j)}}catch(S){console.error("Error syncing games:",S)}finally{I(!1)}},O=async R=>{await iu(rt(Ve,"gameResults",t),{results:R}),u(R)},U=(R,S)=>{const N={...l,[R]:S};O(N)},F=R=>{const S={...l};delete S[R],O(S)},te=(R,S,N,j)=>{const P=l[R],q=d[R];return b.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:j}),q?.isInProgress&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-500 font-bold",children:[b.jsx(b3,{className:"w-3 h-3 animate-pulse"}),"LIVE - Q",q.period," ",q.clock]}),q?.isCompleted&&b.jsx("div",{className:"text-xs text-green-500 font-bold",children:"FINAL"})]}),b.jsx("div",{className:"space-y-2",children:[S,N].map(V=>V&&b.jsxs("button",{onClick:()=>P===V.id?F(R):U(R,V.id),className:`w-full p-3 rounded-lg border-2 transition-all flex items-center justify-between ${P===V.id?"border-green-500 bg-green-500/20":P&&P!==V.id?"border-red-500/50 bg-red-500/10 opacity-50":"border-slate-700 hover:border-slate-600"}`,children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 flex items-center justify-center text-xs font-bold text-white",children:V.seed}),b.jsx("span",{className:"font-bold text-white",children:V.name})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[q&&b.jsx("span",{className:"text-xl font-black text-white",children:q.homeTeam.id===V.id?q.homeTeam.score:q.awayTeam.score}),P===V.id&&b.jsx(o3,{className:"w-5 h-5 text-green-500"})]})]},V.id))})]})};if(_)return b.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:b.jsx("div",{className:"text-white text-xl",children:"Loading..."})});const Z=s.filter(R=>R.conference==="AFC"),se=s.filter(R=>R.conference==="NFC");return b.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 overflow-hidden",children:b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),b.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[b.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:b.jsx(kr,{className:"w-6 h-6"})}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Game Results"}),b.jsxs("p",{className:"text-slate-400",children:["Room: ",g," - Click to manually set winners"]})]}),b.jsxs("button",{onClick:()=>D(),disabled:C,className:"flex items-center gap-2 px-6 py-3 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-xl hover:bg-blue-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[b.jsx(w3,{className:`w-5 h-5 ${C?"animate-spin":""}`}),C?"Syncing...":"Sync Live Scores"]})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),b.jsxs("div",{className:"space-y-3",children:[te("afc-wc-0",Z[1],Z[6],`#${Z[1]?.seed} vs #${Z[6]?.seed}`),te("afc-wc-1",Z[2],Z[5],`#${Z[2]?.seed} vs #${Z[5]?.seed}`),te("afc-wc-2",Z[3],Z[4],`#${Z[3]?.seed} vs #${Z[4]?.seed}`)]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),b.jsxs("div",{className:"space-y-3",children:[te("afc-div-0",Z[0],null,`#1 ${Z[0]?.name} vs Winner`),te("afc-div-1",null,null,"Winner vs Winner")]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),te("afc-conf",null,null,"AFC Championship")]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),b.jsxs("div",{className:"space-y-3",children:[te("nfc-wc-0",se[1],se[6],`#${se[1]?.seed} vs #${se[6]?.seed}`),te("nfc-wc-1",se[2],se[5],`#${se[2]?.seed} vs #${se[5]?.seed}`),te("nfc-wc-2",se[3],se[4],`#${se[3]?.seed} vs #${se[4]?.seed}`)]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),b.jsxs("div",{className:"space-y-3",children:[te("nfc-div-0",se[0],null,`#1 ${se[0]?.name} vs Winner`),te("nfc-div-1",null,null,"Winner vs Winner")]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),te("nfc-conf",null,null,"NFC Championship")]})]})]}),b.jsxs("div",{className:"mt-8 max-w-md mx-auto",children:[b.jsx("h2",{className:"text-2xl font-black text-yellow-600/90 uppercase tracking-wider mb-4 text-center",children:"Super Bowl LX"}),te("super-bowl",null,null,"Championship Game")]})]})]})}const D1=[{id:"chiefs",name:"Chiefs",city:"Kansas City",conference:"AFC",color:"#E31837"},{id:"bills",name:"Bills",city:"Buffalo",conference:"AFC",color:"#00338D"},{id:"ravens",name:"Ravens",city:"Baltimore",conference:"AFC",color:"#241773"},{id:"texans",name:"Texans",city:"Houston",conference:"AFC",color:"#03202F"},{id:"steelers",name:"Steelers",city:"Pittsburgh",conference:"AFC",color:"#FFB612"},{id:"chargers",name:"Chargers",city:"Los Angeles",conference:"AFC",color:"#0080C6"},{id:"broncos",name:"Broncos",city:"Denver",conference:"AFC",color:"#FB4F14"},{id:"eagles",name:"Eagles",city:"Philadelphia",conference:"NFC",color:"#004C54"},{id:"lions",name:"Lions",city:"Detroit",conference:"NFC",color:"#0076B6"},{id:"rams",name:"Rams",city:"Los Angeles",conference:"NFC",color:"#003594"},{id:"buccaneers",name:"Buccaneers",city:"Tampa Bay",conference:"NFC",color:"#D50A0A"},{id:"vikings",name:"Vikings",city:"Minnesota",conference:"NFC",color:"#4F2683"},{id:"packers",name:"Packers",city:"Green Bay",conference:"NFC",color:"#203731"},{id:"commanders",name:"Commanders",city:"Washington",conference:"NFC",color:"#5A1414"}];function b9(){const{isAdmin:t}=as(),e=zs(),[n,s]=M.useState(Array(7).fill(null)),[a,l]=M.useState(Array(7).fill(null)),[u,d]=M.useState(!0),[m,g]=M.useState(!1);M.useEffect(()=>{if(!t){e("/rooms");return}y()},[t]);const y=async()=>{const I=await rn(rt(Ve,"config","playoffs"));if(I.exists()){const k=I.data();s(k.afcTeams||Array(7).fill(null)),l(k.nfcTeams||Array(7).fill(null))}d(!1)},_=async()=>{g(!0);try{await iu(rt(Ve,"config","playoffs"),{afcTeams:n,nfcTeams:a,updatedAt:new Date}),alert("Playoff configuration saved!")}catch(I){console.error("Error saving config:",I),alert("Error saving configuration")}finally{g(!1)}},w=(I,k,D)=>{const O=D1.find(F=>F.id===D);if(!O)return;const U={...O,seed:k+1};if(I==="AFC"){const F=[...n];F[k]=U,s(F)}else{const F=[...a];F[k]=U,l(F)}},C=(I,k)=>{const D=I==="AFC"?n:a,O=D[k],U=D1.filter(F=>F.conference===I&&!D.some(te=>te?.id===F.id));return b.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[b.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:["Seed #",k+1]}),b.jsxs("select",{value:O?.id||"",onChange:F=>w(I,k,F.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-white font-bold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[b.jsx("option",{value:"",children:"Select Team"}),U.map(F=>b.jsxs("option",{value:F.id,children:[F.city," ",F.name]},F.id)),O&&b.jsxs("option",{value:O.id,children:[O.city," ",O.name]})]})]})};return u?b.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:b.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):b.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 overflow-hidden",children:b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),b.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>e("/rooms"),className:"text-slate-400 hover:text-white transition",children:b.jsx(kr,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Playoff Configuration"}),b.jsx("p",{className:"text-slate-400",children:"Set the 14 playoff teams and their seeds"})]})]}),b.jsxs("button",{onClick:_,disabled:m,className:"flex items-center gap-2 px-6 py-3 bg-green-500/20 border border-green-500/30 text-green-400 rounded-xl hover:bg-green-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[b.jsx(S3,{className:"w-5 h-5"}),m?"Saving...":"Save Configuration"]})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC Playoff Teams"}),[0,1,2,3,4,5,6].map(I=>C("AFC",I))]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC Playoff Teams"}),[0,1,2,3,4,5,6].map(I=>C("NFC",I))]})]})]})]})}function E9(){const{user:t,logout:e}=as(),[n,s]=M.useState(!1),[a,l]=M.useState(""),u=async()=>{s(!0),l("");try{await kx(ei.currentUser),l("Verification email sent! Please check your inbox.")}catch{l("Error sending email. Please try again later.")}s(!1)};return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-900 via-red-800 to-orange-900 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[b.jsx("div",{className:"flex items-center justify-center mb-6",children:b.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:b.jsx(CA,{className:"w-12 h-12 text-orange-600"})})}),b.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-gray-800",children:"Verify Your Email"}),b.jsxs("p",{className:"text-center text-gray-600 mb-6",children:["We sent a verification link to ",b.jsx("span",{className:"font-semibold",children:t?.email})]}),b.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(nd,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),b.jsxs("div",{className:"text-sm text-blue-800",children:[b.jsx("p",{className:"font-semibold mb-1",children:"Check your email"}),b.jsx("p",{children:"Click the verification link in the email to activate your account. You may need to check your spam folder."})]})]})}),a&&b.jsx("div",{className:`border rounded-lg p-3 mb-4 ${a.includes("sent")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:b.jsx("p",{className:"text-sm",children:a})}),b.jsx("button",{onClick:u,disabled:n,className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold mb-3 disabled:opacity-50",children:n?"Sending...":"Resend Verification Email"}),b.jsx("button",{onClick:e,className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Sign Out"})]})})}function w9(){const{user:t,isAdmin:e}=as();return M.useEffect(()=>{(async()=>{if(t)try{const s=await rn(rt(Ve,"users",t.uid));if(s.exists()){const a=s.data();console.log("Current user data:",a),console.log("isAdmin from context:",e),e&&!a.isAdmin&&(console.log("Setting admin status in Firestore..."),await UO(rt(Ve,"users",t.uid),{isAdmin:!0}),console.log("Admin status updated! Please refresh the page."),alert("Admin status has been set. Please refresh the page."))}else console.log("User document does not exist in Firestore")}catch(s){console.error("Error checking admin status:",s)}})()},[t,e]),null}function Lo({children:t}){const{user:e,loading:n}=as();return n?b.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."}):e?e.emailVerified?b.jsxs(b.Fragment,{children:[b.jsx(w9,{}),t]}):b.jsx(E9,{}):b.jsx(K1,{to:"/login"})}function x9(){return b.jsx(KO,{children:b.jsx(vN,{children:b.jsxs(YI,{children:[b.jsx(As,{path:"/login",element:b.jsx(V3,{})}),b.jsx(As,{path:"/rooms",element:b.jsx(Lo,{children:b.jsx(M3,{})})}),b.jsx(As,{path:"/bracket/:roomId",element:b.jsx(Lo,{children:b.jsx(f9,{})})}),b.jsx(As,{path:"/admin/brackets/:roomId",element:b.jsx(Lo,{children:b.jsx(d9,{})})}),b.jsx(As,{path:"/leaderboard/:roomId",element:b.jsx(Lo,{children:b.jsx(m9,{})})}),b.jsx(As,{path:"/game-results/:roomId",element:b.jsx(Lo,{children:b.jsx(T9,{})})}),b.jsx(As,{path:"/admin/playoff-config",element:b.jsx(Lo,{children:b.jsx(b9,{})})}),b.jsx(As,{path:"/",element:b.jsx(K1,{to:"/rooms"})})]})})})}W2.createRoot(document.getElementById("root")).render(b.jsx(M.StrictMode,{children:b.jsx(x9,{})}));
