(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var zp={exports:{}},Nc={};var kb;function ZR(){if(kb)return Nc;kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Nc.Fragment=e,Nc.jsx=n,Nc.jsxs=n,Nc}var jb;function eN(){return jb||(jb=1,zp.exports=ZR()),zp.exports}var g=eN(),Fp={exports:{}},De={};var Mb;function tN(){if(Mb)return De;Mb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function R(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function L(U,te,ue){this.props=U,this.context=te,this.refs=M,this.updater=ue||k}L.prototype.isReactComponent={},L.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=L.prototype;function F(U,te,ue){this.props=U,this.context=te,this.refs=M,this.updater=ue||k}var W=F.prototype=new B;W.constructor=F,P(W,L.prototype),W.isPureReactComponent=!0;var ee=Array.isArray;function re(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(U,te,ue){var fe=ue.ref;return{$$typeof:t,type:U,key:te,ref:fe!==void 0?fe:null,props:ue}}function V(U,te){return I(U.type,te,U.props)}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function z(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return te[ue]})}var D=/\/+/g;function ge(U,te){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):te.toString(36)}function Ne(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(re,re):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function G(U,te,ue,fe,Ee){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(Te){case"bigint":case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case t:case e:le=!0;break;case v:return le=U._init,G(le(U._payload),te,ue,fe,Ee)}}if(le)return Ee=Ee(U),le=fe===""?"."+ge(U,0):fe,ee(Ee)?(ue="",le!=null&&(ue=le.replace(D,"$&/")+"/"),G(Ee,te,ue,"",function(Ft){return Ft})):Ee!=null&&(N(Ee)&&(Ee=V(Ee,ue+(Ee.key==null||U&&U.key===Ee.key?"":(""+Ee.key).replace(D,"$&/")+"/")+le)),te.push(Ee)),1;le=0;var be=fe===""?".":fe+":";if(ee(U))for(var ve=0;ve<U.length;ve++)fe=U[ve],Te=be+ge(fe,ve),le+=G(fe,te,ue,Te,Ee);else if(ve=R(U),typeof ve=="function")for(U=ve.call(U),ve=0;!(fe=U.next()).done;)fe=fe.value,Te=be+ge(fe,ve++),le+=G(fe,te,ue,Te,Ee);else if(Te==="object"){if(typeof U.then=="function")return G(Ne(U),te,ue,fe,Ee);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return le}function ae(U,te,ue){if(U==null)return U;var fe=[],Ee=0;return G(U,fe,"","",function(Te){return te.call(ue,Te,Ee++)}),fe}function de(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Ce=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},je={map:ae,forEach:function(U,te,ue){ae(U,function(){te.apply(this,arguments)},ue)},count:function(U){var te=0;return ae(U,function(){te++}),te},toArray:function(U){return ae(U,function(te){return te})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return De.Activity=_,De.Children=je,De.Component=L,De.Fragment=n,De.Profiler=a,De.PureComponent=F,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,De.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},De.cache=function(U){return function(){return U.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(U,te,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=P({},U.props),Ee=U.key;if(te!=null)for(Te in te.key!==void 0&&(Ee=""+te.key),te)!S.call(te,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&te.ref===void 0||(fe[Te]=te[Te]);var Te=arguments.length-2;if(Te===1)fe.children=ue;else if(1<Te){for(var le=Array(Te),be=0;be<Te;be++)le[be]=arguments[be+2];fe.children=le}return I(U.type,Ee,fe)},De.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},De.createElement=function(U,te,ue){var fe,Ee={},Te=null;if(te!=null)for(fe in te.key!==void 0&&(Te=""+te.key),te)S.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=te[fe]);var le=arguments.length-2;if(le===1)Ee.children=ue;else if(1<le){for(var be=Array(le),ve=0;ve<le;ve++)be[ve]=arguments[ve+2];Ee.children=be}if(U&&U.defaultProps)for(fe in le=U.defaultProps,le)Ee[fe]===void 0&&(Ee[fe]=le[fe]);return I(U,Te,Ee)},De.createRef=function(){return{current:null}},De.forwardRef=function(U){return{$$typeof:d,render:U}},De.isValidElement=N,De.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:de}},De.memo=function(U,te){return{$$typeof:y,type:U,compare:te===void 0?null:te}},De.startTransition=function(U){var te=A.T,ue={};A.T=ue;try{var fe=U(),Ee=A.S;Ee!==null&&Ee(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(re,Ce)}catch(Te){Ce(Te)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),A.T=te}},De.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},De.use=function(U){return A.H.use(U)},De.useActionState=function(U,te,ue){return A.H.useActionState(U,te,ue)},De.useCallback=function(U,te){return A.H.useCallback(U,te)},De.useContext=function(U){return A.H.useContext(U)},De.useDebugValue=function(){},De.useDeferredValue=function(U,te){return A.H.useDeferredValue(U,te)},De.useEffect=function(U,te){return A.H.useEffect(U,te)},De.useEffectEvent=function(U){return A.H.useEffectEvent(U)},De.useId=function(){return A.H.useId()},De.useImperativeHandle=function(U,te,ue){return A.H.useImperativeHandle(U,te,ue)},De.useInsertionEffect=function(U,te){return A.H.useInsertionEffect(U,te)},De.useLayoutEffect=function(U,te){return A.H.useLayoutEffect(U,te)},De.useMemo=function(U,te){return A.H.useMemo(U,te)},De.useOptimistic=function(U,te){return A.H.useOptimistic(U,te)},De.useReducer=function(U,te,ue){return A.H.useReducer(U,te,ue)},De.useRef=function(U){return A.H.useRef(U)},De.useState=function(U){return A.H.useState(U)},De.useSyncExternalStore=function(U,te,ue){return A.H.useSyncExternalStore(U,te,ue)},De.useTransition=function(){return A.H.useTransition()},De.version="19.2.3",De}var Vb;function Dy(){return Vb||(Vb=1,Fp.exports=tN()),Fp.exports}var j=Dy(),Hp={exports:{}},Ic={},qp={exports:{}},Gp={};var Pb;function nN(){return Pb||(Pb=1,(function(t){function e(G,ae){var de=G.length;G.push(ae);e:for(;0<de;){var Ce=de-1>>>1,je=G[Ce];if(0<a(je,ae))G[Ce]=ae,G[de]=je,de=Ce;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ae=G[0],de=G.pop();if(de!==ae){G[0]=de;e:for(var Ce=0,je=G.length,U=je>>>1;Ce<U;){var te=2*(Ce+1)-1,ue=G[te],fe=te+1,Ee=G[fe];if(0>a(ue,de))fe<je&&0>a(Ee,ue)?(G[Ce]=Ee,G[fe]=de,Ce=fe):(G[Ce]=ue,G[te]=de,Ce=te);else if(fe<je&&0>a(Ee,de))G[Ce]=Ee,G[fe]=de,Ce=fe;else break e}}return ae}function a(G,ae){var de=G.sortIndex-ae.sortIndex;return de!==0?de:G.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],y=[],v=1,_=null,T=3,R=!1,k=!1,P=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function W(G){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=G)s(y),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(y)}}function ee(G){if(P=!1,W(G),!k)if(n(m)!==null)k=!0,re||(re=!0,z());else{var ae=n(y);ae!==null&&Ne(ee,ae.startTime-G)}}var re=!1,A=-1,S=5,I=-1;function V(){return M?!0:!(t.unstable_now()-I<S)}function N(){if(M=!1,re){var G=t.unstable_now();I=G;var ae=!0;try{e:{k=!1,P&&(P=!1,B(A),A=-1),R=!0;var de=T;try{t:{for(W(G),_=n(m);_!==null&&!(_.expirationTime>G&&V());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,T=_.priorityLevel;var je=Ce(_.expirationTime<=G);if(G=t.unstable_now(),typeof je=="function"){_.callback=je,W(G),ae=!0;break t}_===n(m)&&s(m),W(G)}else s(m);_=n(m)}if(_!==null)ae=!0;else{var U=n(y);U!==null&&Ne(ee,U.startTime-G),ae=!1}}break e}finally{_=null,T=de,R=!1}ae=void 0}}finally{ae?z():re=!1}}}var z;if(typeof F=="function")z=function(){F(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ge=D.port2;D.port1.onmessage=N,z=function(){ge.postMessage(null)}}else z=function(){L(N,0)};function Ne(G,ae){A=L(function(){G(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(G){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var de=T;T=ae;try{return G()}finally{T=de}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=T;T=G;try{return ae()}finally{T=de}},t.unstable_scheduleCallback=function(G,ae,de){var Ce=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ce+de:Ce):de=Ce,G){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=de+je,G={id:v++,callback:ae,priorityLevel:G,startTime:de,expirationTime:je,sortIndex:-1},de>Ce?(G.sortIndex=de,e(y,G),n(m)===null&&G===n(y)&&(P?(B(A),A=-1):P=!0,Ne(ee,de-Ce))):(G.sortIndex=je,e(m,G),k||R||(k=!0,re||(re=!0,z()))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var ae=T;return function(){var de=T;T=ae;try{return G.apply(this,arguments)}finally{T=de}}}})(Gp)),Gp}var Ob;function iN(){return Ob||(Ob=1,qp.exports=nN()),qp.exports}var Kp={exports:{}},hn={};var Lb;function sN(){if(Lb)return hn;Lb=1;var t=Dy();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,y,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:y,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(m,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(m,y,null,v)},hn.flushSync=function(m){var y=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=y,s.p=v,s.d.f()}},hn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},hn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},hn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var v=y.as,_=d(v,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:R}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:T,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},hn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,_=d(v,y.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(m,y){if(typeof m=="string")if(y){var v=d(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},hn.requestFormReset=function(m){s.d.r(m)},hn.unstable_batchedUpdates=function(m,y){return m(y)},hn.useFormState=function(m,y,v){return u.H.useFormState(m,y,v)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var Ub;function rN(){if(Ub)return Kp.exports;Ub=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=sN(),Kp.exports}var Bb;function aN(){if(Bb)return Ic;Bb=1;var t=iN(),e=Dy(),n=rN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===c)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var b=!1,E=f.child;E;){if(E===o){b=!0,o=f,c=p;break}if(E===c){b=!0,c=f,o=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===o){b=!0,o=p,c=f;break}if(E===c){b=!0,c=p,o=f;break}E=E.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ge(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case F:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return r=i.displayName||null,r!==null?r:ge(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return ge(i(r))}catch{}}return null}var Ne=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ce=[],je=-1;function U(i){return{current:i}}function te(i){0>je||(i.current=Ce[je],Ce[je]=null,je--)}function ue(i,r){je++,Ce[je]=i.current,i.current=r}var fe=U(null),Ee=U(null),Te=U(null),le=U(null);function be(i,r){switch(ue(Te,r),ue(Ee,i),ue(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?tb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=tb(r),i=nb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(fe),ue(fe,i)}function ve(){te(fe),te(Ee),te(Te)}function Ft(i){i.memoizedState!==null&&ue(le,i);var r=fe.current,o=nb(r,i.type);r!==o&&(ue(Ee,i),ue(fe,o))}function Vi(i){Ee.current===i&&(te(fe),te(Ee)),le.current===i&&(te(le),Sc._currentValue=de)}var Kn,Ys;function un(i){if(Kn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Kn=r&&r[1]||"",Ys=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+i+Ys}var ta=!1;function na(i,r){if(!i||ta)return"";ta=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(i,[],se)}else{try{se.call()}catch(J){Q=J}i.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],E=p[1];if(b&&E){var O=b.split(`
`),Y=E.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===Y.length)for(c=O.length-1,f=Y.length-1;1<=c&&0<=f&&O[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==Y[f]){var Z=`
`+O[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=f);break}}}finally{ta=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?un(o):""}function Al(i,r){switch(i.tag){case 26:case 27:case 5:return un(i.type);case 16:return un("Lazy");case 13:return i.child!==r&&r!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return na(i.type,!1);case 11:return na(i.type.render,!1);case 1:return na(i.type,!0);case 31:return un("Activity");default:return""}}function Cl(i){try{var r="",o=null;do r+=Al(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Nt=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,Qs=t.unstable_cancelCallback,Hd=t.unstable_shouldYield,ku=t.unstable_requestPaint,yn=t.unstable_now,ia=t.unstable_getCurrentPriorityLevel,Rl=t.unstable_ImmediatePriority,Nl=t.unstable_UserBlockingPriority,Xs=t.unstable_NormalPriority,qd=t.unstable_LowPriority,ju=t.unstable_IdlePriority,Mu=t.log,Vu=t.unstable_setDisableYieldValue,fi=null,Jt=null;function $n(i){if(typeof Mu=="function"&&Vu(i),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(fi,i)}catch{}}var wt=Math.clz32?Math.clz32:Ou,Pu=Math.log,Xa=Math.LN2;function Ou(i){return i>>>=0,i===0?32:31-(Pu(i)/Xa|0)|0}var Pi=256,sa=262144,It=4194304;function Oi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Li(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~p,c!==0?f=Oi(c):(b&=E,b!==0?f=Oi(b):o||(o=E&~i,o!==0&&(f=Oi(o))))):(E=c&~p,E!==0?f=Oi(E):b!==0?f=Oi(b):o||(o=c&~i,o!==0&&(f=Oi(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function di(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Gd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var i=It;return It<<=1,(It&62914560)===0&&(It=4194304),i}function Ui(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ra(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kd(i,r,o,c,f,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,O=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-wt(o),se=1<<Z;E[Z]=0,O[Z]=-1;var Q=Y[Z];if(Q!==null)for(Y[Z]=null,Z=0;Z<Q.length;Z++){var J=Q[Z];J!==null&&(J.lane&=-536870913)}o&=~se}c!==0&&aa(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~r))}function aa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-wt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Il(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-wt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Dl(i,r){var o=r&-r;return o=(o&42)!==0?1:oa(o),(o&(i.suspendedLanes|r))!==0?0:o}function oa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ps(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Uu(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:Sb(i.type))}function mi(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var pi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+pi,Yt="__reactProps$"+pi,Bi="__reactContainer$"+pi,Wa="__reactEvents$"+pi,$d="__reactListeners$"+pi,Bu="__reactHandles$"+pi,zu="__reactResources$"+pi,zi="__reactMarker$"+pi;function Ja(i){delete i[Dt],delete i[Yt],delete i[Wa],delete i[$d],delete i[Bu]}function Fi(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Bi]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=cb(i);i!==null;){if(o=i[Dt])return o;i=cb(i)}return r}i=o,o=i.parentNode}return null}function Yn(i){if(i=i[Dt]||i[Bi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function kn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Hi(i){var r=i[zu];return r||(r=i[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function kt(i){i[zi]=!0}var kl=new Set,jl={};function qi(i,r){Gi(i,r),Gi(i+"Capture",r)}function Gi(i,r){for(jl[i]=r,i=0;i<r.length;i++)kl.add(r[i])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Pl={};function Fu(i){return Nt.call(Pl,i)?!0:Nt.call(Vl,i)?!1:Ml.test(i)?Pl[i]=!0:(Vl[i]=!0,!1)}function Za(i,r,o){if(Fu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function jn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function jt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ws(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ol(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ze(i){if(!i._valueTracker){var r=Ws(i)?"checked":"value";i._valueTracker=Ol(i,r,""+i[r])}}function la(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Ws(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ca=/[\n"\\]/g;function wn(i){return i.replace(ca,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function eo(i,r,o,c,f,p,b,E){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Ll(i,b,Qt(r)):o!=null?Ll(i,b,Qt(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Qt(E):i.removeAttribute("name")}function Hu(i,r,o,c,f,p,b,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Ze(i);return}o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Ze(i)}function Ll(i,r,o){r==="number"&&Ki(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Js(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function qu(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function Zs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ne(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Ze(i)}function Tn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Gu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Bl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Ul(i,f,c)}else for(var p in r)r.hasOwnProperty(p)&&Ul(i,p,r[p])}function to(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(i){return er.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gi(){}var zl=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var tr=null,$i=null;function ua(i){var r=Yn(i);if(r&&(i=r.stateNode)){var o=i[Yt]||null;e:switch(i=r.stateNode,r.type){case"input":if(eo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[Yt]||null;if(!f)throw Error(s(90));eo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&la(c)}break e;case"textarea":qu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Js(i,!!o.multiple,r,!1)}}}var io=!1;function nr(i,r,o){if(io)return i(r,o);io=!0;try{var c=i(r);return c}finally{if(io=!1,(tr!==null||$i!==null)&&(Uh(),tr&&(r=tr,i=$i,$i=tr=null,ua(r),i)))for(r=0;r<i.length;r++)ua(i[r])}}function yi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Yt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Xn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ha=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ha=!1}var Yi=null,Fl=null,fa=null;function Hl(){if(fa)return fa;var i,r=Fl,o=r.length,c,f="value"in Yi?Yi.value:Yi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===f[p-c];c++);return fa=f.slice(i,1<c?1-c:void 0)}function da(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function gs(){return!0}function vi(){return!1}function Zt(i){function r(o,c,f,p,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?gs:vi,this.isPropagationStopped=vi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),r}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=Zt(ys),ir=_({},ys,{view:0,detail:0}),ql=Zt(ir),sr,so,Xi,ro=_({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xi&&(Xi&&i.type==="mousemove"?(sr=i.screenX-Xi.screenX,so=i.screenY-Xi.screenY):so=sr=0,Xi=i),sr)},movementY:function(i){return"movementY"in i?i.movementY:so}}),Gl=Zt(ro),ma=_({},ro,{dataTransfer:0}),$u=Zt(ma),Yu=_({},ir,{relatedTarget:0}),pa=Zt(Yu),Kl=_({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Zt(Kl),ao=_({},ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xu=Zt(ao),Wu=_({},ys,{data:0}),Wi=Zt(Wu),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=eh[i])?!!r[i]:!1}function rr(){return th}var vn=_({},ir,{key:function(i){if(i.key){var r=Ju[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=da(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(i){return i.type==="keypress"?da(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?da(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nh=Zt(vn),ih=_({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=Zt(ih),h=_({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),x=Zt(h),w=_({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Zt(w),K=_({},ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Zt(K),ce=_({},ys,{newState:0,oldState:0}),Me=Zt(ce),Tt=[9,13,27,32],Qe=Xn&&"CompositionEvent"in window,ft=null;Xn&&"documentMode"in document&&(ft=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!ft,Ji=Xn&&(!Qe||ft&&8<ft&&11>=ft),xi=" ",_i=!1;function ga(i,r){switch(i){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lo=!1;function T2(i,r){switch(i){case"compositionend":return oo(r);case"keypress":return r.which!==32?null:(_i=!0,xi);case"textInput":return i=r.data,i===xi&&_i?null:i;default:return null}}function E2(i,r){if(lo)return i==="compositionend"||!Qe&&ga(i,r)?(i=Hl(),fa=Fl=Yi=null,lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ji&&r.locale!=="ko"?null:r.data;default:return null}}var S2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!S2[i.type]:r==="textarea"}function dv(i,r,o,c){tr?$i?$i.push(c):$i=[c]:tr=c,r=Kh(r,"onChange"),0<r.length&&(o=new Qi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var $l=null,Yl=null;function A2(i){Q_(i,0)}function sh(i){var r=kn(i);if(la(r))return i}function mv(i,r){if(i==="change")return r}var pv=!1;if(Xn){var Yd;if(Xn){var Qd="oninput"in document;if(!Qd){var gv=document.createElement("div");gv.setAttribute("oninput","return;"),Qd=typeof gv.oninput=="function"}Yd=Qd}else Yd=!1;pv=Yd&&(!document.documentMode||9<document.documentMode)}function yv(){$l&&($l.detachEvent("onpropertychange",vv),Yl=$l=null)}function vv(i){if(i.propertyName==="value"&&sh(Yl)){var r=[];dv(r,Yl,i,Qn(i)),nr(A2,r)}}function C2(i,r,o){i==="focusin"?(yv(),$l=r,Yl=o,$l.attachEvent("onpropertychange",vv)):i==="focusout"&&yv()}function R2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sh(Yl)}function N2(i,r){if(i==="click")return sh(r)}function I2(i,r){if(i==="input"||i==="change")return sh(r)}function D2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Mn=typeof Object.is=="function"?Object.is:D2;function Ql(i,r){if(Mn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Nt.call(r,f)||!Mn(i[f],r[f]))return!1}return!0}function xv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _v(i,r){var o=xv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xv(o)}}function bv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?bv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function wv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ki(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ki(i.document)}return r}function Xd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var k2=Xn&&"documentMode"in document&&11>=document.documentMode,co=null,Wd=null,Xl=null,Jd=!1;function Tv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jd||co==null||co!==Ki(c)||(c=co,"selectionStart"in c&&Xd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xl&&Ql(Xl,c)||(Xl=c,c=Kh(Wd,"onSelect"),0<c.length&&(r=new Qi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=co)))}function ya(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var uo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Zd={},Ev={};Xn&&(Ev=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function va(i){if(Zd[i])return Zd[i];if(!uo[i])return i;var r=uo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ev)return Zd[i]=r[o];return i}var Sv=va("animationend"),Av=va("animationiteration"),Cv=va("animationstart"),j2=va("transitionrun"),M2=va("transitionstart"),V2=va("transitioncancel"),Rv=va("transitionend"),Nv=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function bi(i,r){Nv.set(i,r),qi(r,[i])}var rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Jn=[],ho=0,tm=0;function ah(){for(var i=ho,r=tm=ho=0;r<i;){var o=Jn[r];Jn[r++]=null;var c=Jn[r];Jn[r++]=null;var f=Jn[r];Jn[r++]=null;var p=Jn[r];if(Jn[r++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}p!==0&&Iv(o,f,p)}}function oh(i,r,o,c){Jn[ho++]=i,Jn[ho++]=r,Jn[ho++]=o,Jn[ho++]=c,tm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function nm(i,r,o,c){return oh(i,r,o,c),lh(i)}function xa(i,r){return oh(i,null,null,r),lh(i)}function Iv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-wt(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),p):null}function lh(i){if(50<vc)throw vc=0,hp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var fo={};function P2(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,c){return new P2(i,r,o,c)}function im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xs(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Dv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ch(i,r,o,c,f,p){var b=0;if(c=i,typeof i=="function")im(i)&&(b=1);else if(typeof i=="string")b=zR(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Vn(31,o,r,f),i.elementType=I,i.lanes=p,i;case P:return _a(o.children,f,p,r);case M:b=8,f|=24;break;case L:return i=Vn(12,o,r,f|2),i.elementType=L,i.lanes=p,i;case ee:return i=Vn(13,o,r,f),i.elementType=ee,i.lanes=p,i;case re:return i=Vn(19,o,r,f),i.elementType=re,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:b=10;break e;case B:b=9;break e;case W:b=11;break e;case A:b=14;break e;case S:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Vn(b,o,r,f),r.elementType=i,r.type=c,r.lanes=p,r}function _a(i,r,o,c){return i=Vn(7,i,c,r),i.lanes=o,i}function sm(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function kv(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function rm(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var jv=new WeakMap;function Zn(i,r){if(typeof i=="object"&&i!==null){var o=jv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Cl(r)},jv.set(i,r),r)}return{value:i,source:r,stack:Cl(r)}}var mo=[],po=0,uh=null,Wl=0,ei=[],ti=0,ar=null,Zi=1,es="";function _s(i,r){mo[po++]=Wl,mo[po++]=uh,uh=i,Wl=r}function Mv(i,r,o){ei[ti++]=Zi,ei[ti++]=es,ei[ti++]=ar,ar=i;var c=Zi;i=es;var f=32-wt(c)-1;c&=~(1<<f),o+=1;var p=32-wt(r)+f;if(30<p){var b=f-f%5;p=(c&(1<<b)-1).toString(32),c>>=b,f-=b,Zi=1<<32-wt(r)+f|o<<f|c,es=p+i}else Zi=1<<p|o<<f|c,es=i}function am(i){i.return!==null&&(_s(i,1),Mv(i,1,0))}function om(i){for(;i===uh;)uh=mo[--po],mo[po]=null,Wl=mo[--po],mo[po]=null;for(;i===ar;)ar=ei[--ti],ei[ti]=null,es=ei[--ti],ei[ti]=null,Zi=ei[--ti],ei[ti]=null}function Vv(i,r){ei[ti++]=Zi,ei[ti++]=es,ei[ti++]=ar,Zi=r.id,es=r.overflow,ar=i}var en=null,ct=null,Ge=!1,or=null,ni=!1,lm=Error(s(519));function lr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Zn(r,i)),lm}function Pv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Dt]=i,r[Yt]=c,o){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(o=0;o<_c.length;o++)Ue(_c[o],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),Hu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Zs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Z_(r.textContent,o)?(c.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),c.onScroll!=null&&Ue("scroll",r),c.onScrollEnd!=null&&Ue("scrollend",r),c.onClick!=null&&(r.onclick=gi),r=!0):r=!1,r||lr(i,!0)}function Ov(i){for(en=i.return;en;)switch(en.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:en=en.return}}function go(i){if(i!==en)return!1;if(!Ge)return Ov(i),Ge=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ap(i.type,i.memoizedProps)),o=!o),o&&ct&&lr(i),Ov(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=lb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=lb(i)}else r===27?(r=ct,wr(i.type)?(i=Dp,Dp=null,ct=i):ct=r):ct=en?si(i.stateNode.nextSibling):null;return!0}function ba(){ct=en=null,Ge=!1}function cm(){var i=or;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),or=null),i}function Jl(i){or===null?or=[i]:or.push(i)}var um=U(null),wa=null,bs=null;function cr(i,r,o){ue(um,r._currentValue),r._currentValue=o}function ws(i){i._currentValue=um.current,te(um)}function hm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function fm(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var O=0;O<r.length;O++)if(E.context===r[O]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),hm(p.return,o,i),c||(b=null);break e}p=E.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),hm(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function yo(i,r,o,c){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var E=f.type;Mn(f.pendingProps.value,b.value)||(i!==null?i.push(E):i=[E])}}else if(f===le.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Sc):i=[Sc])}f=f.return}i!==null&&fm(r,i,o,c),r.flags|=262144}function hh(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){wa=i,bs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tn(i){return Lv(wa,i)}function fh(i,r){return wa===null&&Ta(i),Lv(i,r)}function Lv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},bs===null){if(i===null)throw Error(s(308));bs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else bs=bs.next=r;return o}var O2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},L2=t.unstable_scheduleCallback,U2=t.unstable_NormalPriority,Mt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new O2,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&L2(U2,function(){i.controller.abort()})}var ec=null,mm=0,vo=0,xo=null;function B2(i,r){if(ec===null){var o=ec=[];mm=0,vo=yp(),xo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return mm++,r.then(Uv,Uv),r}function Uv(){if(--mm===0&&ec!==null){xo!==null&&(xo.status="fulfilled");var i=ec;ec=null,vo=0,xo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function z2(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Bv=G.S;G.S=function(i,r){T_=yn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&B2(i,r),Bv!==null&&Bv(i,r)};var Ea=U(null);function pm(){var i=Ea.current;return i!==null?i:at.pooledCache}function dh(i,r){r===null?ue(Ea,Ea.current):ue(Ea,r.pool)}function zv(){var i=pm();return i===null?null:{parent:Mt._currentValue,pool:i}}var _o=Error(s(460)),gm=Error(s(474)),mh=Error(s(542)),ph={then:function(){}};function Fv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(gi,gi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gv(i),i;default:if(typeof r.status=="string")r.then(gi,gi);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gv(i),i}throw Aa=r,_o}}function Sa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,_o):o}}var Aa=null;function qv(){if(Aa===null)throw Error(s(459));var i=Aa;return Aa=null,i}function Gv(i){if(i===_o||i===mh)throw Error(s(483))}var bo=null,tc=0;function gh(i){var r=tc;return tc+=1,bo===null&&(bo=[]),Hv(bo,i,r)}function nc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function yh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Kv(i){function r(q,H){if(i){var $=q.deletions;$===null?(q.deletions=[H],q.flags|=16):$.push(H)}}function o(q,H){if(!i)return null;for(;H!==null;)r(q,H),H=H.sibling;return null}function c(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function f(q,H){return q=xs(q,H),q.index=0,q.sibling=null,q}function p(q,H,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<H?(q.flags|=67108866,H):$):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function E(q,H,$,ne){return H===null||H.tag!==6?(H=sm($,q.mode,ne),H.return=q,H):(H=f(H,$),H.return=q,H)}function O(q,H,$,ne){var xe=$.type;return xe===P?Z(q,H,$.props.children,ne,$.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===S&&Sa(xe)===H.type)?(H=f(H,$.props),nc(H,$),H.return=q,H):(H=ch($.type,$.key,$.props,null,q.mode,ne),nc(H,$),H.return=q,H)}function Y(q,H,$,ne){return H===null||H.tag!==4||H.stateNode.containerInfo!==$.containerInfo||H.stateNode.implementation!==$.implementation?(H=rm($,q.mode,ne),H.return=q,H):(H=f(H,$.children||[]),H.return=q,H)}function Z(q,H,$,ne,xe){return H===null||H.tag!==7?(H=_a($,q.mode,ne,xe),H.return=q,H):(H=f(H,$),H.return=q,H)}function se(q,H,$){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=sm(""+H,q.mode,$),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return $=ch(H.type,H.key,H.props,null,q.mode,$),nc($,H),$.return=q,$;case k:return H=rm(H,q.mode,$),H.return=q,H;case S:return H=Sa(H),se(q,H,$)}if(Ne(H)||z(H))return H=_a(H,q.mode,$,null),H.return=q,H;if(typeof H.then=="function")return se(q,gh(H),$);if(H.$$typeof===F)return se(q,fh(q,H),$);yh(q,H)}return null}function Q(q,H,$,ne){var xe=H!==null?H.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return xe!==null?null:E(q,H,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return $.key===xe?O(q,H,$,ne):null;case k:return $.key===xe?Y(q,H,$,ne):null;case S:return $=Sa($),Q(q,H,$,ne)}if(Ne($)||z($))return xe!==null?null:Z(q,H,$,ne,null);if(typeof $.then=="function")return Q(q,H,gh($),ne);if($.$$typeof===F)return Q(q,H,fh(q,$),ne);yh(q,$)}return null}function J(q,H,$,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get($)||null,E(H,q,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case R:return q=q.get(ne.key===null?$:ne.key)||null,O(H,q,ne,xe);case k:return q=q.get(ne.key===null?$:ne.key)||null,Y(H,q,ne,xe);case S:return ne=Sa(ne),J(q,H,$,ne,xe)}if(Ne(ne)||z(ne))return q=q.get($)||null,Z(H,q,ne,xe,null);if(typeof ne.then=="function")return J(q,H,$,gh(ne),xe);if(ne.$$typeof===F)return J(q,H,$,fh(H,ne),xe);yh(H,ne)}return null}function pe(q,H,$,ne){for(var xe=null,$e=null,ye=H,Pe=H=0,ze=null;ye!==null&&Pe<$.length;Pe++){ye.index>Pe?(ze=ye,ye=null):ze=ye.sibling;var Ye=Q(q,ye,$[Pe],ne);if(Ye===null){ye===null&&(ye=ze);break}i&&ye&&Ye.alternate===null&&r(q,ye),H=p(Ye,H,Pe),$e===null?xe=Ye:$e.sibling=Ye,$e=Ye,ye=ze}if(Pe===$.length)return o(q,ye),Ge&&_s(q,Pe),xe;if(ye===null){for(;Pe<$.length;Pe++)ye=se(q,$[Pe],ne),ye!==null&&(H=p(ye,H,Pe),$e===null?xe=ye:$e.sibling=ye,$e=ye);return Ge&&_s(q,Pe),xe}for(ye=c(ye);Pe<$.length;Pe++)ze=J(ye,q,Pe,$[Pe],ne),ze!==null&&(i&&ze.alternate!==null&&ye.delete(ze.key===null?Pe:ze.key),H=p(ze,H,Pe),$e===null?xe=ze:$e.sibling=ze,$e=ze);return i&&ye.forEach(function(Cr){return r(q,Cr)}),Ge&&_s(q,Pe),xe}function we(q,H,$,ne){if($==null)throw Error(s(151));for(var xe=null,$e=null,ye=H,Pe=H=0,ze=null,Ye=$.next();ye!==null&&!Ye.done;Pe++,Ye=$.next()){ye.index>Pe?(ze=ye,ye=null):ze=ye.sibling;var Cr=Q(q,ye,Ye.value,ne);if(Cr===null){ye===null&&(ye=ze);break}i&&ye&&Cr.alternate===null&&r(q,ye),H=p(Cr,H,Pe),$e===null?xe=Cr:$e.sibling=Cr,$e=Cr,ye=ze}if(Ye.done)return o(q,ye),Ge&&_s(q,Pe),xe;if(ye===null){for(;!Ye.done;Pe++,Ye=$.next())Ye=se(q,Ye.value,ne),Ye!==null&&(H=p(Ye,H,Pe),$e===null?xe=Ye:$e.sibling=Ye,$e=Ye);return Ge&&_s(q,Pe),xe}for(ye=c(ye);!Ye.done;Pe++,Ye=$.next())Ye=J(ye,q,Pe,Ye.value,ne),Ye!==null&&(i&&Ye.alternate!==null&&ye.delete(Ye.key===null?Pe:Ye.key),H=p(Ye,H,Pe),$e===null?xe=Ye:$e.sibling=Ye,$e=Ye);return i&&ye.forEach(function(JR){return r(q,JR)}),Ge&&_s(q,Pe),xe}function rt(q,H,$,ne){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case R:e:{for(var xe=$.key;H!==null;){if(H.key===xe){if(xe=$.type,xe===P){if(H.tag===7){o(q,H.sibling),ne=f(H,$.props.children),ne.return=q,q=ne;break e}}else if(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===S&&Sa(xe)===H.type){o(q,H.sibling),ne=f(H,$.props),nc(ne,$),ne.return=q,q=ne;break e}o(q,H);break}else r(q,H);H=H.sibling}$.type===P?(ne=_a($.props.children,q.mode,ne,$.key),ne.return=q,q=ne):(ne=ch($.type,$.key,$.props,null,q.mode,ne),nc(ne,$),ne.return=q,q=ne)}return b(q);case k:e:{for(xe=$.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===$.containerInfo&&H.stateNode.implementation===$.implementation){o(q,H.sibling),ne=f(H,$.children||[]),ne.return=q,q=ne;break e}else{o(q,H);break}else r(q,H);H=H.sibling}ne=rm($,q.mode,ne),ne.return=q,q=ne}return b(q);case S:return $=Sa($),rt(q,H,$,ne)}if(Ne($))return pe(q,H,$,ne);if(z($)){if(xe=z($),typeof xe!="function")throw Error(s(150));return $=xe.call($),we(q,H,$,ne)}if(typeof $.then=="function")return rt(q,H,gh($),ne);if($.$$typeof===F)return rt(q,H,fh(q,$),ne);yh(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,H!==null&&H.tag===6?(o(q,H.sibling),ne=f(H,$),ne.return=q,q=ne):(o(q,H),ne=sm($,q.mode,ne),ne.return=q,q=ne),b(q)):o(q,H)}return function(q,H,$,ne){try{tc=0;var xe=rt(q,H,$,ne);return bo=null,xe}catch(ye){if(ye===_o||ye===mh)throw ye;var $e=Vn(29,ye,null,q.mode);return $e.lanes=ne,$e.return=q,$e}}}var Ca=Kv(!0),$v=Kv(!1),ur=!1;function ym(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=lh(i),Iv(i,null,o),r}return oh(i,c,r,o),lh(i)}function ic(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Il(i,o)}}function xm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var _m=!1;function sc(){if(_m){var i=xo;if(i!==null)throw i}}function rc(i,r,o,c){_m=!1;var f=i.updateQueue;ur=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,Y=O.next;O.next=null,b===null?p=Y:b.next=Y,b=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==b&&(E===null?Z.firstBaseUpdate=Y:E.next=Y,Z.lastBaseUpdate=O))}if(p!==null){var se=f.baseState;b=0,Z=Y=O=null,E=p;do{var Q=E.lane&-536870913,J=Q!==E.lane;if(J?(Be&Q)===Q:(c&Q)===Q){Q!==0&&Q===vo&&(_m=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=i,we=E;Q=r;var rt=o;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){se=pe.call(rt,se,Q);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,Q=typeof pe=="function"?pe.call(rt,se,Q):pe,Q==null)break e;se=_({},se,Q);break e;case 2:ur=!0}}Q=E.callback,Q!==null&&(i.flags|=64,J&&(i.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(Y=Z=J,O=se):Z=Z.next=J,b|=Q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;J=E,E=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);Z===null&&(O=se),f.baseState=O,f.firstBaseUpdate=Y,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),yr|=b,i.lanes=b,i.memoizedState=se}}function Yv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Qv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yv(o[i],r)}var wo=U(null),vh=U(0);function Xv(i,r){i=Ds,ue(vh,i),ue(wo,r),Ds=i|r.baseLanes}function bm(){ue(vh,Ds),ue(wo,wo.current)}function wm(){Ds=vh.current,te(wo),te(vh)}var Pn=U(null),ii=null;function dr(i){var r=i.alternate;ue(Et,Et.current&1),ue(Pn,i),ii===null&&(r===null||wo.current!==null||r.memoizedState!==null)&&(ii=i)}function Tm(i){ue(Et,Et.current),ue(Pn,i),ii===null&&(ii=i)}function Wv(i){i.tag===22?(ue(Et,Et.current),ue(Pn,i),ii===null&&(ii=i)):mr()}function mr(){ue(Et,Et.current),ue(Pn,Pn.current)}function On(i){te(Pn),ii===i&&(ii=null),te(Et)}var Et=U(0);function xh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Np(o)||Ip(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ts=0,Ve=null,it=null,Vt=null,_h=!1,To=!1,Ra=!1,bh=0,ac=0,Eo=null,F2=0;function xt(){throw Error(s(321))}function Em(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Mn(i[o],r[o]))return!1;return!0}function Sm(i,r,o,c,f,p){return Ts=p,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=i===null||i.memoizedState===null?Mx:Bm,Ra=!1,p=o(c,f),Ra=!1,To&&(p=Zv(r,o,c,f)),Jv(i),p}function Jv(i){G.H=cc;var r=it!==null&&it.next!==null;if(Ts=0,Vt=it=Ve=null,_h=!1,ac=0,Eo=null,r)throw Error(s(300));i===null||Pt||(i=i.dependencies,i!==null&&hh(i)&&(Pt=!0))}function Zv(i,r,o,c){Ve=i;var f=0;do{if(To&&(Eo=null),ac=0,To=!1,25<=f)throw Error(s(301));if(f+=1,Vt=it=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=Vx,p=r(o,c)}while(To);return p}function H2(){var i=G.H,r=i.useState()[0];return r=typeof r.then=="function"?oc(r):r,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(Ve.flags|=1024),r}function Am(){var i=bh!==0;return bh=0,i}function Cm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Rm(i){if(_h){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_h=!1}Ts=0,Vt=it=Ve=null,To=!1,ac=bh=0,Eo=null}function xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ve.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function St(){if(it===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var r=Vt===null?Ve.memoizedState:Vt.next;if(r!==null)Vt=r,it=i;else{if(i===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Vt===null?Ve.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(i){var r=ac;return ac+=1,Eo===null&&(Eo=[]),i=Hv(Eo,i,r),r=Ve,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Mx:Bm),i}function Th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return oc(i);if(i.$$typeof===F)return tn(i)}throw Error(s(438,String(i)))}function Nm(i){var r=null,o=Ve.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wh(),Ve.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=V;return r.index++,o}function Es(i,r){return typeof r=="function"?r(i):r}function Eh(i){var r=St();return Im(r,it,i)}function Im(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}r.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var E=b=null,O=null,Y=r,Z=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Be&se)===se:(Ts&se)===se){var Q=Y.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===vo&&(Z=!0);else if((Ts&Q)===Q){Y=Y.next,Q===vo&&(Z=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(E=O=se,b=p):O=O.next=se,Ve.lanes|=Q,yr|=Q;se=Y.action,Ra&&o(p,se),p=Y.hasEagerState?Y.eagerState:o(p,se)}else Q={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(E=O=Q,b=p):O=O.next=Q,Ve.lanes|=se,yr|=se;Y=Y.next}while(Y!==null&&Y!==r);if(O===null?b=p:O.next=E,!Mn(p,i.memoizedState)&&(Pt=!0,Z&&(o=xo,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=O,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Dm(i){var r=St(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=i(p,b.action),b=b.next;while(b!==f);Mn(p,r.memoizedState)||(Pt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function ex(i,r,o){var c=Ve,f=St(),p=Ge;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Mn((it||f).memoizedState,o);if(b&&(f.memoizedState=o,Pt=!0),f=f.queue,Mm(ix.bind(null,c,f,i),[i]),f.getSnapshot!==r||b||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,So(9,{destroy:void 0},nx.bind(null,c,f,o,r),null),at===null)throw Error(s(349));p||(Ts&127)!==0||tx(c,r,o)}return o}function tx(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ve.updateQueue,r===null?(r=wh(),Ve.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function nx(i,r,o,c){r.value=o,r.getSnapshot=c,sx(r)&&rx(i)}function ix(i,r,o){return o(function(){sx(r)&&rx(i)})}function sx(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Mn(i,o)}catch{return!0}}function rx(i){var r=xa(i,2);r!==null&&Rn(r,i,2)}function km(i){var r=xn();if(typeof i=="function"){var o=i;if(i=o(),Ra){$n(!0);try{o()}finally{$n(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:i},r}function ax(i,r,o,c){return i.baseState=o,Im(i,it,typeof c=="function"?c:Es)}function q2(i,r,o,c,f){if(Ch(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};G.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,ox(r,p)):(p.next=o.next,r.pending=o.next=p)}}function ox(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var p=G.T,b={};G.T=b;try{var E=o(f,c),O=G.S;O!==null&&O(b,E),lx(i,r,E)}catch(Y){jm(i,r,Y)}finally{p!==null&&b.types!==null&&(p.types=b.types),G.T=p}}else try{p=o(f,c),lx(i,r,p)}catch(Y){jm(i,r,Y)}}function lx(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){cx(i,r,c)},function(c){return jm(i,r,c)}):cx(i,r,o)}function cx(i,r,o){r.status="fulfilled",r.value=o,ux(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,ox(i,o)))}function jm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,ux(r),r=r.next;while(r!==c)}i.action=null}function ux(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function hx(i,r){return r}function fx(i,r){if(Ge){var o=at.formState;if(o!==null){e:{var c=Ve;if(Ge){if(ct){t:{for(var f=ct,p=ni;f.nodeType!==8;){if(!p){f=null;break t}if(f=si(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ct=si(f.nextSibling),c=f.data==="F!";break e}}lr(c)}c=!1}c&&(r=o[0])}}return o=xn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hx,lastRenderedState:r},o.queue=c,o=Dx.bind(null,Ve,c),c.dispatch=o,c=km(!1),p=Um.bind(null,Ve,!1,c.queue),c=xn(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=q2.bind(null,Ve,f,p,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function dx(i){var r=St();return mx(r,it,i)}function mx(i,r,o){if(r=Im(i,r,hx)[0],i=Eh(Es)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=oc(r)}catch(b){throw b===_o?mh:b}else c=r;r=St();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Ve.flags|=2048,So(9,{destroy:void 0},G2.bind(null,f,o),null)),[c,p,i]}function G2(i,r){i.action=r}function px(i){var r=St(),o=it;if(o!==null)return mx(r,o,i);St(),r=r.memoizedState,o=St();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function So(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=wh(),Ve.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function gx(){return St().memoizedState}function Sh(i,r,o,c){var f=xn();Ve.flags|=i,f.memoizedState=So(1|r,{destroy:void 0},o,c===void 0?null:c)}function Ah(i,r,o,c){var f=St();c=c===void 0?null:c;var p=f.memoizedState.inst;it!==null&&c!==null&&Em(c,it.memoizedState.deps)?f.memoizedState=So(r,p,o,c):(Ve.flags|=i,f.memoizedState=So(1|r,p,o,c))}function yx(i,r){Sh(8390656,8,i,r)}function Mm(i,r){Ah(2048,8,i,r)}function K2(i){Ve.flags|=4;var r=Ve.updateQueue;if(r===null)r=wh(),Ve.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function vx(i){var r=St().memoizedState;return K2({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function xx(i,r){return Ah(4,2,i,r)}function _x(i,r){return Ah(4,4,i,r)}function bx(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function wx(i,r,o){o=o!=null?o.concat([i]):null,Ah(4,4,bx.bind(null,r,i),o)}function Vm(){}function Tx(i,r){var o=St();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Em(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Ex(i,r){var o=St();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Em(r,c[1]))return c[0];if(c=i(),Ra){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[c,r],c}function Pm(i,r,o){return o===void 0||(Ts&1073741824)!==0&&(Be&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=S_(),Ve.lanes|=i,yr|=i,o)}function Sx(i,r,o,c){return Mn(o,r)?o:wo.current!==null?(i=Pm(i,o,c),Mn(i,r)||(Pt=!0),i):(Ts&42)===0||(Ts&1073741824)!==0&&(Be&261930)===0?(Pt=!0,i.memoizedState=o):(i=S_(),Ve.lanes|=i,yr|=i,r)}function Ax(i,r,o,c,f){var p=ae.p;ae.p=p!==0&&8>p?p:8;var b=G.T,E={};G.T=E,Um(i,!1,r,o);try{var O=f(),Y=G.S;if(Y!==null&&Y(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=z2(O,c);lc(i,r,Z,Bn(i))}else lc(i,r,c,Bn(i))}catch(se){lc(i,r,{then:function(){},status:"rejected",reason:se},Bn())}finally{ae.p=p,b!==null&&E.types!==null&&(b.types=E.types),G.T=b}}function $2(){}function Om(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=Cx(i).queue;Ax(i,f,r,de,o===null?$2:function(){return Rx(i),o(c)})}function Cx(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Rx(i){var r=Cx(i);r.next===null&&(r=i.alternate.memoizedState),lc(i,r.next.queue,{},Bn())}function Lm(){return tn(Sc)}function Nx(){return St().memoizedState}function Ix(){return St().memoizedState}function Y2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Bn();i=hr(o);var c=fr(r,i,o);c!==null&&(Rn(c,r,o),ic(c,r,o)),r={cache:dm()},i.payload=r;return}r=r.return}}function Q2(i,r,o){var c=Bn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ch(i)?kx(r,o):(o=nm(i,r,o,c),o!==null&&(Rn(o,i,c),jx(o,r,c)))}function Dx(i,r,o){var c=Bn();lc(i,r,o,c)}function lc(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ch(i))kx(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,E=p(b,o);if(f.hasEagerState=!0,f.eagerState=E,Mn(E,b))return oh(i,r,f,0),at===null&&ah(),!1}catch{}if(o=nm(i,r,f,c),o!==null)return Rn(o,i,c),jx(o,r,c),!0}return!1}function Um(i,r,o,c){if(c={lane:2,revertLane:yp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ch(i)){if(r)throw Error(s(479))}else r=nm(i,o,c,2),r!==null&&Rn(r,i,2)}function Ch(i){var r=i.alternate;return i===Ve||r!==null&&r===Ve}function kx(i,r){To=_h=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function jx(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Il(i,o)}}var cc={readContext:tn,use:Th,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};cc.useEffectEvent=xt;var Mx={readContext:tn,use:Th,useCallback:function(i,r){return xn().memoizedState=[i,r===void 0?null:r],i},useContext:tn,useEffect:yx,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Sh(4194308,4,bx.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Sh(4194308,4,i,r)},useInsertionEffect:function(i,r){Sh(4,2,i,r)},useMemo:function(i,r){var o=xn();r=r===void 0?null:r;var c=i();if(Ra){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=xn();if(o!==void 0){var f=o(r);if(Ra){$n(!0);try{o(r)}finally{$n(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=Q2.bind(null,Ve,i),[c.memoizedState,i]},useRef:function(i){var r=xn();return i={current:i},r.memoizedState=i},useState:function(i){i=km(i);var r=i.queue,o=Dx.bind(null,Ve,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Vm,useDeferredValue:function(i,r){var o=xn();return Pm(o,i,r)},useTransition:function(){var i=km(!1);return i=Ax.bind(null,Ve,i.queue,!0,!1),xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ve,f=xn();if(Ge){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),at===null)throw Error(s(349));(Be&127)!==0||tx(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,yx(ix.bind(null,c,p,i),[i]),c.flags|=2048,So(9,{destroy:void 0},nx.bind(null,c,p,o,r),null),o},useId:function(){var i=xn(),r=at.identifierPrefix;if(Ge){var o=es,c=Zi;o=(c&~(1<<32-wt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=bh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=F2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Lm,useFormState:fx,useActionState:fx,useOptimistic:function(i){var r=xn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Um.bind(null,Ve,!0,o),o.dispatch=r,[i,r]},useMemoCache:Nm,useCacheRefresh:function(){return xn().memoizedState=Y2.bind(null,Ve)},useEffectEvent:function(i){var r=xn(),o={impl:i};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Bm={readContext:tn,use:Th,useCallback:Tx,useContext:tn,useEffect:Mm,useImperativeHandle:wx,useInsertionEffect:xx,useLayoutEffect:_x,useMemo:Ex,useReducer:Eh,useRef:gx,useState:function(){return Eh(Es)},useDebugValue:Vm,useDeferredValue:function(i,r){var o=St();return Sx(o,it.memoizedState,i,r)},useTransition:function(){var i=Eh(Es)[0],r=St().memoizedState;return[typeof i=="boolean"?i:oc(i),r]},useSyncExternalStore:ex,useId:Nx,useHostTransitionStatus:Lm,useFormState:dx,useActionState:dx,useOptimistic:function(i,r){var o=St();return ax(o,it,i,r)},useMemoCache:Nm,useCacheRefresh:Ix};Bm.useEffectEvent=vx;var Vx={readContext:tn,use:Th,useCallback:Tx,useContext:tn,useEffect:Mm,useImperativeHandle:wx,useInsertionEffect:xx,useLayoutEffect:_x,useMemo:Ex,useReducer:Dm,useRef:gx,useState:function(){return Dm(Es)},useDebugValue:Vm,useDeferredValue:function(i,r){var o=St();return it===null?Pm(o,i,r):Sx(o,it.memoizedState,i,r)},useTransition:function(){var i=Dm(Es)[0],r=St().memoizedState;return[typeof i=="boolean"?i:oc(i),r]},useSyncExternalStore:ex,useId:Nx,useHostTransitionStatus:Lm,useFormState:px,useActionState:px,useOptimistic:function(i,r){var o=St();return it!==null?ax(o,it,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:Ix};Vx.useEffectEvent=vx;function zm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Fm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Bn(),f=hr(c);f.payload=r,o!=null&&(f.callback=o),r=fr(i,f,c),r!==null&&(Rn(r,i,c),ic(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Bn(),f=hr(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=fr(i,f,c),r!==null&&(Rn(r,i,c),ic(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Bn(),c=hr(o);c.tag=2,r!=null&&(c.callback=r),r=fr(i,c,o),r!==null&&(Rn(r,i,o),ic(r,i,o))}};function Px(i,r,o,c,f,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,b):r.prototype&&r.prototype.isPureReactComponent?!Ql(o,c)||!Ql(f,p):!0}function Ox(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Fm.enqueueReplaceState(r,r.state,null)}function Na(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function Lx(i){rh(i)}function Ux(i){console.error(i)}function Bx(i){rh(i)}function Rh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function zx(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hm(i,r,o){return o=hr(o),o.tag=3,o.payload={element:null},o.callback=function(){Rh(i,r)},o}function Fx(i){return i=hr(i),i.tag=3,i}function Hx(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){zx(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){zx(r,o,c),typeof f!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function X2(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&yo(r,o,f,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return ii===null?Bh():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===ph?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),mp(i,c,f)),!1;case 22:return o.flags|=65536,c===ph?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),mp(i,c,f)),!1}throw Error(s(435,o.tag))}return mp(i,c,f),Bh(),!1}if(Ge)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==lm&&(i=Error(s(422),{cause:c}),Jl(Zn(i,o)))):(c!==lm&&(r=Error(s(423),{cause:c}),Jl(Zn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Zn(c,o),f=Hm(i.stateNode,c,f),xm(i,f),_t!==4&&(_t=2)),!1;var p=Error(s(520),{cause:c});if(p=Zn(p,o),yc===null?yc=[p]:yc.push(p),_t!==4&&(_t=2),r===null)return!0;c=Zn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Hm(o.stateNode,c,i),xm(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(vr===null||!vr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Fx(f),Hx(f,i,o,c),xm(o,f),!1}o=o.return}while(o!==null);return!1}var qm=Error(s(461)),Pt=!1;function nn(i,r,o,c){r.child=i===null?$v(r,null,o,c):Ca(r,i.child,o,c)}function qx(i,r,o,c,f){o=o.render;var p=r.ref;if("ref"in c){var b={};for(var E in c)E!=="ref"&&(b[E]=c[E])}else b=c;return Ta(r),c=Sm(i,r,o,b,p,f),E=Am(),i!==null&&!Pt?(Cm(i,r,f),Ss(i,r,f)):(Ge&&E&&am(r),r.flags|=1,nn(i,r,c,f),r.child)}function Gx(i,r,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!im(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Kx(i,r,p,c,f)):(i=ch(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Jm(i,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(b,c)&&i.ref===r.ref)return Ss(i,r,f)}return r.flags|=1,i=xs(p,c),i.ref=r.ref,i.return=r,r.child=i}function Kx(i,r,o,c,f){if(i!==null){var p=i.memoizedProps;if(Ql(p,c)&&i.ref===r.ref)if(Pt=!1,r.pendingProps=c=p,Jm(i,f))(i.flags&131072)!==0&&(Pt=!0);else return r.lanes=i.lanes,Ss(i,r,f)}return Gm(i,r,o,c,f)}function $x(i,r,o,c){var f=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,r.child=null;return Yx(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&dh(r,p!==null?p.cachePool:null),p!==null?Xv(r,p):bm(),Wv(r);else return c=r.lanes=536870912,Yx(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(dh(r,p.cachePool),Xv(r,p),mr(),r.memoizedState=null):(i!==null&&dh(r,null),bm(),mr());return nn(i,r,f,o),r.child}function uc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Yx(i,r,o,c,f){var p=pm();return p=p===null?null:{parent:Mt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&dh(r,null),bm(),Wv(r),i!==null&&yo(i,r,c,!0),r.childLanes=f,null}function Nh(i,r){return r=Dh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Qx(i,r,o){return Ca(r,i.child,null,o),i=Nh(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function W2(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ge){if(c.mode==="hidden")return i=Nh(r,c),r.lanes=536870912,uc(null,i);if(Tm(r),(i=ct)?(i=ob(i,ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ar!==null?{id:Zi,overflow:es}:null,retryLane:536870912,hydrationErrors:null},o=kv(i),o.return=r,r.child=o,en=r,ct=null)):i=null,i===null)throw lr(r);return r.lanes=536870912,null}return Nh(r,c)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(Tm(r),f)if(r.flags&256)r.flags&=-257,r=Qx(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pt||yo(i,r,o,!1),f=(o&i.childLanes)!==0,Pt||f){if(c=at,c!==null&&(b=Dl(c,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,xa(i,b),Rn(c,i,b),qm;Bh(),r=Qx(i,r,o)}else i=p.treeContext,ct=si(b.nextSibling),en=r,Ge=!0,or=null,ni=!1,i!==null&&Vv(r,i),r=Nh(r,c),r.flags|=4096;return r}return i=xs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ih(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Gm(i,r,o,c,f){return Ta(r),o=Sm(i,r,o,c,void 0,f),c=Am(),i!==null&&!Pt?(Cm(i,r,f),Ss(i,r,f)):(Ge&&c&&am(r),r.flags|=1,nn(i,r,o,f),r.child)}function Xx(i,r,o,c,f,p){return Ta(r),r.updateQueue=null,o=Zv(r,c,o,f),Jv(i),c=Am(),i!==null&&!Pt?(Cm(i,r,p),Ss(i,r,p)):(Ge&&c&&am(r),r.flags|=1,nn(i,r,o,p),r.child)}function Wx(i,r,o,c,f){if(Ta(r),r.stateNode===null){var p=fo,b=o.contextType;typeof b=="object"&&b!==null&&(p=tn(b)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Fm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},ym(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?tn(b):fo,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(zm(r,o,b,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Fm.enqueueReplaceState(p,p.state,null),rc(r,c,p,f),sc(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var E=r.memoizedProps,O=Na(o,E);p.props=O;var Y=p.context,Z=o.contextType;b=fo,typeof Z=="object"&&Z!==null&&(b=tn(Z));var se=o.getDerivedStateFromProps;Z=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||Y!==b)&&Ox(r,p,c,b),ur=!1;var Q=r.memoizedState;p.state=Q,rc(r,c,p,f),sc(),Y=r.memoizedState,E||Q!==Y||ur?(typeof se=="function"&&(zm(r,o,se,c),Y=r.memoizedState),(O=ur||Px(r,o,O,c,Q,Y,b))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),p.props=c,p.state=Y,p.context=b,c=O):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,vm(i,r),b=r.memoizedProps,Z=Na(o,b),p.props=Z,se=r.pendingProps,Q=p.context,Y=o.contextType,O=fo,typeof Y=="object"&&Y!==null&&(O=tn(Y)),E=o.getDerivedStateFromProps,(Y=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==se||Q!==O)&&Ox(r,p,c,O),ur=!1,Q=r.memoizedState,p.state=Q,rc(r,c,p,f),sc();var J=r.memoizedState;b!==se||Q!==J||ur||i!==null&&i.dependencies!==null&&hh(i.dependencies)?(typeof E=="function"&&(zm(r,o,E,c),J=r.memoizedState),(Z=ur||Px(r,o,Z,c,Q,J,O)||i!==null&&i.dependencies!==null&&hh(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,J,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,J,O)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=J),p.props=c,p.state=J,p.context=O,c=Z):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Ih(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Ca(r,i.child,null,f),r.child=Ca(r,null,o,f)):nn(i,r,o,f),r.memoizedState=p.state,i=r.child):i=Ss(i,r,f),i}function Jx(i,r,o,c){return ba(),r.flags|=256,nn(i,r,o,c),r.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $m(i){return{baseLanes:i,cachePool:zv()}}function Ym(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Un),i}function Zx(i,r,o){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(Et.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ge){if(f?dr(r):mr(),(i=ct)?(i=ob(i,ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ar!==null?{id:Zi,overflow:es}:null,retryLane:536870912,hydrationErrors:null},o=kv(i),o.return=r,r.child=o,en=r,ct=null)):i=null,i===null)throw lr(r);return Ip(i)?r.lanes=32:r.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(mr(),f=r.mode,E=Dh({mode:"hidden",children:E},f),c=_a(c,f,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,c=r.child,c.memoizedState=$m(o),c.childLanes=Ym(i,b,o),r.memoizedState=Km,uc(null,c)):(dr(r),Qm(r,E))}var O=i.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(p)r.flags&256?(dr(r),r.flags&=-257,r=Xm(i,r,o)):r.memoizedState!==null?(mr(),r.child=i.child,r.flags|=128,r=null):(mr(),E=c.fallback,f=r.mode,c=Dh({mode:"visible",children:c.children},f),E=_a(E,f,o,null),E.flags|=2,c.return=r,E.return=r,c.sibling=E,r.child=c,Ca(r,i.child,null,o),c=r.child,c.memoizedState=$m(o),c.childLanes=Ym(i,b,o),r.memoizedState=Km,r=uc(null,c));else if(dr(r),Ip(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(s(419)),c.stack="",c.digest=b,Jl({value:c,source:null,stack:null}),r=Xm(i,r,o)}else if(Pt||yo(i,r,o,!1),b=(o&i.childLanes)!==0,Pt||b){if(b=at,b!==null&&(c=Dl(b,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,xa(i,c),Rn(b,i,c),qm;Np(E)||Bh(),r=Xm(i,r,o)}else Np(E)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,ct=si(E.nextSibling),en=r,Ge=!0,or=null,ni=!1,i!==null&&Vv(r,i),r=Qm(r,c.children),r.flags|=4096);return r}return f?(mr(),E=c.fallback,f=r.mode,O=i.child,Y=O.sibling,c=xs(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Y!==null?E=xs(Y,E):(E=_a(E,f,o,null),E.flags|=2),E.return=r,c.return=r,c.sibling=E,r.child=c,uc(null,c),c=r.child,E=i.child.memoizedState,E===null?E=$m(o):(f=E.cachePool,f!==null?(O=Mt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=zv(),E={baseLanes:E.baseLanes|o,cachePool:f}),c.memoizedState=E,c.childLanes=Ym(i,b,o),r.memoizedState=Km,uc(i.child,c)):(dr(r),o=i.child,i=o.sibling,o=xs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Qm(i,r){return r=Dh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Dh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function Xm(i,r,o){return Ca(r,i.child,null,o),i=Qm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function e_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),hm(i.return,r,o)}function Wm(i,r,o,c,f,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=f,b.treeForkCount=p)}function t_(i,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var b=Et.current,E=(b&2)!==0;if(E?(b=b&1|2,r.flags|=128):b&=1,ue(Et,b),nn(i,r,c,o),c=Ge?Wl:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&e_(i,o,r);else if(i.tag===19)e_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&xh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Wm(r,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&xh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Wm(r,!0,o,null,p,c);break;case"together":Wm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ss(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),yr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(yo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=xs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=xs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Jm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&hh(i)))}function J2(i,r,o){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),cr(r,Mt,i.memoizedState.cache),ba();break;case 27:case 5:Ft(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:cr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Tm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(dr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Zx(i,r,o):(dr(r),i=Ss(i,r,o),i!==null?i.sibling:null);dr(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(yo(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return t_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Et,Et.current),c)break;return null;case 22:return r.lanes=0,$x(i,r,o,r.pendingProps);case 24:cr(r,Mt,i.memoizedState.cache)}return Ss(i,r,o)}function n_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Jm(i,o)&&(r.flags&128)===0)return Pt=!1,J2(i,r,o);Pt=(i.flags&131072)!==0}else Pt=!1,Ge&&(r.flags&1048576)!==0&&Mv(r,Wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Sa(r.elementType),r.type=i,typeof i=="function")im(i)?(c=Na(i,c),r.tag=1,r=Wx(null,r,i,c,o)):(r.tag=0,r=Gm(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===W){r.tag=11,r=qx(null,r,i,c,o);break e}else if(f===A){r.tag=14,r=Gx(null,r,i,c,o);break e}}throw r=ge(i)||i,Error(s(306,r,""))}}return r;case 0:return Gm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=Na(c,r.pendingProps),Wx(i,r,c,f,o);case 3:e:{if(be(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,vm(i,r),rc(r,c,null,o);var b=r.memoizedState;if(c=b.cache,cr(r,Mt,c),c!==p.cache&&fm(r,[Mt],o,!0),sc(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Jx(i,r,c,o);break e}else if(c!==f){f=Zn(Error(s(424)),r),Jl(f),r=Jx(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ct=si(i.firstChild),en=r,Ge=!0,or=null,ni=!0,o=$v(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ba(),c===f){r=Ss(i,r,o);break e}nn(i,r,c,o)}r=r.child}return r;case 26:return Ih(i,r),i===null?(o=db(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ge||(o=r.type,i=r.pendingProps,c=$h(Te.current).createElement(o),c[Dt]=r,c[Yt]=i,sn(c,o,i),kt(c),r.stateNode=c):r.memoizedState=db(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ft(r),i===null&&Ge&&(c=r.stateNode=ub(r.type,r.pendingProps,Te.current),en=r,ni=!0,f=ct,wr(r.type)?(Dp=f,ct=si(c.firstChild)):ct=f),nn(i,r,r.pendingProps.children,o),Ih(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ge&&((f=c=ct)&&(c=RR(c,r.type,r.pendingProps,ni),c!==null?(r.stateNode=c,en=r,ct=si(c.firstChild),ni=!1,f=!0):f=!1),f||lr(r)),Ft(r),f=r.type,p=r.pendingProps,b=i!==null?i.memoizedProps:null,c=p.children,Ap(f,p)?c=null:b!==null&&Ap(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Sm(i,r,H2,null,null,o),Sc._currentValue=f),Ih(i,r),nn(i,r,c,o),r.child;case 6:return i===null&&Ge&&((i=o=ct)&&(o=NR(o,r.pendingProps,ni),o!==null?(r.stateNode=o,en=r,ct=null,i=!0):i=!1),i||lr(r)),null;case 13:return Zx(i,r,o);case 4:return be(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ca(r,null,c,o):nn(i,r,c,o),r.child;case 11:return qx(i,r,r.type,r.pendingProps,o);case 7:return nn(i,r,r.pendingProps,o),r.child;case 8:return nn(i,r,r.pendingProps.children,o),r.child;case 12:return nn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,cr(r,r.type,c.value),nn(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,Ta(r),f=tn(f),c=c(f),r.flags|=1,nn(i,r,c,o),r.child;case 14:return Gx(i,r,r.type,r.pendingProps,o);case 15:return Kx(i,r,r.type,r.pendingProps,o);case 19:return t_(i,r,o);case 31:return W2(i,r,o);case 22:return $x(i,r,o,r.pendingProps);case 24:return Ta(r),c=tn(Mt),i===null?(f=pm(),f===null&&(f=at,p=dm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:c,cache:f},ym(r),cr(r,Mt,f)):((i.lanes&o)!==0&&(vm(i,r),rc(r,null,null,o),sc()),f=i.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),cr(r,Mt,c)):(c=p.cache,cr(r,Mt,c),c!==f.cache&&fm(r,[Mt],o,!0))),nn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function As(i){i.flags|=4}function Zm(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(N_())i.flags|=8192;else throw Aa=ph,gm}else i.flags&=-16777217}function i_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vb(r))if(N_())i.flags|=8192;else throw Aa=ph,gm}function kh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Lu():536870912,i.lanes|=r,No|=r)}function hc(i,r){if(!Ge)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ut(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function Z2(i,r,o){var c=r.pendingProps;switch(om(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ws(Mt),ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(go(r)?As(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cm())),ut(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(As(r),p!==null?(ut(r),i_(r,p)):(ut(r),Zm(r,f,null,c,o))):p?p!==i.memoizedState?(As(r),ut(r),i_(r,p)):(ut(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&As(r),ut(r),Zm(r,f,i,c,o)),null;case 27:if(Vi(r),o=Te.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&As(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ut(r),null}i=fe.current,go(r)?Pv(r):(i=ub(f,c,o),r.stateNode=i,As(r))}return ut(r),null;case 5:if(Vi(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&As(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(p=fe.current,go(r))Pv(r);else{var b=$h(Te.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}p[Dt]=r,p[Yt]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(sn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&As(r)}}return ut(r),Zm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&As(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Te.current,go(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=en,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Z_(i.nodeValue,o)),i||lr(r,!0)}else i=$h(i).createTextNode(c),i[Dt]=r,r.stateNode=i}return ut(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=go(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Dt]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),i=!1}else o=cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ut(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=go(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Dt]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),kh(r,r.updateQueue),ut(r),null);case 4:return ve(),i===null&&bp(r.stateNode.containerInfo),ut(r),null;case 10:return ws(r.type),ut(r),null;case 19:if(te(Et),c=r.memoizedState,c===null)return ut(r),null;if(f=(r.flags&128)!==0,p=c.rendering,p===null)if(f)hc(c,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=xh(i),p!==null){for(r.flags|=128,hc(c,!1),i=p.updateQueue,r.updateQueue=i,kh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Dv(o,i),o=o.sibling;return ue(Et,Et.current&1|2),Ge&&_s(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&yn()>Oh&&(r.flags|=128,f=!0,hc(c,!1),r.lanes=4194304)}else{if(!f)if(i=xh(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,kh(r,i),hc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Ge)return ut(r),null}else 2*yn()-c.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,f=!0,hc(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=yn(),i.sibling=null,o=Et.current,ue(Et,f?o&1|2:o&1),Ge&&_s(r,c.treeForkCount),i):(ut(r),null);case 22:case 23:return On(r),wm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&kh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&te(Ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ws(Mt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function eR(i,r){switch(om(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ws(Mt),ve(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(Et),null;case 4:return ve(),null;case 10:return ws(r.type),null;case 22:case 23:return On(r),wm(),i!==null&&te(Ea),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ws(Mt),null;case 25:return null;default:return null}}function s_(i,r){switch(om(r),r.tag){case 3:ws(Mt),ve();break;case 26:case 27:case 5:Vi(r);break;case 4:ve();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:te(Et);break;case 10:ws(r.type);break;case 22:case 23:On(r),wm(),i!==null&&te(Ea);break;case 24:ws(Mt)}}function fc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==f)}}catch(E){tt(r,r.return,E)}}function pr(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var b=c.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,f=r;var O=o,Y=E;try{Y()}catch(Z){tt(f,O,Z)}}}c=c.next}while(c!==p)}}catch(Z){tt(r,r.return,Z)}}function r_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Qv(r,o)}catch(c){tt(i,i.return,c)}}}function a_(i,r,o){o.props=Na(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){tt(i,r,c)}}function dc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){tt(i,r,f)}}function ts(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){tt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(i,r,f)}else o.current=null}function o_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){tt(i,i.return,f)}}function ep(i,r,o){try{var c=i.stateNode;wR(c,i.type,o,r),c[Yt]=r}catch(f){tt(i,i.return,f)}}function l_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&wr(i.type)||i.tag===4}function tp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&wr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function np(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=gi));else if(c!==4&&(c===27&&wr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(np(i,r,o),i=i.sibling;i!==null;)np(i,r,o),i=i.sibling}function jh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&wr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(jh(i,r,o),i=i.sibling;i!==null;)jh(i,r,o),i=i.sibling}function c_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);sn(r,c,o),r[Dt]=i,r[Yt]=o}catch(p){tt(i,i.return,p)}}var Cs=!1,Ot=!1,ip=!1,u_=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function tR(i,r){if(i=i.containerInfo,Ep=ef,i=wv(i),Xd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,E=-1,O=-1,Y=0,Z=0,se=i,Q=null;t:for(;;){for(var J;se!==o||f!==0&&se.nodeType!==3||(E=b+f),se!==p||c!==0&&se.nodeType!==3||(O=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===i)break t;if(Q===o&&++Y===f&&(E=b),Q===p&&++Z===c&&(O=b),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}o=E===-1||O===-1?null:{start:E,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sp={focusedElem:i,selectionRange:o},ef=!1,Xt=r;Xt!==null;)if(r=Xt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Xt=i;else for(;Xt!==null;){switch(r=Xt,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var pe=Na(o.type,f);i=c.getSnapshotBeforeUpdate(pe,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(we){tt(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Rp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Xt=i;break}Xt=r.return}}function h_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ns(i,o),c&4&&fc(5,o);break;case 1:if(Ns(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){tt(o,o.return,b)}else{var f=Na(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(o,o.return,b)}}c&64&&r_(o),c&512&&dc(o,o.return);break;case 3:if(Ns(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Qv(i,r)}catch(b){tt(o,o.return,b)}}break;case 27:r===null&&c&4&&c_(o);case 26:case 5:Ns(i,o),r===null&&c&4&&o_(o),c&512&&dc(o,o.return);break;case 12:Ns(i,o);break;case 31:Ns(i,o),c&4&&m_(i,o);break;case 13:Ns(i,o),c&4&&p_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=uR.bind(null,o),IR(i,o))));break;case 22:if(c=o.memoizedState!==null||Cs,!c){r=r!==null&&r.memoizedState!==null||Ot,f=Cs;var p=Ot;Cs=c,(Ot=r)&&!p?Is(i,o,(o.subtreeFlags&8772)!==0):Ns(i,o),Cs=f,Ot=p}break;case 30:break;default:Ns(i,o)}}function f_(i){var r=i.alternate;r!==null&&(i.alternate=null,f_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ja(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dt=null,En=!1;function Rs(i,r,o){for(o=o.child;o!==null;)d_(i,r,o),o=o.sibling}function d_(i,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 26:Ot||ts(o,r),Rs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||ts(o,r);var c=dt,f=En;wr(o.type)&&(dt=o.stateNode,En=!1),Rs(i,r,o),wc(o.stateNode),dt=c,En=f;break;case 5:Ot||ts(o,r);case 6:if(c=dt,f=En,dt=null,Rs(i,r,o),dt=c,En=f,dt!==null)if(En)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(p){tt(o,r,p)}else try{dt.removeChild(o.stateNode)}catch(p){tt(o,r,p)}break;case 18:dt!==null&&(En?(i=dt,rb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Oo(i)):rb(dt,o.stateNode));break;case 4:c=dt,f=En,dt=o.stateNode.containerInfo,En=!0,Rs(i,r,o),dt=c,En=f;break;case 0:case 11:case 14:case 15:pr(2,o,r),Ot||pr(4,o,r),Rs(i,r,o);break;case 1:Ot||(ts(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&a_(o,r,c)),Rs(i,r,o);break;case 21:Rs(i,r,o);break;case 22:Ot=(c=Ot)||o.memoizedState!==null,Rs(i,r,o),Ot=c;break;default:Rs(i,r,o)}}function m_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oo(i)}catch(o){tt(r,r.return,o)}}}function p_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oo(i)}catch(o){tt(r,r.return,o)}}function nR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new u_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new u_),r;default:throw Error(s(435,i.tag))}}function Mh(i,r){var o=nR(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=hR.bind(null,i,c);c.then(f,f)}})}function Sn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,b=r,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(wr(E.type)){dt=E.stateNode,En=!1;break e}break;case 5:dt=E.stateNode,En=!1;break e;case 3:case 4:dt=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(dt===null)throw Error(s(160));d_(p,b,f),dt=null,En=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)g_(r,i),r=r.sibling}var wi=null;function g_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(r,i),An(i),c&4&&(pr(3,i,i.return),fc(3,i),pr(5,i,i.return));break;case 1:Sn(r,i),An(i),c&512&&(Ot||o===null||ts(o,o.return)),c&64&&Cs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=wi;if(Sn(r,i),An(i),c&512&&(Ot||o===null||ts(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[zi]||p[Dt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),sn(p,c,o),p[Dt]=i,kt(p),c=p;break e;case"link":var b=gb("link","href",f).get(c+(o.href||""));if(b){for(var E=0;E<b.length;E++)if(p=b[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(E,1);break t}}p=f.createElement(c),sn(p,c,o),f.head.appendChild(p);break;case"meta":if(b=gb("meta","content",f).get(c+(o.content||""))){for(E=0;E<b.length;E++)if(p=b[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(E,1);break t}}p=f.createElement(c),sn(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[Dt]=i,kt(p),c=p}i.stateNode=c}else yb(f,i.type,i.stateNode);else i.stateNode=pb(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?yb(f,i.type,i.stateNode):pb(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ep(i,i.memoizedProps,o.memoizedProps)}break;case 27:Sn(r,i),An(i),c&512&&(Ot||o===null||ts(o,o.return)),o!==null&&c&4&&ep(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Sn(r,i),An(i),c&512&&(Ot||o===null||ts(o,o.return)),i.flags&32){f=i.stateNode;try{Tn(f,"")}catch(pe){tt(i,i.return,pe)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,ep(i,f,o!==null?o.memoizedProps:f)),c&1024&&(ip=!0);break;case 6:if(Sn(r,i),An(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){tt(i,i.return,pe)}}break;case 3:if(Xh=null,f=wi,wi=Yh(r.containerInfo),Sn(r,i),wi=f,An(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(r.containerInfo)}catch(pe){tt(i,i.return,pe)}ip&&(ip=!1,y_(i));break;case 4:c=wi,wi=Yh(i.stateNode.containerInfo),Sn(r,i),An(i),wi=c;break;case 12:Sn(r,i),An(i);break;case 31:Sn(r,i),An(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 13:Sn(r,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ph=yn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,Y=Cs,Z=Ot;if(Cs=Y||f,Ot=Z||O,Sn(r,i),Ot=Z,Cs=Y,An(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||Cs||Ot||Ia(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(p=O.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=O.stateNode;var se=O.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===18){if(o===null){O=r;try{var J=O.stateNode;f?ab(J,!0):ab(O.stateNode,!1)}catch(pe){tt(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(i,o))));break;case 19:Sn(r,i),An(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 30:break;case 21:break;default:Sn(r,i),An(i)}}function An(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(l_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=tp(i);jh(i,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(Tn(b,""),o.flags&=-33);var E=tp(i);jh(i,E,b);break;case 3:case 4:var O=o.stateNode.containerInfo,Y=tp(i);np(i,Y,O);break;default:throw Error(s(161))}}catch(Z){tt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function y_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;y_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ns(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h_(i,r.alternate,r),r=r.sibling}function Ia(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:pr(4,r,r.return),Ia(r);break;case 1:ts(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&a_(r,r.return,o),Ia(r);break;case 27:wc(r.stateNode);case 26:case 5:ts(r,r.return),Ia(r);break;case 22:r.memoizedState===null&&Ia(r);break;case 30:Ia(r);break;default:Ia(r)}i=i.sibling}}function Is(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:Is(f,p,o),fc(4,p);break;case 1:if(Is(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){tt(c,c.return,Y)}if(c=p,f=c.updateQueue,f!==null){var E=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Yv(O[f],E)}catch(Y){tt(c,c.return,Y)}}o&&b&64&&r_(p),dc(p,p.return);break;case 27:c_(p);case 26:case 5:Is(f,p,o),o&&c===null&&b&4&&o_(p),dc(p,p.return);break;case 12:Is(f,p,o);break;case 31:Is(f,p,o),o&&b&4&&m_(f,p);break;case 13:Is(f,p,o),o&&b&4&&p_(f,p);break;case 22:p.memoizedState===null&&Is(f,p,o),dc(p,p.return);break;case 30:break;default:Is(f,p,o)}r=r.sibling}}function sp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zl(o))}function rp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i))}function Ti(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)v_(i,r,o,c),r=r.sibling}function v_(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(i,r,o,c),f&2048&&fc(9,r);break;case 1:Ti(i,r,o,c);break;case 3:Ti(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i)));break;case 12:if(f&2048){Ti(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,b=p.id,E=p.onPostCommit;typeof E=="function"&&E(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){tt(r,r.return,O)}}else Ti(i,r,o,c);break;case 31:Ti(i,r,o,c);break;case 13:Ti(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?Ti(i,r,o,c):mc(i,r):p._visibility&2?Ti(i,r,o,c):(p._visibility|=2,Ao(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sp(b,r);break;case 24:Ti(i,r,o,c),f&2048&&rp(r.alternate,r);break;default:Ti(i,r,o,c)}}function Ao(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,b=r,E=o,O=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Ao(p,b,E,O,f),fc(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Ao(p,b,E,O,f):mc(p,b):(Z._visibility|=2,Ao(p,b,E,O,f)),f&&Y&2048&&sp(b.alternate,b);break;case 24:Ao(p,b,E,O,f),f&&Y&2048&&rp(b.alternate,b);break;default:Ao(p,b,E,O,f)}r=r.sibling}}function mc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:mc(o,c),f&2048&&sp(c.alternate,c);break;case 24:mc(o,c),f&2048&&rp(c.alternate,c);break;default:mc(o,c)}r=r.sibling}}var pc=8192;function Co(i,r,o){if(i.subtreeFlags&pc)for(i=i.child;i!==null;)x_(i,r,o),i=i.sibling}function x_(i,r,o){switch(i.tag){case 26:Co(i,r,o),i.flags&pc&&i.memoizedState!==null&&FR(o,wi,i.memoizedState,i.memoizedProps);break;case 5:Co(i,r,o);break;case 3:case 4:var c=wi;wi=Yh(i.stateNode.containerInfo),Co(i,r,o),wi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=pc,pc=16777216,Co(i,r,o),pc=c):Co(i,r,o));break;default:Co(i,r,o)}}function __(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function gc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Xt=c,w_(c,i)}__(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 0:case 11:case 15:gc(i),i.flags&2048&&pr(9,i,i.return);break;case 3:gc(i);break;case 12:gc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Vh(i)):gc(i);break;default:gc(i)}}function Vh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Xt=c,w_(c,i)}__(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:pr(8,r,r.return),Vh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Vh(r));break;default:Vh(r)}i=i.sibling}}function w_(i,r){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:pr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Xt=c;else e:for(o=i;Xt!==null;){c=Xt;var f=c.sibling,p=c.return;if(f_(c),c===o){Xt=null;break e}if(f!==null){f.return=p,Xt=f;break e}Xt=p}}}var iR={getCacheForType:function(i){var r=tn(Mt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return tn(Mt).controller.signal}},sR=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Le=null,Be=0,et=0,Ln=null,gr=!1,Ro=!1,ap=!1,Ds=0,_t=0,yr=0,Da=0,op=0,Un=0,No=0,yc=null,Cn=null,lp=!1,Ph=0,T_=0,Oh=1/0,Lh=null,vr=null,qt=0,xr=null,Io=null,ks=0,cp=0,up=null,E_=null,vc=0,hp=null;function Bn(){return(Xe&2)!==0&&Be!==0?Be&-Be:G.T!==null?yp():Uu()}function S_(){if(Un===0)if((Be&536870912)===0||Ge){var i=sa;sa<<=1,(sa&3932160)===0&&(sa=262144),Un=i}else Un=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Un}function Rn(i,r,o){(i===at&&(et===2||et===9)||i.cancelPendingCommit!==null)&&(Do(i,0),_r(i,Be,Un,!1)),ra(i,o),((Xe&2)===0||i!==at)&&(i===at&&((Xe&2)===0&&(Da|=o),_t===4&&_r(i,Be,Un,!1)),ns(i))}function A_(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||di(i,r),f=c?oR(i,r):dp(i,r,!0),p=c;do{if(f===0){Ro&&!c&&_r(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!rR(o)){f=dp(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var E=i;f=yc;var O=E.current.memoizedState.isDehydrated;if(O&&(Do(E,b).flags|=256),b=dp(E,b,!1),b!==2){if(ap&&!O){E.errorRecoveryDisabledLanes|=p,Da|=p,f=4;break e}p=Cn,Cn=f,p!==null&&(Cn===null?Cn=p:Cn.push.apply(Cn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){Do(i,0),_r(i,r,0,!0);break}e:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:_r(c,r,Un,!gr);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ph+300-yn(),10<f)){if(_r(c,r,Un,!gr),Li(c,0,!0)!==0)break e;ks=r,c.timeoutHandle=ib(C_.bind(null,c,o,Cn,Lh,lp,r,Un,Da,No,gr,p,"Throttled",-0,0),f);break e}C_(c,o,Cn,Lh,lp,r,Un,Da,No,gr,p,null,-0,0)}}break}while(!0);ns(i)}function C_(i,r,o,c,f,p,b,E,O,Y,Z,se,Q,J){if(i.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},x_(r,p,se);var pe=(p&62914560)===p?Ph-yn():(p&4194048)===p?T_-yn():0;if(pe=HR(se,pe),pe!==null){ks=p,i.cancelPendingCommit=pe(V_.bind(null,i,r,p,o,c,f,b,E,O,Z,se,null,Q,J)),_r(i,p,b,!Y);return}}V_(i,r,p,o,c,f,b,E,O)}function rR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Mn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _r(i,r,o,c){r&=~op,r&=~Da,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var p=31-wt(f),b=1<<p;c[p]=-1,f&=~b}o!==0&&aa(i,o,r)}function Uh(){return(Xe&6)===0?(xc(0),!1):!0}function fp(){if(Le!==null){if(et===0)var i=Le.return;else i=Le,bs=wa=null,Rm(i),bo=null,tc=0,i=Le;for(;i!==null;)s_(i.alternate,i),i=i.return;Le=null}}function Do(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,SR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ks=0,fp(),at=i,Le=o=xs(i.current,null),Be=r,et=0,Ln=null,gr=!1,Ro=di(i,r),ap=!1,No=Un=op=Da=yr=_t=0,Cn=yc=null,lp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-wt(c),p=1<<f;r|=i[f],c&=~p}return Ds=r,ah(),o}function R_(i,r){Ve=null,G.H=cc,r===_o||r===mh?(r=qv(),et=3):r===gm?(r=qv(),et=4):et=r===qm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Le===null&&(_t=1,Rh(i,Zn(r,i.current)))}function N_(){var i=Pn.current;return i===null?!0:(Be&4194048)===Be?ii===null:(Be&62914560)===Be||(Be&536870912)!==0?i===ii:!1}function I_(){var i=G.H;return G.H=cc,i===null?cc:i}function D_(){var i=G.A;return G.A=iR,i}function Bh(){_t=4,gr||(Be&4194048)!==Be&&Pn.current!==null||(Ro=!0),(yr&134217727)===0&&(Da&134217727)===0||at===null||_r(at,Be,Un,!1)}function dp(i,r,o){var c=Xe;Xe|=2;var f=I_(),p=D_();(at!==i||Be!==r)&&(Lh=null,Do(i,r)),r=!1;var b=_t;e:do try{if(et!==0&&Le!==null){var E=Le,O=Ln;switch(et){case 8:fp(),b=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var Y=et;if(et=0,Ln=null,ko(i,E,O,Y),o&&Ro){b=0;break e}break;default:Y=et,et=0,Ln=null,ko(i,E,O,Y)}}aR(),b=_t;break}catch(Z){R_(i,Z)}while(!0);return r&&i.shellSuspendCounter++,bs=wa=null,Xe=c,G.H=f,G.A=p,Le===null&&(at=null,Be=0,ah()),b}function aR(){for(;Le!==null;)k_(Le)}function oR(i,r){var o=Xe;Xe|=2;var c=I_(),f=D_();at!==i||Be!==r?(Lh=null,Oh=yn()+500,Do(i,r)):Ro=di(i,r);e:do try{if(et!==0&&Le!==null){r=Le;var p=Ln;t:switch(et){case 1:et=0,Ln=null,ko(i,r,p,1);break;case 2:case 9:if(Fv(p)){et=0,Ln=null,j_(r);break}r=function(){et!==2&&et!==9||at!==i||(et=7),ns(i)},p.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Fv(p)?(et=0,Ln=null,j_(r)):(et=0,Ln=null,ko(i,r,p,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var E=Le;if(b?vb(b):E.stateNode.complete){et=0,Ln=null;var O=E.sibling;if(O!==null)Le=O;else{var Y=E.return;Y!==null?(Le=Y,zh(Y)):Le=null}break t}}et=0,Ln=null,ko(i,r,p,5);break;case 6:et=0,Ln=null,ko(i,r,p,6);break;case 8:fp(),_t=6;break e;default:throw Error(s(462))}}lR();break}catch(Z){R_(i,Z)}while(!0);return bs=wa=null,G.H=c,G.A=f,Xe=o,Le!==null?0:(at=null,Be=0,ah(),_t)}function lR(){for(;Le!==null&&!Hd();)k_(Le)}function k_(i){var r=n_(i.alternate,i,Ds);i.memoizedProps=i.pendingProps,r===null?zh(i):Le=r}function j_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Xx(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Xx(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Rm(r);default:s_(o,r),r=Le=Dv(r,Ds),r=n_(o,r,Ds)}i.memoizedProps=i.pendingProps,r===null?zh(i):Le=r}function ko(i,r,o,c){bs=wa=null,Rm(r),bo=null,tc=0;var f=r.return;try{if(X2(i,f,r,o,Be)){_t=1,Rh(i,Zn(o,i.current)),Le=null;return}}catch(p){if(f!==null)throw Le=f,p;_t=1,Rh(i,Zn(o,i.current)),Le=null;return}r.flags&32768?(Ge||c===1?i=!0:Ro||(Be&536870912)!==0?i=!1:(gr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),M_(r,i)):zh(r)}function zh(i){var r=i;do{if((r.flags&32768)!==0){M_(r,gr);return}i=r.return;var o=Z2(r.alternate,r,Ds);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=i}while(r!==null);_t===0&&(_t=5)}function M_(i,r){do{var o=eR(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);_t=6,Le=null}function V_(i,r,o,c,f,p,b,E,O){i.cancelPendingCommit=null;do Fh();while(qt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=tm,Kd(i,o,p,b,E,O),i===at&&(Le=at=null,Be=0),Io=r,xr=i,ks=o,cp=p,up=f,E_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,fR(Xs,function(){return B_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,f=ae.p,ae.p=2,b=Xe,Xe|=4;try{tR(i,r,o)}finally{Xe=b,ae.p=f,G.T=c}}qt=1,P_(),O_(),L_()}}function P_(){if(qt===1){qt=0;var i=xr,r=Io,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var c=ae.p;ae.p=2;var f=Xe;Xe|=4;try{g_(r,i);var p=Sp,b=wv(i.containerInfo),E=p.focusedElem,O=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&bv(E.ownerDocument.documentElement,E)){if(O!==null&&Xd(E)){var Y=O.start,Z=O.end;if(Z===void 0&&(Z=Y),"selectionStart"in E)E.selectionStart=Y,E.selectionEnd=Math.min(Z,E.value.length);else{var se=E.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),pe=E.textContent.length,we=Math.min(O.start,pe),rt=O.end===void 0?we:Math.min(O.end,pe);!J.extend&&we>rt&&(b=rt,rt=we,we=b);var q=_v(E,we),H=_v(E,rt);if(q&&H&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var $=se.createRange();$.setStart(q.node,q.offset),J.removeAllRanges(),we>rt?(J.addRange($),J.extend(H.node,H.offset)):($.setEnd(H.node,H.offset),J.addRange($))}}}}for(se=[],J=E;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var ne=se[E];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ef=!!Ep,Sp=Ep=null}finally{Xe=f,ae.p=c,G.T=o}}i.current=r,qt=2}}function O_(){if(qt===2){qt=0;var i=xr,r=Io,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var c=ae.p;ae.p=2;var f=Xe;Xe|=4;try{h_(i,r.alternate,r)}finally{Xe=f,ae.p=c,G.T=o}}qt=3}}function L_(){if(qt===4||qt===3){qt=0,ku();var i=xr,r=Io,o=ks,c=E_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Io=xr=null,U_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(vr=null),ps(o),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(fi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=G.T,f=ae.p,ae.p=2,G.T=null;try{for(var p=i.onRecoverableError,b=0;b<c.length;b++){var E=c[b];p(E.value,{componentStack:E.stack})}}finally{G.T=r,ae.p=f}}(ks&3)!==0&&Fh(),ns(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===hp?vc++:(vc=0,hp=i):vc=0,xc(0)}}function U_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Zl(r)))}function Fh(){return P_(),O_(),L_(),B_()}function B_(){if(qt!==5)return!1;var i=xr,r=cp;cp=0;var o=ps(ks),c=G.T,f=ae.p;try{ae.p=32>o?32:o,G.T=null,o=up,up=null;var p=xr,b=ks;if(qt=0,Io=xr=null,ks=0,(Xe&6)!==0)throw Error(s(331));var E=Xe;if(Xe|=4,b_(p.current),v_(p,p.current,b,o),Xe=E,xc(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(fi,p)}catch{}return!0}finally{ae.p=f,G.T=c,U_(i,r)}}function z_(i,r,o){r=Zn(o,r),r=Hm(i.stateNode,r,2),i=fr(i,r,2),i!==null&&(ra(i,2),ns(i))}function tt(i,r,o){if(i.tag===3)z_(i,i,o);else for(;r!==null;){if(r.tag===3){z_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(vr===null||!vr.has(c))){i=Zn(o,i),o=Fx(2),c=fr(r,o,2),c!==null&&(Hx(o,c,r,i),ra(c,2),ns(c));break}}r=r.return}}function mp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new sR;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(ap=!0,f.add(o),i=cR.bind(null,i,r,o),r.then(i,i))}function cR(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,at===i&&(Be&o)===o&&(_t===4||_t===3&&(Be&62914560)===Be&&300>yn()-Ph?(Xe&2)===0&&Do(i,0):op|=o,No===Be&&(No=0)),ns(i)}function F_(i,r){r===0&&(r=Lu()),i=xa(i,r),i!==null&&(ra(i,r),ns(i))}function uR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),F_(i,o)}function hR(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),F_(i,o)}function fR(i,r){return Ht(i,r)}var Hh=null,jo=null,pp=!1,qh=!1,gp=!1,br=0;function ns(i){i!==jo&&i.next===null&&(jo===null?Hh=jo=i:jo=jo.next=i),qh=!0,pp||(pp=!0,mR())}function xc(i,r){if(!gp&&qh){gp=!0;do for(var o=!1,c=Hh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var b=c.suspendedLanes,E=c.pingedLanes;p=(1<<31-wt(42|i)+1)-1,p&=f&~(b&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,K_(c,p))}else p=Be,p=Li(c,c===at?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||di(c,p)||(o=!0,K_(c,p));c=c.next}while(o);gp=!1}}function dR(){H_()}function H_(){qh=pp=!1;var i=0;br!==0&&ER()&&(i=br);for(var r=yn(),o=null,c=Hh;c!==null;){var f=c.next,p=q_(c,r);p===0?(c.next=null,o===null?Hh=f:o.next=f,f===null&&(jo=o)):(o=c,(i!==0||(p&3)!==0)&&(qh=!0)),c=f}qt!==0&&qt!==5||xc(i),br!==0&&(br=0)}function q_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-wt(p),E=1<<b,O=f[b];O===-1?((E&o)===0||(E&c)!==0)&&(f[b]=Gd(E,r)):O<=r&&(i.expiredLanes|=E),p&=~E}if(r=at,o=Be,o=Li(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(et===2||et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Qs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||di(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Qs(c),ps(o)){case 2:case 8:o=Nl;break;case 32:o=Xs;break;case 268435456:o=ju;break;default:o=Xs}return c=G_.bind(null,i),o=Ht(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Qs(c),i.callbackPriority=2,i.callbackNode=null,2}function G_(i,r){if(qt!==0&&qt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Fh()&&i.callbackNode!==o)return null;var c=Be;return c=Li(i,i===at?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(A_(i,c,r),q_(i,yn()),i.callbackNode!=null&&i.callbackNode===o?G_.bind(null,i):null)}function K_(i,r){if(Fh())return null;A_(i,r,!0)}function mR(){AR(function(){(Xe&6)!==0?Ht(Rl,dR):H_()})}function yp(){if(br===0){var i=vo;i===0&&(i=Pi,Pi<<=1,(Pi&261888)===0&&(Pi=256)),br=i}return br}function $_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:no(""+i)}function Y_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function pR(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var p=$_((f[Yt]||null).action),b=c.submitter;b&&(r=(r=b[Yt]||null)?$_(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var E=new Qi("action","action",null,c,f);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(br!==0){var O=b?Y_(f,b):new FormData(f);Om(o,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(E.preventDefault(),O=b?Y_(f,b):new FormData(f),Om(o,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var vp=0;vp<em.length;vp++){var xp=em[vp],gR=xp.toLowerCase(),yR=xp[0].toUpperCase()+xp.slice(1);bi(gR,"on"+yR)}bi(Sv,"onAnimationEnd"),bi(Av,"onAnimationIteration"),bi(Cv,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(j2,"onTransitionRun"),bi(M2,"onTransitionStart"),bi(V2,"onTransitionCancel"),bi(Rv,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function Q_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var b=c.length-1;0<=b;b--){var E=c[b],O=E.instance,Y=E.currentTarget;if(E=E.listener,O!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=Y;try{p(f)}catch(Z){rh(Z)}f.currentTarget=null,p=O}else for(b=0;b<c.length;b++){if(E=c[b],O=E.instance,Y=E.currentTarget,E=E.listener,O!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=Y;try{p(f)}catch(Z){rh(Z)}f.currentTarget=null,p=O}}}}function Ue(i,r){var o=r[Wa];o===void 0&&(o=r[Wa]=new Set);var c=i+"__bubble";o.has(c)||(X_(r,i,2,!1),o.add(c))}function _p(i,r,o){var c=0;r&&(c|=4),X_(o,i,c,r)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function bp(i){if(!i[Gh]){i[Gh]=!0,kl.forEach(function(o){o!=="selectionchange"&&(vR.has(o)||_p(o,!1,i),_p(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Gh]||(r[Gh]=!0,_p("selectionchange",!1,r))}}function X_(i,r,o,c){switch(Sb(r)){case 2:var f=KR;break;case 8:f=$R;break;default:f=Pp}o=f.bind(null,r,o,i),f=void 0,!ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function wp(i,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===f)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;E!==null;){if(b=Fi(E),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){c=p=b;continue e}E=E.parentNode}}c=c.return}nr(function(){var Y=p,Z=Qn(o),se=[];e:{var Q=Nv.get(i);if(Q!==void 0){var J=Qi,pe=i;switch(i){case"keypress":if(da(o)===0)break e;case"keydown":case"keyup":J=nh;break;case"focusin":pe="focus",J=pa;break;case"focusout":pe="blur",J=pa;break;case"beforeblur":case"afterblur":J=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=x;break;case Sv:case Av:case Cv:J=Qu;break;case Rv:J=C;break;case"scroll":case"scrollend":J=ql;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=vs;break;case"toggle":case"beforetoggle":J=Me}var we=(r&4)!==0,rt=!we&&(i==="scroll"||i==="scrollend"),q=we?Q!==null?Q+"Capture":null:Q;we=[];for(var H=Y,$;H!==null;){var ne=H;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||q===null||(ne=yi(H,q),ne!=null&&we.push(bc(H,ne,$))),rt)break;H=H.return}0<we.length&&(Q=new J(Q,pe,null,o,Z),se.push({event:Q,listeners:we}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Q&&o!==zl&&(pe=o.relatedTarget||o.fromElement)&&(Fi(pe)||pe[Bi]))break e;if((J||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(pe=o.relatedTarget||o.toElement,J=Y,pe=pe?Fi(pe):null,pe!==null&&(rt=l(pe),we=pe.tag,pe!==rt||we!==5&&we!==27&&we!==6)&&(pe=null)):(J=null,pe=Y),J!==pe)){if(we=Gl,ne="onMouseLeave",q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(we=vs,ne="onPointerLeave",q="onPointerEnter",H="pointer"),rt=J==null?Q:kn(J),$=pe==null?Q:kn(pe),Q=new we(ne,H+"leave",J,o,Z),Q.target=rt,Q.relatedTarget=$,ne=null,Fi(Z)===Y&&(we=new we(q,H+"enter",pe,o,Z),we.target=$,we.relatedTarget=rt,ne=we),rt=ne,J&&pe)t:{for(we=xR,q=J,H=pe,$=0,ne=q;ne;ne=we(ne))$++;ne=0;for(var xe=H;xe;xe=we(xe))ne++;for(;0<$-ne;)q=we(q),$--;for(;0<ne-$;)H=we(H),ne--;for(;$--;){if(q===H||H!==null&&q===H.alternate){we=q;break t}q=we(q),H=we(H)}we=null}else we=null;J!==null&&W_(se,Q,J,we,!1),pe!==null&&rt!==null&&W_(se,rt,pe,we,!0)}}e:{if(Q=Y?kn(Y):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var $e=mv;else if(fv(Q))if(pv)$e=I2;else{$e=R2;var ye=C2}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&to(Y.elementType)&&($e=mv):$e=N2;if($e&&($e=$e(i,Y))){dv(se,$e,o,Z);break e}ye&&ye(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ll(Q,"number",Q.value)}switch(ye=Y?kn(Y):window,i){case"focusin":(fv(ye)||ye.contentEditable==="true")&&(co=ye,Wd=Y,Xl=null);break;case"focusout":Xl=Wd=co=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,Tv(se,o,Z);break;case"selectionchange":if(k2)break;case"keydown":case"keyup":Tv(se,o,Z)}var Pe;if(Qe)e:{switch(i){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else lo?ga(i,o)&&(ze="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ze="onCompositionStart");ze&&(Ji&&o.locale!=="ko"&&(lo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&lo&&(Pe=Hl()):(Yi=Z,Fl="value"in Yi?Yi.value:Yi.textContent,lo=!0)),ye=Kh(Y,ze),0<ye.length&&(ze=new Wi(ze,i,null,o,Z),se.push({event:ze,listeners:ye}),Pe?ze.data=Pe:(Pe=oo(o),Pe!==null&&(ze.data=Pe)))),(Pe=Wn?T2(i,o):E2(i,o))&&(ze=Kh(Y,"onBeforeInput"),0<ze.length&&(ye=new Wi("onBeforeInput","beforeinput",null,o,Z),se.push({event:ye,listeners:ze}),ye.data=Pe)),pR(se,i,Y,o,Z)}Q_(se,r)})}function bc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Kh(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=yi(i,o),f!=null&&c.unshift(bc(i,f,p)),f=yi(i,r),f!=null&&c.push(bc(i,f,p))),i.tag===3)return c;i=i.return}return[]}function xR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function W_(i,r,o,c,f){for(var p=r._reactName,b=[];o!==null&&o!==c;){var E=o,O=E.alternate,Y=E.stateNode;if(E=E.tag,O!==null&&O===c)break;E!==5&&E!==26&&E!==27||Y===null||(O=Y,f?(Y=yi(o,p),Y!=null&&b.unshift(bc(o,Y,O))):f||(Y=yi(o,p),Y!=null&&b.push(bc(o,Y,O)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var _R=/\r\n?/g,bR=/\u0000|\uFFFD/g;function J_(i){return(typeof i=="string"?i:""+i).replace(_R,`
`).replace(bR,"")}function Z_(i,r){return r=J_(r),J_(i)===r}function st(i,r,o,c,f,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Tn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Tn(i,""+c);break;case"className":jn(i,"class",c);break;case"tabIndex":jn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(i,o,c);break;case"style":Bl(i,c,p);break;case"data":if(r!=="object"){jn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=no(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&st(i,r,"name",f.name,f,null),st(i,r,"formEncType",f.formEncType,f,null),st(i,r,"formMethod",f.formMethod,f,null),st(i,r,"formTarget",f.formTarget,f,null)):(st(i,r,"encType",f.encType,f,null),st(i,r,"method",f.method,f,null),st(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=no(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=gi);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=no(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),Za(i,"popover",c);break;case"xlinkActuate":jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":jt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":jt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":jt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":jt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Za(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ku.get(o)||o,Za(i,o,c))}}function Tp(i,r,o,c,f,p){switch(o){case"style":Bl(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Tn(i,c):(typeof c=="number"||typeof c=="bigint")&&Tn(i,""+c);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"onClick":c!=null&&(i.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Yt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Za(i,o,c)}}}function sn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,p,b,o,null)}}f&&st(i,r,"srcSet",o.srcSet,o,null),c&&st(i,r,"src",o.src,o,null);return;case"input":Ue("invalid",i);var E=p=b=f=null,O=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":f=Z;break;case"type":b=Z;break;case"checked":O=Z;break;case"defaultChecked":Y=Z;break;case"value":p=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:st(i,r,c,Z,o,null)}}Hu(i,p,E,O,Y,b,f,!1);return;case"select":Ue("invalid",i),c=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":b=E;break;case"multiple":c=E;default:st(i,r,f,E,o,null)}r=p,o=b,i.multiple=!!c,r!=null?Js(i,!!c,r,!1):o!=null&&Js(i,!!c,o,!0);return;case"textarea":Ue("invalid",i),p=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(E=o[b],E!=null))switch(b){case"value":c=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:st(i,r,b,E,o,null)}Zs(i,c,f,p);return;case"option":for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null)&&(O==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":st(i,r,O,c,o,null));return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(c=0;c<_c.length;c++)Ue(_c[c],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,Y,c,o,null)}return;default:if(to(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Tp(i,r,Z,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&st(i,r,E,c,o,null))}function wR(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,E=null,O=null,Y=null,Z=null;for(J in o){var se=o[J];if(o.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=se;default:c.hasOwnProperty(J)||st(i,r,J,null,c,se)}}for(var Q in c){var J=c[Q];if(se=o[Q],c.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":p=J;break;case"name":f=J;break;case"checked":Y=J;break;case"defaultChecked":Z=J;break;case"value":b=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:J!==se&&st(i,r,Q,J,c,se)}}eo(i,b,E,O,Y,Z,p,f);return;case"select":J=b=E=Q=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":J=O;default:c.hasOwnProperty(p)||st(i,r,p,null,c,O)}for(f in c)if(p=c[f],O=o[f],c.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":Q=p;break;case"defaultValue":E=p;break;case"multiple":b=p;default:p!==O&&st(i,r,f,p,c,O)}r=E,o=b,c=J,Q!=null?Js(i,!!o,Q,!1):!!c!=!!o&&(r!=null?Js(i,!!o,r,!0):Js(i,!!o,o?[]:"",!1));return;case"textarea":J=Q=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(i,r,E,null,c,f)}for(b in c)if(f=c[b],p=o[b],c.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":Q=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&st(i,r,b,f,c,p)}qu(i,Q,J);return;case"option":for(var pe in o)Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?i.selected=!1:st(i,r,pe,null,c,Q));for(O in c)Q=c[O],J=o[O],c.hasOwnProperty(O)&&Q!==J&&(Q!=null||J!=null)&&(O==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":st(i,r,O,Q,c,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!c.hasOwnProperty(we)&&st(i,r,we,null,c,Q);for(Y in c)if(Q=c[Y],J=o[Y],c.hasOwnProperty(Y)&&Q!==J&&(Q!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:st(i,r,Y,Q,c,J)}return;default:if(to(r)){for(var rt in o)Q=o[rt],o.hasOwnProperty(rt)&&Q!==void 0&&!c.hasOwnProperty(rt)&&Tp(i,r,rt,void 0,c,Q);for(Z in c)Q=c[Z],J=o[Z],!c.hasOwnProperty(Z)||Q===J||Q===void 0&&J===void 0||Tp(i,r,Z,Q,c,J);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!c.hasOwnProperty(q)&&st(i,r,q,null,c,Q);for(se in c)Q=c[se],J=o[se],!c.hasOwnProperty(se)||Q===J||Q==null&&J==null||st(i,r,se,Q,c,J)}function eb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,b=f.initiatorType,E=f.duration;if(p&&E&&eb(b)){for(b=0,E=f.responseEnd,c+=1;c<o.length;c++){var O=o[c],Y=O.startTime;if(Y>E)break;var Z=O.transferSize,se=O.initiatorType;Z&&eb(se)&&(O=O.responseEnd,b+=Z*(O<E?1:(E-Y)/(O-Y)))}if(--c,r+=8*(p+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ep=null,Sp=null;function $h(i){return i.nodeType===9?i:i.ownerDocument}function tb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ap(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cp=null;function ER(){var i=window.event;return i&&i.type==="popstate"?i===Cp?!1:(Cp=i,!0):(Cp=null,!1)}var ib=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(i){return sb.resolve(null).then(i).catch(CR)}:ib;function CR(i){setTimeout(function(){throw i})}function wr(i){return i==="head"}function rb(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),Oo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")wc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,wc(o);for(var p=o.firstChild;p;){var b=p.nextSibling,E=p.nodeName;p[zi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&wc(i.ownerDocument.body);o=f}while(o);Oo(r)}function ab(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Rp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rp(o),Ja(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function RR(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[zi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=si(i.nextSibling),i===null)break}return null}function NR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=si(i.nextSibling),i===null))return null;return i}function ob(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=si(i.nextSibling),i===null))return null;return i}function Np(i){return i.data==="$?"||i.data==="$~"}function Ip(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function IR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function si(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Dp=null;function lb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return si(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function cb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function ub(i,r,o){switch(r=$h(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function wc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ja(i)}var ri=new Map,hb=new Set;function Yh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var js=ae.d;ae.d={f:DR,r:kR,D:jR,C:MR,L:VR,m:PR,X:LR,S:OR,M:UR};function DR(){var i=js.f(),r=Uh();return i||r}function kR(i){var r=Yn(i);r!==null&&r.tag===5&&r.type==="form"?Rx(r):js.r(i)}var Mo=typeof document>"u"?null:document;function fb(i,r,o){var c=Mo;if(c&&typeof r=="string"&&r){var f=wn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),hb.has(f)||(hb.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),sn(r,"link",i),kt(r),c.head.appendChild(r)))}}function jR(i){js.D(i),fb("dns-prefetch",i,null)}function MR(i,r){js.C(i,r),fb("preconnect",i,r)}function VR(i,r,o){js.L(i,r,o);var c=Mo;if(c&&i&&r){var f='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+wn(o.imageSizes)+'"]')):f+='[href="'+wn(i)+'"]';var p=f;switch(r){case"style":p=Vo(i);break;case"script":p=Po(i)}ri.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ri.set(p,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(Tc(p))||r==="script"&&c.querySelector(Ec(p))||(r=c.createElement("link"),sn(r,"link",i),kt(r),c.head.appendChild(r)))}}function PR(i,r){js.m(i,r);var o=Mo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+wn(c)+'"][href="'+wn(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Po(i)}if(!ri.has(p)&&(i=_({rel:"modulepreload",href:i},r),ri.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ec(p)))return}c=o.createElement("link"),sn(c,"link",i),kt(c),o.head.appendChild(c)}}}function OR(i,r,o){js.S(i,r,o);var c=Mo;if(c&&i){var f=Hi(c).hoistableStyles,p=Vo(i);r=r||"default";var b=f.get(p);if(!b){var E={loading:0,preload:null};if(b=c.querySelector(Tc(p)))E.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ri.get(p))&&kp(i,o);var O=b=c.createElement("link");kt(O),sn(O,"link",i),O._p=new Promise(function(Y,Z){O.onload=Y,O.onerror=Z}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Qh(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:E},f.set(p,b)}}}function LR(i,r){js.X(i,r);var o=Mo;if(o&&i){var c=Hi(o).hoistableScripts,f=Po(i),p=c.get(f);p||(p=o.querySelector(Ec(f)),p||(i=_({src:i,async:!0},r),(r=ri.get(f))&&jp(i,r),p=o.createElement("script"),kt(p),sn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function UR(i,r){js.M(i,r);var o=Mo;if(o&&i){var c=Hi(o).hoistableScripts,f=Po(i),p=c.get(f);p||(p=o.querySelector(Ec(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=ri.get(f))&&jp(i,r),p=o.createElement("script"),kt(p),sn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function db(i,r,o,c){var f=(f=Te.current)?Yh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Vo(o.href),o=Hi(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Vo(o.href);var p=Hi(f).hoistableStyles,b=p.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=f.querySelector(Tc(i)))&&!p._p&&(b.instance=p,b.state.loading=5),ri.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ri.set(i,o),p||BR(f,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(o),o=Hi(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Vo(i){return'href="'+wn(i)+'"'}function Tc(i){return'link[rel="stylesheet"]['+i+"]"}function mb(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function BR(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),sn(r,"link",o),kt(r),i.head.appendChild(r))}function Po(i){return'[src="'+wn(i)+'"]'}function Ec(i){return"script[async]"+i}function pb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+wn(o.href)+'"]');if(c)return r.instance=c,kt(c),c;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),kt(c),sn(c,"style",f),Qh(c,o.precedence,i),r.instance=c;case"stylesheet":f=Vo(o.href);var p=i.querySelector(Tc(f));if(p)return r.state.loading|=4,r.instance=p,kt(p),p;c=mb(o),(f=ri.get(f))&&kp(c,f),p=(i.ownerDocument||i).createElement("link"),kt(p);var b=p;return b._p=new Promise(function(E,O){b.onload=E,b.onerror=O}),sn(p,"link",c),r.state.loading|=4,Qh(p,o.precedence,i),r.instance=p;case"script":return p=Po(o.src),(f=i.querySelector(Ec(p)))?(r.instance=f,kt(f),f):(c=o,(f=ri.get(p))&&(c=_({},o),jp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),kt(f),sn(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Qh(c,o.precedence,i));return r.instance}function Qh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,b=0;b<c.length;b++){var E=c[b];if(E.dataset.precedence===r)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function jp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Xh=null;function gb(i,r,o){if(Xh===null){var c=new Map,f=Xh=new Map;f.set(o,c)}else f=Xh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[zi]||p[Dt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=i+b;var E=c.get(b);E?E.push(p):c.set(b,[p])}}return c}function yb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function zR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function FR(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Vo(c.href),p=r.querySelector(Tc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Wh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,kt(p);return}p=r.ownerDocument||r,c=mb(c),(f=ri.get(f))&&kp(c,f),p=p.createElement("link"),kt(p);var b=p;b._p=new Promise(function(E,O){b.onload=E,b.onerror=O}),sn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Wh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Mp=0;function HR(i,r){return i.stylesheets&&i.count===0&&Zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Mp===0&&(Mp=62500*TR());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Mp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jh=null;function Zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jh=new Map,r.forEach(qR,i),Jh=null,Wh.call(i))}function qR(i,r){if(!(r.state.loading&4)){var o=Jh.get(i);if(o)var c=o.get(null);else{o=new Map,Jh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=r.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,f),o.set(b,f),this.count++,c=Wh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Sc={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function GR(i,r,o,c,f,p,b,E,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function xb(i,r,o,c,f,p,b,E,O,Y,Z,se){return i=new GR(i,r,o,b,O,Y,Z,se,E),r=1,p===!0&&(r|=24),p=Vn(3,null,null,r),i.current=p,p.stateNode=i,r=dm(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},ym(p),i}function _b(i){return i?(i=fo,i):fo}function bb(i,r,o,c,f,p){f=_b(f),c.context===null?c.context=f:c.pendingContext=f,c=hr(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=fr(i,c,r),o!==null&&(Rn(o,i,r),ic(o,i,r))}function wb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Vp(i,r){wb(i,r),(i=i.alternate)&&wb(i,r)}function Tb(i){if(i.tag===13||i.tag===31){var r=xa(i,67108864);r!==null&&Rn(r,i,67108864),Vp(i,67108864)}}function Eb(i){if(i.tag===13||i.tag===31){var r=Bn();r=oa(r);var o=xa(i,r);o!==null&&Rn(o,i,r),Vp(i,r)}}var ef=!0;function KR(i,r,o,c){var f=G.T;G.T=null;var p=ae.p;try{ae.p=2,Pp(i,r,o,c)}finally{ae.p=p,G.T=f}}function $R(i,r,o,c){var f=G.T;G.T=null;var p=ae.p;try{ae.p=8,Pp(i,r,o,c)}finally{ae.p=p,G.T=f}}function Pp(i,r,o,c){if(ef){var f=Op(c);if(f===null)wp(i,r,c,tf,o),Ab(i,c);else if(QR(f,i,r,o,c))c.stopPropagation();else if(Ab(i,c),r&4&&-1<YR.indexOf(i)){for(;f!==null;){var p=Yn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Oi(p.pendingLanes);if(b!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var O=1<<31-wt(b);E.entanglements[1]|=O,b&=~O}ns(p),(Xe&6)===0&&(Oh=yn()+500,xc(0))}}break;case 31:case 13:E=xa(p,2),E!==null&&Rn(E,p,2),Uh(),Vp(p,2)}if(p=Op(c),p===null&&wp(i,r,c,tf,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else wp(i,r,c,null,o)}}function Op(i){return i=Qn(i),Lp(i)}var tf=null;function Lp(i){if(tf=null,i=Fi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return tf=i,null}function Sb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case Rl:return 2;case Nl:return 8;case Xs:case qd:return 32;case ju:return 268435456;default:return 32}default:return 32}}var Up=!1,Tr=null,Er=null,Sr=null,Ac=new Map,Cc=new Map,Ar=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(i,r){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Ac.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(r.pointerId)}}function Rc(i,r,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Yn(r),r!==null&&Tb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function QR(i,r,o,c,f){switch(r){case"focusin":return Tr=Rc(Tr,i,r,o,c,f),!0;case"dragenter":return Er=Rc(Er,i,r,o,c,f),!0;case"mouseover":return Sr=Rc(Sr,i,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return Ac.set(p,Rc(Ac.get(p)||null,i,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Cc.set(p,Rc(Cc.get(p)||null,i,r,o,c,f)),!0}return!1}function Cb(i){var r=Fi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,mi(i.priority,function(){Eb(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,mi(i.priority,function(){Eb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Op(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);zl=c,o.target.dispatchEvent(c),zl=null}else return r=Yn(o),r!==null&&Tb(r),i.blockedOn=o,!1;r.shift()}return!0}function Rb(i,r,o){nf(i)&&o.delete(r)}function XR(){Up=!1,Tr!==null&&nf(Tr)&&(Tr=null),Er!==null&&nf(Er)&&(Er=null),Sr!==null&&nf(Sr)&&(Sr=null),Ac.forEach(Rb),Cc.forEach(Rb)}function sf(i,r){i.blockedOn===r&&(i.blockedOn=null,Up||(Up=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XR)))}var rf=null;function Nb(i){rf!==i&&(rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rf===i&&(rf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(Lp(c||o)===null)continue;break}var p=Yn(o);p!==null&&(i.splice(r,3),r-=3,Om(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Oo(i){function r(O){return sf(O,i)}Tr!==null&&sf(Tr,i),Er!==null&&sf(Er,i),Sr!==null&&sf(Sr,i),Ac.forEach(r),Cc.forEach(r);for(var o=0;o<Ar.length;o++){var c=Ar[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ar.length&&(o=Ar[0],o.blockedOn===null);)Cb(o),o.blockedOn===null&&Ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],b=f[Yt]||null;if(typeof p=="function")b||Nb(o);else if(b){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Yt]||null)E=b.formAction;else if(Lp(f)!==null)continue}else E=b.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),Nb(o)}}}function Ib(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bp(i){this._internalRoot=i}af.prototype.render=Bp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Bn();bb(o,c,i,r,null,null)},af.prototype.unmount=Bp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;bb(i.current,2,null,i,null,null),Uh(),r[Bi]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var r=Uu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ar.length&&r!==0&&r<Ar[o].priority;o++);Ar.splice(o,0,i),o===0&&Cb(i)}};var Db=e.version;if(Db!=="19.2.3")throw Error(s(527,Db,"19.2.3"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var WR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{fi=of.inject(WR),Jt=of}catch{}}return Ic.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=Lx,p=Ux,b=Bx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=xb(i,1,!1,null,null,o,c,null,f,p,b,Ib),i[Bi]=r.current,bp(i),new Bp(r)},Ic.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",p=Lx,b=Ux,E=Bx,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=xb(i,1,!0,r,o??null,c,f,O,p,b,E,Ib),r.context=_b(null),o=r.current,c=Bn(),c=oa(c),f=hr(c),f.callback=null,fr(o,f,c),o=c,r.current.lanes=o,ra(r,o),ns(r),i[Bi]=r.current,bp(i),new af(r)},Ic.version="19.2.3",Ic}var zb;function oN(){if(zb)return Hp.exports;zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hp.exports=aN(),Hp.exports}var lN=oN();var Fb="popstate";function cN(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return Ng("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xc(a)}return hN(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uN(){return Math.random().toString(36).substring(2,10)}function Hb(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||s||uN()}}function Xc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function hN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function _(){d="POP";let M=v(),L=M==null?null:M-y;y=M,m&&m({action:d,location:P.location,delta:L})}function T(M,L){d="PUSH";let B=Ng(P.location,M,L);y=v()+1;let F=Hb(B,y),W=P.createHref(B);try{u.pushState(F,"",W)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(W)}l&&m&&m({action:d,location:P.location,delta:1})}function R(M,L){d="REPLACE";let B=Ng(P.location,M,L);y=v();let F=Hb(B,y),W=P.createHref(B);u.replaceState(F,"",W),l&&m&&m({action:d,location:P.location,delta:0})}function k(M){return fN(M)}let P={get action(){return d},get location(){return t(a,u)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Fb,_),m=M,()=>{a.removeEventListener(Fb,_),m=null}},createHref(M){return e(a,M)},createURL:k,encodeLocation(M){let L=k(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:R,go(M){return u.go(M)}};return P}function fN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function zE(t,e,n="/"){return dN(t,e,n,!1)}function dN(t,e,n,s){let a=typeof e=="string"?fl(e):e,l=Bs(a.pathname||"/",n);if(l==null)return null;let u=FE(t);mN(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let y=SN(l);d=TN(u[m],y,s)}return d}function FE(t,e=[],n=[],s="",a=!1){let l=(u,d,m=a,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;pt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=Os([s,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),FE(u.children,e,T,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:bN(_,u.index),routesMeta:T})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of HE(u.path))l(u,d,!0,m)}),e}function HE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=HE(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function mN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var pN=/^:[\w-]+$/,gN=3,yN=2,vN=1,xN=10,_N=-2,qb=t=>t==="*";function bN(t,e){let n=t.split("/"),s=n.length;return n.some(qb)&&(s+=_N),e&&(s+=yN),n.filter(a=>!qb(a)).reduce((a,l)=>a+(pN.test(l)?gN:l===""?vN:xN),s)}function wN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function TN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],y=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},v),T=m.route;if(!_&&y&&n&&!s[s.length-1].route.index&&(_=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Os([l,_.pathname]),pathnameBase:NN(Os([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=Os([l,_.pathnameBase]))}return u}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=EN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:_},T)=>{if(v==="*"){let k=d[T]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const R=d[T];return _&&!R?y[v]=void 0:y[v]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:t}}function EN(t,e=!1,n=!0){qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function SN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AN=t=>qE.test(t);function CN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?fl(t):t,l;if(n)if(AN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Gb(n.substring(1),"/"):l=Gb(n,e)}else l=e;return{pathname:l,search:IN(s),hash:DN(a)}}function Gb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function $p(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ky(t){let e=RN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function jy(t,e,n,s=!1){let a;typeof t=="string"?a=fl(t):(a={...t},pt(!a.pathname||!a.pathname.includes("?"),$p("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),$p("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),$p("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}d=_>=0?e[_]:"/"}let m=CN(a,d),y=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||v)&&(m.pathname+="/"),m}var Os=t=>t.join("/").replace(/\/\/+/g,"/"),NN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,kN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function MN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KE(t,e){let n=t;if(typeof n!="string"||!qE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(GE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Bs(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var VN=["GET",...$E];new Set(VN);var dl=j.createContext(null);dl.displayName="DataRouter";var pd=j.createContext(null);pd.displayName="DataRouterState";var PN=j.createContext(!1),YE=j.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var ON=j.createContext(new Map);ON.displayName="Fetchers";var LN=j.createContext(null);LN.displayName="Await";var Gn=j.createContext(null);Gn.displayName="Navigation";var uu=j.createContext(null);uu.displayName="Location";var Di=j.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var My=j.createContext(null);My.displayName="RouteError";var QE="REACT_ROUTER_ERROR",UN="REDIRECT",BN="ROUTE_ERROR_RESPONSE";function zN(t){if(t.startsWith(`${QE}:${UN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function FN(t){if(t.startsWith(`${QE}:${BN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new kN(e.status,e.statusText,e.data)}catch{}}function HN(t,{relative:e}={}){pt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Gn),{hash:a,pathname:l,search:u}=hu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Os([n,l])),s.createHref({pathname:d,search:u,hash:a})}function ml(){return j.useContext(uu)!=null}function ki(){return pt(ml(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(uu).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(t){j.useContext(Gn).static||j.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=j.useContext(Di);return t?nI():qN()}function qN(){pt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(dl),{basename:e,navigator:n}=j.useContext(Gn),{matches:s}=j.useContext(Di),{pathname:a}=ki(),l=JSON.stringify(ky(s)),u=j.useRef(!1);return WE(()=>{u.current=!0}),j.useCallback((m,y={})=>{if(qn(u.current,XE),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=jy(m,JSON.parse(l),a,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Os([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,l,a,t])}j.createContext(null);function gd(){let{matches:t}=j.useContext(Di),e=t[t.length-1];return e?e.params:{}}function hu(t,{relative:e}={}){let{matches:n}=j.useContext(Di),{pathname:s}=ki(),a=JSON.stringify(ky(n));return j.useMemo(()=>jy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function GN(t,e){return JE(t,e)}function JE(t,e,n,s,a){pt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Gn),{matches:u}=j.useContext(Di),d=u[u.length-1],m=d?d.params:{},y=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let B=_&&_.path||"";e1(y,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=ki(),R;if(e){let B=typeof e=="string"?fl(e):e;pt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=T;let k=R.pathname||"/",P=k;if(v!=="/"){let B=v.replace(/^\//,"").split("/");P="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=zE(t,{pathname:P});qn(_||M!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),qn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=XN(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Os([v,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Os([v,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,s,a);return e&&L?j.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},L):L}function KN(){let t=tI(),e=jN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,u)}var $N=j.createElement(KN,null),ZE=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=FN(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(Di.Provider,{value:this.props.routeContext},j.createElement(My.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(YN,{error:t},e):e}};ZE.contextType=PN;var Yp=new WeakMap;function YN({children:t,error:e}){let{basename:n}=j.useContext(Gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=zN(e.digest);if(s){let a=Yp.get(e);if(a)throw a;let l=KE(s.location,n);if(GE&&!Yp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Yp.set(e,u),u}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function QN({routeContext:t,match:e,children:n}){let s=j.useContext(dl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Di.Provider,{value:t},n)}function XN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);pt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:T,errors:R}=n,k=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||k){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let y=n&&s?(v,_)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:MN(n.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,T)=>{let R,k=!1,P=null,M=null;n&&(R=u&&_.route.id?u[_.route.id]:void 0,P=_.route.errorElement||$N,d&&(m<0&&T===0?(e1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,M=null):m===T&&(k=!0,M=_.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,T+1)),B=()=>{let F;return R?F=P:k?F=M:_.route.Component?F=j.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=v,j.createElement(QN,{match:_,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?j.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:P,error:R,children:B(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:y}):B()},null)}function Vy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WN(t){let e=j.useContext(dl);return pt(e,Vy(t)),e}function JN(t){let e=j.useContext(pd);return pt(e,Vy(t)),e}function ZN(t){let e=j.useContext(Di);return pt(e,Vy(t)),e}function Py(t){let e=ZN(t),n=e.matches[e.matches.length-1];return pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function eI(){return Py("useRouteId")}function tI(){let t=j.useContext(My),e=JN("useRouteError"),n=Py("useRouteError");return t!==void 0?t:e.errors?.[n]}function nI(){let{router:t}=WN("useNavigate"),e=Py("useNavigate"),n=j.useRef(!1);return WE(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{qn(n.current,XE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Kb={};function e1(t,e,n){!e&&!Kb[t]&&(Kb[t]=!0,qn(!1,n))}j.memo(iI);function iI({routes:t,future:e,state:n,onError:s}){return JE(t,void 0,n,s,e)}function t1({to:t,replace:e,state:n,relative:s}){pt(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Gn);qn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Di),{pathname:u}=ki(),d=ji(),m=jy(t,ky(l),u,s==="path"),y=JSON.stringify(m);return j.useEffect(()=>{d(JSON.parse(y),{replace:e,state:n,relative:s})},[d,y,s,e,n]),null}function is(t){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){pt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=fl(n));let{pathname:y="/",search:v="",hash:_="",state:T=null,key:R="default"}=n,k=j.useMemo(()=>{let P=Bs(y,d);return P==null?null:{location:{pathname:P,search:v,hash:_,state:T,key:R},navigationType:s}},[d,y,v,_,T,R,s]);return qn(k!=null,`<Router basename="${d}"> is not able to match the URL "${y}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(Gn.Provider,{value:m},j.createElement(uu.Provider,{children:e,value:k}))}function rI({children:t,location:e}){return GN(Ig(t),e)}function Ig(t,e=[]){let n=[];return j.Children.forEach(t,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){n.push.apply(n,Ig(s.props.children,l));return}pt(s.type===is,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Ig(s.props.children,l)),n.push(u)}),n}var Tf="get",Ef="application/x-www-form-urlencoded";function yd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function aI(t){return yd(t)&&t.tagName.toLowerCase()==="button"}function oI(t){return yd(t)&&t.tagName.toLowerCase()==="form"}function lI(t){return yd(t)&&t.tagName.toLowerCase()==="input"}function cI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uI(t,e){return t.button===0&&(!e||e==="_self")&&!cI(t)}function Dg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function hI(t,e){let n=Dg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var lf=null;function fI(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var dI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(t){return t!=null&&!dI.has(t)?(qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function mI(t,e){let n,s,a,l,u;if(oI(t)){let d=t.getAttribute("action");s=d?Bs(d,e):null,n=t.getAttribute("method")||Tf,a=Qp(t.getAttribute("enctype"))||Ef,l=new FormData(t)}else if(aI(t)||lI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Bs(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Tf,a=Qp(t.getAttribute("formenctype"))||Qp(d.getAttribute("enctype"))||Ef,l=new FormData(d,t),!fI()){let{name:y,type:v,value:_}=t;if(v==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,_)}}else{if(yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tf,s=null,a=Ef,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Bs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function gI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await gI(l,n);return u.links?u.links():[]}return[]}));return wI(s.flat(1).filter(yI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $b(t,e,n,s,a,l){let u=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,d=(m,y)=>n[y].pathname!==m.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,y)=>u(m,y)||d(m,y)):l==="data"?e.filter((m,y)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,y)||d(m,y))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function xI(t,e,{includeHydrateFallback:n}={}){return _I(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function _I(t){return[...new Set(t)]}function bI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function wI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(bI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function n1(){let t=j.useContext(dl);return Oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TI(){let t=j.useContext(pd);return Oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ly=j.createContext(void 0);Ly.displayName="FrameworkContext";function i1(){let t=j.useContext(Ly);return Oy(t,"You must render this element inside a <HydratedRouter> element"),t}function EI(t,e){let n=j.useContext(Ly),[s,a]=j.useState(!1),[l,u]=j.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:y,onMouseLeave:v,onTouchStart:_}=e,T=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=L=>{L.forEach(B=>{u(B.isIntersecting)})},M=new IntersectionObserver(P,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[t]),j.useEffect(()=>{if(s){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[s]);let R=()=>{a(!0)},k=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Dc(d,R),onBlur:Dc(m,k),onMouseEnter:Dc(y,R),onMouseLeave:Dc(v,k),onTouchStart:Dc(_,R)}]:[!1,T,{}]}function Dc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SI({page:t,...e}){let{router:n}=n1(),s=j.useMemo(()=>zE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(CI,{page:t,matches:s,...e}):null}function AI(t){let{manifest:e,routeModules:n}=i1(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return vI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function CI({page:t,matches:e,...n}){let s=ki(),{manifest:a,routeModules:l}=i1(),{basename:u}=n1(),{loaderData:d,matches:m}=TI(),y=j.useMemo(()=>$b(t,e,m,a,s,"data"),[t,e,m,a,s]),v=j.useMemo(()=>$b(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,P=!1;if(e.forEach(L=>{let B=a.routes[L.route.id];!B||!B.hasLoader||(!y.some(F=>F.route.id===L.route.id)&&L.route.id in d&&l[L.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:k.add(L.route.id))}),k.size===0)return[];let M=pI(t,u,"data");return P&&k.size>0&&M.searchParams.set("_routes",e.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[u,d,s,a,y,e,t,l]),T=j.useMemo(()=>xI(v,a),[v,a]),R=AI(v);return j.createElement(j.Fragment,null,_.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),T.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),R.map(({key:k,link:P})=>j.createElement("link",{key:k,nonce:n.nonce,...P})))}function RI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NI&&(window.__reactRouterVersion="7.11.0")}catch{}function II({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=j.useRef();a.current==null&&(a.current=cN({window:s,v5Compat:!0}));let l=a.current,[u,d]=j.useState({action:l.action,location:l.location}),m=j.useCallback(y=>{n===!1?d(y):j.startTransition(()=>d(y))},[n]);return j.useLayoutEffect(()=>l.listen(m),[l,m]),j.createElement(sI,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r1=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:y,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:T,...R},k){let{basename:P,unstable_useTransitions:M}=j.useContext(Gn),L=typeof y=="string"&&s1.test(y),B=KE(y,P);y=B.to;let F=HN(y,{relative:a}),[W,ee,re]=EI(s,R),A=MI(y,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:T,unstable_useTransitions:M});function S(V){e&&e(V),V.defaultPrevented||A(V)}let I=j.createElement("a",{...R,...re,href:B.absoluteURL||F,onClick:B.isExternal||l?e:S,ref:RI(k,ee),target:m,"data-discover":!L&&n==="render"?"true":void 0});return W&&!L?j.createElement(j.Fragment,null,I,j.createElement(SI,{page:F})):I});r1.displayName="Link";var DI=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...y},v){let _=hu(u,{relative:y.relative}),T=ki(),R=j.useContext(pd),{navigator:k,basename:P}=j.useContext(Gn),M=R!=null&&UI(_)&&d===!0,L=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,B=T.pathname,F=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,L=L.toLowerCase()),F&&P&&(F=Bs(F,P)||F);const W=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ee=B===L||!a&&B.startsWith(L)&&B.charAt(W)==="/",re=F!=null&&(F===L||!a&&F.startsWith(L)&&F.charAt(L.length)==="/"),A={isActive:ee,isPending:re,isTransitioning:M},S=ee?e:void 0,I;typeof s=="function"?I=s(A):I=[s,ee?"active":null,re?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(A):l;return j.createElement(r1,{...y,"aria-current":S,className:I,ref:v,style:V,to:u,viewTransition:d},typeof m=="function"?m(A):m)});DI.displayName="NavLink";var kI=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Tf,action:d,onSubmit:m,relative:y,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:T,...R},k)=>{let{unstable_useTransitions:P}=j.useContext(Gn),M=OI(),L=LI(d,{relative:y}),B=u.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&s1.test(d),W=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let re=ee.nativeEvent.submitter,A=re?.getAttribute("formmethod")||u,S=()=>M(re||ee.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:a,state:l,relative:y,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:T});P&&n!==!1?j.startTransition(()=>S()):S()};return j.createElement("form",{ref:k,method:B,action:L,onSubmit:s?m:W,...R,"data-discover":!F&&t==="render"?"true":void 0})});kI.displayName="Form";function jI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(t){let e=j.useContext(dl);return pt(e,jI(t)),e}function MI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let y=ji(),v=ki(),_=hu(t,{relative:l});return j.useCallback(T=>{if(uI(T,e)){T.preventDefault();let R=n!==void 0?n:Xc(v)===Xc(_),k=()=>y(t,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?j.startTransition(()=>k()):k()}},[v,y,_,n,s,e,t,a,l,u,d,m])}function Uy(t){qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Dg(t)),n=j.useRef(!1),s=ki(),a=j.useMemo(()=>hI(s.search,n.current?null:e.current),[s.search]),l=ji(),u=j.useCallback((d,m)=>{const y=Dg(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+y,m)},[l,a]);return[a,u]}var VI=0,PI=()=>`__${String(++VI)}__`;function OI(){let{router:t}=a1("useSubmit"),{basename:e}=j.useContext(Gn),n=eI(),s=t.fetch,a=t.navigate;return j.useCallback(async(l,u={})=>{let{action:d,method:m,encType:y,formData:v,body:_}=mI(l,e);if(u.navigate===!1){let T=u.fetcherKey||PI();await s(T,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||m,formEncType:u.encType||y,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||m,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function LI(t,{relative:e}={}){let{basename:n}=j.useContext(Gn),s=j.useContext(Di);pt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...hu(t||".",{relative:e})},u=ki();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Os([n,l.pathname])),Xc(l)}function UI(t,{relative:e}={}){let n=j.useContext(YE);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=a1("useViewTransitionState"),a=hu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Bs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Bs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uf(a.pathname,u)!=null||Uf(a.pathname,l)!=null}const BI=()=>{};var Yb={};const o1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,y=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let T=(d&15)<<2|y>>6,R=y&63;m||(R=64,u||(T=64)),s.push(n[v],n[_],n[T],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const y=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||y==null||_==null)throw new FI;const T=l<<2|d>>4;if(s.push(T),y!==64){const R=d<<4&240|y>>2;if(s.push(R),_!==64){const k=y<<6&192|_;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HI=function(t){const e=o1(t);return l1.encodeByteArray(e,!0)},Bf=function(t){return HI(t).replace(/\./g,"")},c1=function(t){try{return l1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GI=()=>qI().__FIREBASE_DEFAULTS__,KI=()=>{if(typeof process>"u"||typeof Yb>"u")return;const t=Yb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c1(t[1]);return e&&JSON.parse(e)},vd=()=>{try{return BI()||GI()||KI()||$I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u1=t=>vd()?.emulatorHosts?.[t],YI=t=>{const e=u1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},h1=()=>vd()?.config,f1=t=>vd()?.[`_${t}`];class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d1(t){return(await fetch(t,{credentials:"include"})).ok}function XI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bf(JSON.stringify(n)),Bf(JSON.stringify(u)),""].join(".")}const Bc={};function WI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function JI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qb=!1;function m1(t,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||Bc[t]===e||Bc[t]||Qb)return;Bc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=WI().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Qb=!0,u()},T}function v(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=JI(s),R=n("text"),k=document.getElementById(R)||document.createElement("span"),P=n("learnmore"),M=document.getElementById(P)||document.createElement("a"),L=n("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;d(F),v(M,P);const W=y();m(B,L),F.append(B,k,M,W),document.body.appendChild(F)}l?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function eD(){const t=vd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sD(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rD(){return!eD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aD(){try{return typeof indexedDB=="object"}catch{return!1}}function oD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const lD="FirebaseError";class $s extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lD,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?cD(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new $s(a,d,s)}}function cD(t,e){return t.replace(uD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const uD=/\{\$([^}]+)}/g;function hD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Xb(l)&&Xb(u)){if(!Fa(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Xb(t){return t!==null&&typeof t=="object"}function du(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fD(t,e){const n=new dD(t,e);return n.subscribe.bind(n)}class dD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");mD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Xp),a.error===void 0&&(a.error=Xp),a.complete===void 0&&(a.complete=Xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xp(){}function yt(t){return t&&t._delegate?t._delegate:t}class Ha{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class pD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new QI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yD(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gD(t){return t===ja?void 0:t}function yD(t){return t.instantiationMode==="EAGER"}class vD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const xD={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},_D=Fe.INFO,bD={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},wD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=bD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=_D,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const TD=(t,e)=>e.some(n=>t instanceof n);let Wb,Jb;function ED(){return Wb||(Wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,kg=new WeakMap,g1=new WeakMap,Wp=new WeakMap,zy=new WeakMap;function AD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Pr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,t)}).catch(()=>{}),zy.set(e,t),e}function CD(t){if(kg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});kg.set(t,e)}let jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RD(t){jg=t(jg)}function ND(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Jp(this),e,...n);return g1.set(s,e.sort?e.sort():[e]),Pr(s)}:SD().includes(t)?function(...e){return t.apply(Jp(this),e),Pr(p1.get(this))}:function(...e){return Pr(t.apply(Jp(this),e))}}function ID(t){return typeof t=="function"?ND(t):(t instanceof IDBTransaction&&CD(t),TD(t,ED())?new Proxy(t,jg):t)}function Pr(t){if(t instanceof IDBRequest)return AD(t);if(Wp.has(t))return Wp.get(t);const e=ID(t);return e!==t&&(Wp.set(t,e),zy.set(e,t)),e}const Jp=t=>zy.get(t);function DD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Pr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Pr(u.result),m.oldVersion,m.newVersion,Pr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const kD=["get","getKey","getAll","getAllKeys","count"],jD=["put","add","delete","clear"],Zp=new Map;function Zb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=jD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||kD.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[n](...d),a&&m.done]))[0]};return Zp.set(e,l),l}RD(t=>({...t,get:(e,n,s)=>Zb(e,n)||t.get(e,n,s),has:(e,n)=>!!Zb(e,n)||t.has(e,n)}));class MD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VD(t){return t.getComponent()?.type==="VERSION"}const Mg="@firebase/app",ew="0.14.6";const zs=new By("@firebase/app"),PD="@firebase/app-compat",OD="@firebase/analytics-compat",LD="@firebase/analytics",UD="@firebase/app-check-compat",BD="@firebase/app-check",zD="@firebase/auth",FD="@firebase/auth-compat",HD="@firebase/database",qD="@firebase/data-connect",GD="@firebase/database-compat",KD="@firebase/functions",$D="@firebase/functions-compat",YD="@firebase/installations",QD="@firebase/installations-compat",XD="@firebase/messaging",WD="@firebase/messaging-compat",JD="@firebase/performance",ZD="@firebase/performance-compat",e4="@firebase/remote-config",t4="@firebase/remote-config-compat",n4="@firebase/storage",i4="@firebase/storage-compat",s4="@firebase/firestore",r4="@firebase/ai",a4="@firebase/firestore-compat",o4="firebase",l4="12.6.0";const Vg="[DEFAULT]",c4={[Mg]:"fire-core",[PD]:"fire-core-compat",[LD]:"fire-analytics",[OD]:"fire-analytics-compat",[BD]:"fire-app-check",[UD]:"fire-app-check-compat",[zD]:"fire-auth",[FD]:"fire-auth-compat",[HD]:"fire-rtdb",[qD]:"fire-data-connect",[GD]:"fire-rtdb-compat",[KD]:"fire-fn",[$D]:"fire-fn-compat",[YD]:"fire-iid",[QD]:"fire-iid-compat",[XD]:"fire-fcm",[WD]:"fire-fcm-compat",[JD]:"fire-perf",[ZD]:"fire-perf-compat",[e4]:"fire-rc",[t4]:"fire-rc-compat",[n4]:"fire-gcs",[i4]:"fire-gcs-compat",[s4]:"fire-fst",[a4]:"fire-fst-compat",[r4]:"fire-vertex","fire-js":"fire-js",[o4]:"fire-js-all"};const zf=new Map,u4=new Map,Pg=new Map;function tw(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tl(t){const e=t.name;if(Pg.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of zf.values())tw(n,t);for(const n of u4.values())tw(n,t);return!0}function Fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}const h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new fu("app","Firebase",h4);class f4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const gl=l4;function y1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Vg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Or.create("bad-app-name",{appName:String(a)});if(n||(n=h1()),!n)throw Or.create("no-options");const l=zf.get(a);if(l){if(Fa(n,l.options)&&Fa(s,l.config))return l;throw Or.create("duplicate-app",{appName:a})}const u=new vD(a);for(const m of Pg.values())u.addComponent(m);const d=new f4(n,s,u);return zf.set(a,d),d}function v1(t=Vg){const e=zf.get(t);if(!e&&t===Vg&&h1())return y1();if(!e)throw Or.create("no-app",{appName:t});return e}function Lr(t,e,n){let s=c4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(u.join(" "));return}tl(new Ha(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const d4="firebase-heartbeat-database",m4=1,Wc="firebase-heartbeat-store";let eg=null;function x1(){return eg||(eg=DD(d4,m4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),eg}async function p4(t){try{const n=(await x1()).transaction(Wc),s=await n.objectStore(Wc).get(_1(t));return await n.done,s}catch(e){if(e instanceof $s)zs.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function nw(t,e){try{const s=(await x1()).transaction(Wc,"readwrite");await s.objectStore(Wc).put(e,_1(t)),await s.done}catch(n){if(n instanceof $s)zs.warn(n.message);else{const s=Or.create("idb-set",{originalErrorMessage:n?.message});zs.warn(s.message)}}}function _1(t){return`${t.name}!${t.options.appId}`}const g4=1024,y4=30;class v4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>y4){const a=b4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iw(),{heartbeatsToSend:n,unsentEntries:s}=x4(this._heartbeatsCache.heartbeats),a=Bf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return zs.warn(e),""}}}function iw(){return new Date().toISOString().substring(0,10)}function x4(t,e=g4){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),sw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aD()?oD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sw(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}function b4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function w4(t){tl(new Ha("platform-logger",e=>new MD(e),"PRIVATE")),tl(new Ha("heartbeat",e=>new v4(e),"PRIVATE")),Lr(Mg,ew,t),Lr(Mg,ew,"esm2020"),Lr("fire-js","")}w4("");function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T4=b1,w1=new fu("auth","Firebase",b1());const Ff=new By("@firebase/auth");function E4(t,...e){Ff.logLevel<=Fe.WARN&&Ff.warn(`Auth (${gl}): ${t}`,...e)}function Sf(t,...e){Ff.logLevel<=Fe.ERROR&&Ff.error(`Auth (${gl}): ${t}`,...e)}function ui(t,...e){throw qy(t,...e)}function Ni(t,...e){return qy(t,...e)}function Hy(t,e,n){const s={...T4(),[e]:n};return new fu("auth","Firebase",s).create(e,{appName:t.name})}function Ls(t){return Hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S4(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ui(t,"argument-error"),Hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return w1.create(t,...e)}function Se(t,e,...n){if(!t)throw qy(e,...n)}function Vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Fs(t,e){t||Vs(e)}function Og(){return typeof self<"u"&&self.location?.href||""}function A4(){return rw()==="http:"||rw()==="https:"}function rw(){return typeof self<"u"&&self.location?.protocol||null}function C4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A4()||nD()||"connection"in navigator)?navigator.onLine:!0}function R4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=ZI()||iD()}get(){return C4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gy(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class T1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const I4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D4=new mu(3e4,6e4);function ds(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Mi(t,e,n,s,a={}){return E1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=du({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:m,...l};return tD()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&pl(t.emulatorConfig.host)&&(y.credentials="include"),T1.fetch()(await S1(t,t.config.apiHost,n,d),y)})}async function E1(t,e,n){t._canInitEmulator=!1;const s={...N4,...e};try{const a=new j4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw cf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,y]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw cf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw cf(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Hy(t,v,y);ui(t,v)}}catch(a){if(a instanceof $s)throw a;ui(t,"network-request-failed",{message:String(a)})}}async function pu(t,e,n,s,a={}){const l=await Mi(t,e,n,s,a);return"mfaPendingCredential"in l&&ui(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function S1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Gy(t.config,a):`${t.config.apiScheme}://${a}`;return I4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function k4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),D4.get())})}}function cf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ni(t,e,s);return a.customData._tokenResponse=n,a}function aw(t){return t!==void 0&&t.enterprise!==void 0}class M4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V4(t,e){return Mi(t,"GET","/v2/recaptchaConfig",ds(t,e))}async function P4(t,e){return Mi(t,"POST","/v1/accounts:delete",e)}async function Hf(t,e){return Mi(t,"POST","/v1/accounts:lookup",e)}function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O4(t,e=!1){const n=yt(t),s=await n.getIdToken(e),a=Ky(s);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:zc(tg(a.auth_time)),issuedAtTime:zc(tg(a.iat)),expirationTime:zc(tg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function tg(t){return Number(t)*1e3}function Ky(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=c1(n);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ow(t){const e=Ky(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof $s&&L4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function L4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class U4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qf(t){const e=t.auth,n=await t.getIdToken(),s=await nl(t,Hf(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?A1(a.providerUserInfo):[],u=z4(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,y=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function B4(t){const e=yt(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function A1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function F4(t,e){const n=await E1(t,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await S1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&pl(t.emulatorConfig.host)&&(m.credentials="include"),T1.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H4(t,e){return Mi(t,"POST","/v2/accounts:revokeToken",ds(t,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await F4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Yo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Vs("not implemented")}}function Rr(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new U4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O4(this,e)}reload(){return B4(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await nl(this,P4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:R,providerData:k,stsTokenManager:P}=n;Se(_&&P,e,"internal-error");const M=Yo.fromJSON(this.name,P);Se(typeof _=="string",e,"internal-error"),Rr(s,e.name),Rr(a,e.name),Se(typeof T=="boolean",e,"internal-error"),Se(typeof R=="boolean",e,"internal-error"),Rr(l,e.name),Rr(u,e.name),Rr(d,e.name),Rr(m,e.name),Rr(y,e.name),Rr(v,e.name);const L=new Ri({uid:_,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:M,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(L.providerData=k.map(B=>({...B}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,s=!1){const a=new Yo;a.updateFromServerResponse(n);const l=new Ri({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await qf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?A1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new Yo;d.updateFromIdToken(s);const m=new Ri({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,y),m}}const lw=new Map;function Ps(t){Fs(t instanceof Function,"Expected a class definition");let e=lw.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lw.set(t,e),e)}class C1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C1.type="NONE";const cw=C1;function Af(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hf(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qo(Ps(cw),e,s);const a=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||Ps(cw);const u=Af(s,e.config.apiKey,e.name);let d=null;for(const y of n)try{const v=await y._get(u);if(v){let _;if(typeof v=="string"){const T=await Hf(e,{idToken:v}).catch(()=>{});if(!T)break;_=await Ri._fromGetAccountInfoResponse(e,T,v)}else _=Ri._fromJSON(e,v);y!==l&&(d=_),l=y;break}}catch{}const m=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Qo(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Qo(l,e,s))}}function uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j1(e))return"Blackberry";if(M1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(k1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function R1(t=gn()){return/firefox\//i.test(t)}function N1(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(t=gn()){return/crios\//i.test(t)}function D1(t=gn()){return/iemobile/i.test(t)}function k1(t=gn()){return/android/i.test(t)}function j1(t=gn()){return/blackberry/i.test(t)}function M1(t=gn()){return/webos/i.test(t)}function $y(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q4(t=gn()){return $y(t)&&!!window.navigator?.standalone}function G4(){return sD()&&document.documentMode===10}function V1(t=gn()){return $y(t)||k1(t)||M1(t)||j1(t)||/windows phone/i.test(t)||D1(t)}function P1(t,e=[]){let n;switch(t){case"Browser":n=uw(gn());break;case"Worker":n=`${uw(gn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gl}/${s}`}class K4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function $4(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",ds(t,e))}const Y4=6;class Q4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Y4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class X4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hw(this),this.idTokenSubscription=new hw(this),this.beforeStateQueue=new K4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hf(this,{idToken:e}),s=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Ls(this));const n=e?yt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $4(this),n=new Q4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await H4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&E4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xr(t){return yt(t)}class hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=fD(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W4(t){xd=t}function O1(t){return xd.loadJS(t)}function J4(){return xd.recaptchaEnterpriseScript}function Z4(){return xd.gapiScript}function ek(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tk{constructor(){this.enterprise=new nk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ik="recaptcha-enterprise",L1="NO_RECAPTCHA";class sk{constructor(e){this.type=ik,this.auth=Xr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{V4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new M4(m);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;aw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(L1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&aw(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=J4();m.length!==0&&(m+=d),O1(m).then(()=>{a(d,l,u)}).catch(y=>{u(y)})}}).catch(d=>{u(d)})})}}async function fw(t,e,n,s=!1,a=!1){const l=new sk(t);let u;if(a)u=L1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ug(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await fw(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await fw(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function rk(t,e){const n=Fy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fa(l,e??{}))return a;ui(a,"already-initialized")}return n.initialize({options:e})}function ak(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function ok(t,e,n){const s=Xr(t);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=U1(e),{host:u,port:d}=lk(e),m=d===null?"":`:${d}`,y={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Fa(y,s.config.emulator)&&Fa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,pl(u)?(d1(`${l}//${u}${m}`),m1("Auth",!0)):ck()}function U1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lk(t){const e=U1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:dw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:dw(u)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ck(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Yy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,n){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}async function uk(t,e){return Mi(t,"POST","/v1/accounts:signUp",e)}async function hk(t,e){return Mi(t,"POST","/v1/accounts:update",ds(t,e))}async function fk(t,e){return pu(t,"POST","/v1/accounts:signInWithPassword",ds(t,e))}async function dk(t,e){return Mi(t,"POST","/v1/accounts:sendOobCode",ds(t,e))}async function mk(t,e){return dk(t,e)}async function pk(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}async function gk(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}class Jc extends Yy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,n,"signInWithPassword",fk);case"emailLink":return pk(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,s,"signUpPassword",uk);case"emailLink":return gk(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xo(t,e){return pu(t,"POST","/v1/accounts:signInWithIdp",ds(t,e))}const yk="http://localhost";class qa extends Yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new qa(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:yk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}function vk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xk(t){const e=jc(Mc(t)).link,n=e?jc(Mc(e)).deep_link_id:null,s=jc(Mc(t)).deep_link_id;return(s?jc(Mc(s)).link:null)||s||n||e||t}class Qy{constructor(e){const n=jc(Mc(e)),s=n.apiKey??null,a=n.oobCode??null,l=vk(n.mode??null);Se(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xk(e);try{return new Qy(n)}catch{return null}}}class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Qy.parseLink(n);return Se(s,"argument-error"),Jc._fromEmailAndCode(e,s.code,s.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Xy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ir extends gu{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";class Ms extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ms.credential(n,s)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";class Dr extends gu{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";class kr extends gu{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";async function _k(t,e){return pu(t,"POST","/v1/accounts:signUp",ds(t,e))}class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ri._fromIdTokenResponse(e,s,a),u=mw(s);return new Ga({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=mw(s);return new Ga({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Gf extends $s{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Gf(e,n,s,a)}}function B1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,l,e,s):l})}async function bk(t,e,n=!1){const s=await nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ga._forOperation(t,"link",s)}async function wk(t,e,n=!1){const{auth:s}=t;if(Fn(s.app))return Promise.reject(Ls(s));const a="reauthenticate";try{const l=await nl(t,B1(s,a,e,t),n);Se(l.idToken,s,"internal-error");const u=Ky(l.idToken);Se(u,s,"internal-error");const{sub:d}=u;return Se(t.uid===d,s,"user-mismatch"),Ga._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),l}}async function z1(t,e,n=!1){if(Fn(t.app))return Promise.reject(Ls(t));const s="signIn",a=await B1(t,s,e),l=await Ga._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Tk(t,e){return z1(Xr(t),e)}async function F1(t){const e=Xr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H1(t,e){await hk(yt(t),{oobCode:e})}async function Ek(t,e,n){if(Fn(t.app))return Promise.reject(Ls(t));const s=Xr(t),u=await Ug(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_k).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&F1(t),m}),d=await Ga._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function Sk(t,e,n){return Fn(t.app)?Promise.reject(Ls(t)):Tk(yt(t),yl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&F1(t),s})}async function q1(t,e){const n=yt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await mk(n.auth,a);l!==t.email&&await t.reload()}async function Ak(t,e){return Mi(t,"POST","/v1/accounts:update",e)}async function Ck(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=yt(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await nl(s,Ak(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function Rk(t,e,n,s){return yt(t).onIdTokenChanged(e,n,s)}function Nk(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function Ik(t,e,n,s){return yt(t).onAuthStateChanged(e,n,s)}function Dk(t){return yt(t).signOut()}const Kf="__sak";class G1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kk=1e3,jk=10;class K1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);G4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,jk):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const Mk=K1;class $1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$1.type="SESSION";const Y1=$1;function Vk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class _d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new _d(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async y=>y(n.origin,l)),m=await Vk(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_d.receivers=[];function Wy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const y=Wy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function rs(){return window}function Ok(t){rs().location.href=t}function Q1(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function Lk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uk(){return navigator?.serviceWorker?.controller||null}function Bk(){return Q1()?self:null}const X1="firebaseLocalStorageDb",zk=1,$f="firebaseLocalStorage",W1="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function Fk(){const t=indexedDB.deleteDatabase(X1);return new yu(t).toPromise()}function Bg(){const t=indexedDB.open(X1,zk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore($f,{keyPath:W1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains($f)?e(s):(s.close(),await Fk(),e(await Bg()))})})}async function pw(t,e,n){const s=bd(t,!0).put({[W1]:e,value:n});return new yu(s).toPromise()}async function Hk(t,e){const n=bd(t,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function gw(t,e){const n=bd(t,!0).delete(e);return new yu(n).toPromise()}const qk=800,Gk=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Gk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_d._getInstance(Bk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Lk(),!this.activeServiceWorker)return;this.sender=new Pk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await pw(e,Kf,"1"),await gw(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Hk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bd(a,!1).getAll();return new yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const Kk=J1;new mu(3e4,6e4);function Z1(t,e){return e?Ps(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Jy extends Yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $k(t){return z1(t.auth,new Jy(t),t.bypassAuthState)}function Yk(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),wk(n,new Jy(t),t.bypassAuthState)}async function Qk(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),bk(n,new Jy(t),t.bypassAuthState)}class eS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $k;case"linkViaPopup":case"linkViaRedirect":return Qk;case"reauthViaPopup":case"reauthViaRedirect":return Yk;default:ui(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xk=new mu(2e3,1e4);async function Wk(t,e,n){if(Fn(t.app))return Promise.reject(Ni(t,"operation-not-supported-in-this-environment"));const s=Xr(t);S4(t,e,Xy);const a=Z1(s,n);return new Va(s,"signInViaPopup",e,a).executeNotNull()}class Va extends eS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xk.get())};e()}}Va.currentPopupAction=null;const Jk="pendingRedirect",Cf=new Map;class Zk extends eS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const s=await ej(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ej(t,e){const n=ij(e),s=nj(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function tj(t,e){Cf.set(t._key(),e)}function nj(t){return Ps(t._redirectPersistence)}function ij(t){return Af(Jk,t.config.apiKey,t.name)}async function sj(t,e,n=!1){if(Fn(t.app))return Promise.reject(Ls(t));const s=Xr(t),a=Z1(s,e),u=await new Zk(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const rj=600*1e3;class aj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(t);default:return!1}}async function lj(t,e={}){return Mi(t,"GET","/v1/projects",e)}const cj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uj=/^https?/;async function hj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lj(t);for(const n of e)try{if(fj(n))return}catch{}ui(t,"unauthorized-domain")}function fj(t){const e=Og(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!uj.test(n))return!1;if(cj.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const dj=new mu(3e4,6e4);function vw(){const t=rs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mj(t){return new Promise((e,n)=>{function s(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),n(Ni(t,"network-request-failed"))},timeout:dj.get()})}if(rs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(rs().gapi?.load)s();else{const a=ek("iframefcb");return rs()[a]=()=>{gapi.load?s():n(Ni(t,"network-request-failed"))},O1(`${Z4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function pj(t){return Rf=Rf||mj(t),Rf}const gj=new mu(5e3,15e3),yj="__/auth/iframe",vj="emulator/auth/iframe",xj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_j=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bj(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gy(e,vj):`https://${t.config.authDomain}/${yj}`,s={apiKey:e.apiKey,appName:t.name,v:gl},a=_j.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${du(s).slice(1)}`}async function wj(t){const e=await pj(t),n=rs().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:bj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xj,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ni(t,"network-request-failed"),d=rs().setTimeout(()=>{l(u)},gj.get());function m(){rs().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const Tj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ej=500,Sj=600,Aj="_blank",Cj="http://localhost";class xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rj(t,e,n,s=Ej,a=Sj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...Tj,width:s.toString(),height:a.toString(),top:l,left:u},y=gn().toLowerCase();n&&(d=I1(y)?Aj:n),R1(y)&&(e=e||Cj,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[R,k])=>`${T}${R}=${k},`,"");if(q4(y)&&d!=="_self")return Nj(e||"",d),new xw(null);const _=window.open(e||"",d,v);Se(_,t,"popup-blocked");try{_.focus()}catch{}return new xw(_)}function Nj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Ij="__/auth/handler",Dj="emulator/auth/handler",kj=encodeURIComponent("fac");async function _w(t,e,n,s,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:gl,eventId:a};if(e instanceof Xy){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",hD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof gu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),y=m?`#${kj}=${encodeURIComponent(m)}`:"";return`${jj(t)}?${du(d).slice(1)}${y}`}function jj({config:t}){return t.emulator?Gy(t,Dj):`https://${t.authDomain}/${Ij}`}const ng="webStorageSupport";class Mj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=sj,this._overrideRedirectResult=tj}async _openPopup(e,n,s,a){Fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await _w(e,n,s,Og(),a);return Rj(e,l,Wy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await _w(e,n,s,Og(),a);return Ok(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Fs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wj(e),s=new aj(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},a=>{const l=a?.[0]?.[ng];l!==void 0&&n(!!l),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V1()||N1()||$y()}}const Vj=Mj;var bw="@firebase/auth",ww="1.12.0";class Pj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Oj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lj(t){tl(new Ha("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P1(t)},y=new X4(s,a,l,m);return ak(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),tl(new Ha("auth-internal",e=>{const n=Xr(e.getProvider("auth").getImmediate());return(s=>new Pj(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(bw,ww,Oj(t)),Lr(bw,ww,"esm2020")}const Uj=300,Bj=f1("authIdTokenMaxAge")||Uj;let Tw=null;const zj=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Bj)return;const a=n?.token;Tw!==a&&(Tw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Fj(t=v1()){const e=Fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rk(t,{popupRedirectResolver:Vj,persistence:[Kk,Mk,Y1]}),s=f1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=zj(l.toString());Nk(n,u,()=>u(n.currentUser)),Rk(n,d=>u(d))}}const a=u1("auth");return a&&ok(n,`http://${a}`),n}function Hj(){return document.getElementsByTagName("head")?.[0]??document}W4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ni("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Hj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lj("Browser");var Ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ur,nS;(function(){var t;function e(A,S){function I(){}I.prototype=S.prototype,A.F=S.prototype,A.prototype=new I,A.prototype.constructor=A,A.D=function(V,N,z){for(var D=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)D[ge-2]=arguments[ge];return S.prototype[N].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=A.g[0],I=A.g[1],N=A.g[2];let z=A.g[3],D;D=S+(z^I&(N^z))+V[0]+3614090360&4294967295,S=I+(D<<7&4294967295|D>>>25),D=z+(N^S&(I^N))+V[1]+3905402710&4294967295,z=S+(D<<12&4294967295|D>>>20),D=N+(I^z&(S^I))+V[2]+606105819&4294967295,N=z+(D<<17&4294967295|D>>>15),D=I+(S^N&(z^S))+V[3]+3250441966&4294967295,I=N+(D<<22&4294967295|D>>>10),D=S+(z^I&(N^z))+V[4]+4118548399&4294967295,S=I+(D<<7&4294967295|D>>>25),D=z+(N^S&(I^N))+V[5]+1200080426&4294967295,z=S+(D<<12&4294967295|D>>>20),D=N+(I^z&(S^I))+V[6]+2821735955&4294967295,N=z+(D<<17&4294967295|D>>>15),D=I+(S^N&(z^S))+V[7]+4249261313&4294967295,I=N+(D<<22&4294967295|D>>>10),D=S+(z^I&(N^z))+V[8]+1770035416&4294967295,S=I+(D<<7&4294967295|D>>>25),D=z+(N^S&(I^N))+V[9]+2336552879&4294967295,z=S+(D<<12&4294967295|D>>>20),D=N+(I^z&(S^I))+V[10]+4294925233&4294967295,N=z+(D<<17&4294967295|D>>>15),D=I+(S^N&(z^S))+V[11]+2304563134&4294967295,I=N+(D<<22&4294967295|D>>>10),D=S+(z^I&(N^z))+V[12]+1804603682&4294967295,S=I+(D<<7&4294967295|D>>>25),D=z+(N^S&(I^N))+V[13]+4254626195&4294967295,z=S+(D<<12&4294967295|D>>>20),D=N+(I^z&(S^I))+V[14]+2792965006&4294967295,N=z+(D<<17&4294967295|D>>>15),D=I+(S^N&(z^S))+V[15]+1236535329&4294967295,I=N+(D<<22&4294967295|D>>>10),D=S+(N^z&(I^N))+V[1]+4129170786&4294967295,S=I+(D<<5&4294967295|D>>>27),D=z+(I^N&(S^I))+V[6]+3225465664&4294967295,z=S+(D<<9&4294967295|D>>>23),D=N+(S^I&(z^S))+V[11]+643717713&4294967295,N=z+(D<<14&4294967295|D>>>18),D=I+(z^S&(N^z))+V[0]+3921069994&4294967295,I=N+(D<<20&4294967295|D>>>12),D=S+(N^z&(I^N))+V[5]+3593408605&4294967295,S=I+(D<<5&4294967295|D>>>27),D=z+(I^N&(S^I))+V[10]+38016083&4294967295,z=S+(D<<9&4294967295|D>>>23),D=N+(S^I&(z^S))+V[15]+3634488961&4294967295,N=z+(D<<14&4294967295|D>>>18),D=I+(z^S&(N^z))+V[4]+3889429448&4294967295,I=N+(D<<20&4294967295|D>>>12),D=S+(N^z&(I^N))+V[9]+568446438&4294967295,S=I+(D<<5&4294967295|D>>>27),D=z+(I^N&(S^I))+V[14]+3275163606&4294967295,z=S+(D<<9&4294967295|D>>>23),D=N+(S^I&(z^S))+V[3]+4107603335&4294967295,N=z+(D<<14&4294967295|D>>>18),D=I+(z^S&(N^z))+V[8]+1163531501&4294967295,I=N+(D<<20&4294967295|D>>>12),D=S+(N^z&(I^N))+V[13]+2850285829&4294967295,S=I+(D<<5&4294967295|D>>>27),D=z+(I^N&(S^I))+V[2]+4243563512&4294967295,z=S+(D<<9&4294967295|D>>>23),D=N+(S^I&(z^S))+V[7]+1735328473&4294967295,N=z+(D<<14&4294967295|D>>>18),D=I+(z^S&(N^z))+V[12]+2368359562&4294967295,I=N+(D<<20&4294967295|D>>>12),D=S+(I^N^z)+V[5]+4294588738&4294967295,S=I+(D<<4&4294967295|D>>>28),D=z+(S^I^N)+V[8]+2272392833&4294967295,z=S+(D<<11&4294967295|D>>>21),D=N+(z^S^I)+V[11]+1839030562&4294967295,N=z+(D<<16&4294967295|D>>>16),D=I+(N^z^S)+V[14]+4259657740&4294967295,I=N+(D<<23&4294967295|D>>>9),D=S+(I^N^z)+V[1]+2763975236&4294967295,S=I+(D<<4&4294967295|D>>>28),D=z+(S^I^N)+V[4]+1272893353&4294967295,z=S+(D<<11&4294967295|D>>>21),D=N+(z^S^I)+V[7]+4139469664&4294967295,N=z+(D<<16&4294967295|D>>>16),D=I+(N^z^S)+V[10]+3200236656&4294967295,I=N+(D<<23&4294967295|D>>>9),D=S+(I^N^z)+V[13]+681279174&4294967295,S=I+(D<<4&4294967295|D>>>28),D=z+(S^I^N)+V[0]+3936430074&4294967295,z=S+(D<<11&4294967295|D>>>21),D=N+(z^S^I)+V[3]+3572445317&4294967295,N=z+(D<<16&4294967295|D>>>16),D=I+(N^z^S)+V[6]+76029189&4294967295,I=N+(D<<23&4294967295|D>>>9),D=S+(I^N^z)+V[9]+3654602809&4294967295,S=I+(D<<4&4294967295|D>>>28),D=z+(S^I^N)+V[12]+3873151461&4294967295,z=S+(D<<11&4294967295|D>>>21),D=N+(z^S^I)+V[15]+530742520&4294967295,N=z+(D<<16&4294967295|D>>>16),D=I+(N^z^S)+V[2]+3299628645&4294967295,I=N+(D<<23&4294967295|D>>>9),D=S+(N^(I|~z))+V[0]+4096336452&4294967295,S=I+(D<<6&4294967295|D>>>26),D=z+(I^(S|~N))+V[7]+1126891415&4294967295,z=S+(D<<10&4294967295|D>>>22),D=N+(S^(z|~I))+V[14]+2878612391&4294967295,N=z+(D<<15&4294967295|D>>>17),D=I+(z^(N|~S))+V[5]+4237533241&4294967295,I=N+(D<<21&4294967295|D>>>11),D=S+(N^(I|~z))+V[12]+1700485571&4294967295,S=I+(D<<6&4294967295|D>>>26),D=z+(I^(S|~N))+V[3]+2399980690&4294967295,z=S+(D<<10&4294967295|D>>>22),D=N+(S^(z|~I))+V[10]+4293915773&4294967295,N=z+(D<<15&4294967295|D>>>17),D=I+(z^(N|~S))+V[1]+2240044497&4294967295,I=N+(D<<21&4294967295|D>>>11),D=S+(N^(I|~z))+V[8]+1873313359&4294967295,S=I+(D<<6&4294967295|D>>>26),D=z+(I^(S|~N))+V[15]+4264355552&4294967295,z=S+(D<<10&4294967295|D>>>22),D=N+(S^(z|~I))+V[6]+2734768916&4294967295,N=z+(D<<15&4294967295|D>>>17),D=I+(z^(N|~S))+V[13]+1309151649&4294967295,I=N+(D<<21&4294967295|D>>>11),D=S+(N^(I|~z))+V[4]+4149444226&4294967295,S=I+(D<<6&4294967295|D>>>26),D=z+(I^(S|~N))+V[11]+3174756917&4294967295,z=S+(D<<10&4294967295|D>>>22),D=N+(S^(z|~I))+V[2]+718787259&4294967295,N=z+(D<<15&4294967295|D>>>17),D=I+(z^(N|~S))+V[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+z&4294967295}s.prototype.v=function(A,S){S===void 0&&(S=A.length);const I=S-this.blockSize,V=this.C;let N=this.h,z=0;for(;z<S;){if(N==0)for(;z<=I;)a(this,A,z),z+=this.blockSize;if(typeof A=="string"){for(;z<S;)if(V[N++]=A.charCodeAt(z++),N==this.blockSize){a(this,V),N=0;break}}else for(;z<S;)if(V[N++]=A[z++],N==this.blockSize){a(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var I=A.length-8;I<A.length;++I)A[I]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)A[S++]=this.g[I]>>>V&255;return A};function l(A,S){var I=d;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=S(A)}function u(A,S){this.h=S;const I=[];let V=!0;for(let N=A.length-1;N>=0;N--){const z=A[N]|0;V&&z==S||(I[N]=z,V=!1)}this.g=I}var d={};function m(A){return-128<=A&&A<128?l(A,function(S){return new u([S|0],S<0?-1:0)}):new u([A|0],A<0?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return _;if(A<0)return M(y(-A));const S=[];let I=1;for(let V=0;A>=I;V++)S[V]=A/I|0,I*=4294967296;return new u(S,0)}function v(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return M(v(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let V=_;for(let z=0;z<A.length;z+=8){var N=Math.min(8,A.length-z);const D=parseInt(A.substring(z,z+N),S);N<8?(N=y(Math.pow(S,N)),V=V.j(N).add(y(D))):(V=V.j(I),V=V.add(y(D)))}return V}var _=m(0),T=m(1),R=m(16777216);t=u.prototype,t.m=function(){if(P(this))return-M(this).m();let A=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);A+=(V>=0?V:4294967296+V)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(P(this))return"-"+M(this).toString(A);const S=y(Math.pow(A,6));var I=this;let V="";for(;;){const N=W(I,S).g;I=L(I,N.j(S));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(A);if(I=N,k(I))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function P(A){return A.h==-1}t.l=function(A){return A=L(this,A),P(A)?-1:k(A)?0:1};function M(A){const S=A.g.length,I=[];for(let V=0;V<S;V++)I[V]=~A.g[V];return new u(I,~A.h).add(T)}t.abs=function(){return P(this)?M(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),I=[];let V=0;for(let N=0;N<=S;N++){let z=V+(this.i(N)&65535)+(A.i(N)&65535),D=(z>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);V=D>>>16,z&=65535,D&=65535,I[N]=D<<16|z}return new u(I,I[I.length-1]&-2147483648?-1:0)};function L(A,S){return A.add(M(S))}t.j=function(A){if(k(this)||k(A))return _;if(P(this))return P(A)?M(this).j(M(A)):M(M(this).j(A));if(P(A))return M(this.j(M(A)));if(this.l(R)<0&&A.l(R)<0)return y(this.m()*A.m());const S=this.g.length+A.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<A.g.length;N++){const z=this.i(V)>>>16,D=this.i(V)&65535,ge=A.i(N)>>>16,Ne=A.i(N)&65535;I[2*V+2*N]+=D*Ne,B(I,2*V+2*N),I[2*V+2*N+1]+=z*Ne,B(I,2*V+2*N+1),I[2*V+2*N+1]+=D*ge,B(I,2*V+2*N+1),I[2*V+2*N+2]+=z*ge,B(I,2*V+2*N+2)}for(A=0;A<S;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=S;A<2*S;A++)I[A]=0;return new u(I,0)};function B(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function F(A,S){this.g=A,this.h=S}function W(A,S){if(k(S))throw Error("division by zero");if(k(A))return new F(_,_);if(P(A))return S=W(M(A),S),new F(M(S.g),M(S.h));if(P(S))return S=W(A,M(S)),new F(M(S.g),S.h);if(A.g.length>30){if(P(A)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var I=T,V=S;V.l(A)<=0;)I=ee(I),V=ee(V);var N=re(I,1),z=re(V,1);for(V=re(V,2),I=re(I,2);!k(V);){var D=z.add(V);D.l(A)<=0&&(N=N.add(I),z=D),V=re(V,1),I=re(I,1)}return S=L(A,N.j(S)),new F(N,S)}for(N=_;A.l(S)>=0;){for(I=Math.max(1,Math.floor(A.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=y(I),D=z.j(S);P(D)||D.l(A)>0;)I-=V,z=y(I),D=z.j(S);k(z)&&(z=T),N=N.add(z),A=L(A,D)}return new F(N,A)}t.B=function(A){return W(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&A.i(V);return new u(I,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|A.i(V);return new u(I,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^A.i(V);return new u(I,this.h^A.h)};function ee(A){const S=A.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=A.i(V)<<1|A.i(V-1)>>>31;return new u(I,A.h)}function re(A,S){const I=S>>5;S%=32;const V=A.g.length-I,N=[];for(let z=0;z<V;z++)N[z]=S>0?A.i(z+I)>>>S|A.i(z+I+1)<<32-S:A.i(z+I);return new u(N,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,Ur=u}).apply(typeof Ew<"u"?Ew:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iS,Vc,sS,Nf,zg,rS,aS,oS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function a(h,x){if(x)e:{var w=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var K=h[C];if(!(K in w))break e;w=w[K]}h=h[h.length-1],C=w[h],x=x(C),x!=C&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var w=[],C;for(C in x)Object.prototype.hasOwnProperty.call(x,C)&&w.push([C,x[C]]);return w}});var l=l||{},u=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,w){return h.call.apply(h.bind,arguments)}function y(h,x,w){return y=m,y.apply(null,arguments)}function v(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function _(h,x){function w(){}w.prototype=x.prototype,h.Z=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(C,K,X){for(var ce=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ce[Me-2]=arguments[Me];return x.prototype[K].apply(C,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const x=h.length;if(x>0){const w=Array(x);for(let C=0;C<x;C++)w[C]=h[C];return w}return[]}function k(h,x){for(let C=1;C<arguments.length;C++){const K=arguments[C];var w=typeof K;if(w=w!="object"?w:K?Array.isArray(K)?"array":w:"null",w=="array"||w=="object"&&typeof K.length=="number"){w=h.length||0;const X=K.length||0;h.length=w+X;for(let ce=0;ce<X;ce++)h[w+ce]=K[ce]}else h.push(K)}}class P{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function M(h){u.setTimeout(()=>{throw h},0)}function L(){var h=A;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class B{constructor(){this.h=this.g=null}add(x,w){const C=F.get();C.set(x,w),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new P(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,A=new B,S=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(I)}};function I(){for(var h;h=L();){try{h.h.call(h.g)}catch(w){M(w)}var x=F;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,x),u.removeEventListener("test",w,x)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ge(h,x){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}_(ge,N),ge.prototype.init=function(h,x){const w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),G=0;function ae(h,x,w,C,K){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!C,this.ha=K,this.key=++G,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h,x,w){for(const C in h)x.call(w,h[C],C,h)}function je(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function U(h){const x={};for(const w in h)x[w]=h[w];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,x){let w,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(w in C)h[w]=C[w];for(let X=0;X<te.length;X++)w=te[X],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,x,w,C,K){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ce=Te(h,x,C,K);return ce>-1?(x=h[ce],w||(x.fa=!1)):(x=new ae(x,this.src,X,!!C,K),x.fa=w,h.push(x)),x};function Ee(h,x){const w=x.type;if(w in h.g){var C=h.g[w],K=Array.prototype.indexOf.call(C,x,void 0),X;(X=K>=0)&&Array.prototype.splice.call(C,K,1),X&&(de(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Te(h,x,w,C){for(let K=0;K<h.length;++K){const X=h[K];if(!X.da&&X.listener==x&&X.capture==!!w&&X.ha==C)return K}return-1}var le="closure_lm_"+(Math.random()*1e6|0),be={};function ve(h,x,w,C,K){if(Array.isArray(x)){for(let X=0;X<x.length;X++)ve(h,x[X],w,C,K);return null}return w=Cl(w),h&&h[Ne]?h.J(x,w,d(C)?!!C.capture:!1,K):Ft(h,x,w,!1,C,K)}function Ft(h,x,w,C,K,X){if(!x)throw Error("Invalid event type");const ce=d(K)?!!K.capture:!!K;let Me=na(h);if(Me||(h[le]=Me=new fe(h)),w=Me.add(x,w,C,ce,X),w.proxy)return w;if(C=Vi(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)z||(K=ce),K===void 0&&(K=!1),h.addEventListener(x.toString(),C,K);else if(h.attachEvent)h.attachEvent(un(x.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Vi(){function h(w){return x.call(h.src,h.listener,w)}const x=ta;return h}function Kn(h,x,w,C,K){if(Array.isArray(x))for(var X=0;X<x.length;X++)Kn(h,x[X],w,C,K);else C=d(C)?!!C.capture:!!C,w=Cl(w),h&&h[Ne]?(h=h.i,X=String(x).toString(),X in h.g&&(x=h.g[X],w=Te(x,w,C,K),w>-1&&(de(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete h.g[X],h.h--)))):h&&(h=na(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Te(x,w,C,K)),(w=h>-1?x[h]:null)&&Ys(w))}function Ys(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Ne])Ee(x.i,h);else{var w=h.type,C=h.proxy;x.removeEventListener?x.removeEventListener(w,C,h.capture):x.detachEvent?x.detachEvent(un(w),C):x.addListener&&x.removeListener&&x.removeListener(C),(w=na(x))?(Ee(w,h),w.h==0&&(w.src=null,x[le]=null)):de(h)}}}function un(h){return h in be?be[h]:be[h]="on"+h}function ta(h,x){if(h.da)h=!0;else{x=new ge(x,this);const w=h.listener,C=h.ha||h.src;h.fa&&Ys(h),h=w.call(C,x)}return h}function na(h){return h=h[le],h instanceof fe?h:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cl(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(x){return h.handleEvent(x)}),h[Al])}function Nt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}_(Nt,V),Nt.prototype[Ne]=!0,Nt.prototype.removeEventListener=function(h,x,w,C){Kn(this,h,x,w,C)};function Ht(h,x){var w,C=h.G;if(C)for(w=[];C;C=C.G)w.push(C);if(h=h.M,C=x.type||x,typeof x=="string")x=new N(x,h);else if(x instanceof N)x.target=x.target||h;else{var K=x;x=new N(C,h),ue(x,K)}K=!0;let X,ce;if(w)for(ce=w.length-1;ce>=0;ce--)X=x.g=w[ce],K=Qs(X,C,!0,x)&&K;if(X=x.g=h,K=Qs(X,C,!0,x)&&K,K=Qs(X,C,!1,x)&&K,w)for(ce=0;ce<w.length;ce++)X=x.g=w[ce],K=Qs(X,C,!1,x)&&K}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const w=h.g[x];for(let C=0;C<w.length;C++)de(w[C]);delete h.g[x],h.h--}}this.G=null},Nt.prototype.J=function(h,x,w,C){return this.i.add(String(h),x,!1,w,C)},Nt.prototype.K=function(h,x,w,C){return this.i.add(String(h),x,!0,w,C)};function Qs(h,x,w,C){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let X=0;X<x.length;++X){const ce=x[X];if(ce&&!ce.da&&ce.capture==w){const Me=ce.listener,Tt=ce.ha||ce.src;ce.fa&&Ee(h.i,ce),K=Me.call(Tt,C)!==!1&&K}}return K&&!C.defaultPrevented}function Hd(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(h,x||0)}function ku(h){h.g=Hd(()=>{h.g=null,h.i&&(h.i=!1,ku(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class yn extends V{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(h){V.call(this),this.h=h,this.g={}}_(ia,V);var Rl=[];function Nl(h){Ce(h.g,function(x,w){this.g.hasOwnProperty(w)&&Ys(x)},h),h.g={}}ia.prototype.N=function(){ia.Z.N.call(this),Nl(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=u.JSON.stringify,qd=u.JSON.parse,ju=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Mu(){}function Vu(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){N.call(this,"d")}_(Jt,N);function $n(){N.call(this,"c")}_($n,N);var wt={},Pu=null;function Xa(){return Pu=Pu||new Nt}wt.Ia="serverreachability";function Ou(h){N.call(this,wt.Ia,h)}_(Ou,N);function Pi(h){const x=Xa();Ht(x,new Ou(x))}wt.STAT_EVENT="statevent";function sa(h,x){N.call(this,wt.STAT_EVENT,h),this.stat=x}_(sa,N);function It(h){const x=Xa();Ht(x,new sa(x,h))}wt.Ja="timingevent";function Oi(h,x){N.call(this,wt.Ja,h),this.size=x}_(Oi,N);function Li(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},x)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Gd(h,x,w,C,K,X){h.info(function(){if(h.g)if(X){var ce="",Me=X.split("&");for(let Qe=0;Qe<Me.length;Qe++){var Tt=Me[Qe].split("=");if(Tt.length>1){const ft=Tt[0];Tt=Tt[1];const Wn=ft.split("_");ce=Wn.length>=2&&Wn[1]=="type"?ce+(ft+"="+Tt+"&"):ce+(ft+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+x+`
`+w+`
`+ce})}function Lu(h,x,w,C,K,X,ce){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+x+`
`+w+`
`+X+" "+ce})}function Ui(h,x,w,C){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Kd(h,w)+(C?" "+C:"")})}function ra(h,x){h.info(function(){return"TIMEOUT: "+x})}di.prototype.info=function(){};function Kd(h,x){if(!h.g)return x;if(!x)return null;try{const X=JSON.parse(x);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var w=X[h];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var K=C[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ce=1;ce<C.length;ce++)C[ce]=""}}}}return Xs(X)}catch{return x}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function oa(){}_(oa,Mu),oa.prototype.g=function(){return new XMLHttpRequest},Dl=new oa;function ps(h){return encodeURIComponent(String(h))}function Uu(h){var x=1;h=h.split(":");const w=[];for(;x>0&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function mi(h,x,w,C){this.j=h,this.i=x,this.l=w,this.S=C||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Dt={},Yt={};function Bi(h,x,w){h.M=1,h.A=la(jt(x)),h.u=w,h.R=!0,Wa(h,null)}function Wa(h,x){h.F=Date.now(),zi(h),h.B=jt(h.A);var w=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),to(w.i,"t",C),h.C=0,w=h.j.L,h.h=new pi,h.g=eh(h.j,w?x:null,!h.u),h.P>0&&(h.O=new yn(y(h.Y,h,h.g),h.P)),x=h.V,w=h.g,C=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Rl[0]=K.toString()),K=Rl);for(let X=0;X<K.length;X++){const ce=ve(w,K[X],C||x.handleEvent,!1,x.h||x);if(!ce)break;x.g[ce.key]=ce}x=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Pi(),Gd(h.i,h.v,h.B,h.l,h.S,h.u)}mi.prototype.ba=function(h){h=h.target;const x=this.O;x&&vi(h)==3?x.j():this.Y(h)},mi.prototype.Y=function(h){try{if(h==this.g)e:{const Me=vi(this.g),Tt=this.g.ya(),Qe=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Me!=4||Tt==7||(Tt==8||Qe<=0?Pi(3):Pi(2)),Fi(this);var x=this.g.ca();this.X=x;var w=$d(this);if(this.o=x==200,Lu(this.i,this.v,this.B,this.l,this.S,Me,x),this.o){if(this.U&&!this.L){t:{if(this.g){var C,K=this.g;if((C=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var X=C;break t}}X=null}if(h=X)Ui(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,h);else{this.o=!1,this.m=3,It(12),kn(this),Yn(this);break e}}if(this.R){h=!0;let ft;for(;!this.K&&this.C<w.length;)if(ft=zu(this,w),ft==Yt){Me==4&&(this.m=4,It(14),h=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Dt){this.m=4,It(15),Ui(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Ui(this.i,this.l,ft,null),Hi(this,ft);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||w.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)Ui(this.i,this.l,w,"[Invalid Chunked Response]"),kn(this),Yn(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Kl(ce),ce.P=!0,It(11))}}else Ui(this.i,this.l,w,null),Hi(this,w);Me==4&&kn(this),this.o&&!this.K&&(Me==4?Xu(this.j,this):(this.o=!1,zi(this)))}else ys(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),kn(this),Yn(this)}}}catch{}};function $d(h){if(!Bu(h))return h.g.la();const x=Zt(h.g);if(x==="")return"";let w="";const C=x.length,K=vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Yn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<C;X++)h.h.h=!0,w+=h.h.i.decode(x[X],{stream:!(K&&X==C-1)});return x.length=0,h.h.g+=w,h.C=0,h.h.g}function Bu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zu(h,x){var w=h.C,C=x.indexOf(`
`,w);return C==-1?Yt:(w=Number(x.substring(w,C)),isNaN(w)?Dt:(C+=1,C+w>x.length?Yt:(x=x.slice(C,C+w),h.C=C+w,x)))}mi.prototype.cancel=function(){this.K=!0,kn(this)};function zi(h){h.T=Date.now()+h.H,Ja(h,h.H)}function Ja(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Li(y(h.aa,h),x)}function Fi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}mi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ra(this.i,this.B),this.M!=2&&(Pi(),It(17)),kn(this),this.m=2,Yn(this)):Ja(this,this.T-h)};function Yn(h){h.j.I==0||h.K||Xu(h.j,h)}function kn(h){Fi(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Nl(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Hi(h,x){try{var w=h.j;if(w.I!=0&&(w.g==h||Gi(w.h,h))){if(!h.L&&Gi(w.h,h)&&w.I==3){try{var C=w.Ba.g.parse(x)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)ao(w),sr(w);else break e;pa(w),It(18)}}else w.xa=K[1],0<w.xa-w.K&&K[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Li(y(w.Va,w),6e3));qi(w.h)<=1&&w.ta&&(w.ta=void 0)}else Wi(w,11)}else if((h.L||w.g==h)&&ao(w),!D(x))for(K=w.Ba.g.parse(x),x=0;x<K.length;x++){let Qe=K[x];const ft=Qe[0];if(!(ft<=w.K))if(w.K=ft,Qe=Qe[1],w.I==2)if(Qe[0]=="c"){w.M=Qe[1],w.ba=Qe[2];const Wn=Qe[3];Wn!=null&&(w.ka=Wn,w.j.info("VER="+w.ka));const Ji=Qe[4];Ji!=null&&(w.za=Ji,w.j.info("SVER="+w.za));const xi=Qe[5];xi!=null&&typeof xi=="number"&&xi>0&&(C=1.5*xi,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const _i=h.g;if(_i){const ga=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var X=C.h;X.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ml(X,X.h),X.h=null))}if(C.G){const oo=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(C.wa=oo,Ze(C.J,C.G,oo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var ce=h;if(C.na=Zu(C,C.L?C.ba:null,C.W),ce.L){Vl(C.h,ce);var Me=ce,Tt=C.O;Tt&&(Me.H=Tt),Me.D&&(Fi(Me),zi(Me)),C.g=ce}else Yu(C);w.i.length>0&&Xi(w)}else Qe[0]!="stop"&&Qe[0]!="close"||Wi(w,7);else w.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Wi(w,7):ql(w):Qe[0]!="noop"&&w.l&&w.l.qa(Qe),w.A=0)}}Pi(4)}catch{}}var kt=class{constructor(h,x){this.g=h,this.map=x}};function kl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qi(h){return h.h?1:h.g?h.g.size:0}function Gi(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ml(h,x){h.g?h.g.add(x):h.h=x}function Vl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}kl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.G);return x}return R(h.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(h,x){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const C=h[w].indexOf("=");let K,X=null;C>=0?(K=h[w].substring(0,C),X=h[w].substring(C+1)):K=h[w],x(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof jn?(this.l=h.l,Qt(this,h.j),this.o=h.o,this.g=h.g,Ws(this,h.u),this.h=h.h,Ol(this,Ku(h.i)),this.m=h.m):h&&(x=String(h).match(Fu))?(this.l=!1,Qt(this,x[1]||"",!0),this.o=Ki(x[2]||""),this.g=Ki(x[3]||"",!0),Ws(this,x[4]),this.h=Ki(x[5]||"",!0),Ol(this,x[6]||"",!0),this.m=Ki(x[7]||"")):(this.l=!1,this.i=new Zs(null,this.l))}jn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ca(x,eo,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ca(x,eo,!0),"@"),h.push(ps(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ca(w,w.charAt(0)=="/"?Ll:Hu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ca(w,qu)),h.join("")},jn.prototype.resolve=function(h){const x=jt(this);let w=!!h.j;w?Qt(x,h.j):w=!!h.o,w?x.o=h.o:w=!!h.g,w?x.g=h.g:w=h.u!=null;var C=h.h;if(w)Ws(x,h.u);else if(w=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var K=x.h.lastIndexOf("/");K!=-1&&(C=x.h.slice(0,K+1)+C)}if(K=C,K==".."||K==".")C="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){C=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let ce=0;ce<K.length;){const Me=K[ce++];Me=="."?C&&ce==K.length&&X.push(""):Me==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&ce==K.length&&X.push("")):(X.push(Me),C=!0)}C=X.join("/")}else C=K}return w?x.h=C:w=h.i.toString()!=="",w?Ol(x,Ku(h.i)):w=!!h.m,w&&(x.m=h.m),x};function jt(h){return new jn(h)}function Qt(h,x,w){h.j=w?Ki(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Ws(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Ol(h,x,w){x instanceof Zs?(h.i=x,no(h.i,h.l)):(w||(x=ca(x,Js)),h.i=new Zs(x,h.l))}function Ze(h,x,w){h.i.set(x,w)}function la(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ki(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ca(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,wn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eo=/[#\/\?@]/g,Hu=/[#\?:]/g,Ll=/[#\?]/g,Js=/[#\?@]/g,qu=/#/g;function Zs(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Za(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=Zs.prototype,t.add=function(h,x){Tn(this),this.i=null,h=er(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Gu(h,x){Tn(h),x=er(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ul(h,x){return Tn(h),x=er(h,x),h.g.has(x)}t.forEach=function(h,x){Tn(this),this.g.forEach(function(w,C){w.forEach(function(K){h.call(x,K,C,this)},this)},this)};function Bl(h,x){Tn(h);let w=[];if(typeof x=="string")Ul(h,x)&&(w=w.concat(h.g.get(er(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)w=w.concat(h[x]);return w}t.set=function(h,x){return Tn(this),this.i=null,h=er(this,h),Ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Bl(this,h),h.length>0?String(h[0]):x):x};function to(h,x,w){Gu(h,x),w.length>0&&(h.i=null,h.g.set(er(h,x),R(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let C=0;C<x.length;C++){var w=x[C];const K=ps(w);w=Bl(this,w);for(let X=0;X<w.length;X++){let ce=K;w[X]!==""&&(ce+="="+ps(w[X])),h.push(ce)}}return this.i=h.join("&")};function Ku(h){const x=new Zs;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function er(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function no(h,x){x&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(w,C){const K=C.toLowerCase();C!=K&&(Gu(this,C),to(this,K,w))},h)),h.j=x}function gi(h,x){const w=new di;if(u.Image){const C=new Image;C.onload=v(Qn,w,"TestLoadImage: loaded",!0,x,C),C.onerror=v(Qn,w,"TestLoadImage: error",!1,x,C),C.onabort=v(Qn,w,"TestLoadImage: abort",!1,x,C),C.ontimeout=v(Qn,w,"TestLoadImage: timeout",!1,x,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else x(!1)}function zl(h,x){const w=new di,C=new AbortController,K=setTimeout(()=>{C.abort(),Qn(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:C.signal}).then(X=>{clearTimeout(K),X.ok?Qn(w,"TestPingServer: ok",!0,x):Qn(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),Qn(w,"TestPingServer: error",!1,x)})}function Qn(h,x,w,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(w)}catch{}}function tr(){this.g=new ju}function $i(h){this.i=h.Sb||null,this.h=h.ab||!1}_($i,Mu),$i.prototype.g=function(){return new ua(this.i,this.h)};function ua(h,x){Nt.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ua,Nt),t=ua.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,yi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;io(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function io(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?nr(this):yi(this),this.readyState==3&&io(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,nr(this))},t.Na=function(h){this.g&&(this.response=h,nr(this))},t.ga=function(){this.g&&nr(this)};function nr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yi(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xn(h){let x="";return Ce(h,function(w,C){x+=C,x+=":",x+=w,x+=`\r
`}),x}function ha(h,x,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Xn(w),typeof h=="string"?w!=null&&ps(w):Ze(h,x,w))}function nt(h){Nt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(nt,Nt);var Yi=/^https?$/i,Fl=["POST","PUT"];t=nt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(X){fa(this,X);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)w.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())w.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Fl,x,void 0)>=0)||C||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of w)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){fa(this,X)}};function fa(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Hl(h),gs(h)}function Hl(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},t.Xa=function(){da(this)};function da(h){if(h.h&&typeof l<"u"){if(h.v&&vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),vi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var C;if(C=X===0){let ce=String(h.D).match(Fu)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),C=!Yi.test(ce?ce.toLowerCase():"")}w=C}if(w)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var K=vi(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Hl(h)}}finally{gs(h)}}}}function gs(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,x||Ht(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),qd(x)}};function Zt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ys(h){const x={};h=(h.g&&vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(D(h[C]))continue;var w=Uu(h[C]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=x[K]||[];x[K]=X,X.push(w)}je(x,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function ir(h){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,h),this.Za=Qi("retryDelaySeedMs",1e4,h),this.Ta=Qi("forwardChannelMaxRetries",2,h),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(h&&h.concurrentRequestLimit),this.Ba=new tr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ir.prototype,t.ka=8,t.I=1,t.connect=function(h,x,w,C){It(0),this.W=h,this.H=x||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=Zu(this,null,this.W),Xi(this)};function ql(h){if(so(h),h.I==3){var x=h.V++,w=jt(h.J);if(Ze(w,"SID",h.M),Ze(w,"RID",x),Ze(w,"TYPE","terminate"),ma(h,w),x=new mi(h,h.j,x),x.M=2,x.A=la(jt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=x.A,w=!0),w||(x.g=eh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),zi(x)}Ju(h)}function sr(h){h.g&&(Kl(h),h.g.cancel(),h.g=null)}function so(h){sr(h),h.v&&(u.clearTimeout(h.v),h.v=null),ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Xi(h){if(!jl(h.h)&&!h.m){h.m=!0;var x=h.Ea;ee||S(),re||(ee(),re=!0),A.add(x,h),h.D=0}}function ro(h,x){return qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Li(y(h.Ea,h,x),Wu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new mi(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(x+=C,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=$u(this,K,x),w=jt(this.J),Ze(w,"RID",h),Ze(w,"CVER",22),this.G&&Ze(w,"X-HTTP-Session-Id",this.G),ma(this,w),X&&(this.R?x="headers="+ps(Xn(X))+"&"+x:this.u&&ha(w,this.u,X)),Ml(this.h,K),this.Ra&&Ze(w,"TYPE","init"),this.S?(Ze(w,"$req",x),Ze(w,"SID","null"),K.U=!0,Bi(K,w,null)):Bi(K,w,x),this.I=2}}else this.I==3&&(h?Gl(this,h):this.i.length==0||jl(this.h)||Gl(this))};function Gl(h,x){var w;x?w=x.l:w=h.V++;const C=jt(h.J);Ze(C,"SID",h.M),Ze(C,"RID",w),Ze(C,"AID",h.K),ma(h,C),h.u&&h.o&&ha(C,h.u,h.o),w=new mi(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),x&&(h.i=x.G.concat(h.i)),x=$u(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ml(h.h,w),Bi(w,C,x)}function ma(h,x){h.H&&Ce(h.H,function(w,C){Ze(x,C,w)}),h.l&&Ce({},function(w,C){Ze(x,C,w)})}function $u(h,x,w){w=Math.min(h.i.length,w);const C=h.l?y(h.l.Ka,h.l,h):null;e:{var K=h.i;let Me=-1;for(;;){const Tt=["count="+w];Me==-1?w>0?(Me=K[0].g,Tt.push("ofs="+Me)):Me=0:Tt.push("ofs="+Me);let Qe=!0;for(let ft=0;ft<w;ft++){var X=K[ft].g;const Wn=K[ft].map;if(X-=Me,X<0)Me=Math.max(0,K[ft].g-100),Qe=!1;else try{X="req"+X+"_"||"";try{var ce=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Ji,xi]of ce){let _i=xi;d(xi)&&(_i=Xs(xi)),Tt.push(X+Ji+"="+encodeURIComponent(_i))}}catch(Ji){throw Tt.push(X+"type="+encodeURIComponent("_badmap")),Ji}}catch{C&&C(Wn)}}if(Qe){ce=Tt.join("&");break e}}ce=void 0}return h=h.i.splice(0,w),x.G=h,ce}function Yu(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;ee||S(),re||(ee(),re=!0),A.add(x,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Li(y(h.Da,h),Wu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Li(y(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),sr(this),Qu(this))};function Kl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Qu(h){h.g=new mi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=jt(h.na);Ze(x,"RID","rpc"),Ze(x,"SID",h.M),Ze(x,"AID",h.K),Ze(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(x,"TO",h.ia),Ze(x,"TYPE","xmlhttp"),ma(h,x),h.u&&h.o&&ha(x,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=la(jt(x)),w.u=null,w.R=!0,Wa(w,h)}t.Va=function(){this.C!=null&&(this.C=null,sr(this),pa(this),It(19))};function ao(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Xu(h,x){var w=null;if(h.g==x){ao(h),Kl(h),h.g=null;var C=2}else if(Gi(h.h,x))w=x.G,Vl(h.h,x),C=1;else return;if(h.I!=0){if(x.o)if(C==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var K=h.D;C=Xa(),Ht(C,new Oi(C,w)),Xi(h)}else Yu(h);else if(K=x.m,K==3||K==0&&x.X>0||!(C==1&&ro(h,x)||C==2&&pa(h)))switch(w&&w.length>0&&(x=h.h,x.i=x.i.concat(w)),K){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function Wu(h,x){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*x}function Wi(h,x){if(h.j.info("Error code "+x),x==2){var w=y(h.bb,h),C=h.Ua;const K=!C;C=new jn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(C,"https"),la(C),K?gi(C.toString(),w):zl(C.toString(),w)}else It(2);h.I=0,h.l&&h.l.pa(x),Ju(h),so(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Ju(h){if(h.I=0,h.ja=[],h.l){const x=Pl(h.h);(x.length!=0||h.i.length!=0)&&(k(h.ja,x),k(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Zu(h,x,w){var C=w instanceof jn?jt(w):new jn(w);if(C.g!="")x&&(C.g=x+"."+C.g),Ws(C,C.u);else{var K=u.location;C=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const X=new jn(null);C&&Qt(X,C),x&&(X.g=x),K&&Ws(X,K),w&&(X.h=w),C=X}return w=h.G,x=h.wa,w&&x&&Ze(C,w,x),Ze(C,"VER",h.ka),ma(h,C),C}function eh(h,x,w){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new nt(new $i({ab:w})):new nt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function rr(){}rr.prototype.g=function(h,x){return new vn(h,x)};function vn(h,x){Nt.call(this),this.g=new ir(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!D(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!D(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new vs(this)}_(vn,Nt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ql(this.g)},vn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Xs(h),h=w);x.i.push(new kt(x.Ya++,h)),x.I==3&&Xi(x)},vn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,vn.Z.N.call(this)};function nh(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}_(nh,Jt);function ih(){$n.call(this),this.status=1}_(ih,$n);function vs(h){this.g=h}_(vs,th),vs.prototype.ra=function(){Ht(this.g,"a")},vs.prototype.qa=function(h){Ht(this.g,new nh(h))},vs.prototype.pa=function(h){Ht(this.g,new ih)},vs.prototype.oa=function(){Ht(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,oS=function(){return new rr},aS=function(){return Xa()},rS=wt,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Nf=aa,Il.COMPLETE="complete",sS=Il,Vu.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Vc=Vu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,iS=nt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const Sw="@firebase/firestore",Aw="4.9.3";let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let vl="12.7.0";const Ka=new By("@firebase/firestore");function Uo(){return Ka.logLevel}function me(t,...e){if(Ka.logLevel<=Fe.DEBUG){const n=e.map(Zy);Ka.debug(`Firestore (${vl}): ${t}`,...n)}}function Hs(t,...e){if(Ka.logLevel<=Fe.ERROR){const n=e.map(Zy);Ka.error(`Firestore (${vl}): ${t}`,...n)}}function il(t,...e){if(Ka.logLevel<=Fe.WARN){const n=e.map(Zy);Ka.warn(`Firestore (${vl}): ${t}`,...n)}}function Zy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,lS(t,s,n)}function lS(t,e,n){let s=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Hs(s),new Error(s)}function We(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||lS(e,a,s)}function ke(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class cS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class Gj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Kj{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Us,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Us)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new cS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class $j{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yj{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $j(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class e0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Xj(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function He(t,e){return t<e?-1:t>e?1:0}function Fg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ig(a)===ig(l)?He(a,l):ig(a)?1:-1}return He(t.length,e.length)}const Wj=55296,Jj=57343;function ig(t){const e=t.charCodeAt(0);return e>=Wj&&e<=Jj}function sl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Rw="__name__";class ss{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ss.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return He(e.length,n.length)}static compareSegments(e,n){const s=ss.isNumericId(e),a=ss.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ss.extractNumericId(e).compare(ss.extractNumericId(n)):Fg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class lt extends ss{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const Zj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ss{construct(e,n,s){return new on(e,n,s)}static isValidIdentifier(e){return Zj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new on([Rw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}function uS(t,e,n){if(!n)throw new he(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eM(t,e,n,s){if(e===!0&&s===!0)throw new he(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nw(t){if(!_e.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iw(t){if(_e.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(t);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!hS(t))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ie.INVALID_ARGUMENT,n);return!0}const Dw=-62135596800,kw=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*kw);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dw)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kw}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:zt("string",ht._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ht(0,0))}static max(){return new Ie(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zc=-1;function tM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new Fr(a,_e.empty(),e)}function nM(t){return new Fr(t.readTime,t.key,Zc)}class Fr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(Ie.min(),_e.empty(),Zc)}static max(){return new Fr(Ie.max(),_e.empty(),Zc)}}function iM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}const sM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==sM)throw t;me("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const y=m;n(e[y]).next((v=>{u[y]=v,++d,d===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function aM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}class Td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Td.ce=-1;const t0=-1;function Ed(t){return t==null}function Yf(t){return t===0&&1/t==-1/0}function oM(t){return typeof t=="number"&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const fS="";function lM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jw(e)),e=cM(t.get(n),e);return jw(e)}function cM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case fS:n+="";break;default:n+=l}}return n}function jw(t){return t+fS+""}function Mw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new an(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vw(this.data.getIterator())}getIteratorFrom(e){return new Vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new $t(on.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class mS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mS("Invalid base64 string: "+l):l}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const uM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=uM.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}const pS="server_timestamp",gS="__type__",yS="__previous_value__",vS="__local_write_time__";function n0(t){return(t?.mapValue?.fields||{})[gS]?.stringValue===pS}function Sd(t){const e=t.mapValue.fields[yS];return n0(e)?Sd(e):e}function eu(t){const e=Hr(t.mapValue.fields[vS].timestampValue);return new ht(e.seconds,e.nanos)}class hM{constructor(e,n,s,a,l,u,d,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=v}}const Qf="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Qf}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const xS="__type__",fM="__max__",ff={mapValue:{}},_S="__vector__",Xf="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n0(t)?4:mM(t)?9007199254740991:dM(t)?10:11:Ae(28295,{value:t})}function fs(t,e){if(t===e)return!0;const n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Hr(a.timestampValue),d=Hr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return qr(a.bytesValue).isEqual(qr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ct(a.doubleValue),d=Ct(l.doubleValue);return u===d?Yf(u)===Yf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Mw(u)!==Mw(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!fs(u[m],d[m])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function nu(t,e){return(t.values||[]).find((n=>fs(n,e)))!==void 0}function rl(t,e){if(t===e)return 0;const n=Gr(t),s=Gr(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Ct(l.integerValue||l.doubleValue),m=Ct(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Pw(t.timestampValue,e.timestampValue);case 4:return Pw(eu(t),eu(e));case 5:return Fg(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=qr(l),m=qr(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let y=0;y<d.length&&y<m.length;y++){const v=He(d[y],m[y]);if(v!==0)return v}return He(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=He(Ct(l.latitude),Ct(u.latitude));return d!==0?d:He(Ct(l.longitude),Ct(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ow(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},y=d[Xf]?.arrayValue,v=m[Xf]?.arrayValue,_=He(y?.values?.length||0,v?.values?.length||0);return _!==0?_:Ow(y,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===ff.mapValue&&u===ff.mapValue)return 0;if(l===ff.mapValue)return 1;if(u===ff.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),y=u.fields||{},v=Object.keys(y);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const T=Fg(m[_],v[_]);if(T!==0)return T;const R=rl(d[m[_]],y[v[_]]);if(R!==0)return R}return He(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function Pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Hr(t),s=Hr(e),a=He(n.seconds,s.seconds);return a!==0?a:He(n.nanos,s.nanos)}function Ow(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=rl(n[a],s[a]);if(l)return l}return He(n.length,s.length)}function al(t){return Hg(t)}function Hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Hr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Hg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Hg(n.fields[u])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function If(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+If(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Wr(s.fields,((l,u)=>{a+=l.length+If(u)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function Lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function i0(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function Bw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function dM(t){return(t?.mapValue?.fields||{})[xS]?.stringValue===_S}function Fc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return{...t}}function mM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fM}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=on.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=Fc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Df(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Wr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new In(Fc(this.value))}}function bS(t){const e=[];return Wr(t.fields,((n,s)=>{const a=new on([n]);if(Df(s)){const l=bS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Hn(e)}class mn{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,Ie.min(),Ie.min(),Ie.min(),In.empty(),0)}static newFoundDocument(e,n,s,a){return new mn(e,1,n,Ie.min(),s,a,0)}static newNoDocument(e,n){return new mn(e,2,n,Ie.min(),Ie.min(),In.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Ie.min(),Ie.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function zw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(u.referenceValue),n.key):s=rl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function pM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class wS{}class Bt extends wS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new yM(e,n,s):n==="array-contains"?new _M(e,s):n==="in"?new bM(e,s):n==="not-in"?new wM(e,s):n==="array-contains-any"?new TM(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new vM(e,s):new xM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends wS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ii(e,n)}matches(e){return TS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TS(t){return t.op==="and"}function ES(t){return gM(t)&&TS(t)}function gM(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function Gg(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+al(t.value);if(ES(t))return t.filters.map((e=>Gg(e))).join(",");{const e=t.filters.map((n=>Gg(n))).join(",");return`${t.op}(${e})`}}function SS(t,e){return t instanceof Bt?(function(s,a){return a instanceof Bt&&s.op===a.op&&s.field.isEqual(a.field)&&fs(s.value,a.value)})(t,e):t instanceof Ii?(function(s,a){return a instanceof Ii&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&SS(u,a.filters[d])),!0):!1})(t,e):void Ae(19439)}function AS(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${al(n.value)}`})(t):t instanceof Ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"})(t):"Filter"}class yM extends Bt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class vM extends Bt{constructor(e,n){super(e,"in",n),this.keys=CS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xM extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=CS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CS(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class _M extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i0(n)&&nu(n.arrayValue,this.value)}}class bM extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class wM extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class TM extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class EM{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function Hw(t,e=null,n=[],s=[],a=null,l=null,u=null){return new EM(t,e,n,s,a,l,u)}function s0(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>al(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>al(s))).join(",")),e.Te=n}return e.Te}function r0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fw(t.startAt,e.startAt)&&Fw(t.endAt,e.endAt)}function Kg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class xu{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SM(t,e,n,s,a,l,u,d){return new xu(t,e,n,s,a,l,u,d)}function a0(t){return new xu(t)}function qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RS(t){return t.collectionGroup!==null}function Hc(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new $t(on.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Jf(l,s))})),n.has(on.keyField().canonicalString())||e.Ie.push(new Jf(on.keyField(),s))}return e.Ie}function as(t){const e=ke(t);return e.Ee||(e.Ee=AM(e,Hc(t))),e.Ee}function AM(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jf(a.field,l)}));const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function $g(t,e){const n=t.filters.concat([e]);return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yg(t,e,n){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return r0(as(t),as(e))&&t.limitType===e.limitType}function NS(t){return`${s0(as(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>AS(a))).join(", ")}]`),Ed(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>al(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>al(a))).join(",")),`Target(${s})`})(as(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Hc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const y=zw(u,d,m);return u.inclusive?y<=0:y<0})(s.startAt,Hc(s),a)||s.endAt&&!(function(u,d,m){const y=zw(u,d,m);return u.inclusive?y>=0:y>0})(s.endAt,Hc(s),a))})(t,e)}function CM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IS(t){return(e,n)=>{let s=!1;for(const a of Hc(t)){const l=RM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function RM(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),y=d.data.field(l);return m!==null&&y!==null?rl(m,y):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}class Ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return dS(this.inner)}size(){return this.innerSize}}const NM=new vt(_e.comparator);function qs(){return NM}const DS=new vt(_e.comparator);function Pc(...t){let e=DS;for(const n of t)e=e.insert(n.key,n);return e}function kS(t){let e=DS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Pa(){return qc()}function jS(){return qc()}function qc(){return new Ya((t=>t.toString()),((t,e)=>t.isEqual(e)))}const IM=new vt(_e.comparator),DM=new $t(_e.comparator);function qe(...t){let e=DM;for(const n of t)e=e.add(n);return e}const kM=new $t(He);function jM(){return kM}function o0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function MM(t,e){return oM(e)?MS(e):o0(t,e)}class Rd{constructor(){this._=void 0}}function VM(t,e,n){return t instanceof Zf?(function(a,l){const u={fields:{[gS]:{stringValue:pS},[vS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&n0(l)&&(l=Sd(l)),l&&(u.fields[yS]=l),{mapValue:u}})(n,e):t instanceof iu?PS(t,e):t instanceof su?OS(t,e):(function(a,l){const u=VS(a,l),d=Gw(u)+Gw(a.Ae);return qg(u)&&qg(a.Ae)?MS(d):o0(a.serializer,d)})(t,e)}function PM(t,e,n){return t instanceof iu?PS(t,e):t instanceof su?OS(t,e):n}function VS(t,e){return t instanceof ed?(function(s){return qg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zf extends Rd{}class iu extends Rd{constructor(e){super(),this.elements=e}}function PS(t,e){const n=LS(e);for(const s of t.elements)n.some((a=>fs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Rd{constructor(e){super(),this.elements=e}}function OS(t,e){let n=LS(e);for(const s of t.elements)n=n.filter((a=>!fs(a,s)));return{arrayValue:{values:n}}}class ed extends Rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gw(t){return Ct(t.integerValue||t.doubleValue)}function LS(t){return i0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OM(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof iu&&a instanceof iu||s instanceof su&&a instanceof su?sl(s.elements,a.elements,fs):s instanceof ed&&a instanceof ed?fs(s.Ae,a.Ae):s instanceof Zf&&a instanceof Zf})(t.transform,e.transform)}class LM{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function US(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Id(t.key,bn.none()):new _u(t.key,t.data,bn.none());{const n=t.data,s=In.empty();let a=new $t(on.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Jr(t.key,s,new Hn(a.toArray()),bn.none())}}function UM(t,e,n){t instanceof _u?(function(a,l,u){const d=a.value.clone(),m=$w(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Jr?(function(a,l,u){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=$w(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(BS(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Gc(t,e,n,s){return t instanceof _u?(function(l,u,d,m){if(!kf(l.precondition,u))return d;const y=l.value.clone(),v=Yw(l.fieldTransforms,m,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,s):t instanceof Jr?(function(l,u,d,m){if(!kf(l.precondition,u))return d;const y=Yw(l.fieldTransforms,m,u),v=u.data;return v.setAll(BS(l)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,u,d){return kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function BM(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=VS(s.transform,a||null);l!=null&&(n===null&&(n=In.empty()),n.set(s.field,l))}return n||null}function Kw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&sl(s,a,((l,u)=>OM(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends Nd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jr extends Nd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function BS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function $w(t,e,n){const s=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,PM(u,d,n[a]))}return s}function Yw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,VM(l,u,e))}return s}class Id extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zM extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FM{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&UM(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=US(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((n,s)=>Kw(n,s)))&&sl(this.baseMutations,e.baseMutations,((n,s)=>Kw(n,s)))}}class l0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return IM})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new l0(e,n,s,a)}}class HM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Ke;function GM(t){switch(t){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function zS(t){if(t===void 0)return Hs("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Lt.OK:return ie.OK;case Lt.CANCELLED:return ie.CANCELLED;case Lt.UNKNOWN:return ie.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ie.INTERNAL;case Lt.UNAVAILABLE:return ie.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ie.NOT_FOUND;case Lt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Lt.ABORTED:return ie.ABORTED;case Lt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Lt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:t})}}(Ke=Lt||(Lt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function KM(){return new TextEncoder}const $M=new Ur([4294967295,4294967295],0);function Qw(t){const e=KM().encode(t),n=new nS;return n.update(e),new Uint8Array(n.digest())}function Xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ur([n,s],0),new Ur([a,l],0)]}class c0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(s<0)throw new Oc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ur.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Ur.fromNumber(s)));return a.compare($M)===1&&(a=new Ur([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Qw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new c0(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=Qw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dd(Ie.min(),a,new vt(He),qs(),qe())}}class bu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,qe(),qe(),qe())}}class jf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class FS{constructor(e,n){this.targetId=e,this.Ce=n}}class HS{constructor(e,n,s=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Ww{constructor(){this.ve=0,this.Fe=Jw(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new bu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Jw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YM{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=df(),this.He=df(),this.Ye=new vt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Kg(l))if(s===0){const u=new _e(l.path);this.et(n,u,mn.newNoDocument(u,Ie.min()))}else We(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=qr(s).toUint8Array()}catch(m){if(m instanceof mS)return il("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new c0(u,a,l)}catch(m){return il(m instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&Kg(d.target)){const m=new _e(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,mn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=qe();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Dd(e,n,this.Ye,this.je,s);return this.je=qs(),this.Je=df(),this.He=df(),this.Ye=new vt(He),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ww,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ww),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function df(){return new vt(_e.comparator)}function Jw(){return new vt(_e.comparator)}const QM={asc:"ASCENDING",desc:"DESCENDING"},XM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WM={and:"AND",or:"OR"};class JM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qg(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZM(t,e){return td(t,e.toTimestamp())}function os(t){return We(!!t,49232),Ie.fromTimestamp((function(n){const s=Hr(n);return new ht(s.seconds,s.nanos)})(t))}function u0(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){const n=(function(a){return new lt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function GS(t){const e=lt.fromString(t);return We(XS(e),10190,{key:e.toString()}),e}function Wg(t,e){return u0(t.databaseId,e.path)}function sg(t,e){const n=GS(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e($S(n))}function KS(t,e){return u0(t.databaseId,e)}function eV(t){const e=GS(t);return e.length===4?lt.emptyPath():$S(e)}function Jg(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $S(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zw(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function tV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(y,v){return y.useProto3Json?(We(v===void 0||typeof v=="string",58123),cn.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),cn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(y){const v=y.code===void 0?ie.UNKNOWN:zS(y.code);return new he(v,y.message||"")})(u);n=new HS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=sg(t,s.document.name),l=os(s.document.updateTime),u=s.document.createTime?os(s.document.createTime):Ie.min(),d=new In({mapValue:{fields:s.document.fields}}),m=mn.newFoundDocument(a,l,u,d),y=s.targetIds||[],v=s.removedTargetIds||[];n=new jf(y,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=sg(t,s.document),l=s.readTime?os(s.readTime):Ie.min(),u=mn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new jf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=sg(t,s.document),l=s.removedTargetIds||[];n=new jf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new qM(a,l),d=s.targetId;n=new FS(d,u)}}return n}function nV(t,e){let n;if(e instanceof _u)n={update:Zw(t,e.key,e.value)};else if(e instanceof Id)n={delete:Wg(t,e.key)};else if(e instanceof Jr)n={update:Zw(t,e.key,e.data),updateMask:hV(e.fieldMask)};else{if(!(e instanceof zM))return Ae(16599,{Vt:e.type});n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof Zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ed)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ae(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ZM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function iV(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?os(a.updateTime):os(l);return u.isEqual(Ie.min())&&(u=os(l)),new LM(u,a.transformResults||[])})(n,e)))):[]}function sV(t,e){return{documents:[KS(t,e.path)]}}function rV(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=KS(t,a);const l=(function(y){if(y.length!==0)return QS(Ii.create(y,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(y){if(y.length!==0)return y.map((v=>(function(T){return{field:zo(T.field),direction:lV(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Qg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:a}}function aV(t){let e=eV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){We(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const T=YS(_);return T instanceof Ii&&ES(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((T=>(function(k){return new Jf(Fo(k.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let T;return T=typeof _=="object"?_.value:_,Ed(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(_){const T=!!_.before,R=_.values||[];return new Wf(R,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(_){const T=!_.before,R=_.values||[];return new Wf(R,T)})(n.endAt)),SM(e,a,u,l,d,"F",m,y)}function oV(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fo(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Fo(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fo(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fo(n.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create(Fo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ii.create(n.compositeFilter.filters.map((s=>YS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function lV(t){return QM[t]}function cV(t){return XM[t]}function uV(t){return WM[t]}function zo(t){return{fieldPath:t.canonicalString()}}function Fo(t){return on.fromServerFormat(t.fieldPath)}function QS(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(Bw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(n.field),op:cV(n.op),value:n.value}}})(t):t instanceof Ii?(function(n){const s=n.getFilters().map((a=>QS(a)));return s.length===1?s[0]:{compositeFilter:{op:uV(n.op),filters:s}}})(t):Ae(54877,{filter:t})}function hV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Vr{constructor(e,n,s,a,l=Ie.min(),u=Ie.min(),d=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fV{constructor(e){this.yt=e}}function dV(t){const e=aV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yg(e,e.limit,"L"):e}class mV{constructor(){this.Cn=new pV}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Fr.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class pV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(lt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(lt.comparator)).toArray()}}const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WS=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(WS,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const tT="LruGarbageCollector",gV=1048576;function nT([t,e],[n,s]){const a=He(t,n);return a===0?He(e,s):a}class yV{constructor(e){this.Ir=e,this.buffer=new $t(nT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(tT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?me(tT,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Vr(3e5)}))}}class xV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Td.ce);const s=new yV(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(eT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,d,m,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(y=Date.now(),Uo()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(y-m)+`ms
Total Duration: ${y-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function _V(t,e){return new xV(t,e)}class bV{constructor(){this.changes=new Ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TV{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Gc(s.mutation,a,Hn.empty(),ht.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const a=Pa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Pc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Pa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=qs();const u=qc(),d=(function(){return qc()})();return n.forEach(((m,y)=>{const v=s.get(y.key);a.has(y.key)&&(v===void 0||v.mutation instanceof Jr)?l=l.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),Gc(v.mutation,y,v.mutation.getFieldMask(),ht.now())):u.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((y,v)=>u.set(y,v))),n.forEach(((y,v)=>d.set(y,new wV(v,u.get(y)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=qc();let a=new vt(((u,d)=>u-d)),l=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let v=s.get(m)||Hn.empty();v=d.applyToLocalView(y,v),s.set(m,v);const _=(a.get(d.batchId)||qe()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),y=m.key,v=m.value,_=jS();v.forEach((T=>{if(!l.has(T)){const R=US(n.get(T),s.get(T));R!==null&&_.set(T,R),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,_))}return oe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(Pa());let d=Zc,m=l;return u.next((y=>oe.forEach(y,((v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,m,y,qe()))).next((v=>({batchId:d,changes:kS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let a=Pc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Pc();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(m=>{const y=(function(_,T){return new xu(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next((v=>{v.forEach(((_,T)=>{u=u.insert(_,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,mn.newInvalidDocument(v)))}));let d=Pc();return u.forEach(((m,y)=>{const v=l.get(m);v!==void 0&&Gc(v.mutation,y,Hn.empty(),ht.now()),Cd(n,y)&&(d=d.insert(m,y))})),d}))}}class EV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:os(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:dV(a.bundledQuery),readTime:os(a.readTime)}})(n)),oe.resolve()}}class SV{constructor(){this.overlays=new vt(_e.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pa();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=Pa(),l=n.length+1,u=new _e(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new vt(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let v=l.get(y.largestBatchId);v===null&&(v=Pa(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=Pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=a)););return oe.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new HM(n,s));let l=this.qr.get(n);l===void 0&&(l=qe(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class AV{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class h0{constructor(){this.Qr=new $t(Wt.$r),this.Ur=new $t(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new lt([])),s=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new lt([])),s=new Wt(n,e),a=new Wt(n,e+1);let l=qe();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class CV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Wt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new FM(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?t0:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const d=this.Xr(u.Yr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(He);return n.forEach((a=>{const l=new Wt(a,0),u=new Wt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{s=s.add(d.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const u=new Wt(new _e(l),0);let d=new $t(He);return this.Zr.forEachWhile((m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(d=d.add(m.Yr)),!0)}),u),oe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RV{constructor(e){this.ri=e,this.docs=(function(){return new vt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=qs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=qs();const u=n.path,d=new _e(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:y,value:{document:v}}=m.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||iM(nM(v),s)<=0||(a.has(v.key)||Cd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ae(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new NV(this)}getSize(e){return oe.resolve(this.size)}}class NV extends bV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class IV{constructor(e){this.persistence=e,this.si=new Ya((n=>s0(n)),r0),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new h0,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}class JS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new AV,this.referenceDelegate=e(this),this.Pi=new IV(this),this.indexManager=new mV,this.remoteDocumentCache=(function(a){return new RV(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new fV(n),this.Ii=new EV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new CV(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new DV(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class DV extends rM{constructor(e){super(),this.currentSequenceNumber=e}}class f0{constructor(e){this.persistence=e,this.Ri=new h0,this.Vi=null}static mi(e){return new f0(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=_e.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nd{constructor(e,n){this.persistence=e,this.pi=new Ya((s=>lM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=_V(this,n)}static mi(e,n){return new nd(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((d=>{d||(s++,l.removeEntry(u,Ie.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class d0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=qe(),a=qe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new d0(e,n.fromCache,s,a)}}class kV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rD()?8:aM(gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new kV;return this.Ss(e,n,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Uo()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Uo()<=Fe.DEBUG&&me("QueryEngine","Query:",Bo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Uo()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):oe.resolve())}ys(e,n){if(qw(n))return oe.resolve(null);let s=as(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Yg(n,null,"F"),s=as(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=qe(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const y=this.Ds(n,d);return this.Cs(n,y,u,m.readTime)?this.ys(e,Yg(n,null,"F")):this.vs(e,y,n,m)}))))})))))}ws(e,n,s,a){return qw(n)||a.isEqual(Ie.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?oe.resolve(null):(Uo()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(n)),this.vs(e,u,n,tM(a,Zc)).next((d=>d)))}))}Ds(e,n){let s=new $t(IS(e));return n.forEach(((a,l)=>{Cd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Uo()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.ps.getDocumentsMatchingQuery(e,n,Fr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const m0="LocalStore",MV=3e8;class VV{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new vt(He),this.xs=new Ya((l=>s0(l)),r0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function PV(t,e,n,s){return new VV(t,e,n,s)}async function ZS(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=qe();for(const y of a){u.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}for(const y of l){d.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:d})))}))}))}function OV(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,y,v){const _=y.batch,T=_.keys();let R=oe.resolve();return T.forEach((k=>{R=R.next((()=>v.getEntry(m,k))).next((P=>{const M=y.docVersions.get(k);We(M!==null,48541),P.version.compareTo(M)<0&&(_.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),v.addEntry(P)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=qe();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(m=m.add(d.batch.mutations[y].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function eA(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function LV(t,e){const n=ke(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,_)=>{const T=a.get(_);if(!T)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(cn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(_,R),(function(P,M,L){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=MV?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,R,v)&&d.push(n.Pi.updateTargetData(l,R))}));let m=qs(),y=qe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(UV(l,u,e.documentUpdates).next((v=>{m=v.ks,y=v.qs}))),!s.isEqual(Ie.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return oe.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,y))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function UV(t,e,n){let s=qe(),a=qe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=qs();return n.forEach(((d,m)=>{const y=l.get(d);m.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):me(m0,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function BV(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=t0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zV(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Vr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Zg(t,e,n){const s=ke(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!_l(u))throw u;me(m0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function iT(t,e,n){const s=ke(t);let a=Ie.min(),l=qe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,y,v){const _=ke(m),T=_.xs.get(v);return T!==void 0?oe.resolve(_.Ms.get(T)):_.Pi.getTargetData(y,v)})(s,u,as(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ie.min(),n?l:qe()))).next((d=>(FV(s,CM(e),d),{documents:d,Qs:l})))))}function FV(t,e,n){let s=t.Os.get(e)||Ie.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class sT{constructor(){this.activeTargetIds=jM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HV{constructor(){this.Mo=new sT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qV{Oo(e){}shutdown(){}}const rT="ConnectivityMonitor";class aT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(rT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mf=null;function ey(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}const rg="RestConnection",GV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Qf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=ey(),d=this.zo(e,n.toUriEncodedString());me(rg,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:y}=new URL(d),v=pl(y);return this.Jo(e,d,m,s,v).then((_=>(me(rg,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw il(rg,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=GV[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class $V{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class YV extends KV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=ey();return new Promise(((d,m)=>{const y=new iS;y.setWithCredentials(!0),y.listenOnce(sS.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nf.NO_ERROR:const _=y.getResponseJson();me(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case Nf.TIMEOUT:me(fn,`RPC '${e}' ${u} timed out`),m(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const T=y.getStatus();if(me(fn,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const P=(function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(B)>=0?B:ie.UNKNOWN})(k.status);m(new he(P,k.message))}else m(new he(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new he(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(fn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);me(fn,`RPC '${e}' ${u} sending request:`,a),y.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=ey(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oS(),d=aS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");me(fn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=u.createWebChannel(v,m);this.I_(_);let T=!1,R=!1;const k=new $V({Yo:M=>{R?me(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(T||(me(fn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),me(fn,`RPC '${e}' stream ${a} sending:`,M),_.send(M))},Zo:()=>_.close()}),P=(M,L,B)=>{M.listen(L,(F=>{try{B(F)}catch(W){setTimeout((()=>{throw W}),0)}}))};return P(_,Vc.EventType.OPEN,(()=>{R||(me(fn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),P(_,Vc.EventType.CLOSE,(()=>{R||(R=!0,me(fn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(_))})),P(_,Vc.EventType.ERROR,(M=>{R||(R=!0,il(fn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),k.a_(new he(ie.UNAVAILABLE,"The operation could not be completed")))})),P(_,Vc.EventType.MESSAGE,(M=>{if(!R){const L=M.data[0];We(!!L,16349);const B=L,F=B?.error||B[0]?.error;if(F){me(fn,`RPC '${e}' stream ${a} received error:`,F);const W=F.status;let ee=(function(S){const I=Lt[S];if(I!==void 0)return zS(I)})(W),re=F.message;ee===void 0&&(ee=ie.INTERNAL,re="Unknown error status: "+W+" with message "+F.message),R=!0,k.a_(new he(ee,re)),_.close()}else me(fn,`RPC '${e}' stream ${a} received:`,L),k.u_(L)}})),P(d,rS.STAT_EVENT,(M=>{M.stat===zg.PROXY?me(fn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===zg.NOPROXY&&me(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ag(){return typeof document<"u"?document:null}function kd(t){return new JM(t,!0)}class tA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const oT="PersistentStream";class nA{constructor(e,n,s,a,l,u,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Hs(n.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QV extends nA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?os(u.readTime):Ie.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Jg(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=Kg(m)?{documents:sV(l,m)}:{query:rV(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=qS(l,u.resumeToken);const y=Qg(l,u.expectedCount);y!==null&&(d.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=td(l,u.snapshotVersion.toTimestamp());const y=Qg(l,u.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const s=oV(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Jg(this.serializer),n.removeTarget=e,this.q_(n)}}class XV extends nA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iV(e.writeResults,e.commitTime),s=os(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Jg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>nV(this.serializer,s)))};this.q_(n)}}class WV{}class JV extends WV{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Xg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ie.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Xg(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hs(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $a="RemoteStore";class eP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Qa(this)&&(me($a,"Restarting streams for network reachability change."),await(async function(m){const y=ke(m);y.Ea.add(4),await wu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await jd(y)})(this))}))})),this.Ra=new ZV(s,a)}}async function jd(t){if(Qa(t))for(const e of t.da)await e(!0)}async function wu(t){for(const e of t.da)await e(!1)}function iA(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),v0(n)?y0(n):bl(n).O_()&&g0(n,e))}function p0(t,e){const n=ke(t),s=bl(n);n.Ia.delete(e),s.O_()&&sA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Qa(n)&&n.Ra.set("Unknown"))}function g0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).Y_(e)}function sA(t,e){t.Va.Ue(e),bl(t).Z_(e)}function y0(t){t.Va=new YM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.Ra.ua()}function v0(t){return Qa(t)&&!bl(t).x_()&&t.Ia.size>0}function Qa(t){return ke(t).Ea.size===0}function rA(t){t.Va=void 0}async function tP(t){t.Ra.set("Online")}async function nP(t){t.Ia.forEach(((e,n)=>{g0(t,e)}))}async function iP(t,e){rA(t),v0(t)?(t.Ra.ha(e),y0(t)):t.Ra.set("Unknown")}async function sP(t,e,n){if(t.Ra.set("Online"),e instanceof HS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){me($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await id(t,s)}else if(e instanceof jf?t.Va.Ze(e):e instanceof FS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const s=await eA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,y)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),sA(l,m);const _=new Vr(v.target,m,y,v.sequenceNumber);g0(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){me($a,"Failed to raise snapshot:",s),await id(t,s)}}async function id(t,e,n){if(!_l(e))throw e;t.Ea.add(1),await wu(t),t.Ra.set("Offline"),n||(n=()=>eA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me($a,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jd(t)}))}function aA(t,e){return e().catch((n=>id(t,n,e)))}async function Md(t){const e=ke(t),n=Kr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:t0;for(;rP(e);)try{const a=await BV(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,aP(e,a)}catch(a){await id(e,a)}oA(e)&&lA(e)}function rP(t){return Qa(t)&&t.Ta.length<10}function aP(t,e){t.Ta.push(e);const n=Kr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oA(t){return Qa(t)&&!Kr(t).x_()&&t.Ta.length>0}function lA(t){Kr(t).start()}async function oP(t){Kr(t).ra()}async function lP(t){const e=Kr(t);for(const n of t.Ta)e.ea(n.mutations)}async function cP(t,e,n){const s=t.Ta.shift(),a=l0.from(s,e,n);await aA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Md(t)}async function uP(t,e){e&&Kr(t).X_&&await(async function(s,a){if((function(u){return GM(u)&&u!==ie.ABORTED})(a.code)){const l=s.Ta.shift();Kr(s).B_(),await aA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Md(s)}})(t,e),oA(t)&&lA(t)}async function lT(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),me($a,"RemoteStore received new credentials");const s=Qa(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jd(n)}async function hP(t,e){const n=ke(t);e?(n.Ea.delete(2),await jd(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function bl(t){return t.ma||(t.ma=(function(n,s,a){const l=ke(n);return l.sa(),new QV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:tP.bind(null,t),t_:nP.bind(null,t),r_:iP.bind(null,t),H_:sP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),v0(t)?y0(t):t.Ra.set("Unknown")):(await t.ma.stop(),rA(t))}))),t.ma}function Kr(t){return t.fa||(t.fa=(function(n,s,a){const l=ke(n);return l.sa(),new XV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:oP.bind(null,t),r_:uP.bind(null,t),ta:lP.bind(null,t),na:cP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Md(t)):(await t.fa.stop(),t.Ta.length>0&&(me($a,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class x0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new x0(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _0(t,e){if(Hs("AsyncQueue",`${e}: ${t}`),_l(t))return new he(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Pc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class cT{constructor(){this.ga=new vt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ll{constructor(e,n,s,a,l,u,d,m,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new ll(e,n,Wo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class fP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dP{constructor(){this.queries=uT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=ke(n),l=a.queries;a.queries=uT(),l.forEach(((u,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function uT(){return new Ya((t=>NS(t)),Ad)}async function cA(t,e){const n=ke(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new fP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=_0(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&b0(n)}async function uA(t,e){const n=ke(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mP(t,e){const n=ke(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(s=!0);u.wa=a}}s&&b0(n)}function pP(t,e,n){const s=ke(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function b0(t){t.Ca.forEach((e=>{e.next()}))}var ty,hT;(hT=ty||(ty={})).Ma="default",hT.Cache="cache";class hA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ty.Cache}}class fA{constructor(e){this.key=e}}class dA{constructor(e){this.key=e}}class gP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=IS(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new cT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const T=a.get(v),R=Cd(this.query,_)?_:null,k=!!T&&this.mutatedKeys.has(T.key),P=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let M=!1;T&&R?T.data.isEqual(R.data)?k!==P&&(s.track({type:3,doc:R}),M=!0):this.su(T,R)||(s.track({type:2,doc:R}),M=!0,(m&&this.eu(R,m)>0||y&&this.eu(R,y)<0)&&(d=!0)):!T&&R?(s.track({type:0,doc:R}),M=!0):T&&!R&&(s.track({type:1,doc:T}),M=!0,(m||y)&&(d=!0)),M&&(R?(u=u.add(R),l=P?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(R,k){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:M})}};return P(R)-P(k)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,y=m!==this.Za;return this.Za=m,u.length!==0||y?{snapshot:new ll(this.query,e.tu,l,u,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new dA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new fA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const w0="SyncEngine";class yP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class vP{constructor(e){this.key=e,this.hu=!1}}class xP{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ya((d=>NS(d)),Ad),this.Iu=new Map,this.Eu=new Set,this.du=new vt(_e.comparator),this.Au=new Map,this.Ru=new h0,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _P(t,e,n=!0){const s=xA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await mA(s,e,n,!0),a}async function bP(t,e){const n=xA(t);await mA(n,e,!0,!1)}async function mA(t,e,n,s){const a=await zV(t.localStore,as(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await wP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&iA(t.remoteStore,a),d}async function wP(t,e,n,s,a){t.pu=(_,T,R)=>(async function(P,M,L,B){let F=M.view.ru(L);F.Cs&&(F=await iT(P.localStore,M.query,!1).then((({documents:A})=>M.view.ru(A,F))));const W=B&&B.targetChanges.get(M.targetId),ee=B&&B.targetMismatches.get(M.targetId)!=null,re=M.view.applyChanges(F,P.isPrimaryClient,W,ee);return dT(P,M.targetId,re.au),re.snapshot})(t,_,T,R);const l=await iT(t.localStore,e,!0),u=new gP(e,l.Qs),d=u.ru(l.documents),m=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),y=u.applyChanges(d,t.isPrimaryClient,m);dT(t,n,y.au);const v=new yP(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function TP(t,e,n){const s=ke(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Ad(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Zg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&p0(s.remoteStore,a.targetId),ny(s,a.targetId)})).catch(xl)):(ny(s,a.targetId),await Zg(s.localStore,a.targetId,!0))}async function EP(t,e){const n=ke(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),p0(n.remoteStore,s.targetId))}async function SP(t,e,n){const s=kP(t);try{const a=await(function(u,d){const m=ke(u),y=ht.now(),v=d.reduce(((R,k)=>R.add(k.key)),qe());let _,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=qs(),P=qe();return m.Ns.getEntries(R,v).next((M=>{k=M,k.forEach(((L,B)=>{B.isValidDocument()||(P=P.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,k))).next((M=>{_=M;const L=[];for(const B of d){const F=BM(B,_.get(B.key).overlayedDocument);F!=null&&L.push(new Jr(B.key,F,bS(F.value.mapValue),bn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,y,L,d)})).next((M=>{T=M;const L=M.applyToLocalDocumentSet(_,P);return m.documentOverlayCache.saveOverlays(R,M.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:kS(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let y=u.Vu[u.currentUser.toKey()];y||(y=new vt(He)),y=y.insert(d,m),u.Vu[u.currentUser.toKey()]=y})(s,a.batchId,n),await Tu(s,a.changes),await Md(s.remoteStore)}catch(a){const l=_0(a,"Failed to persist write");n.reject(l)}}async function pA(t,e){const n=ke(t);try{const s=await LV(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?We(u.hu,14607):a.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await Tu(n,s,e)}catch(s){await xl(s)}}function fT(t,e,n){const s=ke(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=ke(u);m.onlineState=d;let y=!1;m.queries.forEach(((v,_)=>{for(const T of _.Sa)T.va(d)&&(y=!0)})),y&&b0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AP(t,e,n){const s=ke(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new vt(_e.comparator);u=u.insert(l,mn.newNoDocument(l,Ie.min()));const d=qe().add(l),m=new Dd(Ie.min(),new Map,new vt(He),u,d);await pA(s,m),s.du=s.du.remove(l),s.Au.delete(e),T0(s)}else await Zg(s.localStore,e,!1).then((()=>ny(s,e,n))).catch(xl)}async function CP(t,e){const n=ke(t),s=e.batch.batchId;try{const a=await OV(n.localStore,e);yA(n,s,null),gA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,a)}catch(a){await xl(a)}}async function RP(t,e,n){const s=ke(t);try{const a=await(function(u,d){const m=ke(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return m.mutationQueue.lookupMutationBatch(y,d).next((_=>(We(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(y,_)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>m.localDocuments.getDocuments(y,v)))}))})(s.localStore,e);yA(s,e,n),gA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,a)}catch(a){await xl(a)}}function gA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yA(t,e,n){const s=ke(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||vA(t,s)}))}function vA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(p0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),T0(t))}function dT(t,e,n){for(const s of n)s instanceof fA?(t.Ru.addReference(s.key,e),NP(t,s)):s instanceof dA?(me(w0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||vA(t,s.key)):Ae(19791,{wu:s})}function NP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(w0,"New document in limbo: "+n),t.Eu.add(s),T0(t))}function T0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(lt.fromString(e)),s=t.fu.next();t.Au.set(s,new vP(n)),t.du=t.du.insert(n,s),iA(t.remoteStore,new Vr(as(a0(n.path)),s,"TargetPurposeLimboResolution",Td.ce))}}async function Tu(t,e,n){const s=ke(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const v=y?!y.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(y){a.push(y);const v=d0.As(m.targetId,y);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,y){const v=ke(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>oe.forEach(y,(T=>oe.forEach(T.Es,(R=>v.persistence.referenceDelegate.addReference(_,T.targetId,R))).next((()=>oe.forEach(T.ds,(R=>v.persistence.referenceDelegate.removeReference(_,T.targetId,R)))))))))}catch(_){if(!_l(_))throw _;me(m0,"Failed to update sequence numbers: "+_)}for(const _ of y){const T=_.targetId;if(!_.fromCache){const R=v.Ms.get(T),k=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(T,P)}}})(s.localStore,l))}async function IP(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){me(w0,"User change. New user:",e.toKey());const s=await ZS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(ie.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function DP(t,e){const n=ke(t),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let a=qe();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function xA(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AP.bind(null,e),e.Pu.H_=mP.bind(null,e.eventManager),e.Pu.yu=pP.bind(null,e.eventManager),e}function kP(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RP.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PV(this.persistence,new jV,e.initialUser,this.serializer)}Cu(e){return new JS(f0.mi,this.serializer)}Du(e){return new HV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class jP extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof nd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new JS((s=>nd.mi(s,n)),this.serializer)}}class iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=IP.bind(null,this.syncEngine),await hP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dP})()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),s=(function(l){return new YV(l)})(e.databaseInfo);return(function(l,u,d,m){return new JV(l,u,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new eP(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>fT(this.syncEngine,n,0)),(function(){return aT.v()?new aT:new qV})())}createSyncEngine(e,n){return(function(a,l,u,d,m,y,v){const _=new xP(a,l,u,d,m,y);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ke(n);me($a,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}iy.provider={build:()=>new iy};class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const $r="FirestoreClient";class MP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=e0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{me($r,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me($r,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=_0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),me($r,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await ZS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function mT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VP(t);me($r,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>lT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>lT(e.remoteStore,a))),t._onlineComponents=e}async function VP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me($r,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new sd)}}else me($r,"Using default OfflineComponentProvider"),await og(t,new jP(void 0));return t._offlineComponents}async function bA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me($r,"Using user provided OnlineComponentProvider"),await mT(t,t._uninitializedComponentsProvider._online)):(me($r,"Using default OnlineComponentProvider"),await mT(t,new iy))),t._onlineComponents}function PP(t){return bA(t).then((e=>e.syncEngine))}async function wA(t){const e=await bA(t),n=e.eventManager;return n.onListen=_P.bind(null,e.syncEngine),n.onUnlisten=TP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EP.bind(null,e.syncEngine),n}function OP(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,y){const v=new _A({next:T=>{v.Nu(),u.enqueueAndForget((()=>uA(l,_)));const R=T.docs.has(d);!R&&T.fromCache?y.reject(new he(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?y.reject(new he(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),_=new hA(a0(d.path),v,{includeMetadataChanges:!0,qa:!0});return cA(l,_)})(await wA(t),t.asyncQueue,e,n,s))),s.promise}function LP(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,y){const v=new _A({next:T=>{v.Nu(),u.enqueueAndForget((()=>uA(l,_))),T.fromCache&&m.source==="server"?y.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),_=new hA(d,v,{includeMetadataChanges:!0,qa:!0});return cA(l,_)})(await wA(t),t.asyncQueue,e,n,s))),s.promise}function TA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const pT=new Map;const EA="firestore.googleapis.com",gT=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EA,this.ssl=gT}else this.host=e.host,this.ssl=e.ssl??gT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gV)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new qj;switch(s.type){case"firstParty":return new Yj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=pT.get(n);s&&(me("ComponentProvider","Removing Datastore"),pT.delete(n),s.terminate())})(this),Promise.resolve()}}function UP(t,e,n,s={}){t=hi(t,Vd);const a=pl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(d1(`https://${d}`),m1("Firestore",!0)),l.host!==EA&&l.host!==d&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Fa(m,u)&&(t._setSettings(m),s.mockUserToken)){let y,v;if(typeof s.mockUserToken=="string")y=s.mockUserToken,v=dn.MOCK_USER;else{y=XI(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(_)}t._authCredentials=new Gj(new cS(y,v))}}class wl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wl(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,Rt._jsonSchema))return new Rt(e,s||null,new _e(lt.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:zt("string",Rt._jsonSchemaVersion),referencePath:zt("string")};class Br extends wl{constructor(e,n,s){super(e,n,a0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new _e(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function Ai(t,e,...n){if(t=yt(t),uS("collection","path",e),t instanceof Vd){const s=lt.fromString(e,...n);return Iw(s),new Br(t,null,s)}{if(!(t instanceof Rt||t instanceof Br))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(lt.fromString(e,...n));return Iw(s),new Br(t.firestore,null,s)}}function ot(t,e,...n){if(t=yt(t),arguments.length===1&&(e=e0.newId()),uS("doc","path",e),t instanceof Vd){const s=lt.fromString(e,...n);return Nw(s),new Rt(t,null,new _e(s))}{if(!(t instanceof Rt||t instanceof Br))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(lt.fromString(e,...n));return Nw(s),new Rt(t.firestore,t instanceof Br?t.converter:null,new _e(s))}}const vT="AsyncQueue";class xT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tA(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&me(vT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;me(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Hs("INTERNAL UNHANDLED ERROR: ",_T(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=x0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:_T(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _T(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zr extends Vd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new xT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xT(e),this._firestoreClient=void 0,await e}}}function BP(t,e){const n=typeof t=="object"?t:v1(),s=typeof t=="string"?t:Qf,a=Fy(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=YI("firestore");l&&UP(a,...l)}return a}function Pd(t){if(t._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zP(t),t._firestoreClient}function zP(t){const e=t._freezeSettings(),n=(function(a,l,u,d){return new hM(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(cn.fromBase64String(e))}catch(n){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oi(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:zt("string",oi._jsonSchemaVersion),bytes:zt("string")};class Eu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class E0{constructor(e){this._methodName=e}}class ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(vu(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:zt("string",ls._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class cs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new cs(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:zt("string",cs._jsonSchemaVersion),vectorValues:zt("object")};const FP=/^__.*__$/;class HP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class S0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new S0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AA(this.Ac)&&FP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kd(e)}Cc(e,n,s,a=!1){return new S0({Ac:e,methodName:n,Dc:s,path:on.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new qP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A0(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);C0("Data must be an object, but it was:",u,s);const d=NA(s,u);let m,y;if(l.merge)m=new Hn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const T=sy(e,_,n);if(!u.contains(T))throw new he(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);DA(v,T)||v.push(T)}m=new Hn(v),y=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,y=u.fieldTransforms;return new HP(new In(d),m,y)}class Od extends E0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}function CA(t,e,n,s){const a=t.Cc(1,e,n);C0("Data must be an object, but it was:",a,s);const l=[],u=In.empty();Wr(s,((m,y)=>{const v=R0(e,m,n);y=yt(y);const _=a.yc(v);if(y instanceof Od)l.push(v);else{const T=Au(y,_);T!=null&&(l.push(v),u.set(v,T))}}));const d=new Hn(l);return new SA(u,d,a.fieldTransforms)}function RA(t,e,n,s,a,l){const u=t.Cc(1,e,n),d=[sy(e,s,n)],m=[a];if(l.length%2!=0)throw new he(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(sy(e,l[T])),m.push(l[T+1]);const y=[],v=In.empty();for(let T=d.length-1;T>=0;--T)if(!DA(y,d[T])){const R=d[T];let k=m[T];k=yt(k);const P=u.yc(R);if(k instanceof Od)y.push(R);else{const M=Au(k,P);M!=null&&(y.push(R),v.set(R,M))}}const _=new Hn(y);return new SA(v,_,u.fieldTransforms)}function GP(t,e,n,s=!1){return Au(n,t.Cc(s?4:3,e))}function Au(t,e){if(IA(t=yt(t)))return C0("Unsupported field value:",e,t),NA(t,e);if(t instanceof E0)return(function(s,a){if(!AA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=Au(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ht.fromDate(s);return{timestampValue:td(a.serializer,l)}}if(s instanceof ht){const l=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(a.serializer,l)}}if(s instanceof ls)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oi)return{bytesValue:qS(a.serializer,s._byteString)};if(s instanceof Rt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:u0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof cs)return(function(u,d){return{mapValue:{fields:{[xS]:{stringValue:_S},[Xf]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return o0(d.serializer,y)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${wd(s)}`)})(t,e)}function NA(t,e){const n={};return dS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,((s,a)=>{const l=Au(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function IA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof ls||t instanceof oi||t instanceof Rt||t instanceof E0||t instanceof cs)}function C0(t,e,n){if(!IA(n)||!hS(n)){const s=wd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function sy(t,e,n){if((e=yt(e))instanceof Eu)return e._internalPath;if(typeof e=="string")return R0(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const KP=new RegExp("[~\\*/\\[\\]]");function R0(t,e,n){if(e.search(KP)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new he(ie.INVALID_ARGUMENT,d+t+m)}function DA(t,e){return t.some((n=>n.isEqual(e)))}class kA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $P(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $P extends kA{data(){return super.data()}}function N0(t,e){return typeof e=="string"?R0(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}function YP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class QP extends I0{}function jr(t,e,...n){let s=[];e instanceof I0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof D0)).length,d=l.filter((m=>m instanceof Ld)).length;if(u>1||u>0&&d>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Ld extends QP{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ld(e,n,s)}_apply(e){const n=this._parse(e);return jA(e._query,n),new wl(e.firestore,e.converter,$g(e._query,n))}_parse(e){const n=Su(e.firestore);return(function(l,u,d,m,y,v,_){let T;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wT(_,v);const k=[];for(const P of _)k.push(bT(m,l,P));T={arrayValue:{values:k}}}else T=bT(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wT(_,v),T=GP(d,u,_,v==="in"||v==="not-in");return Bt.create(y,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ci(t,e,n){const s=e,a=N0("where",t);return Ld._create(a,s,n)}class D0 extends I0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)jA(u,m),u=$g(u,m)})(e._query,n),new wl(e.firestore,e.converter,$g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bT(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&n.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!_e.isDocumentKey(s))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lw(t,new _e(s))}if(n instanceof Rt)return Lw(t,n._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function wT(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jA(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XP{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Wr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Xf].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new cs(n)}convertGeoPoint(e){return new ls(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Sd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);We(XS(s),9688,{name:e});const a=new tu(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||Hs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function k0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends kA{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(N0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:zt("string",Ua._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Mf extends Ua{data(e={}){return super.data(e)}}class Jo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Mf(this._firestore,this._userDataWriter,s.key,s,new Lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Mf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Lc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Mf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Lc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,v=-1;return d.type!==0&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:WP(d.type),doc:m,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=e0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}function ln(t){t=hi(t,Rt);const e=hi(t.firestore,Zr);return OP(Pd(e),t._key).then((n=>e3(e,t,n)))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:zt("string",Jo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class MA extends XP{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Mr(t){t=hi(t,wl);const e=hi(t.firestore,Zr),n=Pd(e),s=new MA(e);return YP(t._query),LP(n,t._query).then((a=>new Jo(e,s,t,a)))}function Zo(t,e,n){t=hi(t,Rt);const s=hi(t.firestore,Zr),a=k0(t.converter,e,n);return Cu(s,[A0(Su(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bn.none())])}function JP(t,e,n,...s){t=hi(t,Rt);const a=hi(t.firestore,Zr),l=Su(a);let u;return u=typeof(e=yt(e))=="string"||e instanceof Eu?RA(l,"updateDoc",t._key,e,n,s):CA(l,"updateDoc",t._key,e),Cu(a,[u.toMutation(t._key,bn.exists(!0))])}function ZP(t){return Cu(hi(t.firestore,Zr),[new Id(t._key,bn.none())])}function lg(t,e){const n=hi(t.firestore,Zr),s=ot(t),a=k0(t.converter,e);return Cu(n,[A0(Su(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,bn.exists(!1))]).then((()=>s))}function Cu(t,e){return(function(s,a){const l=new Us;return s.asyncQueue.enqueueAndForget((async()=>SP(await PP(s),a,l))),l.promise})(Pd(t),e)}function e3(t,e,n){const s=n.docs.get(e._key),a=new MA(t);return new Ua(t,a,e._key,s,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}class t3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,n,s){this._verifyNotCommitted();const a=cg(e,this._firestore),l=k0(a.converter,n,s),u=A0(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,bn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=cg(e,this._firestore);let u;return u=typeof(n=yt(n))=="string"||n instanceof Eu?RA(this._dataReader,"WriteBatch.update",l._key,n,s,a):CA(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cg(e,this._firestore);return this._mutations=this._mutations.concat(new Id(n._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cg(t,e){if((t=yt(t)).firestore!==e)throw new he(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function VA(t){return Pd(t=hi(t,Zr)),new t3(t,(e=>Cu(t,e)))}(function(e,n=!0){(function(a){vl=a})(gl),tl(new Ha("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Zr(new Kj(s.getProvider("auth-internal")),new Qj(u,s.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(y.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Lr(Sw,Aw,e),Lr(Sw,Aw,"esm2020")})();var n3="firebase",i3="12.7.0";Lr(n3,i3,"app");const s3={apiKey:"AIzaSyBaGcQdywx3EHrWuo7KAa4ed4oXOMvsFYM",authDomain:"nfl-bracket-b3140.firebaseapp.com",projectId:"nfl-bracket-b3140",storageBucket:"nfl-bracket-b3140.firebasestorage.app",messagingSenderId:"965277224800",appId:"1:965277224800:web:83afd415384e97b6d51805"};let ug,Kt,Oe;try{ug=y1(s3),Kt=Fj(ug),Oe=BP(ug)}catch(t){console.error("Firebase initialization error:",t),console.warn("Please configure Firebase credentials in .env file")}const PA=j.createContext(),ms=()=>j.useContext(PA),hg="drewpdewitt@gmail.com".split(",").map(t=>t.trim())||[],r3=({children:t})=>{const[e,n]=j.useState(null),[s,a]=j.useState(!0),[l,u]=j.useState(null),[d,m]=j.useState(!1),[y,v]=j.useState(null),[_,T]=j.useState(!1);j.useEffect(()=>{if(!Kt){u("Firebase not configured. Please add .env file with Firebase credentials."),a(!1);return}return Ik(Kt,async F=>{if(F){await F.reload();const W=Kt.currentUser;n(W),m(W?hg.includes(W.email):!1);const ee=await ln(ot(Oe,"users",W.uid));if(ee.exists()){const re=ee.data();v(re.username),T(!re.hasSeenTutorial)}else v(W.displayName||W.email.split("@")[0]),T(!0)}else n(null),m(!1),v(null),T(!1);a(!1)})},[]);const R=async(B,F)=>{if(!Kt)throw new Error("Firebase not configured");const W=await Sk(Kt,B,F);await W.user.reload(),await W.user.getIdToken(!0);const ee=Date.now();for(;Date.now()-ee<3e3;)if(await new Promise(re=>setTimeout(re,100)),Kt.currentUser&&Kt.currentUser.uid===W.user.uid){await new Promise(re=>setTimeout(re,200));break}return W},k=async(B,F,W)=>{if(!Kt)throw new Error("Firebase not configured");const ee=await Ek(Kt,B,F);await Ck(ee.user,{displayName:W});const re=hg.includes(B);return await Zo(ot(Oe,"users",ee.user.uid),{username:W,email:B,isAdmin:re,createdAt:new Date,emailVerified:!1,hasSeenTutorial:!1}),await q1(ee.user),ee},P=async()=>{if(!Kt)throw new Error("Firebase not configured");const B=new Ms,F=await Wk(Kt,B),W=await ln(ot(Oe,"users",F.user.uid)),ee=hg.includes(F.user.email);return W.exists()||await Zo(ot(Oe,"users",F.user.uid),{username:F.user.displayName||F.user.email.split("@")[0],email:F.user.email,isAdmin:ee,createdAt:new Date,hasSeenTutorial:!1}),await new Promise(re=>setTimeout(re,1500)),F},M=()=>{if(!Kt)throw new Error("Firebase not configured");return Dk(Kt)};if(l)return g.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:" Configuration Required"}),g.jsx("p",{className:"text-gray-700 mb-4",children:l}),g.jsxs("div",{className:"bg-gray-100 p-4 rounded text-sm",children:[g.jsx("p",{className:"font-semibold mb-2",children:"Quick Setup:"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[g.jsx("li",{children:"Create Firebase project at console.firebase.google.com"}),g.jsx("li",{children:"Enable Authentication (Email/Password)"}),g.jsx("li",{children:"Create Firestore database"}),g.jsx("li",{children:"Copy .env.example to .env"}),g.jsx("li",{children:"Add your Firebase credentials to .env"}),g.jsx("li",{children:"Restart dev server"})]})]})]})});const L=async()=>{e&&(await Zo(ot(Oe,"users",e.uid),{hasSeenTutorial:!0},{merge:!0}),T(!1))};return g.jsx(PA.Provider,{value:{user:e,login:R,signup:k,loginWithGoogle:P,logout:M,loading:s,isAdmin:d,username:y,isFirstLogin:_,markTutorialSeen:L},children:t})};const a3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),TT=t=>{const e=o3(t);return e.charAt(0).toUpperCase()+e.slice(1)},OA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),l3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var c3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u3=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>j.createElement("svg",{ref:m,...c3,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:OA("lucide",a),...!l&&!l3(d)&&{"aria-hidden":"true"},...d},[...u.map(([y,v])=>j.createElement(y,v)),...Array.isArray(l)?l:[l]]));const Je=(t,e)=>{const n=j.forwardRef(({className:s,...a},l)=>j.createElement(u3,{ref:l,iconNode:e,className:OA(`lucide-${a3(TT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=TT(t),n};const h3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zr=Je("arrow-left",h3);const f3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fg=Je("arrow-right",f3);const d3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],m3=Je("award",d3);const p3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],g3=Je("calendar",p3);const y3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LA=Je("chart-column",y3);const v3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],x3=Je("check",v3);const _3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],b3=Je("chevron-left",_3);const w3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],T3=Je("chevron-right",w3);const E3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ad=Je("circle-alert",E3);const S3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],od=Je("circle-check-big",S3);const A3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C3=Je("circle-question-mark",A3);const R3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],N3=Je("circle-x",R3);const I3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D3=Je("eye",I3);const k3=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],j3=Je("loader",k3);const M3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],V3=Je("lock-open",M3);const P3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dg=Je("lock",P3);const O3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],L3=Je("log-out",O3);const U3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ry=Je("mail",U3);const B3=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],z3=Je("medal",B3);const F3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ET=Je("plus",F3);const H3=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],q3=Je("radio",H3);const G3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UA=Je("refresh-cw",G3);const K3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$3=Je("save",K3);const Y3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q3=Je("settings",Y3);const X3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ay=Je("share-2",X3);const W3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BA=Je("trash-2",W3);const J3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cl=Je("trophy",J3);const Z3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eO=Je("user",Z3);const tO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oy=Je("users",tO);const nO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iO=Je("x",nO);function sO(){const[t,e]=j.useState(!0),[n,s]=j.useState(""),[a,l]=j.useState(""),[u,d]=j.useState(""),[m,y]=j.useState(""),[v,_]=j.useState(""),[T,R]=j.useState(!1),{login:k,signup:P,loginWithGoogle:M}=ms(),L=ji(),B=ki(),[F]=Uy(),W=B.state?.from||"/rooms",ee=F.get("mode"),re=F.get("oobCode"),[A,S]=j.useState(!1),[I,V]=j.useState(!1);j.useEffect(()=>{(async()=>{if(ee==="verifyEmail"&&re){S(!0);try{await H1(Kt,re),V(!0),e(!0)}catch(Ne){_("Verification failed: "+Ne.message)}S(!1)}})()},[ee,re]);const N=ge=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ge),z=async ge=>{if(ge.preventDefault(),_(""),R(!1),!t){if(!N(n)){_("Please enter a valid email address");return}if(a!==u){_("Passwords do not match");return}if(a.length<6){_("Password must be at least 6 characters");return}}try{t?(await k(n,a),L(W,{replace:!0})):(await P(n,a,m),R(!0))}catch(Ne){_(Ne.message)}},D=async()=>{_("");try{await M(),L(W,{replace:!0})}catch(ge){_(ge.message)}};return g.jsxs("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),g.jsxs("div",{className:"relative z-10 bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[g.jsx("div",{className:"flex items-center justify-center mb-6",children:g.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:g.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[14px] flex items-center justify-center text-white text-2xl font-black italic",children:"NFL"})})}),g.jsx("h1",{className:"text-3xl font-black text-center mb-2 text-white uppercase tracking-tight",children:"Mixin it up Family Bracket"}),g.jsx("p",{className:"text-center text-slate-400 mb-6 text-sm",children:t?"Sign in to continue":"Create your account"}),A&&g.jsxs("div",{className:"bg-blue-500/10 border-2 border-blue-500/30 rounded-lg p-4 mb-4 flex items-start gap-3",children:[g.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-blue-400 font-bold text-base mb-1",children:"Verifying Email..."}),g.jsx("p",{className:"text-blue-200 text-sm",children:"Please wait while we verify your email address."})]})]}),I&&g.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-4 mb-4 flex items-start gap-3",children:[g.jsx(od,{className:"w-6 h-6 text-green-400 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-green-400 font-bold text-base mb-1",children:" Email Verified!"}),g.jsx("p",{className:"text-green-200 text-sm",children:"Your email has been verified. Please sign in to continue."})]})]}),T?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-6 text-center",children:[g.jsx(ry,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-bold text-green-400 mb-2",children:"Verification Email Sent!"}),g.jsx("p",{className:"text-slate-300 mb-4",children:"Please check your email and click the verification link to activate your account. After verifying, sign in to continue."}),g.jsx("button",{onClick:()=>{R(!1),e(!0)},className:"text-green-400 font-semibold hover:underline",children:"Back to Sign In"}),W!=="/rooms"&&g.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"You'll be redirected to join the room after signing in."})]}),g.jsx("div",{className:"bg-yellow-500/10 border-2 border-yellow-500/50 rounded-lg p-4 animate-pulse",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(ad,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-yellow-400 font-bold text-base mb-1",children:" CHECK YOUR SPAM FOLDER!"}),g.jsx("p",{className:"text-yellow-200 text-sm",children:"The verification email may be in your spam or junk folder. Please check there if you don't see it in your inbox within a few minutes."})]})]})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:z,className:"space-y-4",children:[!t&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Username"}),g.jsx("input",{type:"text",value:m,onChange:ge=>y(ge.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),g.jsx("input",{type:"email",value:n,onChange:ge=>s(ge.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),g.jsx("input",{type:"password",value:a,onChange:ge=>l(ge.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),!t&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Confirm Password"}),g.jsx("input",{type:"password",value:u,onChange:ge=>d(ge.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),v&&g.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",children:[g.jsx(ad,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),g.jsx("p",{className:"text-red-400 text-sm",children:v})]}),g.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition font-bold uppercase tracking-wide",children:t?"Sign In":"Sign Up"})]}),g.jsxs("div",{className:"relative my-6",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t border-slate-700"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-2 bg-slate-900/60 text-slate-400",children:"Or continue with"})})]}),g.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-3 bg-white/10 border border-white/20 text-white py-3 rounded-lg hover:bg-white/20 transition font-semibold",children:[g.jsx(ry,{className:"w-5 h-5"}),"Google"]}),g.jsxs("p",{className:"text-center mt-4 text-sm text-slate-400",children:[t?"Don't have an account? ":"Already have an account? ",g.jsx("button",{onClick:()=>e(!t),className:"text-blue-400 font-semibold hover:underline",children:t?"Sign Up":"Sign In"})]})]})]})]})}function rO({isOpen:t,onClose:e}){const[n,s]=j.useState(0);if(j.useEffect(()=>{t&&s(0)},[t]),!t)return null;const a=[{title:"Welcome to NFL Bracket!",icon:cl,content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-300 text-lg",children:"Compete with friends by predicting NFL playoff game winners. The more accurate your predictions, the more points you earn!"}),g.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50",children:[g.jsx("h4",{className:"text-yellow-600/90 font-bold mb-3 text-lg",children:"Quick Overview:"}),g.jsxs("ul",{className:"space-y-2 text-slate-300",children:[g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"Join or create a room with friends"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"Pick winners for each playoff game"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"Submit your bracket before games start"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"Earn points for correct predictions"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"Compete on the leaderboard!"})]})]})]})]})},{title:"Joining a Room",icon:oy,content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-300",children:"Rooms let you compete with specific groups of friends. Each room has a unique 6-character code."}),g.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"To Join a Room:"}),g.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[g.jsx("li",{children:"Get a room code from a friend"}),g.jsx("li",{children:'Enter the code in the "Join Room" box'}),g.jsx("li",{children:'Click "Join" to enter the room'}),g.jsx("li",{children:"You'll be taken to the bracket page automatically"})]})]}),g.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[g.jsx("div",{className:"text-center mb-2",children:g.jsx("input",{type:"text",value:"ABC123",readOnly:!0,className:"w-48 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white text-center font-bold tracking-wider"})}),g.jsx("p",{className:"text-slate-400 text-sm text-center",children:"Example room code"})]})]})]})},{title:"Sharing a Room",icon:ay,content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-300",children:"Invite friends to your room by sharing the room code or link."}),g.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"How to Share:"}),g.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[g.jsx("li",{children:'Find your room in "My Rooms"'}),g.jsx("li",{children:"Click the green share button"}),g.jsx("li",{children:"Send the link or code to friends"})]})]}),g.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-green-500/20 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-3 py-1 rounded-lg",children:g.jsx("span",{className:"text-white font-bold tracking-wider",children:"ABC123"})}),g.jsx("span",{className:"text-white font-semibold",children:"Room ABC123"})]}),g.jsx("button",{className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400",children:g.jsx(ay,{className:"w-4 h-4"})})]})]})]})},{title:"Filling Out Your Bracket",icon:od,content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-300",children:"Pick the winner for each playoff matchup. Your picks automatically advance through the rounds."}),g.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"How to Pick:"}),g.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[g.jsx("li",{children:"Click on a team to select them as the winner"}),g.jsx("li",{children:"Your pick will highlight in gold"}),g.jsx("li",{children:"Winners automatically advance to the next round"}),g.jsx("li",{children:"Continue until you've picked a Super Bowl champion"})]})]}),g.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[g.jsx("p",{className:"text-slate-400 text-xs mb-3 text-center",children:"Example Matchup:"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 border-2 border-yellow-600/50 rounded-lg cursor-pointer",children:[g.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold",children:"KC"}),g.jsx("span",{className:"text-white font-semibold flex-grow",children:"Kansas City Chiefs"}),g.jsx("span",{className:"text-yellow-600/90 font-bold",children:"#1"})]}),g.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg cursor-pointer opacity-60",children:[g.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold",children:"BUF"}),g.jsx("span",{className:"text-white font-semibold flex-grow",children:"Buffalo Bills"}),g.jsx("span",{className:"text-slate-400 font-bold",children:"#2"})]})]}),g.jsx("p",{className:"text-slate-400 text-xs mt-3 text-center",children:"Click a team to select them"})]})]})]})},{title:"Submitting Your Bracket",icon:od,content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-300",children:"Once you've made all your picks, submit your bracket to lock it in."}),g.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[g.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[g.jsxs("h4",{className:"text-red-400 font-bold mb-2 flex items-center gap-2",children:[g.jsx("span",{children:""})," Important:"]}),g.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[g.jsx("li",{children:" You must complete ALL picks before submitting"}),g.jsx("li",{children:" Once submitted, your bracket is LOCKED"}),g.jsx("li",{children:" You cannot change picks after submission"}),g.jsx("li",{children:" Submit before the first playoff game starts!"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"To Submit:"}),g.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[g.jsx("li",{children:"Complete all matchup picks"}),g.jsx("li",{children:"Review your selections"}),g.jsx("li",{children:'Click "Submit Bracket" at the top'}),g.jsx("li",{children:"Confirm your submission"})]})]}),g.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-green-500/20 text-center",children:[g.jsx("button",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg",children:"Submit Bracket"}),g.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"Click when ready to lock in picks"})]})]})]})},{title:"Point System",icon:cl,content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-300",children:"Earn points for each correct prediction. Later rounds are worth more points!"}),g.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-3",children:[g.jsx("h4",{className:"text-yellow-600/90 font-bold mb-3 text-center",children:"Points Per Round:"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[g.jsx("span",{className:"text-white font-semibold",children:"Wild Card Round"}),g.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"1 pt"})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[g.jsx("span",{className:"text-white font-semibold",children:"Divisional Round"}),g.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"2 pts"})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[g.jsx("span",{className:"text-white font-semibold",children:"Conference Championship"}),g.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"3 pts"})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 rounded-lg border-2 border-yellow-600/50",children:[g.jsx("span",{className:"text-white font-bold",children:"Super Bowl"}),g.jsx("span",{className:"text-yellow-600/90 font-bold text-2xl",children:"5 pts"})]})]}),g.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mt-4",children:g.jsxs("p",{className:"text-blue-300 text-sm text-center",children:[g.jsx("strong",{children:"Maximum possible score: 23 points"}),g.jsx("br",{}),"(6 Wild Card + 4 Divisional + 2 Conference + 1 Super Bowl)"]})})]})]})},{title:"Viewing the Leaderboard",icon:LA,content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-slate-300",children:"Track your performance and see how you stack up against friends!"}),g.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"Leaderboard Features:"}),g.jsxs("ul",{className:"space-y-2 text-slate-300",children:[g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"Found at the top of the bracket page"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"See all participants ranked by points"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"View correct picks (green) and incorrect picks (red)"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"Updates automatically as games finish"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),g.jsx("span",{children:"Only visible after you submit your bracket"})]})]})]}),g.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[g.jsx("p",{className:"text-slate-400 text-xs mb-3 text-center",children:"Example Leaderboard:"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-600/10 border border-yellow-600/30 rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-yellow-600/90 font-bold text-lg",children:"1."}),g.jsx("span",{className:"text-white font-semibold",children:"John"})]}),g.jsx("span",{className:"text-yellow-600/90 font-bold text-lg",children:"15 pts"})]}),g.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-slate-400 font-bold",children:"2."}),g.jsx("span",{className:"text-white font-semibold",children:"Sarah"})]}),g.jsx("span",{className:"text-slate-300 font-bold",children:"12 pts"})]}),g.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-lg",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-slate-400 font-bold",children:"3."}),g.jsx("span",{className:"text-white font-semibold",children:"Mike"})]}),g.jsx("span",{className:"text-slate-300 font-bold",children:"10 pts"})]})]})]})]}),g.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[g.jsx("h4",{className:"text-blue-300 font-bold mb-2",children:" Pro Tip:"}),g.jsx("p",{className:"text-blue-200 text-sm",children:"Game results are tracked in real-time on the bracket page. You can see which games have been completed and who won as the playoffs progress!"})]}),g.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:g.jsx("p",{className:"text-green-300 text-center font-semibold",children:" Good luck and may the best bracket win! "})})]})}],l=a[n],u=l.icon;return g.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 border-b border-white/10 p-6 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg",children:g.jsx(u,{className:"w-6 h-6 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white",children:l.title})]}),g.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition text-slate-400 hover:text-white",children:g.jsx(iO,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-200px)]",children:l.content}),g.jsxs("div",{className:"bg-slate-800/50 border-t border-white/10 p-4 sm:p-6 flex items-center justify-between gap-2",children:[g.jsxs("button",{onClick:()=>s(d=>Math.max(0,d-1)),disabled:n===0,className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white text-sm sm:text-base disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-700 transition flex-shrink-0",children:[g.jsx(b3,{className:"w-4 h-4"}),g.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),g.jsx("div",{className:"flex gap-2 items-center flex-shrink-0",children:a.map((d,m)=>g.jsx("button",{onClick:()=>s(m),className:`h-2 rounded-full transition-all duration-300 ${m===n?"bg-yellow-600/90 w-8":"bg-slate-600 hover:bg-slate-500 w-2"}`},m))}),n===a.length-1?g.jsx("button",{onClick:e,className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 rounded-lg text-white text-sm sm:text-base font-semibold hover:from-yellow-600/90 hover:to-yellow-700/90 transition shadow-lg flex-shrink-0",children:"Get Started!"}):g.jsxs("button",{onClick:()=>s(d=>Math.min(a.length-1,d+1)),className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 rounded-lg text-white text-sm sm:text-base font-semibold hover:from-yellow-600/90 hover:to-yellow-700/90 transition shadow-lg flex-shrink-0",children:[g.jsx("span",{className:"hidden sm:inline",children:"Next"}),g.jsx(T3,{className:"w-4 h-4"})]})]})]})})}function aO(){const[t,e]=j.useState(""),[n,s]=j.useState([]),[a,l]=j.useState(!1),{user:u,logout:d,isAdmin:m,username:y,isFirstLogin:v,markTutorialSeen:_}=ms(),T=ji(),[R]=Uy();j.useEffect(()=>{k(),v&&l(!0);const A=R.get("join");A&&(e(A.toUpperCase()),setTimeout(()=>{F(A.toUpperCase())},100))},[u,R,v]);const k=async()=>{const A=jr(Ai(Oe,"userRooms"),Ci("userId","==",u.uid)),S=await Mr(A),I=[];for(const V of S.docs){const N=V.data(),z=await ln(ot(Oe,"rooms",N.roomId));z.exists()&&I.push({id:V.id,...N,isCreator:z.data().createdBy===u.uid})}s(I)},P=A=>{const S=`${window.location.origin}/rooms?join=${A}`;navigator.share?navigator.share({title:"Join my NFL Bracket Room",text:`Join my NFL playoff bracket room with code: ${A}`,url:S}).catch(()=>{M(S,A)}):M(S,A)},M=(A,S)=>{navigator.clipboard.writeText(A).then(()=>{alert(`Room link copied! Share this link or use code: ${S}`)}).catch(()=>{alert(`Share this link: ${A}

Or use room code: ${S}`)})},L=async()=>{const A=Math.random().toString(36).substring(2,8).toUpperCase(),S=await lg(Ai(Oe,"rooms"),{code:A,createdAt:new Date,createdBy:u.uid});await lg(Ai(Oe,"userRooms"),{userId:u.uid,roomId:S.id,roomCode:A}),T(`/bracket/${S.id}`)},B=async A=>{A.preventDefault(),await F(t)},F=async A=>{const S=jr(Ai(Oe,"rooms"),Ci("code","==",A.toUpperCase())),I=await Mr(S);if(I.empty)alert("Room not found. Please check the code and try again.");else{const V=I.docs[0].id,N=jr(Ai(Oe,"userRooms"),Ci("userId","==",u.uid),Ci("roomId","==",V));(await Mr(N)).empty&&await lg(Ai(Oe,"userRooms"),{userId:u.uid,roomId:V,roomCode:A.toUpperCase()}),T(`/bracket/${V}`)}},W=async(A,S)=>{if(window.confirm(`Are you sure you want to delete room ${S}? This will delete all brackets in this room and cannot be undone.`))try{console.log("Starting room deletion for:",A),console.log("Fetching brackets...");const I=jr(Ai(Oe,"brackets"),Ci("roomId","==",A)),V=await Mr(I);console.log("Found brackets:",V.docs.length),console.log("Fetching userRooms...");const N=jr(Ai(Oe,"userRooms"),Ci("roomId","==",A)),z=await Mr(N);console.log("Found userRooms:",z.docs.length);const D=VA(Oe);console.log("Adding brackets to batch delete..."),V.docs.forEach(ge=>{D.delete(ge.ref)}),console.log("Adding userRooms to batch delete..."),z.docs.forEach(ge=>{D.delete(ge.ref)}),console.log("Adding room to batch delete..."),D.delete(ot(Oe,"rooms",A)),console.log("Committing batch..."),await D.commit(),console.log("Room deleted successfully!"),alert("Room deleted successfully!"),k()}catch(I){console.error("Full error object:",I),console.error("Error code:",I.code),console.error("Error message:",I.message),alert(`Error deleting room: ${I.message}

Check console for details.`)}},ee=()=>{l(!1),_()},re=n.length===0;return g.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),g.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),g.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),g.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),g.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 sm:mb-12",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px] transition-transform duration-500",children:g.jsx("div",{className:"bg-[#020617] w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] sm:text-[14px] font-black italic",children:"NFL"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl sm:text-4xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),g.jsxs("p",{className:"text-blue-200 text-xs sm:text-sm",children:["Welcome back, ",y||"User"]})]})]}),g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[g.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-1 sm:gap-2 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 text-blue-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-blue-500/30 transition-all duration-300 shadow-lg hover:shadow-blue-500/20 text-sm sm:text-base",title:"How to Use",children:[g.jsx(C3,{className:"w-4 h-4"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Rules & Help"}),g.jsx("span",{className:"sm:hidden",children:"Help"})]}),g.jsxs("button",{onClick:d,className:"flex items-center gap-1 sm:gap-2 bg-red-500/20 backdrop-blur-sm border border-red-400/30 text-red-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-red-500/30 transition-all duration-300 shadow-lg hover:shadow-red-500/20 text-sm sm:text-base",children:[g.jsx(L3,{className:"w-4 h-4"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),re?g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-3xl p-12 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 rounded-2xl mb-6 shadow-lg shadow-yellow-600/10",children:g.jsx(oy,{className:"w-10 h-10 text-white"})}),g.jsx("h2",{className:"text-4xl font-bold text-white mb-3",children:"Join a Room"}),g.jsx("p",{className:"text-slate-300 text-lg",children:"Enter a room code to get started with your bracket predictions"})]}),g.jsxs("form",{onSubmit:B,className:"space-y-6",children:[g.jsx("div",{children:g.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-6 py-5 bg-slate-800/50 backdrop-blur-sm border-2 border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center text-2xl font-bold tracking-widest focus:ring-4 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all duration-300",maxLength:"6",required:!0})}),g.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-5 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-bold text-lg shadow-xl shadow-yellow-600/10 hover:shadow-2xl hover:scale-105 flex items-center justify-center gap-3",children:["Join Room ",g.jsx(fg,{className:"w-5 h-5"})]})]}),m&&g.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[g.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Or create a new room as admin"}),g.jsxs("button",{onClick:L,className:"w-full bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 text-white py-4 rounded-xl hover:bg-slate-700/50 transition-all duration-300 font-semibold flex items-center justify-center gap-2",children:[g.jsx(ET,{className:"w-5 h-5"})," Create New Room"]})]})]})}):g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:g.jsx(oy,{className:"w-6 h-6 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white",children:"Join Room"})]}),g.jsxs("form",{onSubmit:B,className:"space-y-4",children:[g.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center font-bold tracking-wider focus:ring-2 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all",maxLength:"6",required:!0}),g.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl flex items-center justify-center gap-2",children:["Join ",g.jsx(fg,{className:"w-4 h-4"})]})]})]}),m&&g.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:g.jsx(ET,{className:"w-6 h-6 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Room"})]}),g.jsx("p",{className:"text-slate-300 mb-6",children:"Start a new bracket room and share the code with friends"}),g.jsx("button",{onClick:L,className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl",children:"Create New Room"})]})]}),g.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-4 sm:p-8 shadow-xl",children:[g.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-center gap-3",children:[g.jsx(cl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600/90"}),"My Rooms"]}),g.jsx("div",{className:"grid gap-3 sm:gap-4",children:n.map(A=>g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-4 sm:p-6 bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl hover:bg-slate-800/50 transition-all duration-300 hover:shadow-lg",children:[g.jsxs("button",{onClick:()=>T(`/bracket/${A.roomId}`),className:"flex items-center gap-3 sm:gap-4 flex-grow text-left w-full sm:w-auto",children:[g.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-3 sm:px-4 py-1 sm:py-2 rounded-lg shadow-lg shadow-yellow-600/10",children:g.jsx("span",{className:"text-white font-bold text-base sm:text-lg tracking-wider",children:A.roomCode})}),g.jsxs("span",{className:"text-white font-semibold text-base sm:text-lg",children:["Room ",A.roomCode]})]}),g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto justify-end",children:[g.jsx("button",{onClick:S=>{S.stopPropagation(),P(A.roomCode)},className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition text-green-400",title:"Share Room",children:g.jsx(ay,{className:"w-4 h-4"})}),m&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:S=>{S.stopPropagation(),T(`/admin/brackets/${A.roomId}`)},className:"p-2 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition text-blue-400",title:"View Submitted Brackets (Admin)",children:g.jsx(D3,{className:"w-4 h-4"})}),g.jsx("button",{onClick:S=>{S.stopPropagation(),W(A.roomId,A.roomCode)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Room (Admin)",children:g.jsx(BA,{className:"w-4 h-4"})})]}),g.jsx(fg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600/70 hidden sm:block"})]})]},A.id))})]})]})]}),g.jsx(rO,{isOpen:a,onClose:ee}),g.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const oO="https://site.web.api.espn.com/apis/v2/sports/football/nfl/standings?region=us&lang=en&contentorigin=espn&season=2025&type=0",lO=async()=>{try{const e=await(await fetch(oO)).json(),n={};return e.children?.forEach(s=>{s.standings?.entries?.forEach(a=>{const l=a.team?.id,u=a.stats?.find(d=>d.name==="playoffSeed");l&&u&&(n[l]={seed:u.value,abbreviation:a.team.abbreviation,name:a.team.name,location:a.team.location,displayName:a.team.displayName})})}),n}catch(t){return console.error("Error fetching playoff seeds:",t),{}}},pf="https://site.api.espn.com/apis/site/v2/sports/football/nfl/scoreboard?seasontype=3",ld=async()=>{try{const t=await lO(),e=await Promise.all([fetch(`${pf}&week=1`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=2`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=3`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=4`).then(n=>n.json()).catch(()=>({events:[]}))]);return{wildCard:gf(e[0],"wc",1,t),divisional:gf(e[1],"div",2,t),conference:gf(e[2],"conf",3,t),superBowl:gf(e[3],"sb",4,t)}}catch(t){return console.error("Error fetching playoff games:",t),{wildCard:[],divisional:[],conference:[],superBowl:[]}}},gf=(t,e,n,s)=>{const a=t?.events||[],l=[],u=[];if(a.forEach((d,m)=>{const y=d.competitions?.[0];if(!y)return;const v=y.competitors||[],_=v.find(L=>L.homeAway==="home"),T=v.find(L=>L.homeAway==="away"),R=y.status,k=_?.team?.id==="-1"||T?.team?.id==="-1";let P="UNKNOWN";n===4?P="SB":!k&&_?.team&&(P=FA(_.team.abbreviation),P==="UNKNOWN"&&(P=zA(_.team.id)));const M={id:`${P.toLowerCase()}-${e}-${P==="AFC"?l.length:P==="NFC"?u.length:0}`,espnId:d.id,team1:k?null:yf(_,!0,s),team2:k?null:yf(T,!1,s),status:R?.type?.description||"Scheduled",statusDetail:R?.type?.shortDetail||"Game Not Started",isCompleted:R?.type?.completed||!1,isInProgress:R?.type?.state==="in",winner:ST(_,T,R),conference:P,date:d.date,isTBD:k,homeScore:k?null:parseInt(_?.score)||0,awayScore:k?null:parseInt(T?.score)||0};P==="AFC"?l.push(M):P==="NFC"&&u.push(M)}),n===4&&a.length>0){const d=a[0],m=d.competitions?.[0],y=m?.competitors||[],v=y.find(k=>k.homeAway==="home"),_=y.find(k=>k.homeAway==="away"),T=m?.status,R=v?.team?.id==="-1"||_?.team?.id==="-1";return[{id:"super-bowl",espnId:d.id,team1:R?null:yf(v,!0,s),team2:R?null:yf(_,!1,s),status:T?.type?.description||"Scheduled",statusDetail:T?.type?.shortDetail||"Game Not Started",isCompleted:T?.type?.completed||!1,isInProgress:T?.type?.state==="in",winner:ST(v,_,T),conference:"SB",date:d.date,isTBD:R,homeScore:R?null:parseInt(v?.score)||0,awayScore:R?null:parseInt(_?.score)||0}]}return[...l,...u]},yf=(t,e,n)=>{if(!t||t.id==="-1")return null;const s=t.team,a=s.id,l=n?.[a],u=zA(a),d=FA(s.abbreviation);return{id:a,name:s.name||s.displayName,city:s.location,abbreviation:s.abbreviation,displayName:s.displayName,score:parseInt(t.score)||0,seed:l?.seed||cO(t),conference:d!=="UNKNOWN"?d:u,color:uO(s.abbreviation),isHome:e}},ST=(t,e,n)=>{if(!n?.type?.completed)return null;const s=parseInt(t?.score)||0,a=parseInt(e?.score)||0;return s>a?t?.team?.id:a>s?e?.team?.id:null},cO=t=>t.curatedRank?.current||t.rank||parseInt(t.team?.displayName?.match(/\((\d+)\)/)?.[1])||null,zA=t=>{const e=["1","2","3","4","5","6","7","8","9","10","11","12","33","34"],n=["13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],s=String(t);return e.includes(s)?"AFC":n.includes(s)?"NFC":"UNKNOWN"},FA=t=>{const e=["KC","BUF","BAL","HOU","PIT","LAC","DEN","MIA","CIN","CLE","LV","IND","TEN","JAX","NE"],n=["DET","PHI","LAR","TB","MIN","WAS","GB","SF","DAL","SEA","ATL","NO","CAR","ARI","CHI","NYG"];return e.includes(t)?"AFC":n.includes(t)?"NFC":"UNKNOWN"},uO=t=>({KC:"#E31837",BUF:"#00338D",BAL:"#241773",HOU:"#03202F",PIT:"#FFB612",LAC:"#0080C6",DEN:"#FB4F14",MIA:"#008E97",CIN:"#FB4F14",CLE:"#FF3C00",LV:"#000000",IND:"#002C5F",TEN:"#0C2340",JAX:"#006778",NE:"#002244",DET:"#0076B6",PHI:"#004C54",LAR:"#003594",TB:"#D50A0A",MIN:"#4F2683",WAS:"#5A1414",GB:"#203731",SF:"#AA0000",DAL:"#041E42",SEA:"#002244",ATL:"#A71930",NO:"#D3BC8D",CAR:"#0085CA",ARI:"#97233F",CHI:"#0B162A",NYG:"#0B2265",NYJ:"#125740"})[t]||"#64748b",j0=j.createContext({});function M0(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const V0=typeof window<"u",HA=V0?j.useLayoutEffect:j.useEffect,Ud=j.createContext(null);function P0(t,e){t.indexOf(e)===-1&&t.push(e)}function O0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gs=(t,e,n)=>n>e?e:n<t?t:n;let L0=()=>{};const Ks={},qA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function GA(t){return typeof t=="object"&&t!==null}const KA=t=>/^0[^.\s]+$/u.test(t);function U0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ci=t=>t,hO=(t,e)=>n=>e(t(n)),Ru=(...t)=>t.reduce(hO),ru=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class B0{constructor(){this.subscriptions=[]}add(e){return P0(this.subscriptions,e),()=>O0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=t=>t*1e3,li=t=>t/1e3;function $A(t,e){return e?t*(1e3/e):0}const YA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fO=1e-7,dO=12;function mO(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=YA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>fO&&++d<dO);return u}function Nu(t,e,n,s){if(t===e&&n===s)return ci;const a=l=>mO(l,0,1,t,n);return l=>l===0||l===1?l:YA(a(l),e,s)}const QA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,XA=t=>e=>1-t(1-e),WA=Nu(.33,1.53,.69,.99),z0=XA(WA),JA=QA(z0),ZA=t=>(t*=2)<1?.5*z0(t):.5*(2-Math.pow(2,-10*(t-1))),F0=t=>1-Math.sin(Math.acos(t)),eC=XA(F0),tC=QA(F0),pO=Nu(.42,0,1,1),gO=Nu(0,0,.58,1),nC=Nu(.42,0,.58,1),yO=t=>Array.isArray(t)&&typeof t[0]!="number",iC=t=>Array.isArray(t)&&typeof t[0]=="number",vO={linear:ci,easeIn:pO,easeInOut:nC,easeOut:gO,circIn:F0,circInOut:tC,circOut:eC,backIn:z0,backInOut:JA,backOut:WA,anticipate:ZA},xO=t=>typeof t=="string",AT=t=>{if(iC(t)){L0(t.length===4);const[e,n,s,a]=t;return Nu(e,n,s,a)}else if(xO(t))return vO[t];return t},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _O(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(y.schedule(v),t()),v(d)}const y={schedule:(v,_=!1,T=!1)=>{const k=T&&a?n:s;return _&&u.add(v),k.has(v)||k.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,y.process(v))}};return y}const bO=40;function sC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=vf.reduce((F,W)=>(F[W]=_O(l),F),{}),{setup:d,read:m,resolveKeyframes:y,preUpdate:v,update:_,preRender:T,render:R,postRender:k}=u,P=()=>{const F=Ks.useManualTiming?a.timestamp:performance.now();n=!1,Ks.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,bO),1)),a.timestamp=F,a.isProcessing=!0,d.process(a),m.process(a),y.process(a),v.process(a),_.process(a),T.process(a),R.process(a),k.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(P))},M=()=>{n=!0,s=!0,a.isProcessing||t(P)};return{schedule:vf.reduce((F,W)=>{const ee=u[W];return F[W]=(re,A=!1,S=!1)=>(n||M(),ee.schedule(re,A,S)),F},{}),cancel:F=>{for(let W=0;W<vf.length;W++)u[vf[W]].cancel(F)},state:a,steps:u}}const{schedule:mt,cancel:Yr,state:rn,steps:mg}=sC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0);let Vf;function wO(){Vf=void 0}const Dn={now:()=>(Vf===void 0&&Dn.set(rn.isProcessing||Ks.useManualTiming?rn.timestamp:performance.now()),Vf),set:t=>{Vf=t,queueMicrotask(wO)}},rC=t=>e=>typeof e=="string"&&e.startsWith(t),aC=rC("--"),TO=rC("var(--"),H0=t=>TO(t)?EO.test(t.split("/*")[0].trim()):!1,EO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},au={...Tl,transform:t=>Gs(0,1,t)},xf={...Tl,default:1},Kc=t=>Math.round(t*1e5)/1e5,q0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SO(t){return t==null}const AO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G0=(t,e)=>n=>!!(typeof n=="string"&&AO.test(n)&&n.startsWith(t)||e&&!SO(n)&&Object.prototype.hasOwnProperty.call(n,e)),oC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(q0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},CO=t=>Gs(0,255,t),pg={...Tl,transform:t=>Math.round(CO(t))},Oa={test:G0("rgb","red"),parse:oC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+pg.transform(t)+", "+pg.transform(e)+", "+pg.transform(n)+", "+Kc(au.transform(s))+")"};function RO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ly={test:G0("#"),parse:RO,transform:Oa.transform},Iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nr=Iu("deg"),hs=Iu("%"),Re=Iu("px"),NO=Iu("vh"),IO=Iu("vw"),CT={...hs,parse:t=>hs.parse(t)/100,transform:t=>hs.transform(t*100)},Ho={test:G0("hsl","hue"),parse:oC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+hs.transform(Kc(e))+", "+hs.transform(Kc(n))+", "+Kc(au.transform(s))+")"},Ut={test:t=>Oa.test(t)||ly.test(t)||Ho.test(t),parse:t=>Oa.test(t)?Oa.parse(t):Ho.test(t)?Ho.parse(t):ly.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):Ho.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},DO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kO(t){return isNaN(t)&&typeof t=="string"&&(t.match(q0)?.length||0)+(t.match(DO)?.length||0)>0}const lC="number",cC="color",jO="var",MO="var(",RT="${}",VO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ou(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(VO,m=>(Ut.test(m)?(s.color.push(l),a.push(cC),n.push(Ut.parse(m))):m.startsWith(MO)?(s.var.push(l),a.push(jO),n.push(m)):(s.number.push(l),a.push(lC),n.push(parseFloat(m))),++l,RT)).split(RT);return{values:n,split:d,indexes:s,types:a}}function uC(t){return ou(t).values}function hC(t){const{split:e,types:n}=ou(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===lC?l+=Kc(a[u]):d===cC?l+=Ut.transform(a[u]):l+=a[u]}return l}}const PO=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function OO(t){const e=uC(t);return hC(t)(e.map(PO))}const Qr={test:kO,parse:uC,createTransformer:hC,getAnimatableNone:OO};function gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=gg(m,d,t+1/3),l=gg(m,d,t),u=gg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function cd(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,yg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},UO=[ly,Oa,Ho],BO=t=>UO.find(e=>e.test(t));function NT(t){const e=BO(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=LO(n)),n}const IT=(t,e)=>{const n=NT(t),s=NT(e);if(!n||!s)return cd(t,e);const a={...n};return l=>(a.red=yg(n.red,s.red,l),a.green=yg(n.green,s.green,l),a.blue=yg(n.blue,s.blue,l),a.alpha=gt(n.alpha,s.alpha,l),Oa.transform(a))},cy=new Set(["none","hidden"]);function zO(t,e){return cy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FO(t,e){return n=>gt(t,e,n)}function K0(t){return typeof t=="number"?FO:typeof t=="string"?H0(t)?cd:Ut.test(t)?IT:GO:Array.isArray(t)?fC:typeof t=="object"?Ut.test(t)?IT:HO:cd}function fC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>K0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function HO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=K0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function qO(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const GO=(t,e)=>{const n=Qr.createTransformer(e),s=ou(t),a=ou(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?cy.has(t)&&!a.values.length||cy.has(e)&&!s.values.length?zO(t,e):Ru(fC(qO(s,a),a.values),n):cd(t,e)};function dC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):K0(t)(t,e)}const KO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>mt.update(e,n),stop:()=>Yr(e),now:()=>rn.isProcessing?rn.timestamp:Dn.now()}},mC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ud=2e4;function $0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ud;)e+=n,s=t.next(e);return e>=ud?1/0:e}function $O(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min($0(s),ud);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:li(a)}}const YO=5;function pC(t,e,n){const s=Math.max(e-YO,0);return $A(n-t(s),e-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vg=.001;function QO({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:s=bt.mass}){let a,l,u=1-e;u=Gs(bt.minDamping,bt.maxDamping,u),t=Gs(bt.minDuration,bt.maxDuration,li(t)),u<1?(a=y=>{const v=y*u,_=v*t,T=v-n,R=uy(y,u),k=Math.exp(-_);return vg-T/R*k},l=y=>{const _=y*u*t,T=_*n+n,R=Math.pow(u,2)*Math.pow(y,2)*t,k=Math.exp(-_),P=uy(Math.pow(y,2),u);return(-a(y)+vg>0?-1:1)*((T-R)*k)/P}):(a=y=>{const v=Math.exp(-y*t),_=(y-n)*t+1;return-vg+v*_},l=y=>{const v=Math.exp(-y*t),_=(n-y)*(t*t);return v*_});const d=5/t,m=WO(a,l,d);if(t=us(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const y=Math.pow(m,2)*s;return{stiffness:y,damping:u*2*Math.sqrt(s*y),duration:t}}}const XO=12;function WO(t,e,n){let s=n;for(let a=1;a<XO;a++)s=s-t(s)/e(s);return s}function uy(t,e){return t*Math.sqrt(1-e*e)}const JO=["duration","bounce"],ZO=["stiffness","damping","mass"];function DT(t,e){return e.some(n=>t[n]!==void 0)}function e6(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!DT(t,ZO)&&DT(t,JO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Gs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=QO(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function hd(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:y,mass:v,duration:_,velocity:T,isResolvedFromDuration:R}=e6({...n,velocity:-li(n.velocity||0)}),k=T||0,P=y/(2*Math.sqrt(m*v)),M=u-l,L=li(Math.sqrt(m/v)),B=Math.abs(M)<5;s||(s=B?bt.restSpeed.granular:bt.restSpeed.default),a||(a=B?bt.restDelta.granular:bt.restDelta.default);let F;if(P<1){const ee=uy(L,P);F=re=>{const A=Math.exp(-P*L*re);return u-A*((k+P*L*M)/ee*Math.sin(ee*re)+M*Math.cos(ee*re))}}else if(P===1)F=ee=>u-Math.exp(-L*ee)*(M+(k+L*M)*ee);else{const ee=L*Math.sqrt(P*P-1);F=re=>{const A=Math.exp(-P*L*re),S=Math.min(ee*re,300);return u-A*((k+P*L*M)*Math.sinh(S)+ee*M*Math.cosh(S))/ee}}const W={calculatedDuration:R&&_||null,next:ee=>{const re=F(ee);if(R)d.done=ee>=_;else{let A=ee===0?k:0;P<1&&(A=ee===0?us(k):pC(F,ee,re));const S=Math.abs(A)<=s,I=Math.abs(u-re)<=a;d.done=S&&I}return d.value=d.done?u:re,d},toString:()=>{const ee=Math.min($0(W),ud),re=mC(A=>W.next(ee*A).value,ee,30);return ee+"ms "+re},toTransition:()=>{}};return W}hd.applyToOptions=t=>{const e=$O(t,100,hd);return t.ease=e.ease,t.duration=us(e.duration),t.type="keyframes",t};function hy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:y=.5,restSpeed:v}){const _=t[0],T={done:!1,value:_},R=S=>d!==void 0&&S<d||m!==void 0&&S>m,k=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let P=n*e;const M=_+P,L=u===void 0?M:u(M);L!==M&&(P=L-_);const B=S=>-P*Math.exp(-S/s),F=S=>L+B(S),W=S=>{const I=B(S),V=F(S);T.done=Math.abs(I)<=y,T.value=T.done?L:V};let ee,re;const A=S=>{R(T.value)&&(ee=S,re=hd({keyframes:[T.value,k(T.value)],velocity:pC(F,S,T.value),damping:a,stiffness:l,restDelta:y,restSpeed:v}))};return A(0),{calculatedDuration:null,next:S=>{let I=!1;return!re&&ee===void 0&&(I=!0,W(S),A(S)),ee!==void 0&&S>=ee?re.next(S-ee):(!I&&W(S),T)}}}function t6(t,e,n){const s=[],a=n||Ks.mix||dC,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ci:e;d=Ru(m,d)}s.push(d)}return s}function n6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(L0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=t6(e,s,a),m=d.length,y=v=>{if(u&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const T=ru(t[_],t[_+1],v);return d[_](T)};return n?v=>y(Gs(t[0],t[l-1],v)):y}function i6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ru(0,e,s);t.push(gt(n,1,a))}}function s6(t){const e=[0];return i6(e,t.length-1),e}function r6(t,e){return t.map(n=>n*e)}function a6(t,e){return t.map(()=>e||nC).splice(0,t.length-1)}function $c({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=yO(s)?s.map(AT):AT(s),l={done:!1,value:e[0]},u=r6(n&&n.length===e.length?n:s6(e),t),d=n6(u,e,{ease:Array.isArray(a)?a:a6(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const o6=t=>t!==null;function Y0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(o6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const l6={decay:hy,inertia:hy,tween:$c,keyframes:$c,spring:hd};function gC(t){typeof t.type=="string"&&(t.type=l6[t.type])}class Q0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const c6=t=>t/100;class X0 extends Q0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gC(e);const{type:n=$c,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||$c;m!==$c&&typeof d[0]!="number"&&(this.mixKeyframes=Ru(c6,dC(d[0],d[1])),d=[0,100]);const y=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=$0(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=y}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:y=0,keyframes:v,repeat:_,repeatType:T,repeatDelay:R,type:k,onUpdate:P,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-y*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,W=s;if(_){const S=Math.min(this.currentTime,a)/d;let I=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&I--,I=Math.min(I,_+1),I%2&&(T==="reverse"?(V=1-V,R&&(V-=R/d)):T==="mirror"&&(W=u)),F=Gs(0,1,V)*d}const ee=B?{done:!1,value:v[0]}:W.next(F);l&&(ee.value=l(ee.value));let{done:re}=ee;!B&&m!==null&&(re=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return A&&k!==hy&&(ee.value=Y0(v,this.options,M,this.speed)),P&&P(ee.value),A&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KO,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function u6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const La=t=>t*180/Math.PI,fy=t=>{const e=La(Math.atan2(t[1],t[0]));return dy(e)},h6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fy,rotateZ:fy,skewX:t=>La(Math.atan(t[1])),skewY:t=>La(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dy=t=>(t=t%360,t<0&&(t+=360),t),kT=fy,jT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),MT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),f6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jT,scaleY:MT,scale:t=>(jT(t)+MT(t))/2,rotateX:t=>dy(La(Math.atan2(t[6],t[5]))),rotateY:t=>dy(La(Math.atan2(-t[2],t[0]))),rotateZ:kT,rotate:kT,skewX:t=>La(Math.atan(t[4])),skewY:t=>La(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function my(t){return t.includes("scale")?1:0}function py(t,e){if(!t||t==="none")return my(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=f6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=h6,a=d}if(!a)return my(e);const l=s[e],u=a[1].split(",").map(m6);return typeof l=="function"?l(u):u[l]}const d6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return py(n,e)};function m6(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(El),VT=t=>t===Tl||t===Re,p6=new Set(["x","y","z"]),g6=El.filter(t=>!p6.has(t));function y6(t){const e=[];return g6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>py(e,"x"),y:(t,{transform:e})=>py(e,"y")};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const za=new Set;let gy=!1,yy=!1,vy=!1;function yC(){if(yy){const t=Array.from(za).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=y6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}yy=!1,gy=!1,za.forEach(t=>t.complete(vy)),za.clear()}function vC(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yy=!0)})}function v6(){vy=!0,vC(),yC(),vy=!1}class W0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),gy||(gy=!0,mt.read(vC),mt.resolveKeyframes(yC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}u6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const x6=t=>t.startsWith("--");function _6(t,e,n){x6(e)?t.style.setProperty(e,n):t.style[e]=n}const b6=U0(()=>window.ScrollTimeline!==void 0),w6={};function T6(t,e){const n=U0(t);return()=>w6[e]??n()}const xC=T6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,PT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uc([0,.65,.55,1]),circOut:Uc([.55,0,1,.45]),backIn:Uc([.31,.01,.66,-.59]),backOut:Uc([.33,1.53,.69,.99])};function _C(t,e){if(t)return typeof t=="function"?xC()?mC(t,e):"ease-out":iC(t)?Uc(t):Array.isArray(t)?t.map(n=>_C(n,e)||PT.easeOut):PT[t]}function E6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},y=void 0){const v={[e]:n};m&&(v.offset=m);const _=_C(d,a);Array.isArray(_)&&(v.easing=_);const T={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return y&&(T.pseudoElement=y),t.animate(v,T)}function bC(t){return typeof t=="function"&&"applyToOptions"in t}function S6({type:t,...e}){return bC(t)&&xC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class A6 extends Q0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,L0(typeof e.type!="string");const y=S6(e);this.animation=E6(n,s,a,y,l),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Y0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):_6(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return li(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&b6()?(this.animation.timeline=e,ci):n(this)}}const wC={anticipate:ZA,backInOut:JA,circInOut:tC};function C6(t){return t in wC}function R6(t){typeof t.ease=="string"&&C6(t.ease)&&(t.ease=wC[t.ease])}const OT=10;class N6 extends A6{constructor(e){R6(e),gC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new X0({...u,autoplay:!1}),m=us(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-OT).value,d.sample(m).value,OT),d.stop()}}const LT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qr.test(t)||t==="0")&&!t.startsWith("url("));function I6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function D6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=LT(a,e),d=LT(l,e);return!u||!d?!1:I6(t)||(n==="spring"||bC(n))&&s}function xy(t){t.duration=0,t.type="keyframes"}const k6=new Set(["opacity","clipPath","filter","transform"]),j6=U0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:y}=e.owner.getProps();return j6()&&n&&k6.has(n)&&(n!=="transform"||!y)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const V6=40;class P6 extends Q0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:y,element:v,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:y,element:v,..._},R=v?.KeyframeResolver||W0;this.keyframeResolver=new R(d,(k,P,M)=>this.onKeyframesResolved(k,P,T,!M),m,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:y,onUpdate:v}=s;this.resolvedAt=Dn.now(),D6(e,l,u,d)||((Ks.instantAnimations||!m)&&v?.(Y0(e,s,n)),e[0]=e[e.length-1],xy(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>V6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!y&&M6(T)?new N6({...T,element:T.motionValue.owner.current}):new X0(T);R.finished.then(()=>this.notifyFinished()).catch(ci),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const O6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L6(t){const e=O6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function TC(t,e,n=1){const[s,a]=L6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return qA(u)?parseFloat(u):u}return H0(a)?TC(a,e,n+1):a}function J0(t,e){return t?.[e]??t?.default??t}const EC=new Set(["width","height","top","left","right","bottom",...El]),U6={test:t=>t==="auto",parse:t=>t},SC=t=>e=>e.test(t),AC=[Tl,Re,hs,Nr,IO,NO,U6],UT=t=>AC.find(SC(t));function B6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KA(t):!0}const z6=new Set(["brightness","contrast","saturate","opacity"]);function F6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(q0)||[];if(!s)return t;const a=n.replace(s,"");let l=z6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const H6=/\b([a-z-]*)\(.*?\)/gu,_y={...Qr,getAnimatableNone:t=>{const e=t.match(H6);return e?e.map(F6).join(" "):t}},BT={...Tl,transform:Math.round},q6={rotate:Nr,rotateX:Nr,rotateY:Nr,rotateZ:Nr,scale:xf,scaleX:xf,scaleY:xf,scaleZ:xf,skew:Nr,skewX:Nr,skewY:Nr,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:au,originX:CT,originY:CT,originZ:Re},Z0={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...q6,zIndex:BT,fillOpacity:au,strokeOpacity:au,numOctaves:BT},G6={...Z0,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:_y,WebkitFilter:_y},CC=t=>G6[t];function RC(t,e){let n=CC(t);return n!==_y&&(n=Qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const K6=new Set(["auto","none","0"]);function $6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!K6.has(l)&&ou(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=RC(n,a)}class Y6 extends W0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let y=e[m];if(typeof y=="string"&&(y=y.trim(),H0(y))){const v=TC(y,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!EC.has(s)||e.length!==2)return;const[a,l]=e,u=UT(a),d=UT(l);if(u!==d)if(VT(u)&&VT(d))for(let m=0;m<e.length;m++){const y=e[m];typeof y=="string"&&(e[m]=parseFloat(y))}else Ba[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||B6(e[a]))&&s.push(a);s.length&&$6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Ba[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function Q6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const NC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function IC(t){return GA(t)&&"offsetHeight"in t}const zT=30,X6=t=>!isNaN(parseFloat(t));class W6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=X6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B0);const s=this.events[e].add(n);return e==="change"?()=>{s(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zT);return $A(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(t,e){return new W6(t,e)}const{schedule:ev}=sC(queueMicrotask,!1),Si={x:!1,y:!1};function DC(){return Si.x||Si.y}function J6(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function kC(t,e){const n=Q6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function FT(t){return!(t.pointerType==="touch"||DC())}function Z6(t,e,n={}){const[s,a,l]=kC(t,n),u=d=>{if(!FT(d))return;const{target:m}=d,y=e(m,d);if(typeof y!="function"||!m)return;const v=_=>{FT(_)&&(y(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const jC=(t,e)=>e?t===e?!0:jC(t,e.parentElement):!1,tv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,e5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t5(t){return e5.has(t.tagName)||t.tabIndex!==-1}const Pf=new WeakSet;function HT(t){return e=>{e.key==="Enter"&&t(e)}}function xg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n5=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=HT(()=>{if(Pf.has(n))return;xg(n,"down");const a=HT(()=>{xg(n,"up")}),l=()=>xg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function qT(t){return tv(t)&&!DC()}function i5(t,e,n={}){const[s,a,l]=kC(t,n),u=d=>{const m=d.currentTarget;if(!qT(d))return;Pf.add(m);const y=e(m,d),v=(R,k)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),Pf.has(m)&&Pf.delete(m),qT(R)&&typeof y=="function"&&y(R,{success:k})},_=R=>{v(R,m===window||m===document||n.useGlobalTarget||jC(m,R.target))},T=R=>{v(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),IC(d)&&(d.addEventListener("focus",y=>n5(y,a)),!t5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function MC(t){return GA(t)&&"ownerSVGElement"in t}function s5(t){return MC(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),r5=[...AC,Ut,Qr],a5=t=>r5.find(SC(t)),nv=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function GT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function o5(...t){return e=>{let n=!1;const s=t.map(a=>{const l=GT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():GT(t[a],null)}}}}function l5(...t){return j.useCallback(o5(...t),t)}class c5 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=IC(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u5({children:t,isPresent:e,anchorX:n,root:s}){const a=j.useId(),l=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=j.useContext(nv),m=l5(l,t?.ref);return j.useInsertionEffect(()=>{const{width:y,height:v,top:_,left:T,right:R}=u.current;if(e||!l.current||!y||!v)return;const k=n==="left"?`left: ${T}`:`right: ${R}`;l.current.dataset.motionPopId=a;const P=document.createElement("style");d&&(P.nonce=d);const M=s??document.head;return M.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${k}px !important;
            top: ${_}px !important;
          }
        `),()=>{M.contains(P)&&M.removeChild(P)}},[e]),g.jsx(c5,{isPresent:e,childRef:l,sizeRef:u,children:j.cloneElement(t,{ref:m})})}const h5=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:m})=>{const y=M0(f5),v=j.useId();let _=!0,T=j.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:R=>{y.set(R,!0);for(const k of y.values())if(!k)return;s&&s()},register:R=>(y.set(R,!1),()=>y.delete(R))}),[n,y,s]);return l&&_&&(T={...T}),j.useMemo(()=>{y.forEach((R,k)=>y.set(k,!1))},[n]),j.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),u==="popLayout"&&(t=g.jsx(u5,{isPresent:n,anchorX:d,root:m,children:t})),g.jsx(Ud.Provider,{value:T,children:t})};function f5(){return new Map}function VC(t=!0){const e=j.useContext(Ud);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=j.useId();j.useEffect(()=>{if(t)return a(l)},[t]);const u=j.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const _f=t=>t.key||"";function KT(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const PC=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[y,v]=VC(u),_=j.useMemo(()=>KT(t),[t]),T=u&&!y?[]:_.map(_f),R=j.useRef(!0),k=j.useRef(_),P=M0(()=>new Map),[M,L]=j.useState(_),[B,F]=j.useState(_);HA(()=>{R.current=!1,k.current=_;for(let re=0;re<B.length;re++){const A=_f(B[re]);T.includes(A)?P.delete(A):P.get(A)!==!0&&P.set(A,!1)}},[B,T.length,T.join("-")]);const W=[];if(_!==M){let re=[..._];for(let A=0;A<B.length;A++){const S=B[A],I=_f(S);T.includes(I)||(re.splice(A,0,S),W.push(S))}return l==="wait"&&W.length&&(re=W),F(KT(re)),L(_),null}const{forceRender:ee}=j.useContext(j0);return g.jsx(g.Fragment,{children:B.map(re=>{const A=_f(re),S=u&&!y?!1:_===B||T.includes(A),I=()=>{if(P.has(A))P.set(A,!0);else return;let V=!0;P.forEach(N=>{N||(V=!1)}),V&&(ee?.(),F(k.current),u&&v?.(),s&&s())};return g.jsx(h5,{isPresent:S,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:S?void 0:I,anchorX:d,children:re},A)})})},OC=j.createContext({strict:!1}),$T={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const t in $T)hl[t]={isEnabled:e=>$T[t].some(n=>!!e[n])};function d5(t){for(const e in t)hl[e]={...hl[e],...t[e]}}const m5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||m5.has(t)}let LC=t=>!fd(t);function p5(t){typeof t=="function"&&(LC=e=>e.startsWith("on")?!fd(e):t(e))}try{p5(require("@emotion/is-prop-valid").default)}catch{}function g5(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(LC(a)||n===!0&&fd(a)||!e&&!fd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Bd=j.createContext({});function zd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function lu(t){return typeof t=="string"||Array.isArray(t)}const iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sv=["initial",...iv];function Fd(t){return zd(t.animate)||sv.some(e=>lu(t[e]))}function UC(t){return!!(Fd(t)||t.variants)}function y5(t,e){if(Fd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||lu(n)?n:void 0,animate:lu(s)?s:void 0}}return t.inherit!==!1?e:{}}function v5(t){const{initial:e,animate:n}=y5(t,j.useContext(Bd));return j.useMemo(()=>({initial:e,animate:n}),[YT(e),YT(n)])}function YT(t){return Array.isArray(t)?t.join(" "):t}function QT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=QT(t,e.target.x),s=QT(t,e.target.y);return`${n}% ${s}%`}},x5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Qr.parse(t);if(a.length>5)return s;const l=Qr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const y=gt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=y),typeof a[3+u]=="number"&&(a[3+u]/=y),l(a)}},by={borderRadius:{...kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kc,borderTopRightRadius:kc,borderBottomLeftRadius:kc,borderBottomRightRadius:kc,boxShadow:x5};function BC(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!by[t]||t==="opacity")}const _5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b5=El.length;function w5(t,e,n){let s="",a=!0;for(let l=0;l<b5;l++){const u=El[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const y=NC(d,Z0[u]);if(!m){a=!1;const v=_5[u]||u;s+=`${v}(${y}) `}n&&(e[u]=y)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function rv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const y=e[m];if(Sl.has(m)){u=!0;continue}else if(aC(m)){a[m]=y;continue}else{const v=NC(y,Z0[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=w5(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:y="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${y} ${v}`}}const av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zC(t,e,n){for(const s in e)!pn(e[s])&&!BC(s,n)&&(t[s]=e[s])}function T5({transformTemplate:t},e){return j.useMemo(()=>{const n=av();return rv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function E5(t,e){const n=t.style||{},s={};return zC(s,n,t),Object.assign(s,T5(t,e)),s}function S5(t,e){const n={},s=E5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const A5={offset:"stroke-dashoffset",array:"stroke-dasharray"},C5={offset:"strokeDashoffset",array:"strokeDasharray"};function R5(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?A5:C5;t[l.offset]=Re.transform(-s);const u=Re.transform(e),d=Re.transform(n);t[l.array]=`${u} ${d}`}function FC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,y,v){if(rv(t,d,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T}=t;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&R5(_,a,l,u,!1)}const HC=()=>({...av(),attrs:{}}),qC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function N5(t,e,n,s){const a=j.useMemo(()=>{const l=HC();return FC(l,e,qC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};zC(l,t.style,t),a.style={...l,...a.style}}return a}const I5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ov(t){return typeof t!="string"||t.includes("-")?!1:!!(I5.indexOf(t)>-1||/[A-Z]/u.test(t))}function D5(t,e,n,{latestValues:s},a,l=!1){const d=(ov(t)?N5:S5)(e,s,a,t),m=g5(e,typeof t=="string",l),y=t!==j.Fragment?{...m,...d,ref:n}:{},{children:v}=e,_=j.useMemo(()=>pn(v)?v.get():v,[v]);return j.createElement(t,{...y,children:_})}function XT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function lv(t,e,n,s){if(typeof e=="function"){const[a,l]=XT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=XT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Of(t){return pn(t)?t.get():t}function k5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:j5(n,s,a,t),renderState:e()}}function j5(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Of(l[T]);let{initial:u,animate:d}=t;const m=Fd(t),y=UC(t);e&&y&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const _=v?d:u;if(_&&typeof _!="boolean"&&!zd(_)){const T=Array.isArray(_)?_:[_];for(let R=0;R<T.length;R++){const k=lv(t,T[R]);if(k){const{transitionEnd:P,transition:M,...L}=k;for(const B in L){let F=L[B];if(Array.isArray(F)){const W=v?F.length-1:0;F=F[W]}F!==null&&(a[B]=F)}for(const B in P)a[B]=P[B]}}}return a}const GC=t=>(e,n)=>{const s=j.useContext(Bd),a=j.useContext(Ud),l=()=>k5(t,e,s,a);return n?l():M0(l)};function cv(t,e,n){const{style:s}=t,a={};for(const l in s)(pn(s[l])||e.style&&pn(e.style[l])||BC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const M5=GC({scrapeMotionValuesFromProps:cv,createRenderState:av});function KC(t,e,n){const s=cv(t,e,n);for(const a in t)if(pn(t[a])||pn(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const V5=GC({scrapeMotionValuesFromProps:KC,createRenderState:HC}),P5=Symbol.for("motionComponentSymbol");function qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O5(t,e,n){return j.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qo(n)&&(n.current=s))},[e])}const uv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L5="framerAppearId",$C="data-"+uv(L5),YC=j.createContext({});function U5(t,e,n,s,a){const{visualElement:l}=j.useContext(Bd),u=j.useContext(OC),d=j.useContext(Ud),m=j.useContext(nv).reducedMotion,y=j.useRef(null);s=s||u.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=y.current,_=j.useContext(YC);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&B5(y.current,n,a,_);const T=j.useRef(!1);j.useInsertionEffect(()=>{v&&T.current&&v.update(n,d)});const R=n[$C],k=j.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return HA(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),j.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),k.current=!1),v.enteringChildren=void 0)}),v}function B5(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:y,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&qo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:y})}function QC(t){if(t)return t.options.allowProjection!==!1?t.projection:QC(t.parent)}function _g(t,{forwardMotionProps:e=!1}={},n,s){n&&d5(n);const a=ov(t)?V5:M5;function l(d,m){let y;const v={...j.useContext(nv),...d,layoutId:z5(d)},{isStatic:_}=v,T=v5(d),R=a(d,_);if(!_&&V0){F5();const k=H5(v);y=k.MeasureLayout,T.visualElement=U5(t,R,v,s,k.ProjectionNode)}return g.jsxs(Bd.Provider,{value:T,children:[y&&T.visualElement?g.jsx(y,{visualElement:T.visualElement,...v}):null,D5(t,d,O5(R,T.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=j.forwardRef(l);return u[P5]=t,u}function z5({layoutId:t}){const e=j.useContext(j0).id;return e&&t!==void 0?e+"-"+t:t}function F5(t,e){j.useContext(OC).strict}function H5(t){const{drag:e,layout:n}=hl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function q5(t,e){if(typeof Proxy>"u")return _g;const n=new Map,s=(l,u)=>_g(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,_g(u,void 0,t,e)),n.get(u))})}function XC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function G5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function K5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function bg(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!bg(t)||!bg(e)||!bg(n)}function Ma(t){return wy(t)||WC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WC(t){return WT(t.x)||WT(t.y)}function WT(t){return t&&t!=="0%"}function dd(t,e,n){const s=t-n,a=e*s;return n+a}function JT(t,e,n,s,a){return a!==void 0&&(t=dd(t,a,s)),dd(t,n,s)+e}function Ty(t,e=0,n=1,s,a){t.min=JT(t.min,e,n,s,a),t.max=JT(t.max,e,n,s,a)}function JC(t,{x:e,y:n}){Ty(t.x,e.translate,e.scale,e.originPoint),Ty(t.y,n.translate,n.scale,n.originPoint)}const ZT=.999999999999,eE=1.0000000000001;function $5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ko(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,JC(t,u)),s&&Ma(l.latestValues)&&Ko(t,l.latestValues))}e.x<eE&&e.x>ZT&&(e.x=1),e.y<eE&&e.y>ZT&&(e.y=1)}function Go(t,e){t.min=t.min+e,t.max=t.max+e}function tE(t,e,n,s,a=.5){const l=gt(t.min,t.max,a);Ty(t,e,n,l,s)}function Ko(t,e){tE(t.x,e.x,e.scaleX,e.scale,e.originX),tE(t.y,e.y,e.scaleY,e.scale,e.originY)}function ZC(t,e){return XC(K5(t.getBoundingClientRect(),e))}function Y5(t,e,n){const s=ZC(t,n),{scroll:a}=e;return a&&(Go(s.x,a.offset.x),Go(s.y,a.offset.y)),s}const nE=()=>({translate:0,scale:1,origin:0,originPoint:0}),$o=()=>({x:nE(),y:nE()}),iE=()=>({min:0,max:0}),Gt=()=>({x:iE(),y:iE()}),Ey={current:null},e2={current:!1};function Q5(){if(e2.current=!0,!!V0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addEventListener("change",e),e()}else Ey.current=!1}const X5=new WeakMap;function W5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(pn(a))t.addValue(s,a);else if(pn(l))t.addValue(s,ul(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,ul(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const sE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Dn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,mt.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Fd(n),this.isVariantNode=UC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const R=_[T];m[T]!==void 0&&pn(R)&&R.set(m[T])}}mount(e){this.current=e,X5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),e2.current||Q5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yr(this.notifyUpdate),Yr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Sl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&mt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hl){const n=hl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<sE.length;s++){const a=sE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=W5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ul(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(qA(s)||KA(s))?s=parseFloat(s):!a5(s)&&Qr.test(n)&&(s=RC(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=lv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!pn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ev.render(this.render)}}class t2 extends J5{constructor(){super(...arguments),this.KeyframeResolver=Y6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function n2(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Z5(t){return window.getComputedStyle(t)}class eL extends t2{constructor(){super(...arguments),this.type="html",this.renderInstance=n2}readValueFromInstance(e,n){if(Sl.has(n))return this.projection?.isProjecting?my(n):d6(e,n);{const s=Z5(e),a=(aC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZC(e,n)}build(e,n,s){rv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return cv(e,n,s)}}const i2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tL(t,e,n,s){n2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(i2.has(a)?a:uv(a),e.attrs[a])}class nL extends t2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const s=CC(n);return s&&s.default||0}return n=i2.has(n)?n:uv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return KC(e,n,s)}build(e,n,s){FC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){tL(e,n,s,a)}mount(e){this.isSVGTag=qC(e.tagName),super.mount(e)}}const iL=(t,e)=>ov(t)?new nL(e):new eL(e,{allowProjection:t!==j.Fragment});function el(t,e,n){const s=t.getProps();return lv(s,e,n!==void 0?n:s.custom,t)}const Sy=t=>Array.isArray(t);function sL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ul(n))}function rL(t){return Sy(t)?t[t.length-1]||0:t}function aL(t,e){const n=el(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=rL(l[u]);sL(t,u,d)}}function oL(t){return!!(pn(t)&&t.add)}function Ay(t,e){const n=t.getValue("willChange");if(oL(n))return n.add(e);if(!n&&Ks.WillChange){const s=new Ks.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function s2(t){return t.props[$C]}const lL=t=>t!==null;function cL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(lL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const uL={type:"spring",stiffness:500,damping:25,restSpeed:10},hL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fL={type:"keyframes",duration:.8},dL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mL=(t,{keyframes:e})=>e.length>2?fL:Sl.has(t)?t.startsWith("scale")?hL(e[1]):uL:dL;function pL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:y,...v}){return!!Object.keys(v).length}const hv=(t,e,n,s={},a,l)=>u=>{const d=J0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:y=0}=s;y=y-us(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-y,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};pL(d)||Object.assign(v,mL(t,v)),v.duration&&(v.duration=us(v.duration)),v.repeatDelay&&(v.repeatDelay=us(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(xy(v),v.delay===0&&(_=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(_=!0,xy(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const T=cL(v.keyframes,d);if(T!==void 0){mt.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new X0(v):new P6(v)};function gL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function r2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const _=t.getValue(v,t.latestValues[v]??null),T=d[v];if(T===void 0||y&&gL(y,v))continue;const R={delay:n,...J0(l||{},v)},k=_.get();if(k!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===k&&!R.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const L=s2(t);if(L){const B=window.MotionHandoffAnimation(L,v,mt);B!==null&&(R.startTime=B,P=!0)}}Ay(t,v),_.start(hv(v,_,T,t.shouldReduceMotion&&EC.has(v)?{type:!1}:R,t,P));const M=_.animation;M&&m.push(M)}return u&&Promise.all(m).then(()=>{mt.update(()=>{u&&aL(t,u)})}),m}function a2(t,e,n,s=0,a=1){const l=Array.from(t).sort((y,v)=>y.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}function Cy(t,e,n={}){const s=el(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(r2(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:_}=a;return yL(t,e,m,y,v,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,y]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>y())}else return Promise.all([l(),u(n.delay)])}function yL(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Cy(m,e,{...u,delay:n+(typeof s=="function"?0:s)+a2(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function vL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Cy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Cy(t,e,n);else{const a=typeof e=="function"?el(t,e,n.custom):e;s=Promise.all(r2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function o2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const xL=sv.length;function l2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?l2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xL;n++){const s=sv[n],a=t.props[s];(lu(a)||a===!1)&&(e[s]=a)}return e}const _L=[...iv].reverse(),bL=iv.length;function wL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>vL(t,n,s)))}function TL(t){let e=wL(t),n=rE(),s=!0;const a=m=>(y,v)=>{const _=el(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:R,...k}=_;y={...y,...k,...R}}return y};function l(m){e=m(t)}function u(m){const{props:y}=t,v=l2(t.parent)||{},_=[],T=new Set;let R={},k=1/0;for(let M=0;M<bL;M++){const L=_L[M],B=n[L],F=y[L]!==void 0?y[L]:v[L],W=lu(F),ee=L===m?B.isActive:null;ee===!1&&(k=M);let re=F===v[L]&&F!==y[L]&&W;if(re&&s&&t.manuallyAnimateOnMount&&(re=!1),B.protectedKeys={...R},!B.isActive&&ee===null||!F&&!B.prevProp||zd(F)||typeof F=="boolean")continue;const A=EL(B.prevProp,F);let S=A||L===m&&B.isActive&&!re&&W||M>k&&W,I=!1;const V=Array.isArray(F)?F:[F];let N=V.reduce(a(L),{});ee===!1&&(N={});const{prevResolvedValues:z={}}=B,D={...z,...N},ge=ae=>{S=!0,T.has(ae)&&(I=!0,T.delete(ae)),B.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in D){const de=N[ae],Ce=z[ae];if(R.hasOwnProperty(ae))continue;let je=!1;Sy(de)&&Sy(Ce)?je=!o2(de,Ce):je=de!==Ce,je?de!=null?ge(ae):T.add(ae):de!==void 0&&T.has(ae)?ge(ae):B.protectedKeys[ae]=!0}B.prevProp=F,B.prevResolvedValues=N,B.isActive&&(R={...R,...N}),s&&t.blockInitialAnimation&&(S=!1);const Ne=re&&A;S&&(!Ne||I)&&_.push(...V.map(ae=>{const de={type:L};if(typeof ae=="string"&&s&&!Ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ce}=t,je=el(Ce,ae);if(Ce.enteringChildren&&je){const{delayChildren:U}=je.transition||{};de.delay=a2(Ce.enteringChildren,t,U)}}return{animation:ae,options:de}}))}if(T.size){const M={};if(typeof y.initial!="boolean"){const L=el(t,Array.isArray(y.initial)?y.initial[0]:y.initial);L&&L.transition&&(M.transition=L.transition)}T.forEach(L=>{const B=t.getBaseTarget(L),F=t.getValue(L);F&&(F.liveStyle=!0),M[L]=B??null}),_.push({animation:M})}let P=!!_.length;return s&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(_):Promise.resolve()}function d(m,y){if(n[m].isActive===y)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,y)),n[m].isActive=y;const v=u(m);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=rE()}}}function EL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!o2(e,t):!1}function ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rE(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}class ea{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SL extends ea{constructor(e){super(e),e.animationState||(e.animationState=TL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let AL=0;class CL extends ea{constructor(){super(...arguments),this.id=AL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RL={animation:{Feature:SL},exit:{Feature:CL}};function cu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Du(t){return{point:{x:t.pageX,y:t.pageY}}}const NL=t=>e=>tv(e)&&t(e,Du(e));function Yc(t,e,n,s){return cu(t,e,NL(n),s)}const c2=1e-4,IL=1-c2,DL=1+c2,u2=.01,kL=0-u2,jL=0+u2;function _n(t){return t.max-t.min}function ML(t,e,n){return Math.abs(t-e)<=n}function aE(t,e,n,s=.5){t.origin=s,t.originPoint=gt(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=IL&&t.scale<=DL||isNaN(t.scale))&&(t.scale=1),(t.translate>=kL&&t.translate<=jL||isNaN(t.translate))&&(t.translate=0)}function Qc(t,e,n,s){aE(t.x,e.x,n.x,s?s.originX:void 0),aE(t.y,e.y,n.y,s?s.originY:void 0)}function oE(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function VL(t,e,n){oE(t.x,e.x,n.x),oE(t.y,e.y,n.y)}function lE(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function md(t,e,n){lE(t.x,e.x,n.x),lE(t.y,e.y,n.y)}function ai(t){return[t("x"),t("y")]}const h2=({current:t})=>t?t.ownerDocument.defaultView:null,cE=(t,e)=>Math.abs(t-e);function PL(t,e){const n=cE(t.x,e.x),s=cE(t.y,e.y);return Math.sqrt(n**2+s**2)}class f2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Tg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,k=PL(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!k)return;const{point:P}=T,{timestamp:M}=rn;this.history.push({...P,timestamp:M});const{onStart:L,onMove:B}=this.handlers;R||(L&&L(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,R)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=wg(R,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(T,R)=>{this.end();const{onEnd:k,onSessionEnd:P,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Tg(T.type==="pointercancel"?this.lastMoveEventInfo:wg(R,this.transformPagePoint),this.history);this.startEvent&&k&&k(T,L),P&&P(T,L)},!tv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const d=Du(e),m=wg(d,this.transformPagePoint),{point:y}=m,{timestamp:v}=rn;this.history=[{...y,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,Tg(m,this.history)),this.removeListeners=Ru(Yc(this.contextWindow,"pointermove",this.handlePointerMove),Yc(this.contextWindow,"pointerup",this.handlePointerUp),Yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yr(this.updatePoint)}}function wg(t,e){return e?{point:e(t.point)}:t}function uE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tg({point:t},e){return{point:t,delta:uE(t,d2(e)),offset:uE(t,OL(e)),velocity:LL(e,.1)}}function OL(t){return t[0]}function d2(t){return t[t.length-1]}function LL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=d2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>us(e)));)n--;if(!s)return{x:0,y:0};const l=li(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function UL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?gt(n,t,s.max):Math.min(t,n)),t}function hE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BL(t,{top:e,left:n,bottom:s,right:a}){return{x:hE(t.x,n,a),y:hE(t.y,e,s)}}function fE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function zL(t,e){return{x:fE(t.x,e.x),y:fE(t.y,e.y)}}function FL(t,e){let n=.5;const s=_n(t),a=_n(e);return a>s?n=ru(e.min,e.max-s,t.min):s>a&&(n=ru(t.min,t.max-a,e.min)),Gs(0,1,n)}function HL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ry=.35;function qL(t=Ry){return t===!1?t=0:t===!0&&(t=Ry),{x:dE(t,"left","right"),y:dE(t,"top","bottom")}}function dE(t,e,n){return{min:mE(t,e),max:mE(t,n)}}function mE(t,e){return typeof t=="number"?t:t[e]||0}const GL=new WeakMap;class KL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Du(_).point)},u=(_,T)=>{const{drag:R,dragPropagation:k,onDragStart:P}=this.getProps();if(R&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J6(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(L=>{let B=this.getAxisMotionValue(L).get()||0;if(hs.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const W=F.layout.layoutBox[L];W&&(B=_n(W)*(parseFloat(B)/100))}}this.originPoint[L]=B}),P&&mt.postRender(()=>P(_,T)),Ay(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:R,dragDirectionLock:k,onDirectionLock:P,onDrag:M}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:L}=T;if(k&&this.currentDirection===null){this.currentDirection=$L(L),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",T.point,L),this.updateAxis("y",T.point,L),this.visualElement.render(),M&&M(_,T)},m=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>ai(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new f2(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:h2(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&mt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!bf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=UL(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=BL(s.layoutBox,e):this.constraints=!1,this.elastic=qL(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ai(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Y5(s,a.root,this.visualElement.getTransformPagePoint());let u=zL(a.layout.layoutBox,l);if(n){const d=n(G5(u));this.hasMutatedConstraints=!!d,d&&(u=XC(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},y=ai(v=>{if(!bf(v,n,this.currentDirection))return;let _=m&&m[v]||{};u&&(_={min:0,max:0});const T=a?200:1e6,R=a?40:1e7,k={type:"inertia",velocity:s?e[v]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,k)});return Promise.all(y).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ay(this.visualElement,e),s.start(hv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ai(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ai(n=>{const{drag:s}=this.getProps();if(!bf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-gt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ai(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=FL({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ai(u=>{if(!bf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:y}=this.constraints[u];d.set(gt(m,y,a[u]))})}addListeners(){if(!this.visualElement.current)return;GL.set(this.visualElement,this);const e=this.visualElement.current,n=Yc(e,"pointerdown",m=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),mt.read(s);const u=cu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(ai(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Ry,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $L(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YL extends ea{constructor(e){super(e),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new KL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const pE=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class QL extends ea{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(e){this.session=new f2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:pE(e),onStart:pE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&mt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Eg=!1;class XL extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Eg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Eg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||mt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Eg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function m2(t){const[e,n]=VC(),s=j.useContext(j0);return g.jsx(XL,{...t,layoutGroup:s,switchLayoutGroup:j.useContext(YC),isPresent:e,safeToRemove:n})}function WL(t,e,n){const s=pn(t)?t:ul(t);return s.start(hv("",s,e,n)),s.animation}const JL=(t,e)=>t.depth-e.depth;class ZL{constructor(){this.children=[],this.isDirty=!1}add(e){P0(this.children,e),this.isDirty=!0}remove(e){O0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JL),this.isDirty=!1,this.children.forEach(e)}}function e9(t,e){const n=Dn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Yr(s),t(l-e))};return mt.setup(s,!0),()=>Yr(s)}const p2=["TopLeft","TopRight","BottomLeft","BottomRight"],t9=p2.length,gE=t=>typeof t=="string"?parseFloat(t):t,yE=t=>typeof t=="number"||Re.test(t);function n9(t,e,n,s,a,l){a?(t.opacity=gt(0,n.opacity??1,i9(s)),t.opacityExit=gt(e.opacity??1,0,s9(s))):l&&(t.opacity=gt(e.opacity??1,n.opacity??1,s));for(let u=0;u<t9;u++){const d=`border${p2[u]}Radius`;let m=vE(e,d),y=vE(n,d);if(m===void 0&&y===void 0)continue;m||(m=0),y||(y=0),m===0||y===0||yE(m)===yE(y)?(t[d]=Math.max(gt(gE(m),gE(y),s),0),(hs.test(y)||hs.test(m))&&(t[d]+="%")):t[d]=y}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,s))}function vE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const i9=g2(0,.5,eC),s9=g2(.5,.95,ci);function g2(t,e,n){return s=>s<t?0:s>e?1:n(ru(t,e,s))}function xE(t,e){t.min=e.min,t.max=e.max}function Ei(t,e){xE(t.x,e.x),xE(t.y,e.y)}function _E(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function bE(t,e,n,s,a){return t-=e,t=dd(t,1/n,s),a!==void 0&&(t=dd(t,1/a,s)),t}function r9(t,e=0,n=1,s=.5,a,l=t,u=t){if(hs.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=gt(l.min,l.max,s);t===l&&(d-=e),t.min=bE(t.min,e,n,d,a),t.max=bE(t.max,e,n,d,a)}function wE(t,e,[n,s,a],l,u){r9(t,e[n],e[s],e[a],e.scale,l,u)}const a9=["x","scaleX","originX"],o9=["y","scaleY","originY"];function TE(t,e,n,s){wE(t.x,e,a9,n?n.x:void 0,s?s.x:void 0),wE(t.y,e,o9,n?n.y:void 0,s?s.y:void 0)}function EE(t){return t.translate===0&&t.scale===1}function y2(t){return EE(t.x)&&EE(t.y)}function SE(t,e){return t.min===e.min&&t.max===e.max}function l9(t,e){return SE(t.x,e.x)&&SE(t.y,e.y)}function AE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function v2(t,e){return AE(t.x,e.x)&&AE(t.y,e.y)}function CE(t){return _n(t.x)/_n(t.y)}function RE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class c9{constructor(){this.members=[]}add(e){P0(this.members,e),e.scheduleRender()}remove(e){if(O0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:y,rotate:v,rotateX:_,rotateY:T,skewX:R,skewY:k}=n;y&&(s=`perspective(${y}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),T&&(s+=`rotateY(${T}deg) `),R&&(s+=`skewX(${R}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Sg=["","X","Y","Z"],h9=1e3;let f9=0;function Ag(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function x2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=s2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&x2(s)}function _2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=f9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(p9),this.nodes.forEach(x9),this.nodes.forEach(_9),this.nodes.forEach(g9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZL)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new B0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=MC(u)&&!s5(u),this.instance=u;const{layoutId:d,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,_=0;const T=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{_=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,v&&v(),v=e9(T,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(DE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||S9,{onLayoutAnimationStart:P,onLayoutAnimationComplete:M}=y.getProps(),L=!this.targetLayout||!v2(this.targetLayout,R),B=!_&&T;if(this.options.layoutRoot||this.resumeFrom||B||_&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...J0(k,"layout"),onPlay:P,onComplete:M};(y.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,B)}else _||DE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&x2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(IE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(v9),this.nodes.forEach(d9),this.nodes.forEach(m9)):this.nodes.forEach(IE),this.clearAllSnapshots();const d=Dn.now();rn.delta=Gs(0,1e3/60,d-rn.timestamp),rn.timestamp=d,rn.isProcessing=!0,mg.update.process(rn),mg.preRender.process(rn),mg.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y9),this.sharedNodes.forEach(w9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!y2(this.projectionDelta),m=this.getTransformTemplate(),y=m?m(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;u&&this.instance&&(d||Ma(this.latestValues)||v)&&(a(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),A9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(C9))){const{scroll:y}=this.root;y&&(Go(d.x,y.offset.x),Go(d.y,y.offset.y))}return d}removeElementScroll(u){const d=Gt();if(Ei(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:v,options:_}=y;y!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Ei(d,u),Go(d.x,v.offset.x),Go(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const m=Gt();Ei(m,u);for(let y=0;y<this.path.length;y++){const v=this.path[y];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ko(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ma(v.latestValues)&&Ko(m,v.latestValues)}return Ma(this.latestValues)&&Ko(m,this.latestValues),m}removeTransform(u){const d=Gt();Ei(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];if(!y.instance||!Ma(y.latestValues))continue;wy(y.latestValues)&&y.updateSnapshot();const v=Gt(),_=y.measurePageBox();Ei(v,_),TE(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return Ma(this.latestValues)&&TE(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!this.layout||!(v||_))return;this.resolvedRelativeTargetAt=rn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),JC(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||WC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),md(this.relativeTargetOrigin,d,m),Ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(m=!1),m)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;Ei(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;$5(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_E(this.prevProjectionDelta.x,this.projectionDelta.x),_E(this.prevProjectionDelta.y,this.projectionDelta.y)),Qc(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!RE(this.projectionDelta.x,this.prevProjectionDelta.x)||!RE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$o(),this.projectionDelta=$o(),this.projectionDeltaWithTransform=$o()}setAnimationOrigin(u,d=!1){const m=this.snapshot,y=m?m.latestValues:{},v={...this.latestValues},_=$o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Gt(),R=m?m.source:void 0,k=this.layout?this.layout.source:void 0,P=R!==k,M=this.getStack(),L=!M||M.members.length<=1,B=!!(P&&!L&&this.options.crossfade===!0&&!this.path.some(E9));this.animationProgress=0;let F;this.mixTargetDelta=W=>{const ee=W/1e3;kE(_.x,u.x,ee),kE(_.y,u.y,ee),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(md(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T9(this.relativeTarget,this.relativeTargetOrigin,T,ee),F&&l9(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Gt()),Ei(F,this.relativeTarget)),P&&(this.animationValues=v,n9(v,y,this.latestValues,ee,B,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ul(0)),this.currentAnimation=WL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:y,latestValues:v}=u;if(!(!d||!m||!y)){if(this!==u&&this.layout&&y&&b2(this.options.animationType,this.layout.layoutBox,y.layoutBox)){m=this.target||Gt();const _=_n(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const T=_n(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}Ei(d,m),Ko(d,v),Qc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new c9),this.sharedNodes.get(u).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const y=this.getStack();y&&y.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const y={};m.z&&Ag("z",u,y,this.animationValues);for(let v=0;v<Sg.length;v++)Ag(`rotate${Sg[v]}`,u,y,this.animationValues),Ag(`skew${Sg[v]}`,u,y,this.animationValues);u.render();for(const v in y)u.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Of(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Of(d?.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let _=u9(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),u.transform=_;const{x:T,y:R}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,y.animationValues?u.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in by){if(v[k]===void 0)continue;const{correct:P,applyTo:M,isCSSVariable:L}=by[k],B=_==="none"?v[k]:P(v[k],y);if(M){const F=M.length;for(let W=0;W<F;W++)u[M[W]]=B}else L?this.options.visualElement.renderState.vars[k]=B:u[k]=B}this.options.layoutId&&(u.pointerEvents=y===this?Of(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(NE),this.root.sharedNodes.clear()}}}function d9(t){t.updateLayout()}function m9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ai(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],T=_n(_);_.min=n[v].min,_.max=_.min+T}):b2(a,e.layoutBox,n)&&ai(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],T=_n(n[v]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=$o();Qc(u,n,e.layoutBox);const d=$o();l?Qc(d,t.applyTransform(s,!0),e.measuredBox):Qc(d,n,e.layoutBox);const m=!y2(u);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:T}=v;if(_&&T){const R=Gt();md(R,e.layoutBox,_.layoutBox);const k=Gt();md(k,n,T.layoutBox),v2(R,k)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=R,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function p9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function g9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function y9(t){t.clearSnapshot()}function NE(t){t.clearMeasurements()}function IE(t){t.isLayoutDirty=!1}function v9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function x9(t){t.resolveTargetDelta()}function _9(t){t.calcProjection()}function b9(t){t.resetSkewAndRotation()}function w9(t){t.removeLeadSnapshot()}function kE(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jE(t,e,n,s){t.min=gt(e.min,n.min,s),t.max=gt(e.max,n.max,s)}function T9(t,e,n,s){jE(t.x,e.x,n.x,s),jE(t.y,e.y,n.y,s)}function E9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const S9={duration:.45,ease:[.4,0,.1,1]},ME=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VE=ME("applewebkit/")&&!ME("chrome/")?Math.round:ci;function PE(t){t.min=VE(t.min),t.max=VE(t.max)}function A9(t){PE(t.x),PE(t.y)}function b2(t,e,n){return t==="position"||t==="preserve-aspect"&&!ML(CE(e),CE(n),.2)}function C9(t){return t!==t.root&&t.scroll?.wasRoot}const R9=_2({attachResizeListener:(t,e)=>cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},w2=_2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cg.current){const t=new R9({});t.mount(window),t.setOptions({layoutScroll:!0}),Cg.current=t}return Cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),N9={pan:{Feature:QL},drag:{Feature:YL,ProjectionNode:w2,MeasureLayout:m2}};function OE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&mt.postRender(()=>l(e,Du(e)))}class I9 extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=Z6(e,(n,s)=>(OE(this.node,s,"Start"),a=>OE(this.node,a,"End"))))}unmount(){}}class D9 extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&mt.postRender(()=>l(e,Du(e)))}class k9 extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=i5(e,(n,s)=>(LE(this.node,s,"Start"),(a,{success:l})=>LE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ny=new WeakMap,Rg=new WeakMap,j9=t=>{const e=Ny.get(t.target);e&&e(t)},M9=t=>{t.forEach(j9)};function V9({root:t,...e}){const n=t||document;Rg.has(n)||Rg.set(n,{});const s=Rg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(M9,{root:t,...e})),s[a]}function P9(t,e,n){const s=V9(e);return Ny.set(t,n),s.observe(t),()=>{Ny.delete(t),s.unobserve(t)}}const O9={some:0,all:1};class L9 extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:O9[a]},d=m=>{const{isIntersecting:y}=m;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),T=y?v:_;T&&T(m)};return P9(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(U9(e,n))&&this.startObserver()}unmount(){}}function U9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const B9={inView:{Feature:L9},tap:{Feature:k9},focus:{Feature:D9},hover:{Feature:I9}},z9={layout:{ProjectionNode:w2,MeasureLayout:m2}},F9={...RL,...B9,...N9,...z9},zn=q5(F9,iL);function At({matchup:t,onPickWinner:e,isLocked:n=!1}){if(!t)return g.jsxs("div",{className:"w-40 lg:w-48 flex-shrink-0 opacity-50",children:[g.jsx("div",{className:"text-center mb-1",children:g.jsx("span",{className:"text-[8px] lg:text-[9px] font-bold uppercase tracking-wider text-slate-500",children:"Game Not Started"})}),g.jsxs("div",{className:"shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm",children:[g.jsx("div",{className:"h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-t-xl border-x border-t border-slate-800/40",children:g.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})}),g.jsx("div",{className:"h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-b-xl border-x border-b border-slate-800/40",children:g.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})})]})]});const{team1:s,team2:a,winner:l,espnWinner:u,statusDetail:d,homeScore:m,awayScore:y,isInProgress:v,isCompleted:_,conference:T,actualTeam1:R,actualTeam2:k}=t,P=R&&k,M=P&&s&&(s.id===R.id||s.abbreviation===R.abbreviation),L=P&&a&&(a.id===k.id||a.abbreviation===k.abbreviation),B=M&&L,F=M&&!L||!M&&L,W=P&&!M&&!L;_&&u&&l&&B&&l.id,_&&u&&l&&B&&l.id;const ee=()=>!s||!a?"Game Not Started":P&&(F||W)?_||v?`${R.abbreviation} ${R.score||0} - ${k.score||0} ${k.abbreviation}`:`Actual: ${R.abbreviation} vs ${k.abbreviation}`:_&&m!==null&&y!==null?`Final: ${s.isHome?m:y} - ${s.isHome?y:m}`:v&&m!==null&&y!==null?`Live: ${s.isHome?m:y} - ${s.isHome?y:m}`:d||"Game Not Started",re=()=>P?W?"text-red-400":F?"text-yellow-400":_?"text-green-400":v?"text-yellow-400":"text-slate-500":"text-slate-500",A=()=>v?T==="AFC"?"ring-2 ring-red-500 shadow-lg shadow-red-500/50":T==="NFC"?"ring-2 ring-blue-500 shadow-lg shadow-blue-500/50":T==="SB"?"ring-2 ring-yellow-500 shadow-lg shadow-yellow-500/50":"":"",S=(I,V)=>{if(!I)return g.jsx("div",{className:`h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-${V?"b":"t"}-xl border-x border-slate-800/40 ${V?"border-b":"border-t"}`,children:g.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})});const N=l?.id===I.id,z=l&&l.id!==I.id,D=!n&&I,ge=R?.id===I.id||k?.id===I.id,Ne=_&&u&&ge&&I.id===u;_&&u&&ge&&I.id;const G=_&&N&&Ne&&B,ae=_&&N&&Ne===!1&&B&&ge;return g.jsxs(zn.button,{whileHover:D?{backgroundColor:"rgba(30, 41, 59, 0.9)",x:2}:{},whileTap:D?{scale:.98}:{},onClick:()=>D&&e(t.id,I),disabled:!D,className:`w-full h-9 lg:h-11 px-3 lg:px-4 flex items-center justify-between transition-all relative overflow-hidden
          ${V?"rounded-b-xl":"rounded-t-xl"} 
          ${G?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":ae?"bg-red-900/40 ring-1 ring-inset ring-red-400/50":N?"bg-slate-800/80 ring-1 ring-inset ring-blue-400/30":Ne?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":"bg-slate-900/60"} 
          ${z&&!Ne?"opacity-20 grayscale":"opacity-100"}
          ${D?"cursor-pointer":"cursor-not-allowed"}
          border-x border-slate-800/50 ${V?"border-b":"border-t"}`,children:[(N||Ne)&&g.jsx(zn.div,{layoutId:`winner-glow-${t.id}-${I.id}`,className:`absolute inset-0 pointer-events-none ${G?"bg-gradient-to-r from-green-500/20 to-transparent":ae?"bg-gradient-to-r from-red-500/20 to-transparent":Ne?"bg-gradient-to-r from-green-500/20 to-transparent":"bg-gradient-to-r from-blue-500/10 to-transparent"}`}),g.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 z-10",children:[g.jsx("div",{className:"w-5 h-5 lg:w-6 lg:h-6 rounded flex items-center justify-center font-bold text-[9px] lg:text-[10px] text-white shadow-lg border border-white/10",style:{backgroundColor:I.color},children:I.seed}),g.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[g.jsx("span",{className:"text-[7px] lg:text-[8px] text-slate-500 font-bold uppercase tracking-wider",children:I.city}),g.jsx("span",{className:"font-bold text-[11px] lg:text-[13px] text-slate-100 uppercase tracking-tight",children:I.name})]})]}),g.jsx(PC,{children:(N||Ne)&&g.jsx(zn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:G?"text-green-400":ae?"text-red-400":Ne?"text-green-400":"text-blue-400",children:g.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 lg:w-4 lg:h-4",children:g.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})};return g.jsxs("div",{className:`w-40 lg:w-48 flex-shrink-0 relative group transition-all duration-500 ${!s||!a?"opacity-50":"opacity-100"}`,children:[g.jsxs("div",{className:"text-center mb-1",children:[g.jsx("span",{className:`text-[8px] lg:text-[9px] font-bold uppercase tracking-wider ${re()}`,children:ee()}),W&&g.jsx("div",{className:"text-[7px] text-red-400 mt-0.5",children:" Wrong matchup"}),F&&g.jsx("div",{className:"text-[7px] text-yellow-400 mt-0.5",children:" 1 team correct"})]}),g.jsxs("div",{className:`shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm ${A()}`,children:[S(s,!1),S(a,!0)]})]})}const Iy="/assets/super_bowl_lx-logo_brandlogos.net_3b9vb-STySwuiF.png";function H9(){const{roomId:t}=gd(),{user:e,isAdmin:n}=ms(),s=ji(),[a,l]=j.useState(null),[u,d]=j.useState(null),[m,y]=j.useState(!0),[v,_]=j.useState(null),[T,R]=j.useState({});j.useEffect(()=>{P();const le=setInterval(()=>{k()},3e4);return()=>clearInterval(le)},[t,e]);const k=async()=>{const le=await ld();le&&l(le),await M()},P=async()=>{const le=await ld();le&&l(le),await B(),await L(),await M(),y(!1)},M=async()=>{const le=await ln(ot(Oe,"gameResults",t));le.exists()&&R(le.data().results||{})},L=async()=>{const le=await ln(ot(Oe,"rooms",t));le.exists()&&_(le.data().createdBy)},B=async()=>{const le=ot(Oe,"brackets",`${t}_${e.uid}`),be=await ln(le);be.exists()&&d(be.data())},F=async(le,be=!1)=>{const ve=ot(Oe,"brackets",`${t}_${e.uid}`),Ft={userId:e.uid,roomId:t,picks:le,submitted:be,submittedAt:be?new Date:null};await Zo(ve,Ft),d(Ft)},W=(le,be)=>{if(u?.submitted||!be||!be.id)return;const ve={...u?.picks||{},[le]:be.id};F(ve,!1)},ee=async()=>{if(!u?.picks||Object.keys(u.picks).length===0){alert("Please make at least one pick before submitting");return}const be=[...N.map(ve=>ve.id),...z.map(ve=>ve.id),...ge.map(ve=>ve.id),...Ne.map(ve=>ve.id),Ce.id,je.id,Te.id].filter(ve=>!u.picks[ve]);if(be.length>0){alert(`Please complete your bracket! You're missing ${be.length} pick(s).

You must pick a winner for every game in all rounds including the Super Bowl.`);return}await F(u.picks,!0)},re=async()=>{if(window.confirm("Are you sure you want to reset ALL brackets in this room? This cannot be undone."))try{const le=jr(Ai(Oe,"brackets"),Ci("roomId","==",t)),be=await Mr(le);if(be.empty){alert("No brackets to reset.");return}const ve=VA(Oe);be.docs.forEach(Ft=>{ve.delete(Ft.ref)}),await ve.commit(),d(null),alert(`Successfully reset ${be.docs.length} bracket(s)!`),window.location.reload()}catch(le){console.error("Error resetting brackets:",le),alert(`Error resetting brackets: ${le.message}`)}};if(m||!a)return g.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xl",children:"Loading bracket..."})});const A=u?.submitted===!0,S=v===e.uid,I=(le,be)=>{const ve=u?.picks?.[le];return ve?be?.team1?.id===ve?be.team1:be?.team2?.id===ve?be.team2:null:null},V=le=>{if(!le||!le.id)return le;const be=I(le.id,le);let ve=null;return le.isCompleted&&le.winner&&(ve=le.winner),{...le,actualTeam1:le.team1,actualTeam2:le.team2,espnWinner:ve,winner:be}},N=(a?.wildCard?.filter(le=>le?.conference==="AFC")||[]).map(V),z=(a?.wildCard?.filter(le=>le?.conference==="NFC")||[]).map(V),D=(le,be)=>{const ve=a?.divisional?.filter(un=>un?.conference===be)||[];if(ve.length>0&&ve[0].team1&&ve[0].team2)return ve.map(V);const Ft=le.map(un=>un.winner).filter(Boolean).sort((un,ta)=>(un.seed||99)-(ta.seed||99)),Vi=be==="AFC"?{id:"7",name:"Broncos",city:"Denver",abbreviation:"DEN",seed:1,conference:"AFC",color:"#FB4F14"}:{id:"26",name:"Seahawks",city:"Seattle",abbreviation:"SEA",seed:1,conference:"NFC",color:"#002244"},Kn={id:`${be.toLowerCase()}-div-0`,team1:Vi,team2:Ft[2]||null,conference:be,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"},Ys={id:`${be.toLowerCase()}-div-1`,team1:Ft[0]||null,team2:Ft[1]||null,conference:be,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"};return[V(Kn),V(Ys)]},ge=D(N,"AFC"),Ne=D(z,"NFC"),G=ge[0]?.team1||null,ae=Ne[0]?.team1||null,de=(le,be)=>{const ve=a?.conference?.find(Kn=>Kn?.conference===be);if(ve&&ve.team1&&ve.team2)return V(ve);const Ft=le.map(Kn=>Kn.winner).filter(Boolean),Vi={id:`${be.toLowerCase()}-conf`,team1:Ft[0]||null,team2:Ft[1]||null,conference:be,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"};return V(Vi)},Ce=de(ge,"AFC"),je=de(Ne,"NFC"),U=a?.superBowl?.[0],te=U&&U.team1&&U.team2&&U.team1.id!=="31"&&U.team1.id!=="32"&&U.team2.id!=="31"&&U.team2.id!=="32",ue=Ce?.winner,fe=je?.winner;console.log("AFC Championship winner:",ue),console.log("NFC Championship winner:",fe),console.log("Has ESPN Super Bowl:",te);const Ee={id:"super-bowl",team1:te?U.team1:ue,team2:te?U.team2:fe,conference:"SB",isInProgress:te?U.isInProgress:!1,isCompleted:te?U.isCompleted:!1,statusDetail:te?U.statusDetail:"Game Not Started",homeScore:te?U.homeScore:null,awayScore:te?U.awayScore:null,winner:null};console.log("Super Bowl base:",Ee);const Te=V(Ee);return console.log("Super Bowl after addPickToGame:",Te),g.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100 relative selection:bg-blue-500/30",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),g.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between px-3 lg:px-10 py-3 lg:h-[70px] bg-slate-950/60 backdrop-blur-xl border-b border-white/5 z-50",children:[g.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-5",children:[g.jsx("button",{onClick:()=>s("/rooms"),className:"text-slate-400 hover:text-white transition p-2 lg:p-0",children:g.jsx(zr,{className:"w-7 h-7 lg:w-6 lg:h-6"})}),g.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:g.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] lg:text-[14px] font-black italic",children:"NFL"})}),g.jsxs("div",{className:"hidden sm:block",children:[g.jsx("h1",{className:"text-lg lg:text-2xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),g.jsx("p",{className:"text-[8px] lg:text-[10px] text-slate-500 font-bold uppercase tracking-[0.4em] mt-1 opacity-60",children:"Professional Playoff Simulator"})]})]}),g.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-6",children:[g.jsxs("button",{onClick:()=>s(`/leaderboard/${t}`),className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-yellow-600/20 border border-yellow-600/30 text-yellow-400 rounded-lg hover:bg-yellow-600/30 transition",children:[g.jsx(LA,{className:"w-6 h-6 lg:w-4 lg:h-4"}),g.jsx("span",{className:"text-[9px] lg:text-xs font-bold uppercase tracking-wider",children:"Board"})]}),n&&g.jsxs("button",{onClick:()=>s(`/game-results/${t}`),className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg hover:bg-blue-500/30 transition text-xs font-bold uppercase tracking-wider",children:[g.jsx(Q3,{className:"w-4 h-4"})," Game Results"]}),g.jsxs("div",{className:"hidden lg:flex items-center space-x-8 text-[11px] font-bold uppercase tracking-[0.2em] text-slate-500",children:[g.jsxs("div",{className:"flex items-center space-x-2.5",children:[g.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-600 shadow-lg shadow-red-600/30"}),g.jsx("span",{children:"AFC Bracket"})]}),g.jsxs("div",{className:"flex items-center space-x-2.5",children:[g.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-600 shadow-lg shadow-blue-600/30"}),g.jsx("span",{children:"NFC Bracket"})]})]}),n&&S&&g.jsxs(zn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:re,className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-500/30 text-red-400 rounded-lg hover:bg-red-500/30 transition text-xs font-bold uppercase tracking-wider",children:[g.jsx(V3,{className:"w-4 h-4"})," Reset All Brackets"]}),!A&&u?.picks&&Object.keys(u.picks).length>0&&g.jsxs(zn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ee,className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-6 py-2 lg:py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-xl",children:[g.jsx(dg,{className:"w-6 h-6 lg:w-4 lg:h-4"}),g.jsx("span",{className:"text-[9px] lg:text-sm",children:"Submit"})]}),A&&g.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400 font-bold",children:[g.jsx(dg,{className:"w-6 h-6 lg:w-4 lg:h-4"}),g.jsx("span",{className:"text-[9px] lg:text-xs uppercase",children:"Done"})]})]})]}),g.jsxs("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 relative overflow-x-auto",children:[g.jsxs("div",{className:"hidden lg:flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-90 lg:scale-95 xl:scale-100",children:[g.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[g.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),N.map(le=>g.jsx(At,{matchup:le,onPickWinner:W,isLocked:A},le.id)),g.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[g.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),g.jsxs("div",{className:"text-left overflow-hidden",children:[g.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),g.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:G?`${G.city} ${G.name}`:"TBD"})]})]})]}),g.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),ge.map(le=>g.jsx(At,{matchup:le,onPickWinner:W,isLocked:A},le.id))]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),g.jsx(At,{matchup:Ce,onPickWinner:W,isLocked:A})]})]}),g.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6 relative",children:[g.jsxs("div",{className:"relative w-28 h-28 lg:w-36 lg:h-36 flex items-center justify-center mb-2",children:[g.jsx(zn.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),g.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80 drop-shadow-[0_0_15px_rgba(202,138,4,0.3)]"})]}),g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/20 via-blue-500/20 to-red-600/20 rounded-2xl blur opacity-30 group-hover:opacity-70 transition duration-1000"}),g.jsx(At,{matchup:Te,onPickWinner:W,isLocked:A})]}),g.jsx("div",{className:"h-[80px] lg:h-[100px] mt-4 lg:mt-6 flex flex-col items-center justify-center",children:g.jsx(PC,{mode:"wait",children:Te.winner?g.jsxs(zn.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"text-center relative",children:[g.jsx(zn.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1,repeat:1/0,repeatDelay:2},className:"text-amber-500 font-black text-[10px] lg:text-[12px] uppercase tracking-[0.8em] mb-2",children:"Super Bowl Winner"}),g.jsx("div",{className:"text-3xl lg:text-5xl xl:text-6xl font-black text-white italic tracking-tighter uppercase drop-shadow-[0_0_30px_rgba(255,255,255,0.4)] leading-none",children:Te.winner.name}),g.jsx(zn.div,{initial:{width:0},animate:{width:120},className:"h-[2px] lg:h-[3px] bg-gradient-to-r from-transparent via-amber-500 to-transparent mx-auto mt-4 lg:mt-6 rounded-full shadow-[0_0_20px_rgba(245,158,11,0.8)]"})]},"celebration"):g.jsxs(zn.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center opacity-40",children:[g.jsx("div",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase tracking-[0.8em] italic",children:"Pick Your Champion"}),g.jsx("div",{className:"w-24 lg:w-32 h-[1px] bg-slate-800 mt-3 lg:mt-4"})]},"placeholder")})})]}),g.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[g.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),z.map(le=>g.jsx(At,{matchup:le,onPickWinner:W,isLocked:A},le.id)),g.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[g.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),g.jsxs("div",{className:"text-left overflow-hidden",children:[g.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),g.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:ae?`${ae.city} ${ae.name}`:"TBD"})]})]})]}),g.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),Ne.map(le=>g.jsx(At,{matchup:le,onPickWinner:W,isLocked:A},le.id))]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),g.jsx(At,{matchup:je,onPickWinner:W,isLocked:A})]})]})]}),g.jsx("div",{className:"lg:hidden w-full",children:g.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-10 pb-20",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Wild Card Round"}),g.jsx("p",{className:"text-sm text-slate-400",children:"First Round of Playoffs"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:g.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),g.jsx("div",{className:"space-y-4 flex flex-col items-center",children:N.map(le=>g.jsx("div",{className:"w-[220px]",children:g.jsx(At,{matchup:le,onPickWinner:W,isLocked:A})},le.id))}),g.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg w-[220px] mx-auto",children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-500/30 flex items-center justify-center",children:g.jsx("span",{className:"font-black text-sm text-red-500",children:"1"})}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-xs text-red-500/80 font-bold uppercase",children:"First Round Bye"}),g.jsx("div",{className:"text-base font-black text-white uppercase",children:G?`${G.city} ${G.name}`:"TBD"})]})]})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:g.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),g.jsx("div",{className:"space-y-4 flex flex-col items-center",children:z.map(le=>g.jsx("div",{className:"w-[220px]",children:g.jsx(At,{matchup:le,onPickWinner:W,isLocked:A})},le.id))}),g.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg w-[220px] mx-auto",children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/30 flex items-center justify-center",children:g.jsx("span",{className:"font-black text-sm text-blue-500",children:"1"})}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-xs text-blue-500/80 font-bold uppercase",children:"First Round Bye"}),g.jsx("div",{className:"text-base font-black text-white uppercase",children:ae?`${ae.city} ${ae.name}`:"TBD"})]})]})})]})]})]}),g.jsxs("div",{className:"flex items-center justify-center py-4",children:[g.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),g.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),g.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Divisional Round"}),g.jsx("p",{className:"text-sm text-slate-400",children:"Top seeds enter the bracket"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:g.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),g.jsx("div",{className:"space-y-4 flex flex-col items-center",children:ge.map(le=>g.jsx("div",{className:"w-[220px]",children:g.jsx(At,{matchup:le,onPickWinner:W,isLocked:A})},le.id))})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:g.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),g.jsx("div",{className:"space-y-4 flex flex-col items-center",children:Ne.map(le=>g.jsx("div",{className:"w-[220px]",children:g.jsx(At,{matchup:le,onPickWinner:W,isLocked:A})},le.id))})]})]})]}),g.jsxs("div",{className:"flex items-center justify-center py-4",children:[g.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),g.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),g.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Conference Championships"}),g.jsx("p",{className:"text-sm text-slate-400",children:"Battle for Super Bowl berth"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsx("div",{className:"inline-block px-6 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:g.jsx("span",{className:"text-sm font-black text-red-500 uppercase tracking-wider",children:"AFC Championship"})})}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"w-[220px]",children:g.jsx(At,{matchup:Ce,onPickWinner:W,isLocked:A})})}),Ce.winner&&g.jsxs("div",{className:"mt-4 text-center p-4 bg-red-500/10 rounded-lg border border-red-500/30 w-[220px] mx-auto",children:[g.jsx("div",{className:"text-xs text-red-500 font-bold uppercase mb-1",children:"AFC Champion"}),g.jsx("div",{className:"text-xl font-black text-white",children:Ce.winner.name})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsx("div",{className:"inline-block px-6 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:g.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-wider",children:"NFC Championship"})})}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"w-[220px]",children:g.jsx(At,{matchup:je,onPickWinner:W,isLocked:A})})}),je.winner&&g.jsxs("div",{className:"mt-4 text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/30 w-[220px] mx-auto",children:[g.jsx("div",{className:"text-xs text-blue-500 font-bold uppercase mb-1",children:"NFC Champion"}),g.jsx("div",{className:"text-xl font-black text-white",children:je.winner.name})]})]})]})]}),g.jsxs("div",{className:"flex items-center justify-center py-4",children:[g.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"}),g.jsx("div",{className:"mx-6 text-yellow-600 text-2xl",children:""}),g.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-4",children:[g.jsx(zn.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),g.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})]}),g.jsx("h2",{className:"text-4xl font-black text-yellow-500 uppercase mb-2",children:"Super Bowl LX"}),g.jsx("p",{className:"text-sm text-slate-400",children:"Championship Game"})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"w-[220px]",children:g.jsx(At,{matchup:Te,onPickWinner:W,isLocked:A})})}),Te.winner&&g.jsxs(zn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-8 text-center p-8 bg-gradient-to-b from-yellow-500/20 to-yellow-600/10 rounded-2xl border-2 border-yellow-500/40 max-w-md mx-auto",children:[g.jsx(cl,{className:"w-20 h-20 text-yellow-500 mx-auto mb-4"}),g.jsx("div",{className:"text-yellow-500 font-black text-sm uppercase tracking-widest mb-2",children:"Super Bowl Champion"}),g.jsx("div",{className:"text-4xl font-black text-white italic uppercase",children:Te.winner.name})]})]}),!A&&u?.picks&&Object.keys(u.picks).length>0&&g.jsx("div",{className:"mt-8 pb-8",children:g.jsxs(zn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ee,className:"w-full max-w-md mx-auto flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-2xl text-lg",children:[g.jsx(dg,{className:"w-5 h-5"}),"Submit Bracket"]})})]})})]}),g.jsx("footer",{className:"h-[50px] flex items-center justify-center px-10 bg-slate-950/40 border-t border-white/5 text-[9px] font-bold text-slate-500 uppercase tracking-widest relative z-50",children:g.jsxs("div",{className:"flex items-center space-x-12 opacity-40",children:[g.jsx("span",{children:"NFL Re-seeding Active: #1 hosts highest numeric seed"}),g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-800"}),g.jsx("span",{children:"Predict Super Bowl LX Live"})]})})]})}const UE=[{id:1,name:"Chiefs",city:"Kansas City",seed:1,conference:"AFC",color:"#E31837"},{id:2,name:"Bills",city:"Buffalo",seed:2,conference:"AFC",color:"#00338D"},{id:3,name:"Ravens",city:"Baltimore",seed:3,conference:"AFC",color:"#241773"},{id:4,name:"Texans",city:"Houston",seed:4,conference:"AFC",color:"#03202F"},{id:5,name:"Steelers",city:"Pittsburgh",seed:5,conference:"AFC",color:"#FFB612"},{id:6,name:"Chargers",city:"Los Angeles",seed:6,conference:"AFC",color:"#0080C6"},{id:7,name:"Broncos",city:"Denver",seed:7,conference:"AFC",color:"#FB4F14"},{id:8,name:"Lions",city:"Detroit",seed:1,conference:"NFC",color:"#0076B6"},{id:9,name:"Eagles",city:"Philadelphia",seed:2,conference:"NFC",color:"#004C54"},{id:10,name:"Rams",city:"Los Angeles",seed:3,conference:"NFC",color:"#003594"},{id:11,name:"Buccaneers",city:"Tampa Bay",seed:4,conference:"NFC",color:"#D50A0A"},{id:12,name:"Vikings",city:"Minnesota",seed:5,conference:"NFC",color:"#4F2683"},{id:13,name:"Commanders",city:"Washington",seed:6,conference:"NFC",color:"#5A1414"},{id:14,name:"Packers",city:"Green Bay",seed:7,conference:"NFC",color:"#203731"}],q9=async()=>{try{const t=await ln(ot(Oe,"config","playoffs"));if(t.exists()){const e=t.data(),n=e.afcTeams||[],s=e.nfcTeams||[],a=[...n,...s].filter(Boolean);if(a.length===14)return a}return UE}catch(t){return console.error("Error fetching playoff teams:",t),UE}};function G9(){const{roomId:t}=gd(),{isAdmin:e}=ms(),n=ji(),[s,a]=j.useState([]),[l,u]=j.useState(null),[d,m]=j.useState([]),[y,v]=j.useState(!0),[_,T]=j.useState("");j.useEffect(()=>{if(!e){n("/rooms");return}R()},[t,e]);const R=async()=>{const M=await q9();m(M);const L=await ln(ot(Oe,"rooms",t));L.exists()&&T(L.data().code);const B=jr(Ai(Oe,"brackets"),Ci("roomId","==",t),Ci("submitted","==",!0)),F=await Mr(B),W=await Promise.all(F.docs.map(async ee=>{const re=ee.data(),A=await ln(ot(Oe,"users",re.userId)),S=A.exists()?A.data():{};return{id:ee.id,...re,username:S.username||S.email||"Unknown User"}}));a(W.sort((ee,re)=>re.submittedAt?.toDate()-ee.submittedAt?.toDate())),v(!1)},k=async(M,L)=>{if(window.confirm(`Are you sure you want to delete ${L}'s bracket? This cannot be undone.`))try{await ZP(ot(Oe,"brackets",M)),a(s.filter(B=>B.id!==M)),alert("Bracket deleted successfully!")}catch(B){console.error("Error deleting bracket:",B),alert(`Error deleting bracket: ${B.message}`)}},P=M=>{const L=d.filter(G=>G.conference==="AFC"),B=d.filter(G=>G.conference==="NFC"),F=G=>d.find(ae=>ae.id===G),W=G=>M.picks?.[G]?F(M.picks[G]):null,ee=[{id:"afc-wc-0",team1:L[1],team2:L[6],winner:W("afc-wc-0")},{id:"afc-wc-1",team1:L[2],team2:L[5],winner:W("afc-wc-1")},{id:"afc-wc-2",team1:L[3],team2:L[4],winner:W("afc-wc-2")}],re=[{id:"nfc-wc-0",team1:B[1],team2:B[6],winner:W("nfc-wc-0")},{id:"nfc-wc-1",team1:B[2],team2:B[5],winner:W("nfc-wc-1")},{id:"nfc-wc-2",team1:B[3],team2:B[4],winner:W("nfc-wc-2")}],A=ee.map(G=>G.winner).filter(Boolean).sort((G,ae)=>G.seed-ae.seed),S=re.map(G=>G.winner).filter(Boolean).sort((G,ae)=>G.seed-ae.seed),I=[{id:"afc-div-0",team1:L[0],team2:A[2]||null,winner:W("afc-div-0")},{id:"afc-div-1",team1:A[0]||null,team2:A[1]||null,winner:W("afc-div-1")}],V=[{id:"nfc-div-0",team1:B[0],team2:S[2]||null,winner:W("nfc-div-0")},{id:"nfc-div-1",team1:S[0]||null,team2:S[1]||null,winner:W("nfc-div-1")}],N=I.map(G=>G.winner).filter(Boolean),z=V.map(G=>G.winner).filter(Boolean),D={id:"afc-conf",team1:N[0]||null,team2:N[1]||null,winner:W("afc-conf")},ge={id:"nfc-conf",team1:z[0]||null,team2:z[1]||null,winner:W("nfc-conf")},Ne={id:"super-bowl",team1:D.winner||null,team2:ge.winner||null,winner:W("super-bowl")};return g.jsxs("div",{className:"flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-75 lg:scale-85 xl:scale-90",children:[g.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[g.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),ee.map(G=>g.jsx(At,{matchup:G,isLocked:!0},G.id)),g.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[g.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),g.jsxs("div",{className:"text-left overflow-hidden",children:[g.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),g.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:L[0]?.name})]})]})]}),g.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),I.map(G=>g.jsx(At,{matchup:G,isLocked:!0},G.id))]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),g.jsx(At,{matchup:D,isLocked:!0})]})]}),g.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6",children:[g.jsx("div",{className:"relative w-24 h-24 lg:w-32 lg:h-32 flex items-center justify-center mb-2",children:g.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})}),g.jsx(At,{matchup:Ne,isLocked:!0}),Ne.winner&&g.jsxs("div",{className:"mt-4 text-center",children:[g.jsx("div",{className:"text-amber-500 font-black text-[10px] uppercase tracking-widest mb-1",children:"Super Bowl Winner"}),g.jsx("div",{className:"text-2xl lg:text-4xl font-black text-white italic uppercase",children:Ne.winner.name})]})]}),g.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[g.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),re.map(G=>g.jsx(At,{matchup:G,isLocked:!0},G.id)),g.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[g.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),g.jsxs("div",{className:"text-left overflow-hidden",children:[g.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),g.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:B[0]?.name})]})]})]}),g.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),V.map(G=>g.jsx(At,{matchup:G,isLocked:!0},G.id))]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),g.jsx(At,{matchup:ge,isLocked:!0})]})]})]})};return y?g.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xl",children:"Loading brackets..."})}):l?g.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100",children:[g.jsx("header",{className:"h-[70px] flex items-center justify-between px-10 bg-slate-950/60 backdrop-blur-xl border-b border-white/5",children:g.jsxs("div",{className:"flex items-center space-x-5",children:[g.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white transition",children:g.jsx(zr,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-black uppercase tracking-tighter text-white",children:[l.username,"'s Bracket"]}),g.jsxs("p",{className:"text-xs text-slate-500",children:["Submitted ",l.submittedAt?.toDate().toLocaleString()]})]})]})}),g.jsx("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 overflow-x-auto",children:P(l)})]}):g.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),g.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:g.jsx(zr,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Submitted Brackets"}),g.jsxs("p",{className:"text-slate-400",children:["Room: ",_]})]})]}),s.length===0?g.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:g.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):g.jsx("div",{className:"grid gap-4",children:s.map(M=>g.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:bg-slate-800/50 transition-all",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("button",{onClick:()=>u(M),className:"flex items-center gap-4 flex-grow text-left",children:[g.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl",children:g.jsx(eO,{className:"w-6 h-6 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:M.username}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",children:[g.jsx(g3,{className:"w-4 h-4"}),g.jsxs("span",{children:["Submitted ",M.submittedAt?.toDate().toLocaleString()]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:L=>{L.stopPropagation(),k(M.id,M.username)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Bracket",children:g.jsx(BA,{className:"w-4 h-4"})}),g.jsx(zr,{className:"w-5 h-5 text-yellow-600/70 rotate-180"})]})]})},M.id))})]})]})}const wf={wc:1,div:2,conf:3,"super-bowl":5};function K9(){const{roomId:t}=gd(),{user:e}=ms(),n=ji(),[s,a]=j.useState([]),[l,u]=j.useState(""),[d,m]=j.useState(!0),[y,v]=j.useState({}),[_,T]=j.useState(!1);j.useEffect(()=>{R()},[t]);const R=async()=>{try{const P=await ln(ot(Oe,"brackets",`${t}_${e.uid}`)),M=P.exists()&&P.data().submitted===!0;T(M);const L=await ln(ot(Oe,"rooms",t));L.exists()&&u(L.data().code);const B=await ln(ot(Oe,"gameResults",t)),F=B.exists()?B.data().results||{}:{};v(F);const W=jr(Ai(Oe,"brackets"),Ci("roomId","==",t),Ci("submitted","==",!0)),ee=await Mr(W),re=await Promise.all(ee.docs.map(async A=>{const S=A.data(),I=await ln(ot(Oe,"users",S.userId)),V=I.exists()?I.data():{},N=k(S.picks,F);return{userId:S.userId,username:V.username||V.email||"Unknown User",points:N,submittedAt:S.submittedAt}}));re.sort((A,S)=>S.points-A.points),a(re)}catch(P){console.error("Error loading leaderboard:",P)}finally{m(!1)}},k=(P,M)=>{let L=0;return Object.entries(P).forEach(([B,F])=>{M[B]===F&&(B.includes("wc")?L+=wf.wc:B.includes("div")?L+=wf.div:B.includes("conf")?L+=wf.conf:B==="super-bowl"&&(L+=wf["super-bowl"]))}),L};return d?g.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xl",children:"Loading leaderboard..."})}):_?g.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),g.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:g.jsx(zr,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white flex items-center gap-3",children:[g.jsx(cl,{className:"w-10 h-10 text-yellow-600/90"}),"Leaderboard"]}),g.jsxs("p",{className:"text-slate-400",children:["Room: ",l]})]})]}),s.length===0?g.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:g.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):g.jsx("div",{className:"space-y-3",children:s.map((P,M)=>{const L=P.userId===e.uid,B=M+1;return g.jsx("div",{className:`bg-slate-900/40 backdrop-blur-xl border rounded-xl p-6 transition-all ${L?"border-yellow-600/50 bg-yellow-600/5":"border-white/10 hover:bg-slate-800/50"}`,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl ${B===1?"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white":B===2?"bg-gradient-to-br from-slate-300 to-slate-400 text-slate-900":B===3?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-slate-800 text-slate-400"}`,children:B===1?g.jsx(cl,{className:"w-6 h-6"}):B===2?g.jsx(z3,{className:"w-6 h-6"}):B===3?g.jsx(m3,{className:"w-6 h-6"}):B}),g.jsxs("div",{children:[g.jsxs("h3",{className:`text-xl font-bold ${L?"text-yellow-500":"text-white"}`,children:[P.username," ",L&&"(You)"]}),g.jsxs("p",{className:"text-sm text-slate-400",children:["Submitted ",P.submittedAt?.toDate().toLocaleDateString()]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-3xl font-black text-yellow-600/90",children:P.points}),g.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Points"})]})]})},P.userId)})}),g.jsxs("div",{className:"mt-8 bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Point System"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"1"}),g.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Wild Card"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"2"}),g.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Divisional"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"3"}),g.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Conference"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"5"}),g.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Super Bowl"})]})]})]})]})]}):g.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),g.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:g.jsx(zr,{className:"w-6 h-6"})}),g.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Leaderboard"})]}),g.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-yellow-600/30 rounded-2xl p-12 text-center",children:[g.jsx(ad,{className:"w-16 h-16 text-yellow-600/90 mx-auto mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Submit Your Bracket First"}),g.jsx("p",{className:"text-slate-300 mb-6",children:"You must submit your bracket before viewing the leaderboard."}),g.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"px-6 py-3 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition font-bold uppercase tracking-wider",children:"Go to Bracket"})]})]})]})}function $9(){const{roomId:t}=gd(),{isAdmin:e}=ms(),n=ji(),[s,a]=j.useState(null),[l,u]=j.useState({}),[d,m]=j.useState(""),[y,v]=j.useState(!0),[_,T]=j.useState(!1);j.useEffect(()=>{if(!e){n("/rooms");return}R();const N=setInterval(()=>{k()},3e4);return()=>clearInterval(N)},[t,e]);const R=async()=>{const N=await ld();a(N);const z=await ln(ot(Oe,"rooms",t));z.exists()&&m(z.data().code);const D=await ln(ot(Oe,"gameResults",t));D.exists()&&u(D.data().results||{}),v(!1),N&&P(N,D.exists()?D.data().results||{}:{})},k=async()=>{T(!0);try{const N=await ld();a(N),N&&await P(N,l)}catch(N){console.error("Error syncing games:",N)}finally{T(!1)}},P=async(N,z)=>{const D={...z};let ge=!1;[...N.wildCard||[],...N.divisional||[],...N.conference||[],...N.superBowl||[]].forEach(G=>{G.isCompleted&&G.winner&&!z[G.id]&&(D[G.id]=G.winner,ge=!0)}),ge&&await M(D)},M=async N=>{await Zo(ot(Oe,"gameResults",t),{results:N}),u(N)},L=(N,z)=>{const D={...l,[N]:z};M(D)},B=N=>{const z={...l};delete z[N],M(z)},F=N=>{if(!N||!N.team1&&!N.team2)return g.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4 opacity-50",children:[g.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Game Not Available"}),g.jsx("div",{className:"text-sm text-slate-600",children:"Waiting for previous round results..."})]});const z=l[N.id];return g.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:[N.team1?.abbreviation||"TBD"," vs ",N.team2?.abbreviation||"TBD"]}),N.isInProgress&&g.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-500 font-bold",children:[g.jsx(q3,{className:"w-3 h-3 animate-pulse"}),"LIVE"]}),N.isCompleted&&g.jsx("div",{className:"text-xs text-green-500 font-bold",children:"FINAL"})]}),g.jsx("div",{className:"space-y-2",children:[N.team1,N.team2].map(D=>D&&g.jsxs("button",{onClick:()=>z===D.id?B(N.id):L(N.id,D.id),className:`w-full p-3 rounded-lg border-2 transition-all flex items-center justify-between ${z===D.id?"border-green-500 bg-green-500/20":z&&z!==D.id?"border-red-500/50 bg-red-500/10 opacity-50":"border-slate-700 hover:border-slate-600"}`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center text-xs font-bold text-white",style:{backgroundColor:D.color},children:D.seed}),g.jsxs("span",{className:"font-bold text-white",children:[D.city," ",D.name]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[(N.isInProgress||N.isCompleted)&&g.jsx("span",{className:"text-xl font-black text-white",children:D.isHome?N.homeScore:N.awayScore}),z===D.id&&g.jsx(x3,{className:"w-5 h-5 text-green-500"})]})]},D.id))})]})};if(y||!s)return g.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xl",children:"Loading..."})});const W=s.wildCard?.filter(N=>N.conference==="AFC")||[],ee=s.wildCard?.filter(N=>N.conference==="NFC")||[],re=s.divisional?.filter(N=>N.conference==="AFC")||[],A=s.divisional?.filter(N=>N.conference==="NFC")||[],S=s.conference?.find(N=>N.conference==="AFC"),I=s.conference?.find(N=>N.conference==="NFC"),V=s.superBowl?.[0];return g.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),g.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:g.jsx(zr,{className:"w-6 h-6"})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Game Results"}),g.jsxs("p",{className:"text-slate-400",children:["Room: ",d," - Auto-syncs completed games, click to override"]})]}),g.jsxs("button",{onClick:()=>k(),disabled:_,className:"flex items-center gap-2 px-6 py-3 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-xl hover:bg-blue-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[g.jsx(UA,{className:`w-5 h-5 ${_?"animate-spin":""}`}),_?"Syncing...":"Sync Now"]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),g.jsx("div",{className:"space-y-3",children:W.map(N=>g.jsx("div",{children:F(N)},N.id))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),g.jsx("div",{className:"space-y-3",children:re.map(N=>g.jsx("div",{children:F(N)},N.id))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),F(S)]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),g.jsx("div",{className:"space-y-3",children:ee.map(N=>g.jsx("div",{children:F(N)},N.id))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),g.jsx("div",{className:"space-y-3",children:A.map(N=>g.jsx("div",{children:F(N)},N.id))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),F(I)]})]})]}),g.jsxs("div",{className:"mt-8 max-w-md mx-auto",children:[g.jsx("h2",{className:"text-2xl font-black text-yellow-600/90 uppercase tracking-wider mb-4 text-center",children:"Super Bowl LX"}),F(V)]})]})]})}const BE=[{id:"chiefs",name:"Chiefs",city:"Kansas City",conference:"AFC",color:"#E31837"},{id:"bills",name:"Bills",city:"Buffalo",conference:"AFC",color:"#00338D"},{id:"ravens",name:"Ravens",city:"Baltimore",conference:"AFC",color:"#241773"},{id:"texans",name:"Texans",city:"Houston",conference:"AFC",color:"#03202F"},{id:"steelers",name:"Steelers",city:"Pittsburgh",conference:"AFC",color:"#FFB612"},{id:"chargers",name:"Chargers",city:"Los Angeles",conference:"AFC",color:"#0080C6"},{id:"broncos",name:"Broncos",city:"Denver",conference:"AFC",color:"#FB4F14"},{id:"eagles",name:"Eagles",city:"Philadelphia",conference:"NFC",color:"#004C54"},{id:"lions",name:"Lions",city:"Detroit",conference:"NFC",color:"#0076B6"},{id:"rams",name:"Rams",city:"Los Angeles",conference:"NFC",color:"#003594"},{id:"buccaneers",name:"Buccaneers",city:"Tampa Bay",conference:"NFC",color:"#D50A0A"},{id:"vikings",name:"Vikings",city:"Minnesota",conference:"NFC",color:"#4F2683"},{id:"packers",name:"Packers",city:"Green Bay",conference:"NFC",color:"#203731"},{id:"commanders",name:"Commanders",city:"Washington",conference:"NFC",color:"#5A1414"}];function Y9(){const{isAdmin:t}=ms(),e=ji(),[n,s]=j.useState(Array(7).fill(null)),[a,l]=j.useState(Array(7).fill(null)),[u,d]=j.useState(!0),[m,y]=j.useState(!1);j.useEffect(()=>{if(!t){e("/rooms");return}v()},[t]);const v=async()=>{const k=await ln(ot(Oe,"config","playoffs"));if(k.exists()){const P=k.data();s(P.afcTeams||Array(7).fill(null)),l(P.nfcTeams||Array(7).fill(null))}d(!1)},_=async()=>{y(!0);try{await Zo(ot(Oe,"config","playoffs"),{afcTeams:n,nfcTeams:a,updatedAt:new Date}),alert("Playoff configuration saved!")}catch(k){console.error("Error saving config:",k),alert("Error saving configuration")}finally{y(!1)}},T=(k,P,M)=>{const L=BE.find(F=>F.id===M);if(!L)return;const B={...L,seed:P+1};if(k==="AFC"){const F=[...n];F[P]=B,s(F)}else{const F=[...a];F[P]=B,l(F)}},R=(k,P)=>{const M=k==="AFC"?n:a,L=M[P],B=BE.filter(F=>F.conference===k&&!M.some(W=>W?.id===F.id));return g.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[g.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:["Seed #",P+1]}),g.jsxs("select",{value:L?.id||"",onChange:F=>T(k,P,F.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-white font-bold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[g.jsx("option",{value:"",children:"Select Team"}),B.map(F=>g.jsxs("option",{value:F.id,children:[F.city," ",F.name]},F.id)),L&&g.jsxs("option",{value:L.id,children:[L.city," ",L.name]})]})]})};return u?g.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):g.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),g.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:()=>e("/rooms"),className:"text-slate-400 hover:text-white transition",children:g.jsx(zr,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Playoff Configuration"}),g.jsx("p",{className:"text-slate-400",children:"Set the 14 playoff teams and their seeds"})]})]}),g.jsxs("button",{onClick:_,disabled:m,className:"flex items-center gap-2 px-6 py-3 bg-green-500/20 border border-green-500/30 text-green-400 rounded-xl hover:bg-green-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[g.jsx($3,{className:"w-5 h-5"}),m?"Saving...":"Save Configuration"]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC Playoff Teams"}),[0,1,2,3,4,5,6].map(k=>R("AFC",k))]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC Playoff Teams"}),[0,1,2,3,4,5,6].map(k=>R("NFC",k))]})]})]})]})}function Q9(){const{user:t,logout:e}=ms(),[n,s]=j.useState(!1),[a,l]=j.useState(!0),[u,d]=j.useState("");j.useEffect(()=>{let v;return(async()=>{if(t){await t.reload();const T=Kt.currentUser;T&&T.emailVerified?window.location.reload():(l(!1),v=setInterval(async()=>{if(t){await t.reload();const R=Kt.currentUser;R&&R.emailVerified&&window.location.reload()}},1e3))}})(),()=>{v&&clearInterval(v)}},[t]);const m=async()=>{l(!0),d("");try{await t.reload();const v=Kt.currentUser;v&&v.emailVerified?window.location.reload():d("Email not verified yet. Please check your inbox and spam folder.")}catch{d("Error checking verification status.")}l(!1)},y=async()=>{s(!0),d("");try{await q1(t),d("Verification email sent! Please check your inbox and spam folder.")}catch{d("Error sending email. Please try again later.")}s(!1)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-900 via-red-800 to-orange-900 flex items-center justify-center p-4",children:a?g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-white mx-auto mb-4"}),g.jsx("p",{className:"text-white text-lg",children:"Checking verification status..."})]}):g.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[g.jsx("div",{className:"flex items-center justify-center mb-6",children:g.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:g.jsx(ry,{className:"w-12 h-12 text-orange-600"})})}),g.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-gray-800",children:"Verify Your Email"}),g.jsxs("p",{className:"text-center text-gray-600 mb-6",children:["We sent a verification link to ",g.jsx("span",{className:"font-semibold",children:t?.email})]}),g.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(ad,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),g.jsxs("div",{className:"text-sm text-blue-800",children:[g.jsx("p",{className:"font-semibold mb-1",children:"Check your email"}),g.jsx("p",{children:"Click the verification link in the email to activate your account. Check your spam folder if needed."})]})]})}),u&&g.jsx("div",{className:`border rounded-lg p-3 mb-4 ${u.includes("sent")?"bg-green-50 border-green-200 text-green-800":"bg-yellow-50 border-yellow-200 text-yellow-800"}`,children:g.jsx("p",{className:"text-sm",children:u})}),g.jsxs("button",{onClick:m,disabled:a,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-semibold mb-3 disabled:opacity-50 flex items-center justify-center gap-2",children:[g.jsx(UA,{className:`w-5 h-5 ${a?"animate-spin":""}`}),a?"Checking...":"I Verified My Email"]}),g.jsx("button",{onClick:y,disabled:n,className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold mb-3 disabled:opacity-50",children:n?"Sending...":"Resend Verification Email"}),g.jsx("button",{onClick:e,className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Sign Out"})]})})}function X9(){const[t]=Uy(),e=ji(),[n,s]=j.useState("verifying"),[a,l]=j.useState("");return j.useEffect(()=>{(async()=>{const d=t.get("oobCode");if(!d){s("error"),l("Invalid verification link");return}try{await H1(Kt,d),s("success"),setTimeout(()=>e("/login?verified=true"),2e3)}catch(m){s("error"),l(m.message)}})()},[t,e]),g.jsx("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md text-center",children:[n==="verifying"&&g.jsxs(g.Fragment,{children:[g.jsx(j3,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 animate-spin"}),g.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verifying Email..."}),g.jsx("p",{className:"text-slate-400",children:"Please wait while we verify your email address."})]}),n==="success"&&g.jsxs(g.Fragment,{children:[g.jsx(od,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-2",children:"Email Verified!"}),g.jsx("p",{className:"text-slate-300",children:"Redirecting to login..."})]}),n==="error"&&g.jsxs(g.Fragment,{children:[g.jsx(N3,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-2",children:"Verification Failed"}),g.jsx("p",{className:"text-slate-300 mb-4",children:a}),g.jsx("button",{onClick:()=>e("/login"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Go to Login"})]})]})})}function W9(){const{user:t,isAdmin:e}=ms();return j.useEffect(()=>{(async()=>{if(t)try{const s=await ln(ot(Oe,"users",t.uid));if(s.exists()){const a=s.data();console.log("Current user data:",a),console.log("isAdmin from context:",e),e&&!a.isAdmin&&(console.log("Setting admin status in Firestore..."),await JP(ot(Oe,"users",t.uid),{isAdmin:!0}),console.log("Admin status updated! Please refresh the page."),alert("Admin status has been set. Please refresh the page."))}else console.log("User document does not exist in Firestore")}catch(s){console.error("Error checking admin status:",s)}})()},[t,e]),null}function Lo({children:t}){const{user:e,loading:n}=ms(),s=ki();return n?g.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."}):e?e.emailVerified?g.jsxs(g.Fragment,{children:[g.jsx(W9,{}),t]}):g.jsx(Q9,{}):g.jsx(t1,{to:"/login",state:{from:s.pathname+s.search},replace:!0})}function J9(){return g.jsx(r3,{children:g.jsx(II,{children:g.jsxs(rI,{children:[g.jsx(is,{path:"/login",element:g.jsx(sO,{})}),g.jsx(is,{path:"/verify-email",element:g.jsx(X9,{})}),g.jsx(is,{path:"/rooms",element:g.jsx(Lo,{children:g.jsx(aO,{})})}),g.jsx(is,{path:"/bracket/:roomId",element:g.jsx(Lo,{children:g.jsx(H9,{})})}),g.jsx(is,{path:"/admin/brackets/:roomId",element:g.jsx(Lo,{children:g.jsx(G9,{})})}),g.jsx(is,{path:"/leaderboard/:roomId",element:g.jsx(Lo,{children:g.jsx(K9,{})})}),g.jsx(is,{path:"/game-results/:roomId",element:g.jsx(Lo,{children:g.jsx($9,{})})}),g.jsx(is,{path:"/admin/playoff-config",element:g.jsx(Lo,{children:g.jsx(Y9,{})})}),g.jsx(is,{path:"/",element:g.jsx(t1,{to:"/rooms"})})]})})})}lN.createRoot(document.getElementById("root")).render(g.jsx(j.StrictMode,{children:g.jsx(J9,{})}));
