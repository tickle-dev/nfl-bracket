(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Op={exports:{}},Rc={};var ET;function q2(){if(ET)return Rc;ET=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Rc.Fragment=e,Rc.jsx=n,Rc.jsxs=n,Rc}var wT;function H2(){return wT||(wT=1,Op.exports=q2()),Op.exports}var v=H2(),jp={exports:{}},Ae={};var ST;function G2(){if(ST)return Ae;ST=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function C(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,I={};function L(z,ie,W){this.props=z,this.context=ie,this.refs=I,this.updater=W||V}L.prototype.isReactComponent={},L.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=L.prototype;function B(z,ie,W){this.props=z,this.context=ie,this.refs=I,this.updater=W||V}var ee=B.prototype=new k;ee.constructor=B,j(ee,L.prototype),ee.isPureReactComponent=!0;var J=Array.isArray;function ne(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(z,ie,W){var ce=W.ref;return{$$typeof:t,type:z,key:ie,ref:ce!==void 0?ce:null,props:W}}function U(z,ie){return N(z.type,ie,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function q(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(W){return ie[W]})}var D=/\/+/g;function ze(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):ie.toString(36)}function Ye(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ne,ne):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function K(z,ie,W,ce,ve){var Ee=typeof z;(Ee==="undefined"||Ee==="boolean")&&(z=null);var Fe=!1;if(z===null)Fe=!0;else switch(Ee){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(z.$$typeof){case t:case e:Fe=!0;break;case y:return Fe=z._init,K(Fe(z._payload),ie,W,ce,ve)}}if(Fe)return ve=ve(z),Fe=ce===""?"."+ze(z,0):ce,J(ve)?(W="",Fe!=null&&(W=Fe.replace(D,"$&/")+"/"),K(ve,ie,W,"",function(Wr){return Wr})):ve!=null&&(P(ve)&&(ve=U(ve,W+(ve.key==null||z&&z.key===ve.key?"":(""+ve.key).replace(D,"$&/")+"/")+Fe)),ie.push(ve)),1;Fe=0;var zt=ce===""?".":ce+":";if(J(z))for(var ct=0;ct<z.length;ct++)ce=z[ct],Ee=zt+ze(ce,ct),Fe+=K(ce,ie,W,Ee,ve);else if(ct=C(z),typeof ct=="function")for(z=ct.call(z),ct=0;!(ce=z.next()).done;)ce=ce.value,Ee=zt+ze(ce,ct++),Fe+=K(ce,ie,W,Ee,ve);else if(Ee==="object"){if(typeof z.then=="function")return K(Ye(z),ie,W,ce,ve);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function le(z,ie,W){if(z==null)return z;var ce=[],ve=0;return K(z,ce,"","",function(Ee){return ie.call(W,Ee,ve++)}),ce}function fe(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(W){(z._status===0||z._status===-1)&&(z._status=1,z._result=W)},function(W){(z._status===0||z._status===-1)&&(z._status=2,z._result=W)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var Se=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ce={map:le,forEach:function(z,ie,W){le(z,function(){ie.apply(this,arguments)},W)},count:function(z){var ie=0;return le(z,function(){ie++}),ie},toArray:function(z){return le(z,function(ie){return ie})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ae.Activity=b,Ae.Children=Ce,Ae.Component=L,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=B,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(z){return A.H.useMemoCache(z)}},Ae.cache=function(z){return function(){return z.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(z,ie,W){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ce=j({},z.props),ve=z.key;if(ie!=null)for(Ee in ie.key!==void 0&&(ve=""+ie.key),ie)!S.call(ie,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ie.ref===void 0||(ce[Ee]=ie[Ee]);var Ee=arguments.length-2;if(Ee===1)ce.children=W;else if(1<Ee){for(var Fe=Array(Ee),zt=0;zt<Ee;zt++)Fe[zt]=arguments[zt+2];ce.children=Fe}return N(z.type,ve,ce)},Ae.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ae.createElement=function(z,ie,W){var ce,ve={},Ee=null;if(ie!=null)for(ce in ie.key!==void 0&&(Ee=""+ie.key),ie)S.call(ie,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ve[ce]=ie[ce]);var Fe=arguments.length-2;if(Fe===1)ve.children=W;else if(1<Fe){for(var zt=Array(Fe),ct=0;ct<Fe;ct++)zt[ct]=arguments[ct+2];ve.children=zt}if(z&&z.defaultProps)for(ce in Fe=z.defaultProps,Fe)ve[ce]===void 0&&(ve[ce]=Fe[ce]);return N(z,Ee,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(z){return{$$typeof:d,render:z}},Ae.isValidElement=P,Ae.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:fe}},Ae.memo=function(z,ie){return{$$typeof:g,type:z,compare:ie===void 0?null:ie}},Ae.startTransition=function(z){var ie=A.T,W={};A.T=W;try{var ce=z(),ve=A.S;ve!==null&&ve(W,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ne,Se)}catch(Ee){Se(Ee)}finally{ie!==null&&W.types!==null&&(ie.types=W.types),A.T=ie}},Ae.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ae.use=function(z){return A.H.use(z)},Ae.useActionState=function(z,ie,W){return A.H.useActionState(z,ie,W)},Ae.useCallback=function(z,ie){return A.H.useCallback(z,ie)},Ae.useContext=function(z){return A.H.useContext(z)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(z,ie){return A.H.useDeferredValue(z,ie)},Ae.useEffect=function(z,ie){return A.H.useEffect(z,ie)},Ae.useEffectEvent=function(z){return A.H.useEffectEvent(z)},Ae.useId=function(){return A.H.useId()},Ae.useImperativeHandle=function(z,ie,W){return A.H.useImperativeHandle(z,ie,W)},Ae.useInsertionEffect=function(z,ie){return A.H.useInsertionEffect(z,ie)},Ae.useLayoutEffect=function(z,ie){return A.H.useLayoutEffect(z,ie)},Ae.useMemo=function(z,ie){return A.H.useMemo(z,ie)},Ae.useOptimistic=function(z,ie){return A.H.useOptimistic(z,ie)},Ae.useReducer=function(z,ie,W){return A.H.useReducer(z,ie,W)},Ae.useRef=function(z){return A.H.useRef(z)},Ae.useState=function(z){return A.H.useState(z)},Ae.useSyncExternalStore=function(z,ie,W){return A.H.useSyncExternalStore(z,ie,W)},Ae.useTransition=function(){return A.H.useTransition()},Ae.version="19.2.3",Ae}var AT;function xy(){return AT||(AT=1,jp.exports=G2()),jp.exports}var M=xy(),Lp={exports:{}},Cc={},Up={exports:{}},Bp={};var RT;function K2(){return RT||(RT=1,(function(t){function e(K,le){var fe=K.length;K.push(le);e:for(;0<fe;){var Se=fe-1>>>1,Ce=K[Se];if(0<a(Ce,le))K[Se]=le,K[fe]=Ce,fe=Se;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var le=K[0],fe=K.pop();if(fe!==le){K[0]=fe;e:for(var Se=0,Ce=K.length,z=Ce>>>1;Se<z;){var ie=2*(Se+1)-1,W=K[ie],ce=ie+1,ve=K[ce];if(0>a(W,fe))ce<Ce&&0>a(ve,W)?(K[Se]=ve,K[ce]=fe,Se=ce):(K[Se]=W,K[ie]=fe,Se=ie);else if(ce<Ce&&0>a(ve,fe))K[Se]=ve,K[ce]=fe,Se=ce;else break e}}return le}function a(K,le){var fe=K.sortIndex-le.sortIndex;return fe!==0?fe:K.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],g=[],y=1,b=null,E=3,C=!1,V=!1,j=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function ee(K){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=K)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(g)}}function J(K){if(j=!1,ee(K),!V)if(n(m)!==null)V=!0,ne||(ne=!0,q());else{var le=n(g);le!==null&&Ye(J,le.startTime-K)}}var ne=!1,A=-1,S=5,N=-1;function U(){return I?!0:!(t.unstable_now()-N<S)}function P(){if(I=!1,ne){var K=t.unstable_now();N=K;var le=!0;try{e:{V=!1,j&&(j=!1,k(A),A=-1),C=!0;var fe=E;try{t:{for(ee(K),b=n(m);b!==null&&!(b.expirationTime>K&&U());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,E=b.priorityLevel;var Ce=Se(b.expirationTime<=K);if(K=t.unstable_now(),typeof Ce=="function"){b.callback=Ce,ee(K),le=!0;break t}b===n(m)&&s(m),ee(K)}else s(m);b=n(m)}if(b!==null)le=!0;else{var z=n(g);z!==null&&Ye(J,z.startTime-K),le=!1}}break e}finally{b=null,E=fe,C=!1}le=void 0}}finally{le?q():ne=!1}}}var q;if(typeof B=="function")q=function(){B(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ze=D.port2;D.port1.onmessage=P,q=function(){ze.postMessage(null)}}else q=function(){L(P,0)};function Ye(K,le){A=L(function(){K(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(K){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var fe=E;E=le;try{return K()}finally{E=fe}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=E;E=K;try{return le()}finally{E=fe}},t.unstable_scheduleCallback=function(K,le,fe){var Se=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,K){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=fe+Ce,K={id:y++,callback:le,priorityLevel:K,startTime:fe,expirationTime:Ce,sortIndex:-1},fe>Se?(K.sortIndex=fe,e(g,K),n(m)===null&&K===n(g)&&(j?(k(A),A=-1):j=!0,Ye(J,fe-Se))):(K.sortIndex=Ce,e(m,K),V||C||(V=!0,ne||(ne=!0,q()))),K},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(K){var le=E;return function(){var fe=E;E=le;try{return K.apply(this,arguments)}finally{E=fe}}}})(Bp)),Bp}var CT;function $2(){return CT||(CT=1,Up.exports=K2()),Up.exports}var zp={exports:{}},ln={};var NT;function Y2(){if(NT)return ln;NT=1;var t=xy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},ln.flushSync=function(m){var g=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=y,s.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=d(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},ln.requestFormReset=function(m){s.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var IT;function Q2(){if(IT)return zp.exports;IT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=Y2(),zp.exports}var DT;function X2(){if(DT)return Cc;DT=1;var t=$2(),e=xy(),n=Q2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===c)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var T=!1,w=f.child;w;){if(w===o){T=!0,o=f,c=p;break}if(w===c){T=!0,c=f,o=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===o){T=!0,o=p,c=f;break}if(w===c){T=!0,c=p,o=f;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),B=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ze(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case L:return"Profiler";case I:return"StrictMode";case J:return"Suspense";case ne:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case B:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case ee:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return r=i.displayName||null,r!==null?r:ze(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return ze(i(r))}catch{}}return null}var Ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Se=[],Ce=-1;function z(i){return{current:i}}function ie(i){0>Ce||(i.current=Se[Ce],Se[Ce]=null,Ce--)}function W(i,r){Ce++,Se[Ce]=i.current,i.current=r}var ce=z(null),ve=z(null),Ee=z(null),Fe=z(null);function zt(i,r){switch(W(Ee,r),W(ve,i),W(ce,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Kb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Kb(r),i=$b(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(ce),W(ce,i)}function ct(){ie(ce),ie(ve),ie(Ee)}function Wr(i){i.memoizedState!==null&&W(Fe,i);var r=ce.current,o=$b(r,i.type);r!==o&&(W(ve,i),W(ce,o))}function Ka(i){ve.current===i&&(ie(ce),ie(ve)),Fe.current===i&&(ie(Fe),Ec._currentValue=fe)}var $a,Ya;function Ii(i){if($a===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$a=r&&r[1]||"",Ya=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+i+Ya}var El=!1;function Zr(i,r){if(!i||El)return"";El=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var Q=Z}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(Z){Q=Z}i.call(ae.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var O=T.split(`
`),Y=w.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===Y.length)for(c=O.length-1,f=Y.length-1;1<=c&&0<=f&&O[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==Y[f]){var te=`
`+O[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=f);break}}}finally{El=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ii(o):""}function wl(i,r){switch(i.tag){case 26:case 27:case 5:return Ii(i.type);case 16:return Ii("Lazy");case 13:return i.child!==r&&r!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Zr(i.type,!1);case 11:return Zr(i.type.render,!1);case 1:return Zr(i.type,!0);case 31:return Ii("Activity");default:return""}}function Sl(i){try{var r="",o=null;do r+=wl(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ct=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,Gs=t.unstable_cancelCallback,Ld=t.unstable_shouldYield,Du=t.unstable_requestPaint,mn=t.unstable_now,Jr=t.unstable_getCurrentPriorityLevel,Al=t.unstable_ImmediatePriority,Rl=t.unstable_UserBlockingPriority,Ks=t.unstable_NormalPriority,Ud=t.unstable_LowPriority,Vu=t.unstable_IdlePriority,Mu=t.log,ku=t.unstable_setDisableYieldValue,ci=null,Xt=null;function Fn(i){if(typeof Mu=="function"&&ku(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ci,i)}catch{}}var Tt=Math.clz32?Math.clz32:Ou,Pu=Math.log,Qa=Math.LN2;function Ou(i){return i>>>=0,i===0?32:31-(Pu(i)/Qa|0)|0}var Di=256,ea=262144,Nt=4194304;function Vi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Mi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?f=Vi(c):(T&=w,T!==0?f=Vi(T):o||(o=w&~i,o!==0&&(f=Vi(o))))):(w=c&~p,w!==0?f=Vi(w):T!==0?f=Vi(T):o||(o=c&~i,o!==0&&(f=Vi(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Bd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function ki(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ta(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function zd(i,r,o,c,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,Y=i.hiddenUpdates;for(o=T&~o;0<o;){var te=31-Tt(o),ae=1<<te;w[te]=0,O[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var Z=Q[te];Z!==null&&(Z.lane&=-536870913)}o&=~ae}c!==0&&na(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function na(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Tt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Cl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Tt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Nl(i,r){var o=r&-r;return o=(o&42)!==0?1:ia(o),(o&(i.suspendedLanes|r))!==0?0:o}function ia(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function us(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lu(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:gT(i.type))}function hi(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var fi=Math.random().toString(36).slice(2),It="__reactFiber$"+fi,Kt="__reactProps$"+fi,Pi="__reactContainer$"+fi,Xa="__reactEvents$"+fi,Fd="__reactListeners$"+fi,Uu="__reactHandles$"+fi,Bu="__reactResources$"+fi,Oi="__reactMarker$"+fi;function Wa(i){delete i[It],delete i[Kt],delete i[Xa],delete i[Fd],delete i[Uu]}function ji(i){var r=i[It];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Pi]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=eT(i);i!==null;){if(o=i[It])return o;i=eT(i)}return r}i=o,o=i.parentNode}return null}function qn(i){if(i=i[It]||i[Pi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Nn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Li(i){var r=i[Bu];return r||(r=i[Bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(i){i[Oi]=!0}var Il=new Set,Dl={};function Ui(i,r){Bi(i,r),Bi(i+"Capture",r)}function Bi(i,r){for(Dl[i]=r,i=0;i<r.length;i++)Il.add(r[i])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},kl={};function zu(i){return Ct.call(kl,i)?!0:Ct.call(Ml,i)?!1:Vl.test(i)?kl[i]=!0:(Ml[i]=!0,!1)}function Za(i,r,o){if(zu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function In(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Vt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $s(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xe(i){if(!i._valueTracker){var r=$s(i)?"checked":"value";i._valueTracker=Pl(i,r,""+i[r])}}function sa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=$s(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ra=/[\n"\\]/g;function _n(i){return i.replace(ra,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ja(i,r,o,c,f,p,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+$t(r)):i.value!==""+$t(r)&&(i.value=""+$t(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Ol(i,T,$t(r)):o!=null?Ol(i,T,$t(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+$t(w):i.removeAttribute("name")}function Fu(i,r,o,c,f,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Xe(i);return}o=o!=null?""+$t(o):"",r=r!=null?""+$t(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Xe(i)}function Ol(i,r,o){r==="number"&&zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ys(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+$t(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function qu(i,r,o){if(r!=null&&(r=""+$t(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+$t(o):""}function Qs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ye(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=$t(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Xe(i)}function bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Hu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ll(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&jl(i,f,c)}else for(var p in r)r.hasOwnProperty(p)&&jl(i,p,r[p])}function eo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(i){return Xs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var Ul=null;function Hn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ws=null,Fi=null;function aa(i){var r=qn(i);if(r&&(i=r.stateNode)){var o=i[Kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ja(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[Kt]||null;if(!f)throw Error(s(90));Ja(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&sa(c)}break e;case"textarea":qu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ys(i,!!o.multiple,r,!1)}}}var no=!1;function Zs(i,r,o){if(no)return i(r,o);no=!0;try{var c=i(r);return c}finally{if(no=!1,(Ws!==null||Fi!==null)&&(Lh(),Ws&&(r=Ws,i=Fi,Fi=Ws=null,aa(r),i)))for(r=0;r<i.length;r++)aa(i[r])}}function mi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Kt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Gn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){oa=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{oa=!1}var qi=null,Bl=null,la=null;function zl(){if(la)return la;var i,r=Bl,o=r.length,c,f="value"in qi?qi.value:qi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(c=1;c<=T&&r[o-c]===f[p-c];c++);return la=f.slice(i,1<c?1-c:void 0)}function ca(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function pi(){return!1}function Wt(i){function r(o,c,f,p,T){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?hs:pi,this.isPropagationStopped=pi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),r}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Wt(fs),Js=b({},fs,{view:0,detail:0}),Fl=Wt(Js),er,io,Gi,so=b({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(er=i.screenX-Gi.screenX,io=i.screenY-Gi.screenY):io=er=0,Gi=i),er)},movementY:function(i){return"movementY"in i?i.movementY:io}}),ql=Wt(so),ua=b({},so,{dataTransfer:0}),Ku=Wt(ua),$u=b({},Js,{relatedTarget:0}),ha=Wt($u),Hl=b({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Wt(Hl),ro=b({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qu=Wt(ro),Xu=b({},fs,{data:0}),Ki=Wt(Xu),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ju[i])?!!r[i]:!1}function tr(){return eh}var pn=b({},Js,{key:function(i){if(i.key){var r=Wu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),th=Wt(pn),nh=b({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=Wt(nh),h=b({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),_=Wt(h),x=b({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Wt(x),G=b({},so,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Wt(G),ue=b({},fs,{newState:0,oldState:0}),Ne=Wt(ue),xt=[9,13,27,32],Ke=Gn&&"CompositionEvent"in window,ut=null;Gn&&"documentMode"in document&&(ut=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!ut,$i=Gn&&(!Ke||ut&&8<ut&&11>=ut),gi=" ",yi=!1;function fa(i,r){switch(i){case"keyup":return xt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oo=!1;function dC(i,r){switch(i){case"compositionend":return ao(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function mC(i,r){if(oo)return i==="compositionend"||!Ke&&fa(i,r)?(i=zl(),la=Bl=qi=null,oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $i&&r.locale!=="ko"?null:r.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!pC[i.type]:r==="textarea"}function sv(i,r,o,c){Ws?Fi?Fi.push(c):Fi=[c]:Ws=c,r=Gh(r,"onChange"),0<r.length&&(o=new Hi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Gl=null,Kl=null;function gC(i){Bb(i,0)}function ih(i){var r=Nn(i);if(sa(r))return i}function rv(i,r){if(i==="change")return r}var av=!1;if(Gn){var qd;if(Gn){var Hd="oninput"in document;if(!Hd){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),Hd=typeof ov.oninput=="function"}qd=Hd}else qd=!1;av=qd&&(!document.documentMode||9<document.documentMode)}function lv(){Gl&&(Gl.detachEvent("onpropertychange",cv),Kl=Gl=null)}function cv(i){if(i.propertyName==="value"&&ih(Kl)){var r=[];sv(r,Kl,i,Hn(i)),Zs(gC,r)}}function yC(i,r,o){i==="focusin"?(lv(),Gl=r,Kl=o,Gl.attachEvent("onpropertychange",cv)):i==="focusout"&&lv()}function vC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ih(Kl)}function _C(i,r){if(i==="click")return ih(r)}function bC(i,r){if(i==="input"||i==="change")return ih(r)}function TC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Dn=typeof Object.is=="function"?Object.is:TC;function $l(i,r){if(Dn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Ct.call(r,f)||!Dn(i[f],r[f]))return!1}return!0}function uv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hv(i,r){var o=uv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uv(o)}}function fv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?fv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function dv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=zi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=zi(i.document)}return r}function Gd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var xC=Gn&&"documentMode"in document&&11>=document.documentMode,lo=null,Kd=null,Yl=null,$d=!1;function mv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$d||lo==null||lo!==zi(c)||(c=lo,"selectionStart"in c&&Gd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yl&&$l(Yl,c)||(Yl=c,c=Gh(Kd,"onSelect"),0<c.length&&(r=new Hi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=lo)))}function da(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var co={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Yd={},pv={};Gn&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ma(i){if(Yd[i])return Yd[i];if(!co[i])return i;var r=co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in pv)return Yd[i]=r[o];return i}var gv=ma("animationend"),yv=ma("animationiteration"),vv=ma("animationstart"),EC=ma("transitionrun"),wC=ma("transitionstart"),SC=ma("transitioncancel"),_v=ma("transitionend"),bv=new Map,Qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qd.push("scrollEnd");function vi(i,r){bv.set(i,r),Ui(r,[i])}var sh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$n=[],uo=0,Xd=0;function rh(){for(var i=uo,r=Xd=uo=0;r<i;){var o=$n[r];$n[r++]=null;var c=$n[r];$n[r++]=null;var f=$n[r];$n[r++]=null;var p=$n[r];if($n[r++]=null,c!==null&&f!==null){var T=c.pending;T===null?f.next=f:(f.next=T.next,T.next=f),c.pending=f}p!==0&&Tv(o,f,p)}}function ah(i,r,o,c){$n[uo++]=i,$n[uo++]=r,$n[uo++]=o,$n[uo++]=c,Xd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Wd(i,r,o,c){return ah(i,r,o,c),oh(i)}function pa(i,r){return ah(i,null,null,r),oh(i)}function Tv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Tt(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),p):null}function oh(i){if(50<gc)throw gc=0,ap=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ho={};function AC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,c){return new AC(i,r,o,c)}function Zd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ms(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function xv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function lh(i,r,o,c,f,p){var T=0;if(c=i,typeof i=="function")Zd(i)&&(T=1);else if(typeof i=="string")T=D2(i,o,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Vn(31,o,r,f),i.elementType=N,i.lanes=p,i;case j:return ga(o.children,f,p,r);case I:T=8,f|=24;break;case L:return i=Vn(12,o,r,f|2),i.elementType=L,i.lanes=p,i;case J:return i=Vn(13,o,r,f),i.elementType=J,i.lanes=p,i;case ne:return i=Vn(19,o,r,f),i.elementType=ne,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:T=10;break e;case k:T=9;break e;case ee:T=11;break e;case A:T=14;break e;case S:T=16,c=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Vn(T,o,r,f),r.elementType=i,r.type=c,r.lanes=p,r}function ga(i,r,o,c){return i=Vn(7,i,c,r),i.lanes=o,i}function Jd(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function Ev(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function em(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var wv=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var o=wv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Sl(r)},wv.set(i,r),r)}return{value:i,source:r,stack:Sl(r)}}var fo=[],mo=0,ch=null,Ql=0,Qn=[],Xn=0,nr=null,Yi=1,Qi="";function ps(i,r){fo[mo++]=Ql,fo[mo++]=ch,ch=i,Ql=r}function Sv(i,r,o){Qn[Xn++]=Yi,Qn[Xn++]=Qi,Qn[Xn++]=nr,nr=i;var c=Yi;i=Qi;var f=32-Tt(c)-1;c&=~(1<<f),o+=1;var p=32-Tt(r)+f;if(30<p){var T=f-f%5;p=(c&(1<<T)-1).toString(32),c>>=T,f-=T,Yi=1<<32-Tt(r)+f|o<<f|c,Qi=p+i}else Yi=1<<p|o<<f|c,Qi=i}function tm(i){i.return!==null&&(ps(i,1),Sv(i,1,0))}function nm(i){for(;i===ch;)ch=fo[--mo],fo[mo]=null,Ql=fo[--mo],fo[mo]=null;for(;i===nr;)nr=Qn[--Xn],Qn[Xn]=null,Qi=Qn[--Xn],Qn[Xn]=null,Yi=Qn[--Xn],Qn[Xn]=null}function Av(i,r){Qn[Xn++]=Yi,Qn[Xn++]=Qi,Qn[Xn++]=nr,Yi=r.id,Qi=r.overflow,nr=i}var Zt=null,at=null,Be=!1,ir=null,Wn=!1,im=Error(s(519));function sr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Yn(r,i)),im}function Rv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[It]=i,r[Kt]=c,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<vc.length;o++)ke(vc[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Fu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Qs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Hb(r.textContent,o)?(c.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),c.onScroll!=null&&ke("scroll",r),c.onScrollEnd!=null&&ke("scrollend",r),c.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||sr(i,!0)}function Cv(i){for(Zt=i.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Zt=Zt.return}}function po(i){if(i!==Zt)return!1;if(!Be)return Cv(i),Be=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Tp(i.type,i.memoizedProps)),o=!o),o&&at&&sr(i),Cv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=Jb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=Jb(i)}else r===27?(r=at,vr(i.type)?(i=Ap,Ap=null,at=i):at=r):at=Zt?Jn(i.stateNode.nextSibling):null;return!0}function ya(){at=Zt=null,Be=!1}function sm(){var i=ir;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),ir=null),i}function Xl(i){ir===null?ir=[i]:ir.push(i)}var rm=z(null),va=null,gs=null;function rr(i,r,o){W(rm,r._currentValue),r._currentValue=o}function ys(i){i._currentValue=rm.current,ie(rm)}function am(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function om(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){p.lanes|=o,w=p.alternate,w!==null&&(w.lanes|=o),am(p.return,o,i),c||(T=null);break e}p=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),am(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function go(i,r,o,c){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=f.type;Dn(f.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(f===Fe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Ec):i=[Ec])}f=f.return}i!==null&&om(r,i,o,c),r.flags|=262144}function uh(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _a(i){va=i,gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return Nv(va,i)}function hh(i,r){return va===null&&_a(i),Nv(i,r)}function Nv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},gs===null){if(i===null)throw Error(s(308));gs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else gs=gs.next=r;return o}var RC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},CC=t.unstable_scheduleCallback,NC=t.unstable_NormalPriority,Mt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new RC,data:new Map,refCount:0}}function Wl(i){i.refCount--,i.refCount===0&&CC(NC,function(){i.controller.abort()})}var Zl=null,cm=0,yo=0,vo=null;function IC(i,r){if(Zl===null){var o=Zl=[];cm=0,yo=fp(),vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return cm++,r.then(Iv,Iv),r}function Iv(){if(--cm===0&&Zl!==null){vo!==null&&(vo.status="fulfilled");var i=Zl;Zl=null,yo=0,vo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function DC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Dv=K.S;K.S=function(i,r){mb=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IC(i,r),Dv!==null&&Dv(i,r)};var ba=z(null);function um(){var i=ba.current;return i!==null?i:it.pooledCache}function fh(i,r){r===null?W(ba,ba.current):W(ba,r.pool)}function Vv(){var i=um();return i===null?null:{parent:Mt._currentValue,pool:i}}var _o=Error(s(460)),hm=Error(s(474)),dh=Error(s(542)),mh={then:function(){}};function Mv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ov(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ov(i),i}throw xa=r,_o}}function Ta(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(xa=o,_o):o}}var xa=null;function Pv(){if(xa===null)throw Error(s(459));var i=xa;return xa=null,i}function Ov(i){if(i===_o||i===dh)throw Error(s(483))}var bo=null,Jl=0;function ph(i){var r=Jl;return Jl+=1,bo===null&&(bo=[]),kv(bo,i,r)}function ec(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function gh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function jv(i){function r(H,F){if(i){var $=H.deletions;$===null?(H.deletions=[F],H.flags|=16):$.push(F)}}function o(H,F){if(!i)return null;for(;F!==null;)r(H,F),F=F.sibling;return null}function c(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function f(H,F){return H=ms(H,F),H.index=0,H.sibling=null,H}function p(H,F,$){return H.index=$,i?($=H.alternate,$!==null?($=$.index,$<F?(H.flags|=67108866,F):$):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function w(H,F,$,se){return F===null||F.tag!==6?(F=Jd($,H.mode,se),F.return=H,F):(F=f(F,$),F.return=H,F)}function O(H,F,$,se){var ge=$.type;return ge===j?te(H,F,$.props.children,se,$.key):F!==null&&(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Ta(ge)===F.type)?(F=f(F,$.props),ec(F,$),F.return=H,F):(F=lh($.type,$.key,$.props,null,H.mode,se),ec(F,$),F.return=H,F)}function Y(H,F,$,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=em($,H.mode,se),F.return=H,F):(F=f(F,$.children||[]),F.return=H,F)}function te(H,F,$,se,ge){return F===null||F.tag!==7?(F=ga($,H.mode,se,ge),F.return=H,F):(F=f(F,$),F.return=H,F)}function ae(H,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Jd(""+F,H.mode,$),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return $=lh(F.type,F.key,F.props,null,H.mode,$),ec($,F),$.return=H,$;case V:return F=em(F,H.mode,$),F.return=H,F;case S:return F=Ta(F),ae(H,F,$)}if(Ye(F)||q(F))return F=ga(F,H.mode,$,null),F.return=H,F;if(typeof F.then=="function")return ae(H,ph(F),$);if(F.$$typeof===B)return ae(H,hh(H,F),$);gh(H,F)}return null}function Q(H,F,$,se){var ge=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:w(H,F,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return $.key===ge?O(H,F,$,se):null;case V:return $.key===ge?Y(H,F,$,se):null;case S:return $=Ta($),Q(H,F,$,se)}if(Ye($)||q($))return ge!==null?null:te(H,F,$,se,null);if(typeof $.then=="function")return Q(H,F,ph($),se);if($.$$typeof===B)return Q(H,F,hh(H,$),se);gh(H,$)}return null}function Z(H,F,$,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get($)||null,w(F,H,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case C:return H=H.get(se.key===null?$:se.key)||null,O(F,H,se,ge);case V:return H=H.get(se.key===null?$:se.key)||null,Y(F,H,se,ge);case S:return se=Ta(se),Z(H,F,$,se,ge)}if(Ye(se)||q(se))return H=H.get($)||null,te(F,H,se,ge,null);if(typeof se.then=="function")return Z(H,F,$,ph(se),ge);if(se.$$typeof===B)return Z(H,F,$,hh(F,se),ge);gh(F,se)}return null}function me(H,F,$,se){for(var ge=null,He=null,pe=F,De=F=0,Oe=null;pe!==null&&De<$.length;De++){pe.index>De?(Oe=pe,pe=null):Oe=pe.sibling;var Ge=Q(H,pe,$[De],se);if(Ge===null){pe===null&&(pe=Oe);break}i&&pe&&Ge.alternate===null&&r(H,pe),F=p(Ge,F,De),He===null?ge=Ge:He.sibling=Ge,He=Ge,pe=Oe}if(De===$.length)return o(H,pe),Be&&ps(H,De),ge;if(pe===null){for(;De<$.length;De++)pe=ae(H,$[De],se),pe!==null&&(F=p(pe,F,De),He===null?ge=pe:He.sibling=pe,He=pe);return Be&&ps(H,De),ge}for(pe=c(pe);De<$.length;De++)Oe=Z(pe,H,De,$[De],se),Oe!==null&&(i&&Oe.alternate!==null&&pe.delete(Oe.key===null?De:Oe.key),F=p(Oe,F,De),He===null?ge=Oe:He.sibling=Oe,He=Oe);return i&&pe.forEach(function(Er){return r(H,Er)}),Be&&ps(H,De),ge}function _e(H,F,$,se){if($==null)throw Error(s(151));for(var ge=null,He=null,pe=F,De=F=0,Oe=null,Ge=$.next();pe!==null&&!Ge.done;De++,Ge=$.next()){pe.index>De?(Oe=pe,pe=null):Oe=pe.sibling;var Er=Q(H,pe,Ge.value,se);if(Er===null){pe===null&&(pe=Oe);break}i&&pe&&Er.alternate===null&&r(H,pe),F=p(Er,F,De),He===null?ge=Er:He.sibling=Er,He=Er,pe=Oe}if(Ge.done)return o(H,pe),Be&&ps(H,De),ge;if(pe===null){for(;!Ge.done;De++,Ge=$.next())Ge=ae(H,Ge.value,se),Ge!==null&&(F=p(Ge,F,De),He===null?ge=Ge:He.sibling=Ge,He=Ge);return Be&&ps(H,De),ge}for(pe=c(pe);!Ge.done;De++,Ge=$.next())Ge=Z(pe,H,De,Ge.value,se),Ge!==null&&(i&&Ge.alternate!==null&&pe.delete(Ge.key===null?De:Ge.key),F=p(Ge,F,De),He===null?ge=Ge:He.sibling=Ge,He=Ge);return i&&pe.forEach(function(F2){return r(H,F2)}),Be&&ps(H,De),ge}function nt(H,F,$,se){if(typeof $=="object"&&$!==null&&$.type===j&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case C:e:{for(var ge=$.key;F!==null;){if(F.key===ge){if(ge=$.type,ge===j){if(F.tag===7){o(H,F.sibling),se=f(F,$.props.children),se.return=H,H=se;break e}}else if(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Ta(ge)===F.type){o(H,F.sibling),se=f(F,$.props),ec(se,$),se.return=H,H=se;break e}o(H,F);break}else r(H,F);F=F.sibling}$.type===j?(se=ga($.props.children,H.mode,se,$.key),se.return=H,H=se):(se=lh($.type,$.key,$.props,null,H.mode,se),ec(se,$),se.return=H,H=se)}return T(H);case V:e:{for(ge=$.key;F!==null;){if(F.key===ge)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){o(H,F.sibling),se=f(F,$.children||[]),se.return=H,H=se;break e}else{o(H,F);break}else r(H,F);F=F.sibling}se=em($,H.mode,se),se.return=H,H=se}return T(H);case S:return $=Ta($),nt(H,F,$,se)}if(Ye($))return me(H,F,$,se);if(q($)){if(ge=q($),typeof ge!="function")throw Error(s(150));return $=ge.call($),_e(H,F,$,se)}if(typeof $.then=="function")return nt(H,F,ph($),se);if($.$$typeof===B)return nt(H,F,hh(H,$),se);gh(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(o(H,F.sibling),se=f(F,$),se.return=H,H=se):(o(H,F),se=Jd($,H.mode,se),se.return=H,H=se),T(H)):o(H,F)}return function(H,F,$,se){try{Jl=0;var ge=nt(H,F,$,se);return bo=null,ge}catch(pe){if(pe===_o||pe===dh)throw pe;var He=Vn(29,pe,null,H.mode);return He.lanes=se,He.return=H,He}}}var Ea=jv(!0),Lv=jv(!1),ar=!1;function fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function or(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function lr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=oh(i),Tv(i,null,o),r}return ah(i,c,r,o),oh(i)}function tc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Cl(i,o)}}function mm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var pm=!1;function nc(){if(pm){var i=vo;if(i!==null)throw i}}function ic(i,r,o,c){pm=!1;var f=i.updateQueue;ar=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,Y=O.next;O.next=null,T===null?p=Y:T.next=Y,T=O;var te=i.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==T&&(w===null?te.firstBaseUpdate=Y:w.next=Y,te.lastBaseUpdate=O))}if(p!==null){var ae=f.baseState;T=0,te=Y=O=null,w=p;do{var Q=w.lane&-536870913,Z=Q!==w.lane;if(Z?(Pe&Q)===Q:(c&Q)===Q){Q!==0&&Q===yo&&(pm=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=i,_e=w;Q=r;var nt=o;switch(_e.tag){case 1:if(me=_e.payload,typeof me=="function"){ae=me.call(nt,ae,Q);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,Q=typeof me=="function"?me.call(nt,ae,Q):me,Q==null)break e;ae=b({},ae,Q);break e;case 2:ar=!0}}Q=w.callback,Q!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(Y=te=Z,O=ae):te=te.next=Z,T|=Q;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);te===null&&(O=ae),f.baseState=O,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),dr|=T,i.lanes=T,i.memoizedState=ae}}function Uv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Bv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Uv(o[i],r)}var To=z(null),yh=z(0);function zv(i,r){i=As,W(yh,i),W(To,r),As=i|r.baseLanes}function gm(){W(yh,As),W(To,To.current)}function ym(){As=yh.current,ie(To),ie(yh)}var Mn=z(null),Zn=null;function cr(i){var r=i.alternate;W(Et,Et.current&1),W(Mn,i),Zn===null&&(r===null||To.current!==null||r.memoizedState!==null)&&(Zn=i)}function vm(i){W(Et,Et.current),W(Mn,i),Zn===null&&(Zn=i)}function Fv(i){i.tag===22?(W(Et,Et.current),W(Mn,i),Zn===null&&(Zn=i)):ur()}function ur(){W(Et,Et.current),W(Mn,Mn.current)}function kn(i){ie(Mn),Zn===i&&(Zn=null),ie(Et)}var Et=z(0);function vh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||wp(o)||Sp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vs=0,Ie=null,et=null,kt=null,_h=!1,xo=!1,wa=!1,bh=0,sc=0,Eo=null,VC=0;function yt(){throw Error(s(321))}function _m(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Dn(i[o],r[o]))return!1;return!0}function bm(i,r,o,c,f,p){return vs=p,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=i===null||i.memoizedState===null?S_:Pm,wa=!1,p=o(c,f),wa=!1,xo&&(p=Hv(r,o,c,f)),qv(i),p}function qv(i){K.H=oc;var r=et!==null&&et.next!==null;if(vs=0,kt=et=Ie=null,_h=!1,sc=0,Eo=null,r)throw Error(s(300));i===null||Pt||(i=i.dependencies,i!==null&&uh(i)&&(Pt=!0))}function Hv(i,r,o,c){Ie=i;var f=0;do{if(xo&&(Eo=null),sc=0,xo=!1,25<=f)throw Error(s(301));if(f+=1,kt=et=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=A_,p=r(o,c)}while(xo);return p}function MC(){var i=K.H,r=i.useState()[0];return r=typeof r.then=="function"?rc(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ie.flags|=1024),r}function Tm(){var i=bh!==0;return bh=0,i}function xm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Em(i){if(_h){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_h=!1}vs=0,kt=et=Ie=null,xo=!1,sc=bh=0,Eo=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ie.memoizedState=kt=i:kt=kt.next=i,kt}function wt(){if(et===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=kt===null?Ie.memoizedState:kt.next;if(r!==null)kt=r,et=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},kt===null?Ie.memoizedState=kt=i:kt=kt.next=i}return kt}function Th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(i){var r=sc;return sc+=1,Eo===null&&(Eo=[]),i=kv(Eo,i,r),r=Ie,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?S_:Pm),i}function xh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return rc(i);if(i.$$typeof===B)return Jt(i)}throw Error(s(438,String(i)))}function wm(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Th(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=U;return r.index++,o}function _s(i,r){return typeof r=="function"?r(i):r}function Eh(i){var r=wt();return Sm(r,et,i)}function Sm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var w=T=null,O=null,Y=r,te=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Pe&ae)===ae:(vs&ae)===ae){var Q=Y.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===yo&&(te=!0);else if((vs&Q)===Q){Y=Y.next,Q===yo&&(te=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(w=O=ae,T=p):O=O.next=ae,Ie.lanes|=Q,dr|=Q;ae=Y.action,wa&&o(p,ae),p=Y.hasEagerState?Y.eagerState:o(p,ae)}else Q={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(w=O=Q,T=p):O=O.next=Q,Ie.lanes|=ae,dr|=ae;Y=Y.next}while(Y!==null&&Y!==r);if(O===null?T=p:O.next=w,!Dn(p,i.memoizedState)&&(Pt=!0,te&&(o=vo,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=O,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Am(i){var r=wt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);Dn(p,r.memoizedState)||(Pt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Gv(i,r,o){var c=Ie,f=wt(),p=Be;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Dn((et||f).memoizedState,o);if(T&&(f.memoizedState=o,Pt=!0),f=f.queue,Nm(Yv.bind(null,c,f,i),[i]),f.getSnapshot!==r||T||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,wo(9,{destroy:void 0},$v.bind(null,c,f,o,r),null),it===null)throw Error(s(349));p||(vs&127)!==0||Kv(c,r,o)}return o}function Kv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=Th(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function $v(i,r,o,c){r.value=o,r.getSnapshot=c,Qv(r)&&Xv(i)}function Yv(i,r,o){return o(function(){Qv(r)&&Xv(i)})}function Qv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Dn(i,o)}catch{return!0}}function Xv(i){var r=pa(i,2);r!==null&&Sn(r,i,2)}function Rm(i){var r=gn();if(typeof i=="function"){var o=i;if(i=o(),wa){Fn(!0);try{o()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:i},r}function Wv(i,r,o,c){return i.baseState=o,Sm(i,et,typeof c=="function"?c:_s)}function kC(i,r,o,c,f){if(Ah(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};K.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,Zv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Zv(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var p=K.T,T={};K.T=T;try{var w=o(f,c),O=K.S;O!==null&&O(T,w),Jv(i,r,w)}catch(Y){Cm(i,r,Y)}finally{p!==null&&T.types!==null&&(p.types=T.types),K.T=p}}else try{p=o(f,c),Jv(i,r,p)}catch(Y){Cm(i,r,Y)}}function Jv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){e_(i,r,c)},function(c){return Cm(i,r,c)}):e_(i,r,o)}function e_(i,r,o){r.status="fulfilled",r.value=o,t_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Zv(i,o)))}function Cm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,t_(r),r=r.next;while(r!==c)}i.action=null}function t_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function n_(i,r){return r}function i_(i,r){if(Be){var o=it.formState;if(o!==null){e:{var c=Ie;if(Be){if(at){t:{for(var f=at,p=Wn;f.nodeType!==8;){if(!p){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){at=Jn(f.nextSibling),c=f.data==="F!";break e}}sr(c)}c=!1}c&&(r=o[0])}}return o=gn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:r},o.queue=c,o=x_.bind(null,Ie,c),c.dispatch=o,c=Rm(!1),p=km.bind(null,Ie,!1,c.queue),c=gn(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=kC.bind(null,Ie,f,p,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function s_(i){var r=wt();return r_(r,et,i)}function r_(i,r,o){if(r=Sm(i,r,n_)[0],i=Eh(_s)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=rc(r)}catch(T){throw T===_o?dh:T}else c=r;r=wt();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,wo(9,{destroy:void 0},PC.bind(null,f,o),null)),[c,p,i]}function PC(i,r){i.action=r}function a_(i){var r=wt(),o=et;if(o!==null)return r_(r,o,i);wt(),r=r.memoizedState,o=wt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function wo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Th(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function o_(){return wt().memoizedState}function wh(i,r,o,c){var f=gn();Ie.flags|=i,f.memoizedState=wo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Sh(i,r,o,c){var f=wt();c=c===void 0?null:c;var p=f.memoizedState.inst;et!==null&&c!==null&&_m(c,et.memoizedState.deps)?f.memoizedState=wo(r,p,o,c):(Ie.flags|=i,f.memoizedState=wo(1|r,p,o,c))}function l_(i,r){wh(8390656,8,i,r)}function Nm(i,r){Sh(2048,8,i,r)}function OC(i){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Th(),Ie.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function c_(i){var r=wt().memoizedState;return OC({ref:r,nextImpl:i}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function u_(i,r){return Sh(4,2,i,r)}function h_(i,r){return Sh(4,4,i,r)}function f_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function d_(i,r,o){o=o!=null?o.concat([i]):null,Sh(4,4,f_.bind(null,r,i),o)}function Im(){}function m_(i,r){var o=wt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&_m(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function p_(i,r){var o=wt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&_m(r,c[1]))return c[0];if(c=i(),wa){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,r],c}function Dm(i,r,o){return o===void 0||(vs&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=gb(),Ie.lanes|=i,dr|=i,o)}function g_(i,r,o,c){return Dn(o,r)?o:To.current!==null?(i=Dm(i,o,c),Dn(i,r)||(Pt=!0),i):(vs&42)===0||(vs&1073741824)!==0&&(Pe&261930)===0?(Pt=!0,i.memoizedState=o):(i=gb(),Ie.lanes|=i,dr|=i,r)}function y_(i,r,o,c,f){var p=le.p;le.p=p!==0&&8>p?p:8;var T=K.T,w={};K.T=w,km(i,!1,r,o);try{var O=f(),Y=K.S;if(Y!==null&&Y(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=DC(O,c);ac(i,r,te,jn(i))}else ac(i,r,c,jn(i))}catch(ae){ac(i,r,{then:function(){},status:"rejected",reason:ae},jn())}finally{le.p=p,T!==null&&w.types!==null&&(T.types=w.types),K.T=T}}function jC(){}function Vm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=v_(i).queue;y_(i,f,r,fe,o===null?jC:function(){return __(i),o(c)})}function v_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function __(i){var r=v_(i);r.next===null&&(r=i.alternate.memoizedState),ac(i,r.next.queue,{},jn())}function Mm(){return Jt(Ec)}function b_(){return wt().memoizedState}function T_(){return wt().memoizedState}function LC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=jn();i=or(o);var c=lr(r,i,o);c!==null&&(Sn(c,r,o),tc(c,r,o)),r={cache:lm()},i.payload=r;return}r=r.return}}function UC(i,r,o){var c=jn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(i)?E_(r,o):(o=Wd(i,r,o,c),o!==null&&(Sn(o,i,c),w_(o,r,c)))}function x_(i,r,o){var c=jn();ac(i,r,o,c)}function ac(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(i))E_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,w=p(T,o);if(f.hasEagerState=!0,f.eagerState=w,Dn(w,T))return ah(i,r,f,0),it===null&&rh(),!1}catch{}if(o=Wd(i,r,f,c),o!==null)return Sn(o,i,c),w_(o,r,c),!0}return!1}function km(i,r,o,c){if(c={lane:2,revertLane:fp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ah(i)){if(r)throw Error(s(479))}else r=Wd(i,o,c,2),r!==null&&Sn(r,i,2)}function Ah(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function E_(i,r){xo=_h=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function w_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Cl(i,o)}}var oc={readContext:Jt,use:xh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};oc.useEffectEvent=yt;var S_={readContext:Jt,use:xh,useCallback:function(i,r){return gn().memoizedState=[i,r===void 0?null:r],i},useContext:Jt,useEffect:l_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,wh(4194308,4,f_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return wh(4194308,4,i,r)},useInsertionEffect:function(i,r){wh(4,2,i,r)},useMemo:function(i,r){var o=gn();r=r===void 0?null:r;var c=i();if(wa){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=gn();if(o!==void 0){var f=o(r);if(wa){Fn(!0);try{o(r)}finally{Fn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=UC.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var r=gn();return i={current:i},r.memoizedState=i},useState:function(i){i=Rm(i);var r=i.queue,o=x_.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(i,r){var o=gn();return Dm(o,i,r)},useTransition:function(){var i=Rm(!1);return i=y_.bind(null,Ie,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ie,f=gn();if(Be){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(Pe&127)!==0||Kv(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,l_(Yv.bind(null,c,p,i),[i]),c.flags|=2048,wo(9,{destroy:void 0},$v.bind(null,c,p,o,r),null),o},useId:function(){var i=gn(),r=it.identifierPrefix;if(Be){var o=Qi,c=Yi;o=(c&~(1<<32-Tt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=bh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=VC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Mm,useFormState:i_,useActionState:i_,useOptimistic:function(i){var r=gn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=km.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:wm,useCacheRefresh:function(){return gn().memoizedState=LC.bind(null,Ie)},useEffectEvent:function(i){var r=gn(),o={impl:i};return r.memoizedState=o,function(){if(($e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Pm={readContext:Jt,use:xh,useCallback:m_,useContext:Jt,useEffect:Nm,useImperativeHandle:d_,useInsertionEffect:u_,useLayoutEffect:h_,useMemo:p_,useReducer:Eh,useRef:o_,useState:function(){return Eh(_s)},useDebugValue:Im,useDeferredValue:function(i,r){var o=wt();return g_(o,et.memoizedState,i,r)},useTransition:function(){var i=Eh(_s)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:rc(i),r]},useSyncExternalStore:Gv,useId:b_,useHostTransitionStatus:Mm,useFormState:s_,useActionState:s_,useOptimistic:function(i,r){var o=wt();return Wv(o,et,i,r)},useMemoCache:wm,useCacheRefresh:T_};Pm.useEffectEvent=c_;var A_={readContext:Jt,use:xh,useCallback:m_,useContext:Jt,useEffect:Nm,useImperativeHandle:d_,useInsertionEffect:u_,useLayoutEffect:h_,useMemo:p_,useReducer:Am,useRef:o_,useState:function(){return Am(_s)},useDebugValue:Im,useDeferredValue:function(i,r){var o=wt();return et===null?Dm(o,i,r):g_(o,et.memoizedState,i,r)},useTransition:function(){var i=Am(_s)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:rc(i),r]},useSyncExternalStore:Gv,useId:b_,useHostTransitionStatus:Mm,useFormState:a_,useActionState:a_,useOptimistic:function(i,r){var o=wt();return et!==null?Wv(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:wm,useCacheRefresh:T_};A_.useEffectEvent=c_;function Om(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var jm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=jn(),f=or(c);f.payload=r,o!=null&&(f.callback=o),r=lr(i,f,c),r!==null&&(Sn(r,i,c),tc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=jn(),f=or(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=lr(i,f,c),r!==null&&(Sn(r,i,c),tc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=jn(),c=or(o);c.tag=2,r!=null&&(c.callback=r),r=lr(i,c,o),r!==null&&(Sn(r,i,o),tc(r,i,o))}};function R_(i,r,o,c,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,T):r.prototype&&r.prototype.isPureReactComponent?!$l(o,c)||!$l(f,p):!0}function C_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&jm.enqueueReplaceState(r,r.state,null)}function Sa(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function N_(i){sh(i)}function I_(i){console.error(i)}function D_(i){sh(i)}function Rh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function V_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Lm(i,r,o){return o=or(o),o.tag=3,o.payload={element:null},o.callback=function(){Rh(i,r)},o}function M_(i){return i=or(i),i.tag=3,i}function k_(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){V_(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){V_(r,o,c),typeof f!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function BC(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&go(r,o,f,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?Uh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===mh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),cp(i,c,f)),!1;case 22:return o.flags|=65536,c===mh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),cp(i,c,f)),!1}throw Error(s(435,o.tag))}return cp(i,c,f),Uh(),!1}if(Be)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==im&&(i=Error(s(422),{cause:c}),Xl(Yn(i,o)))):(c!==im&&(r=Error(s(423),{cause:c}),Xl(Yn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Yn(c,o),f=Lm(i.stateNode,c,f),mm(i,f),vt!==4&&(vt=2)),!1;var p=Error(s(520),{cause:c});if(p=Yn(p,o),pc===null?pc=[p]:pc.push(p),vt!==4&&(vt=2),r===null)return!0;c=Yn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Lm(o.stateNode,c,i),mm(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(mr===null||!mr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=M_(f),k_(f,i,o,c),mm(o,f),!1}o=o.return}while(o!==null);return!1}var Um=Error(s(461)),Pt=!1;function en(i,r,o,c){r.child=i===null?Lv(r,null,o,c):Ea(r,i.child,o,c)}function P_(i,r,o,c,f){o=o.render;var p=r.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return _a(r),c=bm(i,r,o,T,p,f),w=Tm(),i!==null&&!Pt?(xm(i,r,f),bs(i,r,f)):(Be&&w&&tm(r),r.flags|=1,en(i,r,c,f),r.child)}function O_(i,r,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!Zd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,j_(i,r,p,c,f)):(i=lh(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!$m(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:$l,o(T,c)&&i.ref===r.ref)return bs(i,r,f)}return r.flags|=1,i=ms(p,c),i.ref=r.ref,i.return=r,r.child=i}function j_(i,r,o,c,f){if(i!==null){var p=i.memoizedProps;if($l(p,c)&&i.ref===r.ref)if(Pt=!1,r.pendingProps=c=p,$m(i,f))(i.flags&131072)!==0&&(Pt=!0);else return r.lanes=i.lanes,bs(i,r,f)}return Bm(i,r,o,c,f)}function L_(i,r,o,c){var f=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,r.child=null;return U_(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&fh(r,p!==null?p.cachePool:null),p!==null?zv(r,p):gm(),Fv(r);else return c=r.lanes=536870912,U_(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(fh(r,p.cachePool),zv(r,p),ur(),r.memoizedState=null):(i!==null&&fh(r,null),gm(),ur());return en(i,r,f,o),r.child}function lc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function U_(i,r,o,c,f){var p=um();return p=p===null?null:{parent:Mt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&fh(r,null),gm(),Fv(r),i!==null&&go(i,r,c,!0),r.childLanes=f,null}function Ch(i,r){return r=Ih({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function B_(i,r,o){return Ea(r,i.child,null,o),i=Ch(r,r.pendingProps),i.flags|=2,kn(r),r.memoizedState=null,i}function zC(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Be){if(c.mode==="hidden")return i=Ch(r,c),r.lanes=536870912,lc(null,i);if(vm(r),(i=at)?(i=Zb(i,Wn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:nr!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=Ev(i),o.return=r,r.child=o,Zt=r,at=null)):i=null,i===null)throw sr(r);return r.lanes=536870912,null}return Ch(r,c)}var p=i.memoizedState;if(p!==null){var T=p.dehydrated;if(vm(r),f)if(r.flags&256)r.flags&=-257,r=B_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pt||go(i,r,o,!1),f=(o&i.childLanes)!==0,Pt||f){if(c=it,c!==null&&(T=Nl(c,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,pa(i,T),Sn(c,i,T),Um;Uh(),r=B_(i,r,o)}else i=p.treeContext,at=Jn(T.nextSibling),Zt=r,Be=!0,ir=null,Wn=!1,i!==null&&Av(r,i),r=Ch(r,c),r.flags|=4096;return r}return i=ms(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Nh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Bm(i,r,o,c,f){return _a(r),o=bm(i,r,o,c,void 0,f),c=Tm(),i!==null&&!Pt?(xm(i,r,f),bs(i,r,f)):(Be&&c&&tm(r),r.flags|=1,en(i,r,o,f),r.child)}function z_(i,r,o,c,f,p){return _a(r),r.updateQueue=null,o=Hv(r,c,o,f),qv(i),c=Tm(),i!==null&&!Pt?(xm(i,r,p),bs(i,r,p)):(Be&&c&&tm(r),r.flags|=1,en(i,r,o,p),r.child)}function F_(i,r,o,c,f){if(_a(r),r.stateNode===null){var p=ho,T=o.contextType;typeof T=="object"&&T!==null&&(p=Jt(T)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},fm(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?Jt(T):ho,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Om(r,o,T,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&jm.enqueueReplaceState(p,p.state,null),ic(r,c,p,f),nc(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var w=r.memoizedProps,O=Sa(o,w);p.props=O;var Y=p.context,te=o.contextType;T=ho,typeof te=="object"&&te!==null&&(T=Jt(te));var ae=o.getDerivedStateFromProps;te=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||Y!==T)&&C_(r,p,c,T),ar=!1;var Q=r.memoizedState;p.state=Q,ic(r,c,p,f),nc(),Y=r.memoizedState,w||Q!==Y||ar?(typeof ae=="function"&&(Om(r,o,ae,c),Y=r.memoizedState),(O=ar||R_(r,o,O,c,Q,Y,T))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),p.props=c,p.state=Y,p.context=T,c=O):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,dm(i,r),T=r.memoizedProps,te=Sa(o,T),p.props=te,ae=r.pendingProps,Q=p.context,Y=o.contextType,O=ho,typeof Y=="object"&&Y!==null&&(O=Jt(Y)),w=o.getDerivedStateFromProps,(Y=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ae||Q!==O)&&C_(r,p,c,O),ar=!1,Q=r.memoizedState,p.state=Q,ic(r,c,p,f),nc();var Z=r.memoizedState;T!==ae||Q!==Z||ar||i!==null&&i.dependencies!==null&&uh(i.dependencies)?(typeof w=="function"&&(Om(r,o,w,c),Z=r.memoizedState),(te=ar||R_(r,o,te,c,Q,Z,O)||i!==null&&i.dependencies!==null&&uh(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Z,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Z,O)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Z),p.props=c,p.state=Z,p.context=O,c=te):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Nh(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Ea(r,i.child,null,f),r.child=Ea(r,null,o,f)):en(i,r,o,f),r.memoizedState=p.state,i=r.child):i=bs(i,r,f),i}function q_(i,r,o,c){return ya(),r.flags|=256,en(i,r,o,c),r.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(i){return{baseLanes:i,cachePool:Vv()}}function qm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=On),i}function H_(i,r,o){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Et.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Be){if(f?cr(r):ur(),(i=at)?(i=Zb(i,Wn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:nr!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=Ev(i),o.return=r,r.child=o,Zt=r,at=null)):i=null,i===null)throw sr(r);return Sp(i)?r.lanes=32:r.lanes=536870912,null}var w=c.children;return c=c.fallback,f?(ur(),f=r.mode,w=Ih({mode:"hidden",children:w},f),c=ga(c,f,o,null),w.return=r,c.return=r,w.sibling=c,r.child=w,c=r.child,c.memoizedState=Fm(o),c.childLanes=qm(i,T,o),r.memoizedState=zm,lc(null,c)):(cr(r),Hm(r,w))}var O=i.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(p)r.flags&256?(cr(r),r.flags&=-257,r=Gm(i,r,o)):r.memoizedState!==null?(ur(),r.child=i.child,r.flags|=128,r=null):(ur(),w=c.fallback,f=r.mode,c=Ih({mode:"visible",children:c.children},f),w=ga(w,f,o,null),w.flags|=2,c.return=r,w.return=r,c.sibling=w,r.child=c,Ea(r,i.child,null,o),c=r.child,c.memoizedState=Fm(o),c.childLanes=qm(i,T,o),r.memoizedState=zm,r=lc(null,c));else if(cr(r),Sp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(s(419)),c.stack="",c.digest=T,Xl({value:c,source:null,stack:null}),r=Gm(i,r,o)}else if(Pt||go(i,r,o,!1),T=(o&i.childLanes)!==0,Pt||T){if(T=it,T!==null&&(c=Nl(T,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,pa(i,c),Sn(T,i,c),Um;wp(w)||Uh(),r=Gm(i,r,o)}else wp(w)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,at=Jn(w.nextSibling),Zt=r,Be=!0,ir=null,Wn=!1,i!==null&&Av(r,i),r=Hm(r,c.children),r.flags|=4096);return r}return f?(ur(),w=c.fallback,f=r.mode,O=i.child,Y=O.sibling,c=ms(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Y!==null?w=ms(Y,w):(w=ga(w,f,o,null),w.flags|=2),w.return=r,c.return=r,c.sibling=w,r.child=c,lc(null,c),c=r.child,w=i.child.memoizedState,w===null?w=Fm(o):(f=w.cachePool,f!==null?(O=Mt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Vv(),w={baseLanes:w.baseLanes|o,cachePool:f}),c.memoizedState=w,c.childLanes=qm(i,T,o),r.memoizedState=zm,lc(i.child,c)):(cr(r),o=i.child,i=o.sibling,o=ms(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Hm(i,r){return r=Ih({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ih(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function Gm(i,r,o){return Ea(r,i.child,null,o),i=Hm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function G_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),am(i.return,r,o)}function Km(i,r,o,c,f,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function K_(i,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var T=Et.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,W(Et,T),en(i,r,c,o),c=Be?Ql:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&G_(i,o,r);else if(i.tag===19)G_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&vh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Km(r,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&vh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Km(r,!0,o,null,p,c);break;case"together":Km(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function bs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),dr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(go(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ms(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ms(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function $m(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&uh(i)))}function FC(i,r,o){switch(r.tag){case 3:zt(r,r.stateNode.containerInfo),rr(r,Mt,i.memoizedState.cache),ya();break;case 27:case 5:Wr(r);break;case 4:zt(r,r.stateNode.containerInfo);break;case 10:rr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,vm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?H_(i,r,o):(cr(r),i=bs(i,r,o),i!==null?i.sibling:null);cr(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(go(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return K_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(Et,Et.current),c)break;return null;case 22:return r.lanes=0,L_(i,r,o,r.pendingProps);case 24:rr(r,Mt,i.memoizedState.cache)}return bs(i,r,o)}function $_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Pt=!0;else{if(!$m(i,o)&&(r.flags&128)===0)return Pt=!1,FC(i,r,o);Pt=(i.flags&131072)!==0}else Pt=!1,Be&&(r.flags&1048576)!==0&&Sv(r,Ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Ta(r.elementType),r.type=i,typeof i=="function")Zd(i)?(c=Sa(i,c),r.tag=1,r=F_(null,r,i,c,o)):(r.tag=0,r=Bm(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===ee){r.tag=11,r=P_(null,r,i,c,o);break e}else if(f===A){r.tag=14,r=O_(null,r,i,c,o);break e}}throw r=ze(i)||i,Error(s(306,r,""))}}return r;case 0:return Bm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=Sa(c,r.pendingProps),F_(i,r,c,f,o);case 3:e:{if(zt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,dm(i,r),ic(r,c,null,o);var T=r.memoizedState;if(c=T.cache,rr(r,Mt,c),c!==p.cache&&om(r,[Mt],o,!0),nc(),c=T.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=q_(i,r,c,o);break e}else if(c!==f){f=Yn(Error(s(424)),r),Xl(f),r=q_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,at=Jn(i.firstChild),Zt=r,Be=!0,ir=null,Wn=!0,o=Lv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ya(),c===f){r=bs(i,r,o);break e}en(i,r,c,o)}r=r.child}return r;case 26:return Nh(i,r),i===null?(o=sT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,i=r.pendingProps,c=Kh(Ee.current).createElement(o),c[It]=r,c[Kt]=i,tn(c,o,i),Dt(c),r.stateNode=c):r.memoizedState=sT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Wr(r),i===null&&Be&&(c=r.stateNode=tT(r.type,r.pendingProps,Ee.current),Zt=r,Wn=!0,f=at,vr(r.type)?(Ap=f,at=Jn(c.firstChild)):at=f),en(i,r,r.pendingProps.children,o),Nh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Be&&((f=c=at)&&(c=v2(c,r.type,r.pendingProps,Wn),c!==null?(r.stateNode=c,Zt=r,at=Jn(c.firstChild),Wn=!1,f=!0):f=!1),f||sr(r)),Wr(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,c=p.children,Tp(f,p)?c=null:T!==null&&Tp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=bm(i,r,MC,null,null,o),Ec._currentValue=f),Nh(i,r),en(i,r,c,o),r.child;case 6:return i===null&&Be&&((i=o=at)&&(o=_2(o,r.pendingProps,Wn),o!==null?(r.stateNode=o,Zt=r,at=null,i=!0):i=!1),i||sr(r)),null;case 13:return H_(i,r,o);case 4:return zt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ea(r,null,c,o):en(i,r,c,o),r.child;case 11:return P_(i,r,r.type,r.pendingProps,o);case 7:return en(i,r,r.pendingProps,o),r.child;case 8:return en(i,r,r.pendingProps.children,o),r.child;case 12:return en(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,rr(r,r.type,c.value),en(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,_a(r),f=Jt(f),c=c(f),r.flags|=1,en(i,r,c,o),r.child;case 14:return O_(i,r,r.type,r.pendingProps,o);case 15:return j_(i,r,r.type,r.pendingProps,o);case 19:return K_(i,r,o);case 31:return zC(i,r,o);case 22:return L_(i,r,o,r.pendingProps);case 24:return _a(r),c=Jt(Mt),i===null?(f=um(),f===null&&(f=it,p=lm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:c,cache:f},fm(r),rr(r,Mt,f)):((i.lanes&o)!==0&&(dm(i,r),ic(r,null,null,o),nc()),f=i.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),rr(r,Mt,c)):(c=p.cache,rr(r,Mt,c),c!==f.cache&&om(r,[Mt],o,!0))),en(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ts(i){i.flags|=4}function Ym(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(bb())i.flags|=8192;else throw xa=mh,hm}else i.flags&=-16777217}function Y_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!cT(r))if(bb())i.flags|=8192;else throw xa=mh,hm}function Dh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ju():536870912,i.lanes|=r,Co|=r)}function cc(i,r){if(!Be)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function qC(i,r,o){var c=r.pendingProps;switch(nm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ys(Mt),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(po(r)?Ts(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sm())),ot(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(Ts(r),p!==null?(ot(r),Y_(r,p)):(ot(r),Ym(r,f,null,c,o))):p?p!==i.memoizedState?(Ts(r),ot(r),Y_(r,p)):(ot(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ts(r),ot(r),Ym(r,f,i,c,o)),null;case 27:if(Ka(r),o=Ee.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ts(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=ce.current,po(r)?Rv(r):(i=tT(f,c,o),r.stateNode=i,Ts(r))}return ot(r),null;case 5:if(Ka(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ts(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(p=ce.current,po(r))Rv(r);else{var T=Kh(Ee.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?T.createElement(f,{is:c.is}):T.createElement(f)}}p[It]=r,p[Kt]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;e:switch(tn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ts(r)}}return ot(r),Ym(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ts(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ee.current,po(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[It]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Hb(i.nodeValue,o)),i||sr(r,!0)}else i=Kh(i).createTextNode(c),i[It]=r,r.stateNode=i}return ot(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=po(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[It]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),i=!1}else o=sm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=po(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=sm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Dh(r,r.updateQueue),ot(r),null);case 4:return ct(),i===null&&gp(r.stateNode.containerInfo),ot(r),null;case 10:return ys(r.type),ot(r),null;case 19:if(ie(Et),c=r.memoizedState,c===null)return ot(r),null;if(f=(r.flags&128)!==0,p=c.rendering,p===null)if(f)cc(c,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=vh(i),p!==null){for(r.flags|=128,cc(c,!1),i=p.updateQueue,r.updateQueue=i,Dh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)xv(o,i),o=o.sibling;return W(Et,Et.current&1|2),Be&&ps(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&mn()>Oh&&(r.flags|=128,f=!0,cc(c,!1),r.lanes=4194304)}else{if(!f)if(i=vh(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Dh(r,i),cc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Be)return ot(r),null}else 2*mn()-c.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,f=!0,cc(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=mn(),i.sibling=null,o=Et.current,W(Et,f?o&1|2:o&1),Be&&ps(r,c.treeForkCount),i):(ot(r),null);case 22:case 23:return kn(r),ym(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&Dh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ie(ba),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ys(Mt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function HC(i,r){switch(nm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ys(Mt),ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ka(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(kn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ie(Et),null;case 4:return ct(),null;case 10:return ys(r.type),null;case 22:case 23:return kn(r),ym(),i!==null&&ie(ba),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ys(Mt),null;case 25:return null;default:return null}}function Q_(i,r){switch(nm(r),r.tag){case 3:ys(Mt),ct();break;case 26:case 27:case 5:Ka(r);break;case 4:ct();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:ie(Et);break;case 10:ys(r.type);break;case 22:case 23:kn(r),ym(),i!==null&&ie(ba);break;case 24:ys(Mt)}}function uc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,T=o.inst;c=p(),T.destroy=c}o=o.next}while(o!==f)}}catch(w){Ze(r,r.return,w)}}function hr(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=r;var O=o,Y=w;try{Y()}catch(te){Ze(f,O,te)}}}c=c.next}while(c!==p)}}catch(te){Ze(r,r.return,te)}}function X_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Bv(r,o)}catch(c){Ze(i,i.return,c)}}}function W_(i,r,o){o.props=Sa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(i,r,c)}}function hc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){Ze(i,r,f)}}function Xi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Ze(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ze(i,r,f)}else o.current=null}function Z_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Ze(i,i.return,f)}}function Qm(i,r,o){try{var c=i.stateNode;f2(c,i.type,o,r),c[Kt]=r}catch(f){Ze(i,i.return,f)}}function J_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&vr(i.type)||i.tag===4}function Xm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||J_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&vr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wm(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(c!==4&&(c===27&&vr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Wm(i,r,o),i=i.sibling;i!==null;)Wm(i,r,o),i=i.sibling}function Vh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&vr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Vh(i,r,o),i=i.sibling;i!==null;)Vh(i,r,o),i=i.sibling}function eb(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);tn(r,c,o),r[It]=i,r[Kt]=o}catch(p){Ze(i,i.return,p)}}var xs=!1,Ot=!1,Zm=!1,tb=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function GC(i,r){if(i=i.containerInfo,_p=Jh,i=dv(i),Gd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,w=-1,O=-1,Y=0,te=0,ae=i,Q=null;t:for(;;){for(var Z;ae!==o||f!==0&&ae.nodeType!==3||(w=T+f),ae!==p||c!==0&&ae.nodeType!==3||(O=T+c),ae.nodeType===3&&(T+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)Q=ae,ae=Z;for(;;){if(ae===i)break t;if(Q===o&&++Y===f&&(w=T),Q===p&&++te===c&&(O=T),(Z=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=Z}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(bp={focusedElem:i,selectionRange:o},Jh=!1,Yt=r;Yt!==null;)if(r=Yt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Yt=i;else for(;Yt!==null;){switch(r=Yt,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var me=Sa(o.type,f);i=c.getSnapshotBeforeUpdate(me,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Ze(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Ep(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ep(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Yt=i;break}Yt=r.return}}function nb(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ws(i,o),c&4&&uc(5,o);break;case 1:if(ws(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Ze(o,o.return,T)}else{var f=Sa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Ze(o,o.return,T)}}c&64&&X_(o),c&512&&hc(o,o.return);break;case 3:if(ws(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Bv(i,r)}catch(T){Ze(o,o.return,T)}}break;case 27:r===null&&c&4&&eb(o);case 26:case 5:ws(i,o),r===null&&c&4&&Z_(o),c&512&&hc(o,o.return);break;case 12:ws(i,o);break;case 31:ws(i,o),c&4&&rb(i,o);break;case 13:ws(i,o),c&4&&ab(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=e2.bind(null,o),b2(i,o))));break;case 22:if(c=o.memoizedState!==null||xs,!c){r=r!==null&&r.memoizedState!==null||Ot,f=xs;var p=Ot;xs=c,(Ot=r)&&!p?Ss(i,o,(o.subtreeFlags&8772)!==0):ws(i,o),xs=f,Ot=p}break;case 30:break;default:ws(i,o)}}function ib(i){var r=i.alternate;r!==null&&(i.alternate=null,ib(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Wa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,Tn=!1;function Es(i,r,o){for(o=o.child;o!==null;)sb(i,r,o),o=o.sibling}function sb(i,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 26:Ot||Xi(o,r),Es(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||Xi(o,r);var c=ht,f=Tn;vr(o.type)&&(ht=o.stateNode,Tn=!1),Es(i,r,o),bc(o.stateNode),ht=c,Tn=f;break;case 5:Ot||Xi(o,r);case 6:if(c=ht,f=Tn,ht=null,Es(i,r,o),ht=c,Tn=f,ht!==null)if(Tn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(p){Ze(o,r,p)}else try{ht.removeChild(o.stateNode)}catch(p){Ze(o,r,p)}break;case 18:ht!==null&&(Tn?(i=ht,Xb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Oo(i)):Xb(ht,o.stateNode));break;case 4:c=ht,f=Tn,ht=o.stateNode.containerInfo,Tn=!0,Es(i,r,o),ht=c,Tn=f;break;case 0:case 11:case 14:case 15:hr(2,o,r),Ot||hr(4,o,r),Es(i,r,o);break;case 1:Ot||(Xi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&W_(o,r,c)),Es(i,r,o);break;case 21:Es(i,r,o);break;case 22:Ot=(c=Ot)||o.memoizedState!==null,Es(i,r,o),Ot=c;break;default:Es(i,r,o)}}function rb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oo(i)}catch(o){Ze(r,r.return,o)}}}function ab(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oo(i)}catch(o){Ze(r,r.return,o)}}function KC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new tb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new tb),r;default:throw Error(s(435,i.tag))}}function Mh(i,r){var o=KC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=t2.bind(null,i,c);c.then(f,f)}})}function xn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(vr(w.type)){ht=w.stateNode,Tn=!1;break e}break;case 5:ht=w.stateNode,Tn=!1;break e;case 3:case 4:ht=w.stateNode.containerInfo,Tn=!0;break e}w=w.return}if(ht===null)throw Error(s(160));sb(p,T,f),ht=null,Tn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ob(r,i),r=r.sibling}var _i=null;function ob(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:xn(r,i),En(i),c&4&&(hr(3,i,i.return),uc(3,i),hr(5,i,i.return));break;case 1:xn(r,i),En(i),c&512&&(Ot||o===null||Xi(o,o.return)),c&64&&xs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=_i;if(xn(r,i),En(i),c&512&&(Ot||o===null||Xi(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Oi]||p[It]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),tn(p,c,o),p[It]=i,Dt(p),c=p;break e;case"link":var T=oT("link","href",f).get(c+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break t}}p=f.createElement(c),tn(p,c,o),f.head.appendChild(p);break;case"meta":if(T=oT("meta","content",f).get(c+(o.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break t}}p=f.createElement(c),tn(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[It]=i,Dt(p),c=p}i.stateNode=c}else lT(f,i.type,i.stateNode);else i.stateNode=aT(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?lT(f,i.type,i.stateNode):aT(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Qm(i,i.memoizedProps,o.memoizedProps)}break;case 27:xn(r,i),En(i),c&512&&(Ot||o===null||Xi(o,o.return)),o!==null&&c&4&&Qm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(xn(r,i),En(i),c&512&&(Ot||o===null||Xi(o,o.return)),i.flags&32){f=i.stateNode;try{bn(f,"")}catch(me){Ze(i,i.return,me)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Qm(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Zm=!0);break;case 6:if(xn(r,i),En(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(me){Ze(i,i.return,me)}}break;case 3:if(Qh=null,f=_i,_i=$h(r.containerInfo),xn(r,i),_i=f,En(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(r.containerInfo)}catch(me){Ze(i,i.return,me)}Zm&&(Zm=!1,lb(i));break;case 4:c=_i,_i=$h(i.stateNode.containerInfo),xn(r,i),En(i),_i=c;break;case 12:xn(r,i),En(i);break;case 31:xn(r,i),En(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 13:xn(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ph=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,Y=xs,te=Ot;if(xs=Y||f,Ot=te||O,xn(r,i),Ot=te,xs=Y,En(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||xs||Ot||Aa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(p=O.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=O.stateNode;var ae=O.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(me){Ze(O,O.return,me)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(me){Ze(O,O.return,me)}}}else if(r.tag===18){if(o===null){O=r;try{var Z=O.stateNode;f?Wb(Z,!0):Wb(O.stateNode,!1)}catch(me){Ze(O,O.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(i,o))));break;case 19:xn(r,i),En(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 30:break;case 21:break;default:xn(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(J_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Xm(i);Vh(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(bn(T,""),o.flags&=-33);var w=Xm(i);Vh(i,w,T);break;case 3:case 4:var O=o.stateNode.containerInfo,Y=Xm(i);Wm(i,Y,O);break;default:throw Error(s(161))}}catch(te){Ze(i,i.return,te)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function lb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;lb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ws(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)nb(i,r.alternate,r),r=r.sibling}function Aa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:hr(4,r,r.return),Aa(r);break;case 1:Xi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&W_(r,r.return,o),Aa(r);break;case 27:bc(r.stateNode);case 26:case 5:Xi(r,r.return),Aa(r);break;case 22:r.memoizedState===null&&Aa(r);break;case 30:Aa(r);break;default:Aa(r)}i=i.sibling}}function Ss(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ss(f,p,o),uc(4,p);break;case 1:if(Ss(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Ze(c,c.return,Y)}if(c=p,f=c.updateQueue,f!==null){var w=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Uv(O[f],w)}catch(Y){Ze(c,c.return,Y)}}o&&T&64&&X_(p),hc(p,p.return);break;case 27:eb(p);case 26:case 5:Ss(f,p,o),o&&c===null&&T&4&&Z_(p),hc(p,p.return);break;case 12:Ss(f,p,o);break;case 31:Ss(f,p,o),o&&T&4&&rb(f,p);break;case 13:Ss(f,p,o),o&&T&4&&ab(f,p);break;case 22:p.memoizedState===null&&Ss(f,p,o),hc(p,p.return);break;case 30:break;default:Ss(f,p,o)}r=r.sibling}}function Jm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Wl(o))}function ep(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Wl(i))}function bi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)cb(i,r,o,c),r=r.sibling}function cb(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:bi(i,r,o,c),f&2048&&uc(9,r);break;case 1:bi(i,r,o,c);break;case 3:bi(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Wl(i)));break;case 12:if(f&2048){bi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Ze(r,r.return,O)}}else bi(i,r,o,c);break;case 31:bi(i,r,o,c);break;case 13:bi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?bi(i,r,o,c):fc(i,r):p._visibility&2?bi(i,r,o,c):(p._visibility|=2,So(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Jm(T,r);break;case 24:bi(i,r,o,c),f&2048&&ep(r.alternate,r);break;default:bi(i,r,o,c)}}function So(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,T=r,w=o,O=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:So(p,T,w,O,f),uc(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?So(p,T,w,O,f):fc(p,T):(te._visibility|=2,So(p,T,w,O,f)),f&&Y&2048&&Jm(T.alternate,T);break;case 24:So(p,T,w,O,f),f&&Y&2048&&ep(T.alternate,T);break;default:So(p,T,w,O,f)}r=r.sibling}}function fc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:fc(o,c),f&2048&&Jm(c.alternate,c);break;case 24:fc(o,c),f&2048&&ep(c.alternate,c);break;default:fc(o,c)}r=r.sibling}}var dc=8192;function Ao(i,r,o){if(i.subtreeFlags&dc)for(i=i.child;i!==null;)ub(i,r,o),i=i.sibling}function ub(i,r,o){switch(i.tag){case 26:Ao(i,r,o),i.flags&dc&&i.memoizedState!==null&&V2(o,_i,i.memoizedState,i.memoizedProps);break;case 5:Ao(i,r,o);break;case 3:case 4:var c=_i;_i=$h(i.stateNode.containerInfo),Ao(i,r,o),_i=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=dc,dc=16777216,Ao(i,r,o),dc=c):Ao(i,r,o));break;default:Ao(i,r,o)}}function hb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function mc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Yt=c,db(c,i)}hb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fb(i),i=i.sibling}function fb(i){switch(i.tag){case 0:case 11:case 15:mc(i),i.flags&2048&&hr(9,i,i.return);break;case 3:mc(i);break;case 12:mc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,kh(i)):mc(i);break;default:mc(i)}}function kh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Yt=c,db(c,i)}hb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:hr(8,r,r.return),kh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,kh(r));break;default:kh(r)}i=i.sibling}}function db(i,r){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:hr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Wl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=i;Yt!==null;){c=Yt;var f=c.sibling,p=c.return;if(ib(c),c===o){Yt=null;break e}if(f!==null){f.return=p,Yt=f;break e}Yt=p}}}var $C={getCacheForType:function(i){var r=Jt(Mt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Jt(Mt).controller.signal}},YC=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Me=null,Pe=0,We=0,Pn=null,fr=!1,Ro=!1,tp=!1,As=0,vt=0,dr=0,Ra=0,np=0,On=0,Co=0,pc=null,wn=null,ip=!1,Ph=0,mb=0,Oh=1/0,jh=null,mr=null,qt=0,pr=null,No=null,Rs=0,sp=0,rp=null,pb=null,gc=0,ap=null;function jn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:K.T!==null?fp():Lu()}function gb(){if(On===0)if((Pe&536870912)===0||Be){var i=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),On=i}else On=536870912;return i=Mn.current,i!==null&&(i.flags|=32),On}function Sn(i,r,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Io(i,0),gr(i,Pe,On,!1)),ta(i,o),(($e&2)===0||i!==it)&&(i===it&&(($e&2)===0&&(Ra|=o),vt===4&&gr(i,Pe,On,!1)),Wi(i))}function yb(i,r,o){if(($e&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ui(i,r),f=c?WC(i,r):lp(i,r,!0),p=c;do{if(f===0){Ro&&!c&&gr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!QC(o)){f=lp(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=i;f=pc;var O=w.current.memoizedState.isDehydrated;if(O&&(Io(w,T).flags|=256),T=lp(w,T,!1),T!==2){if(tp&&!O){w.errorRecoveryDisabledLanes|=p,Ra|=p,f=4;break e}p=wn,wn=f,p!==null&&(wn===null?wn=p:wn.push.apply(wn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){Io(i,0),gr(i,r,0,!0);break}e:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:gr(c,r,On,!fr);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ph+300-mn(),10<f)){if(gr(c,r,On,!fr),Mi(c,0,!0)!==0)break e;Rs=r,c.timeoutHandle=Yb(vb.bind(null,c,o,wn,jh,ip,r,On,Ra,Co,fr,p,"Throttled",-0,0),f);break e}vb(c,o,wn,jh,ip,r,On,Ra,Co,fr,p,null,-0,0)}}break}while(!0);Wi(i)}function vb(i,r,o,c,f,p,T,w,O,Y,te,ae,Q,Z){if(i.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},ub(r,p,ae);var me=(p&62914560)===p?Ph-mn():(p&4194048)===p?mb-mn():0;if(me=M2(ae,me),me!==null){Rs=p,i.cancelPendingCommit=me(Ab.bind(null,i,r,p,o,c,f,T,w,O,te,ae,null,Q,Z)),gr(i,p,T,!Y);return}}Ab(i,r,p,o,c,f,T,w,O)}function QC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Dn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gr(i,r,o,c){r&=~np,r&=~Ra,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var p=31-Tt(f),T=1<<p;c[p]=-1,f&=~T}o!==0&&na(i,o,r)}function Lh(){return($e&6)===0?(yc(0),!1):!0}function op(){if(Me!==null){if(We===0)var i=Me.return;else i=Me,gs=va=null,Em(i),bo=null,Jl=0,i=Me;for(;i!==null;)Q_(i.alternate,i),i=i.return;Me=null}}function Io(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,p2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Rs=0,op(),it=i,Me=o=ms(i.current,null),Pe=r,We=0,Pn=null,fr=!1,Ro=ui(i,r),tp=!1,Co=On=np=Ra=dr=vt=0,wn=pc=null,ip=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-Tt(c),p=1<<f;r|=i[f],c&=~p}return As=r,rh(),o}function _b(i,r){Ie=null,K.H=oc,r===_o||r===dh?(r=Pv(),We=3):r===hm?(r=Pv(),We=4):We=r===Um?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Me===null&&(vt=1,Rh(i,Yn(r,i.current)))}function bb(){var i=Mn.current;return i===null?!0:(Pe&4194048)===Pe?Zn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Zn:!1}function Tb(){var i=K.H;return K.H=oc,i===null?oc:i}function xb(){var i=K.A;return K.A=$C,i}function Uh(){vt=4,fr||(Pe&4194048)!==Pe&&Mn.current!==null||(Ro=!0),(dr&134217727)===0&&(Ra&134217727)===0||it===null||gr(it,Pe,On,!1)}function lp(i,r,o){var c=$e;$e|=2;var f=Tb(),p=xb();(it!==i||Pe!==r)&&(jh=null,Io(i,r)),r=!1;var T=vt;e:do try{if(We!==0&&Me!==null){var w=Me,O=Pn;switch(We){case 8:op(),T=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var Y=We;if(We=0,Pn=null,Do(i,w,O,Y),o&&Ro){T=0;break e}break;default:Y=We,We=0,Pn=null,Do(i,w,O,Y)}}XC(),T=vt;break}catch(te){_b(i,te)}while(!0);return r&&i.shellSuspendCounter++,gs=va=null,$e=c,K.H=f,K.A=p,Me===null&&(it=null,Pe=0,rh()),T}function XC(){for(;Me!==null;)Eb(Me)}function WC(i,r){var o=$e;$e|=2;var c=Tb(),f=xb();it!==i||Pe!==r?(jh=null,Oh=mn()+500,Io(i,r)):Ro=ui(i,r);e:do try{if(We!==0&&Me!==null){r=Me;var p=Pn;t:switch(We){case 1:We=0,Pn=null,Do(i,r,p,1);break;case 2:case 9:if(Mv(p)){We=0,Pn=null,wb(r);break}r=function(){We!==2&&We!==9||it!==i||(We=7),Wi(i)},p.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Mv(p)?(We=0,Pn=null,wb(r)):(We=0,Pn=null,Do(i,r,p,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var w=Me;if(T?cT(T):w.stateNode.complete){We=0,Pn=null;var O=w.sibling;if(O!==null)Me=O;else{var Y=w.return;Y!==null?(Me=Y,Bh(Y)):Me=null}break t}}We=0,Pn=null,Do(i,r,p,5);break;case 6:We=0,Pn=null,Do(i,r,p,6);break;case 8:op(),vt=6;break e;default:throw Error(s(462))}}ZC();break}catch(te){_b(i,te)}while(!0);return gs=va=null,K.H=c,K.A=f,$e=o,Me!==null?0:(it=null,Pe=0,rh(),vt)}function ZC(){for(;Me!==null&&!Ld();)Eb(Me)}function Eb(i){var r=$_(i.alternate,i,As);i.memoizedProps=i.pendingProps,r===null?Bh(i):Me=r}function wb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=z_(o,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=z_(o,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Em(r);default:Q_(o,r),r=Me=xv(r,As),r=$_(o,r,As)}i.memoizedProps=i.pendingProps,r===null?Bh(i):Me=r}function Do(i,r,o,c){gs=va=null,Em(r),bo=null,Jl=0;var f=r.return;try{if(BC(i,f,r,o,Pe)){vt=1,Rh(i,Yn(o,i.current)),Me=null;return}}catch(p){if(f!==null)throw Me=f,p;vt=1,Rh(i,Yn(o,i.current)),Me=null;return}r.flags&32768?(Be||c===1?i=!0:Ro||(Pe&536870912)!==0?i=!1:(fr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Sb(r,i)):Bh(r)}function Bh(i){var r=i;do{if((r.flags&32768)!==0){Sb(r,fr);return}i=r.return;var o=qC(r.alternate,r,As);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=i}while(r!==null);vt===0&&(vt=5)}function Sb(i,r){do{var o=HC(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);vt=6,Me=null}function Ab(i,r,o,c,f,p,T,w,O){i.cancelPendingCommit=null;do zh();while(qt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Xd,zd(i,o,p,T,w,O),i===it&&(Me=it=null,Pe=0),No=r,pr=i,Rs=o,sp=p,rp=f,pb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,n2(Ks,function(){return Db(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,f=le.p,le.p=2,T=$e,$e|=4;try{GC(i,r,o)}finally{$e=T,le.p=f,K.T=c}}qt=1,Rb(),Cb(),Nb()}}function Rb(){if(qt===1){qt=0;var i=pr,r=No,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=le.p;le.p=2;var f=$e;$e|=4;try{ob(r,i);var p=bp,T=dv(i.containerInfo),w=p.focusedElem,O=p.selectionRange;if(T!==w&&w&&w.ownerDocument&&fv(w.ownerDocument.documentElement,w)){if(O!==null&&Gd(w)){var Y=O.start,te=O.end;if(te===void 0&&(te=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(te,w.value.length);else{var ae=w.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),me=w.textContent.length,_e=Math.min(O.start,me),nt=O.end===void 0?_e:Math.min(O.end,me);!Z.extend&&_e>nt&&(T=nt,nt=_e,_e=T);var H=hv(w,_e),F=hv(w,nt);if(H&&F&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var $=ae.createRange();$.setStart(H.node,H.offset),Z.removeAllRanges(),_e>nt?(Z.addRange($),Z.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),Z.addRange($))}}}}for(ae=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var se=ae[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Jh=!!_p,bp=_p=null}finally{$e=f,le.p=c,K.T=o}}i.current=r,qt=2}}function Cb(){if(qt===2){qt=0;var i=pr,r=No,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=le.p;le.p=2;var f=$e;$e|=4;try{nb(i,r.alternate,r)}finally{$e=f,le.p=c,K.T=o}}qt=3}}function Nb(){if(qt===4||qt===3){qt=0,Du();var i=pr,r=No,o=Rs,c=pb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,No=pr=null,Ib(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(mr=null),us(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ci,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=K.T,f=le.p,le.p=2,K.T=null;try{for(var p=i.onRecoverableError,T=0;T<c.length;T++){var w=c[T];p(w.value,{componentStack:w.stack})}}finally{K.T=r,le.p=f}}(Rs&3)!==0&&zh(),Wi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===ap?gc++:(gc=0,ap=i):gc=0,yc(0)}}function Ib(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Wl(r)))}function zh(){return Rb(),Cb(),Nb(),Db()}function Db(){if(qt!==5)return!1;var i=pr,r=sp;sp=0;var o=us(Rs),c=K.T,f=le.p;try{le.p=32>o?32:o,K.T=null,o=rp,rp=null;var p=pr,T=Rs;if(qt=0,No=pr=null,Rs=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,fb(p.current),cb(p,p.current,T,o),$e=w,yc(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ci,p)}catch{}return!0}finally{le.p=f,K.T=c,Ib(i,r)}}function Vb(i,r,o){r=Yn(o,r),r=Lm(i.stateNode,r,2),i=lr(i,r,2),i!==null&&(ta(i,2),Wi(i))}function Ze(i,r,o){if(i.tag===3)Vb(i,i,o);else for(;r!==null;){if(r.tag===3){Vb(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mr===null||!mr.has(c))){i=Yn(o,i),o=M_(2),c=lr(r,o,2),c!==null&&(k_(o,c,r,i),ta(c,2),Wi(c));break}}r=r.return}}function cp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new YC;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(tp=!0,f.add(o),i=JC.bind(null,i,r,o),r.then(i,i))}function JC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Pe&o)===o&&(vt===4||vt===3&&(Pe&62914560)===Pe&&300>mn()-Ph?($e&2)===0&&Io(i,0):np|=o,Co===Pe&&(Co=0)),Wi(i)}function Mb(i,r){r===0&&(r=ju()),i=pa(i,r),i!==null&&(ta(i,r),Wi(i))}function e2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Mb(i,o)}function t2(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Mb(i,o)}function n2(i,r){return Ft(i,r)}var Fh=null,Vo=null,up=!1,qh=!1,hp=!1,yr=0;function Wi(i){i!==Vo&&i.next===null&&(Vo===null?Fh=Vo=i:Vo=Vo.next=i),qh=!0,up||(up=!0,s2())}function yc(i,r){if(!hp&&qh){hp=!0;do for(var o=!1,c=Fh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var T=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-Tt(42|i)+1)-1,p&=f&~(T&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,jb(c,p))}else p=Pe,p=Mi(c,c===it?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ui(c,p)||(o=!0,jb(c,p));c=c.next}while(o);hp=!1}}function i2(){kb()}function kb(){qh=up=!1;var i=0;yr!==0&&m2()&&(i=yr);for(var r=mn(),o=null,c=Fh;c!==null;){var f=c.next,p=Pb(c,r);p===0?(c.next=null,o===null?Fh=f:o.next=f,f===null&&(Vo=o)):(o=c,(i!==0||(p&3)!==0)&&(qh=!0)),c=f}qt!==0&&qt!==5||yc(i),yr!==0&&(yr=0)}function Pb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-Tt(p),w=1<<T,O=f[T];O===-1?((w&o)===0||(w&c)!==0)&&(f[T]=Bd(w,r)):O<=r&&(i.expiredLanes|=w),p&=~w}if(r=it,o=Pe,o=Mi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Gs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ui(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Gs(c),us(o)){case 2:case 8:o=Rl;break;case 32:o=Ks;break;case 268435456:o=Vu;break;default:o=Ks}return c=Ob.bind(null,i),o=Ft(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Gs(c),i.callbackPriority=2,i.callbackNode=null,2}function Ob(i,r){if(qt!==0&&qt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(zh()&&i.callbackNode!==o)return null;var c=Pe;return c=Mi(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(yb(i,c,r),Pb(i,mn()),i.callbackNode!=null&&i.callbackNode===o?Ob.bind(null,i):null)}function jb(i,r){if(zh())return null;yb(i,r,!0)}function s2(){g2(function(){($e&6)!==0?Ft(Al,i2):kb()})}function fp(){if(yr===0){var i=yo;i===0&&(i=Di,Di<<=1,(Di&261888)===0&&(Di=256)),yr=i}return yr}function Lb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:to(""+i)}function Ub(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function r2(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var p=Lb((f[Kt]||null).action),T=c.submitter;T&&(r=(r=T[Kt]||null)?Lb(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var w=new Hi("action","action",null,c,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(yr!==0){var O=T?Ub(f,T):new FormData(f);Vm(o,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(w.preventDefault(),O=T?Ub(f,T):new FormData(f),Vm(o,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var dp=0;dp<Qd.length;dp++){var mp=Qd[dp],a2=mp.toLowerCase(),o2=mp[0].toUpperCase()+mp.slice(1);vi(a2,"on"+o2)}vi(gv,"onAnimationEnd"),vi(yv,"onAnimationIteration"),vi(vv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(EC,"onTransitionRun"),vi(wC,"onTransitionStart"),vi(SC,"onTransitionCancel"),vi(_v,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vc));function Bb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var T=c.length-1;0<=T;T--){var w=c[T],O=w.instance,Y=w.currentTarget;if(w=w.listener,O!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=Y;try{p(f)}catch(te){sh(te)}f.currentTarget=null,p=O}else for(T=0;T<c.length;T++){if(w=c[T],O=w.instance,Y=w.currentTarget,w=w.listener,O!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=Y;try{p(f)}catch(te){sh(te)}f.currentTarget=null,p=O}}}}function ke(i,r){var o=r[Xa];o===void 0&&(o=r[Xa]=new Set);var c=i+"__bubble";o.has(c)||(zb(r,i,2,!1),o.add(c))}function pp(i,r,o){var c=0;r&&(c|=4),zb(o,i,c,r)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function gp(i){if(!i[Hh]){i[Hh]=!0,Il.forEach(function(o){o!=="selectionchange"&&(l2.has(o)||pp(o,!1,i),pp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Hh]||(r[Hh]=!0,pp("selectionchange",!1,r))}}function zb(i,r,o,c){switch(gT(r)){case 2:var f=O2;break;case 8:f=j2;break;default:f=Dp}o=f.bind(null,r,o,i),f=void 0,!oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function yp(i,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=c.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=ji(w),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){c=p=T;continue e}w=w.parentNode}}c=c.return}Zs(function(){var Y=p,te=Hn(o),ae=[];e:{var Q=bv.get(i);if(Q!==void 0){var Z=Hi,me=i;switch(i){case"keypress":if(ca(o)===0)break e;case"keydown":case"keyup":Z=th;break;case"focusin":me="focus",Z=ha;break;case"focusout":me="blur",Z=ha;break;case"beforeblur":case"afterblur":Z=ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case gv:case yv:case vv:Z=Yu;break;case _v:Z=R;break;case"scroll":case"scrollend":Z=Fl;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ds;break;case"toggle":case"beforetoggle":Z=Ne}var _e=(r&4)!==0,nt=!_e&&(i==="scroll"||i==="scrollend"),H=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var F=Y,$;F!==null;){var se=F;if($=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||$===null||H===null||(se=mi(F,H),se!=null&&_e.push(_c(F,se,$))),nt)break;F=F.return}0<_e.length&&(Q=new Z(Q,me,null,o,te),ae.push({event:Q,listeners:_e}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",Q&&o!==Ul&&(me=o.relatedTarget||o.fromElement)&&(ji(me)||me[Pi]))break e;if((Z||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(me=o.relatedTarget||o.toElement,Z=Y,me=me?ji(me):null,me!==null&&(nt=l(me),_e=me.tag,me!==nt||_e!==5&&_e!==27&&_e!==6)&&(me=null)):(Z=null,me=Y),Z!==me)){if(_e=ql,se="onMouseLeave",H="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(_e=ds,se="onPointerLeave",H="onPointerEnter",F="pointer"),nt=Z==null?Q:Nn(Z),$=me==null?Q:Nn(me),Q=new _e(se,F+"leave",Z,o,te),Q.target=nt,Q.relatedTarget=$,se=null,ji(te)===Y&&(_e=new _e(H,F+"enter",me,o,te),_e.target=$,_e.relatedTarget=nt,se=_e),nt=se,Z&&me)t:{for(_e=c2,H=Z,F=me,$=0,se=H;se;se=_e(se))$++;se=0;for(var ge=F;ge;ge=_e(ge))se++;for(;0<$-se;)H=_e(H),$--;for(;0<se-$;)F=_e(F),se--;for(;$--;){if(H===F||F!==null&&H===F.alternate){_e=H;break t}H=_e(H),F=_e(F)}_e=null}else _e=null;Z!==null&&Fb(ae,Q,Z,_e,!1),me!==null&&nt!==null&&Fb(ae,nt,me,_e,!0)}}e:{if(Q=Y?Nn(Y):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var He=rv;else if(iv(Q))if(av)He=bC;else{He=vC;var pe=yC}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&eo(Y.elementType)&&(He=rv):He=_C;if(He&&(He=He(i,Y))){sv(ae,He,o,te);break e}pe&&pe(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ol(Q,"number",Q.value)}switch(pe=Y?Nn(Y):window,i){case"focusin":(iv(pe)||pe.contentEditable==="true")&&(lo=pe,Kd=Y,Yl=null);break;case"focusout":Yl=Kd=lo=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,mv(ae,o,te);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":mv(ae,o,te)}var De;if(Ke)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else oo?fa(i,o)&&(Oe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&($i&&o.locale!=="ko"&&(oo||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&oo&&(De=zl()):(qi=te,Bl="value"in qi?qi.value:qi.textContent,oo=!0)),pe=Gh(Y,Oe),0<pe.length&&(Oe=new Ki(Oe,i,null,o,te),ae.push({event:Oe,listeners:pe}),De?Oe.data=De:(De=ao(o),De!==null&&(Oe.data=De)))),(De=Kn?dC(i,o):mC(i,o))&&(Oe=Gh(Y,"onBeforeInput"),0<Oe.length&&(pe=new Ki("onBeforeInput","beforeinput",null,o,te),ae.push({event:pe,listeners:Oe}),pe.data=De)),r2(ae,i,Y,o,te)}Bb(ae,r)})}function _c(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Gh(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=mi(i,o),f!=null&&c.unshift(_c(i,f,p)),f=mi(i,r),f!=null&&c.push(_c(i,f,p))),i.tag===3)return c;i=i.return}return[]}function c2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Fb(i,r,o,c,f){for(var p=r._reactName,T=[];o!==null&&o!==c;){var w=o,O=w.alternate,Y=w.stateNode;if(w=w.tag,O!==null&&O===c)break;w!==5&&w!==26&&w!==27||Y===null||(O=Y,f?(Y=mi(o,p),Y!=null&&T.unshift(_c(o,Y,O))):f||(Y=mi(o,p),Y!=null&&T.push(_c(o,Y,O)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var u2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function qb(i){return(typeof i=="string"?i:""+i).replace(u2,`
`).replace(h2,"")}function Hb(i,r){return r=qb(r),qb(i)===r}function tt(i,r,o,c,f,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||bn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&bn(i,""+c);break;case"className":In(i,"class",c);break;case"tabIndex":In(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":In(i,o,c);break;case"style":Ll(i,c,p);break;case"data":if(r!=="object"){In(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=to(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",f.name,f,null),tt(i,r,"formEncType",f.formEncType,f,null),tt(i,r,"formMethod",f.formMethod,f,null),tt(i,r,"formTarget",f.formTarget,f,null)):(tt(i,r,"encType",f.encType,f,null),tt(i,r,"method",f.method,f,null),tt(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=to(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=di);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=to(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ke("beforetoggle",i),ke("toggle",i),Za(i,"popover",c);break;case"xlinkActuate":Vt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Za(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gu.get(o)||o,Za(i,o,c))}}function vp(i,r,o,c,f,p){switch(o){case"style":Ll(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?bn(i,c):(typeof c=="number"||typeof c=="bigint")&&bn(i,""+c);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"onClick":c!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Kt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Za(i,o,c)}}}function tn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,p,T,o,null)}}f&&tt(i,r,"srcSet",o.srcSet,o,null),c&&tt(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var w=p=T=f=null,O=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":f=te;break;case"type":T=te;break;case"checked":O=te;break;case"defaultChecked":Y=te;break;case"value":p=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:tt(i,r,c,te,o,null)}}Fu(i,p,w,O,Y,T,f,!1);return;case"select":ke("invalid",i),c=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:tt(i,r,f,w,o,null)}r=p,o=T,i.multiple=!!c,r!=null?Ys(i,!!c,r,!1):o!=null&&Ys(i,!!c,o,!0);return;case"textarea":ke("invalid",i),p=f=c=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:tt(i,r,T,w,o,null)}Qs(i,c,f,p);return;case"option":for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null)&&(O==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":tt(i,r,O,c,o,null));return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(c=0;c<vc.length;c++)ke(vc[c],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,Y,c,o,null)}return;default:if(eo(r)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&vp(i,r,te,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&tt(i,r,w,c,o,null))}function f2(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,w=null,O=null,Y=null,te=null;for(Z in o){var ae=o[Z];if(o.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":O=ae;default:c.hasOwnProperty(Z)||tt(i,r,Z,null,c,ae)}}for(var Q in c){var Z=c[Q];if(ae=o[Q],c.hasOwnProperty(Q)&&(Z!=null||ae!=null))switch(Q){case"type":p=Z;break;case"name":f=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":T=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==ae&&tt(i,r,Q,Z,c,ae)}}Ja(i,T,w,O,Y,te,p,f);return;case"select":Z=T=w=Q=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":Z=O;default:c.hasOwnProperty(p)||tt(i,r,p,null,c,O)}for(f in c)if(p=c[f],O=o[f],c.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":Q=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==O&&tt(i,r,f,p,c,O)}r=w,o=T,c=Z,Q!=null?Ys(i,!!o,Q,!1):!!c!=!!o&&(r!=null?Ys(i,!!o,r,!0):Ys(i,!!o,o?[]:"",!1));return;case"textarea":Z=Q=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(i,r,w,null,c,f)}for(T in c)if(f=c[T],p=o[T],c.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":Q=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&tt(i,r,T,f,c,p)}qu(i,Q,Z);return;case"option":for(var me in o)Q=o[me],o.hasOwnProperty(me)&&Q!=null&&!c.hasOwnProperty(me)&&(me==="selected"?i.selected=!1:tt(i,r,me,null,c,Q));for(O in c)Q=c[O],Z=o[O],c.hasOwnProperty(O)&&Q!==Z&&(Q!=null||Z!=null)&&(O==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":tt(i,r,O,Q,c,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Q=o[_e],o.hasOwnProperty(_e)&&Q!=null&&!c.hasOwnProperty(_e)&&tt(i,r,_e,null,c,Q);for(Y in c)if(Q=c[Y],Z=o[Y],c.hasOwnProperty(Y)&&Q!==Z&&(Q!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:tt(i,r,Y,Q,c,Z)}return;default:if(eo(r)){for(var nt in o)Q=o[nt],o.hasOwnProperty(nt)&&Q!==void 0&&!c.hasOwnProperty(nt)&&vp(i,r,nt,void 0,c,Q);for(te in c)Q=c[te],Z=o[te],!c.hasOwnProperty(te)||Q===Z||Q===void 0&&Z===void 0||vp(i,r,te,Q,c,Z);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!c.hasOwnProperty(H)&&tt(i,r,H,null,c,Q);for(ae in c)Q=c[ae],Z=o[ae],!c.hasOwnProperty(ae)||Q===Z||Q==null&&Z==null||tt(i,r,ae,Q,c,Z)}function Gb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,T=f.initiatorType,w=f.duration;if(p&&w&&Gb(T)){for(T=0,w=f.responseEnd,c+=1;c<o.length;c++){var O=o[c],Y=O.startTime;if(Y>w)break;var te=O.transferSize,ae=O.initiatorType;te&&Gb(ae)&&(O=O.responseEnd,T+=te*(O<w?1:(w-Y)/(O-Y)))}if(--c,r+=8*(p+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _p=null,bp=null;function Kh(i){return i.nodeType===9?i:i.ownerDocument}function Kb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $b(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Tp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xp=null;function m2(){var i=window.event;return i&&i.type==="popstate"?i===xp?!1:(xp=i,!0):(xp=null,!1)}var Yb=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,Qb=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof Qb<"u"?function(i){return Qb.resolve(null).then(i).catch(y2)}:Yb;function y2(i){setTimeout(function(){throw i})}function vr(i){return i==="head"}function Xb(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),Oo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")bc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,bc(o);for(var p=o.firstChild;p;){var T=p.nextSibling,w=p.nodeName;p[Oi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&bc(i.ownerDocument.body);o=f}while(o);Oo(r)}function Wb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Ep(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ep(o),Wa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function v2(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Oi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function _2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function Zb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Jn(i.nextSibling),i===null))return null;return i}function wp(i){return i.data==="$?"||i.data==="$~"}function Sp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function b2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Ap=null;function Jb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Jn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function eT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function tT(i,r,o){switch(r=Kh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function bc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Wa(i)}var ei=new Map,nT=new Set;function $h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cs=le.d;le.d={f:T2,r:x2,D:E2,C:w2,L:S2,m:A2,X:C2,S:R2,M:N2};function T2(){var i=Cs.f(),r=Lh();return i||r}function x2(i){var r=qn(i);r!==null&&r.tag===5&&r.type==="form"?__(r):Cs.r(i)}var Mo=typeof document>"u"?null:document;function iT(i,r,o){var c=Mo;if(c&&typeof r=="string"&&r){var f=_n(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),nT.has(f)||(nT.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),tn(r,"link",i),Dt(r),c.head.appendChild(r)))}}function E2(i){Cs.D(i),iT("dns-prefetch",i,null)}function w2(i,r){Cs.C(i,r),iT("preconnect",i,r)}function S2(i,r,o){Cs.L(i,r,o);var c=Mo;if(c&&i&&r){var f='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(i)+'"]';var p=f;switch(r){case"style":p=ko(i);break;case"script":p=Po(i)}ei.has(p)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ei.set(p,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(Tc(p))||r==="script"&&c.querySelector(xc(p))||(r=c.createElement("link"),tn(r,"link",i),Dt(r),c.head.appendChild(r)))}}function A2(i,r){Cs.m(i,r);var o=Mo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Po(i)}if(!ei.has(p)&&(i=b({rel:"modulepreload",href:i},r),ei.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xc(p)))return}c=o.createElement("link"),tn(c,"link",i),Dt(c),o.head.appendChild(c)}}}function R2(i,r,o){Cs.S(i,r,o);var c=Mo;if(c&&i){var f=Li(c).hoistableStyles,p=ko(i);r=r||"default";var T=f.get(p);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(Tc(p)))w.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ei.get(p))&&Rp(i,o);var O=T=c.createElement("link");Dt(O),tn(O,"link",i),O._p=new Promise(function(Y,te){O.onload=Y,O.onerror=te}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Yh(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(p,T)}}}function C2(i,r){Cs.X(i,r);var o=Mo;if(o&&i){var c=Li(o).hoistableScripts,f=Po(i),p=c.get(f);p||(p=o.querySelector(xc(f)),p||(i=b({src:i,async:!0},r),(r=ei.get(f))&&Cp(i,r),p=o.createElement("script"),Dt(p),tn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function N2(i,r){Cs.M(i,r);var o=Mo;if(o&&i){var c=Li(o).hoistableScripts,f=Po(i),p=c.get(f);p||(p=o.querySelector(xc(f)),p||(i=b({src:i,async:!0,type:"module"},r),(r=ei.get(f))&&Cp(i,r),p=o.createElement("script"),Dt(p),tn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function sT(i,r,o,c){var f=(f=Ee.current)?$h(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ko(o.href),o=Li(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ko(o.href);var p=Li(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(Tc(i)))&&!p._p&&(T.instance=p,T.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),p||I2(f,i,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(o),o=Li(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ko(i){return'href="'+_n(i)+'"'}function Tc(i){return'link[rel="stylesheet"]['+i+"]"}function rT(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function I2(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),tn(r,"link",o),Dt(r),i.head.appendChild(r))}function Po(i){return'[src="'+_n(i)+'"]'}function xc(i){return"script[async]"+i}function aT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+_n(o.href)+'"]');if(c)return r.instance=c,Dt(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Dt(c),tn(c,"style",f),Yh(c,o.precedence,i),r.instance=c;case"stylesheet":f=ko(o.href);var p=i.querySelector(Tc(f));if(p)return r.state.loading|=4,r.instance=p,Dt(p),p;c=rT(o),(f=ei.get(f))&&Rp(c,f),p=(i.ownerDocument||i).createElement("link"),Dt(p);var T=p;return T._p=new Promise(function(w,O){T.onload=w,T.onerror=O}),tn(p,"link",c),r.state.loading|=4,Yh(p,o.precedence,i),r.instance=p;case"script":return p=Po(o.src),(f=i.querySelector(xc(p)))?(r.instance=f,Dt(f),f):(c=o,(f=ei.get(p))&&(c=b({},o),Cp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),Dt(f),tn(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Yh(c,o.precedence,i));return r.instance}function Yh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===r)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Rp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Cp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Qh=null;function oT(i,r,o){if(Qh===null){var c=new Map,f=Qh=new Map;f.set(o,c)}else f=Qh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Oi]||p[It]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var w=c.get(T);w?w.push(p):c.set(T,[p])}}return c}function lT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function D2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function cT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function V2(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ko(c.href),p=r.querySelector(Tc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Xh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Dt(p);return}p=r.ownerDocument||r,c=rT(c),(f=ei.get(f))&&Rp(c,f),p=p.createElement("link"),Dt(p);var T=p;T._p=new Promise(function(w,O){T.onload=w,T.onerror=O}),tn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Xh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Np=0;function M2(i,r){return i.stylesheets&&i.count===0&&Zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Np===0&&(Np=62500*d2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Np?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wh=null;function Zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wh=new Map,r.forEach(k2,i),Wh=null,Xh.call(i))}function k2(i,r){if(!(r.state.loading&4)){var o=Wh.get(i);if(o)var c=o.get(null);else{o=new Map,Wh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||c,p===c&&o.set(null,f),o.set(T,f),this.count++,c=Xh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Ec={$$typeof:B,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function P2(i,r,o,c,f,p,T,w,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function uT(i,r,o,c,f,p,T,w,O,Y,te,ae){return i=new P2(i,r,o,T,O,Y,te,ae,w),r=1,p===!0&&(r|=24),p=Vn(3,null,null,r),i.current=p,p.stateNode=i,r=lm(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},fm(p),i}function hT(i){return i?(i=ho,i):ho}function fT(i,r,o,c,f,p){f=hT(f),c.context===null?c.context=f:c.pendingContext=f,c=or(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=lr(i,c,r),o!==null&&(Sn(o,i,r),tc(o,i,r))}function dT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ip(i,r){dT(i,r),(i=i.alternate)&&dT(i,r)}function mT(i){if(i.tag===13||i.tag===31){var r=pa(i,67108864);r!==null&&Sn(r,i,67108864),Ip(i,67108864)}}function pT(i){if(i.tag===13||i.tag===31){var r=jn();r=ia(r);var o=pa(i,r);o!==null&&Sn(o,i,r),Ip(i,r)}}var Jh=!0;function O2(i,r,o,c){var f=K.T;K.T=null;var p=le.p;try{le.p=2,Dp(i,r,o,c)}finally{le.p=p,K.T=f}}function j2(i,r,o,c){var f=K.T;K.T=null;var p=le.p;try{le.p=8,Dp(i,r,o,c)}finally{le.p=p,K.T=f}}function Dp(i,r,o,c){if(Jh){var f=Vp(c);if(f===null)yp(i,r,c,ef,o),yT(i,c);else if(U2(f,i,r,o,c))c.stopPropagation();else if(yT(i,c),r&4&&-1<L2.indexOf(i)){for(;f!==null;){var p=qn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Vi(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var O=1<<31-Tt(T);w.entanglements[1]|=O,T&=~O}Wi(p),($e&6)===0&&(Oh=mn()+500,yc(0))}}break;case 31:case 13:w=pa(p,2),w!==null&&Sn(w,p,2),Lh(),Ip(p,2)}if(p=Vp(c),p===null&&yp(i,r,c,ef,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else yp(i,r,c,null,o)}}function Vp(i){return i=Hn(i),Mp(i)}var ef=null;function Mp(i){if(ef=null,i=ji(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ef=i,null}function gT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jr()){case Al:return 2;case Rl:return 8;case Ks:case Ud:return 32;case Vu:return 268435456;default:return 32}default:return 32}}var kp=!1,_r=null,br=null,Tr=null,wc=new Map,Sc=new Map,xr=[],L2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yT(i,r){switch(i){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":wc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(r.pointerId)}}function Ac(i,r,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=qn(r),r!==null&&mT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function U2(i,r,o,c,f){switch(r){case"focusin":return _r=Ac(_r,i,r,o,c,f),!0;case"dragenter":return br=Ac(br,i,r,o,c,f),!0;case"mouseover":return Tr=Ac(Tr,i,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return wc.set(p,Ac(wc.get(p)||null,i,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Sc.set(p,Ac(Sc.get(p)||null,i,r,o,c,f)),!0}return!1}function vT(i){var r=ji(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,hi(i.priority,function(){pT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,hi(i.priority,function(){pT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Vp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Ul=c,o.target.dispatchEvent(c),Ul=null}else return r=qn(o),r!==null&&mT(r),i.blockedOn=o,!1;r.shift()}return!0}function _T(i,r,o){tf(i)&&o.delete(r)}function B2(){kp=!1,_r!==null&&tf(_r)&&(_r=null),br!==null&&tf(br)&&(br=null),Tr!==null&&tf(Tr)&&(Tr=null),wc.forEach(_T),Sc.forEach(_T)}function nf(i,r){i.blockedOn===r&&(i.blockedOn=null,kp||(kp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,B2)))}var sf=null;function bT(i){sf!==i&&(sf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sf===i&&(sf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(Mp(c||o)===null)continue;break}var p=qn(o);p!==null&&(i.splice(r,3),r-=3,Vm(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Oo(i){function r(O){return nf(O,i)}_r!==null&&nf(_r,i),br!==null&&nf(br,i),Tr!==null&&nf(Tr,i),wc.forEach(r),Sc.forEach(r);for(var o=0;o<xr.length;o++){var c=xr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<xr.length&&(o=xr[0],o.blockedOn===null);)vT(o),o.blockedOn===null&&xr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],T=f[Kt]||null;if(typeof p=="function")T||bT(o);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Kt]||null)w=T.formAction;else if(Mp(f)!==null)continue}else w=T.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),bT(o)}}}function TT(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Pp(i){this._internalRoot=i}rf.prototype.render=Pp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=jn();fT(o,c,i,r,null,null)},rf.prototype.unmount=Pp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;fT(i.current,2,null,i,null,null),Lh(),r[Pi]=null}};function rf(i){this._internalRoot=i}rf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Lu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<xr.length&&r!==0&&r<xr[o].priority;o++);xr.splice(o,0,i),o===0&&vT(i)}};var xT=e.version;if(xT!=="19.2.3")throw Error(s(527,xT,"19.2.3"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var z2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{ci=af.inject(z2),Xt=af}catch{}}return Cc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=N_,p=I_,T=D_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=uT(i,1,!1,null,null,o,c,null,f,p,T,TT),i[Pi]=r.current,gp(i),new Pp(r)},Cc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",p=N_,T=I_,w=D_,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=uT(i,1,!0,r,o??null,c,f,O,p,T,w,TT),r.context=hT(null),o=r.current,c=jn(),c=ia(c),f=or(c),f.callback=null,lr(o,f,c),o=c,r.current.lanes=o,ta(r,o),Wi(r),i[Pi]=r.current,gp(i),new rf(r)},Cc.version="19.2.3",Cc}var VT;function W2(){if(VT)return Lp.exports;VT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=X2(),Lp.exports}var Z2=W2();var MT="popstate";function J2(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return Eg("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Yc(a)}return tN(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eN(){return Math.random().toString(36).substring(2,10)}function kT(t,e){return{usr:t.state,key:t.key,idx:e}}function Eg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cl(e):e,state:n,key:e&&e.key||s||eN()}}function Yc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function tN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function b(){d="POP";let I=y(),L=I==null?null:I-g;g=I,m&&m({action:d,location:j.location,delta:L})}function E(I,L){d="PUSH";let k=Eg(j.location,I,L);g=y()+1;let B=kT(k,g),ee=j.createHref(k);try{u.pushState(B,"",ee)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(ee)}l&&m&&m({action:d,location:j.location,delta:1})}function C(I,L){d="REPLACE";let k=Eg(j.location,I,L);g=y();let B=kT(k,g),ee=j.createHref(k);u.replaceState(B,"",ee),l&&m&&m({action:d,location:j.location,delta:0})}function V(I){return nN(I)}let j={get action(){return d},get location(){return t(a,u)},listen(I){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(MT,b),m=I,()=>{a.removeEventListener(MT,b),m=null}},createHref(I){return e(a,I)},createURL:V,encodeLocation(I){let L=V(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:C,go(I){return u.go(I)}};return j}function nN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Yc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function kw(t,e,n="/"){return iN(t,e,n,!1)}function iN(t,e,n,s){let a=typeof e=="string"?cl(e):e,l=Os(a.pathname||"/",n);if(l==null)return null;let u=Pw(t);sN(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let g=pN(l);d=dN(u[m],g,s)}return d}function Pw(t,e=[],n=[],s="",a=!1){let l=(u,d,m=a,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=Ms([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Pw(u.children,e,E,b,m)),!(u.path==null&&!u.index)&&e.push({path:b,score:hN(b,u.index),routesMeta:E})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of Ow(u.path))l(u,d,!0,m)}),e}function Ow(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Ow(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function sN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var rN=/^:[\w-]+$/,aN=3,oN=2,lN=1,cN=10,uN=-2,PT=t=>t==="*";function hN(t,e){let n=t.split("/"),s=n.length;return n.some(PT)&&(s+=uN),e&&(s+=oN),n.filter(a=>!PT(a)).reduce((a,l)=>a+(rN.test(l)?aN:l===""?lN:cN),s)}function fN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function dN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),E=m.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Ms([l,b.pathname]),pathnameBase:_N(Ms([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=Ms([l,b.pathnameBase]))}return u}function Pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=mN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:b},E)=>{if(y==="*"){let V=d[E]||"";u=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const C=d[E];return b&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function mN(t,e=!1,n=!0){Bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function pN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Os(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gN=t=>jw.test(t);function yN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?cl(t):t,l;if(n)if(gN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=OT(n.substring(1),"/"):l=OT(n,e)}else l=e;return{pathname:l,search:bN(s),hash:TN(a)}}function OT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Fp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ey(t){let e=vN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function wy(t,e,n,s=!1){let a;typeof t=="string"?a=cl(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),Fp("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Fp("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Fp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}d=b>=0?e[b]:"/"}let m=yN(a,d),g=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),_N=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,xN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function EN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function wN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Uw(t,e){let n=t;if(typeof n!="string"||!jw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Lw)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Os(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{Bn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var SN=["GET",...Bw];new Set(SN);var ul=M.createContext(null);ul.displayName="DataRouter";var ud=M.createContext(null);ud.displayName="DataRouterState";var AN=M.createContext(!1),zw=M.createContext({isTransitioning:!1});zw.displayName="ViewTransition";var RN=M.createContext(new Map);RN.displayName="Fetchers";var CN=M.createContext(null);CN.displayName="Await";var zn=M.createContext(null);zn.displayName="Navigation";var cu=M.createContext(null);cu.displayName="Location";var Ci=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var Sy=M.createContext(null);Sy.displayName="RouteError";var Fw="REACT_ROUTER_ERROR",NN="REDIRECT",IN="ROUTE_ERROR_RESPONSE";function DN(t){if(t.startsWith(`${Fw}:${NN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function VN(t){if(t.startsWith(`${Fw}:${IN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new xN(e.status,e.statusText,e.data)}catch{}}function MN(t,{relative:e}={}){dt(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(zn),{hash:a,pathname:l,search:u}=uu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ms([n,l])),s.createHref({pathname:d,search:u,hash:a})}function hl(){return M.useContext(cu)!=null}function Ni(){return dt(hl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(cu).location}var qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hw(t){M.useContext(zn).static||M.useLayoutEffect(t)}function os(){let{isDataRoute:t}=M.useContext(Ci);return t?KN():kN()}function kN(){dt(hl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(ul),{basename:e,navigator:n}=M.useContext(zn),{matches:s}=M.useContext(Ci),{pathname:a}=Ni(),l=JSON.stringify(Ey(s)),u=M.useRef(!1);return Hw(()=>{u.current=!0}),M.useCallback((m,g={})=>{if(Bn(u.current,qw),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=wy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ms([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,a,t])}M.createContext(null);function hd(){let{matches:t}=M.useContext(Ci),e=t[t.length-1];return e?e.params:{}}function uu(t,{relative:e}={}){let{matches:n}=M.useContext(Ci),{pathname:s}=Ni(),a=JSON.stringify(Ey(n));return M.useMemo(()=>wy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function PN(t,e){return Gw(t,e)}function Gw(t,e,n,s,a){dt(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(zn),{matches:u}=M.useContext(Ci),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let k=b&&b.path||"";$w(g,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let E=Ni(),C;if(e){let k=typeof e=="string"?cl(e):e;dt(y==="/"||k.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${k.pathname}" was given in the \`location\` prop.`),C=k}else C=E;let V=C.pathname||"/",j=V;if(y!=="/"){let k=y.replace(/^\//,"").split("/");j="/"+V.replace(/^\//,"").split("/").slice(k.length).join("/")}let I=kw(t,{pathname:j});Bn(b||I!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Bn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=BN(I&&I.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:Ms([y,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:Ms([y,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,n,s,a);return e&&L?M.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},L):L}function ON(){let t=GN(),e=EN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,u)}var jN=M.createElement(ON,null),Kw=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=VN(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(Ci.Provider,{value:this.props.routeContext},M.createElement(Sy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(LN,{error:t},e):e}};Kw.contextType=AN;var qp=new WeakMap;function LN({children:t,error:e}){let{basename:n}=M.useContext(zn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=DN(e.digest);if(s){let a=qp.get(e);if(a)throw a;let l=Uw(s.location,n);if(Lw&&!qp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw qp.set(e,u),u}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function UN({routeContext:t,match:e,children:n}){let s=M.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Ci.Provider,{value:t},n)}function BN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=y),b.route.id){let{loaderData:E,errors:C}=n,V=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||V){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(y,b)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:wN(n.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,E)=>{let C,V=!1,j=null,I=null;n&&(C=u&&b.route.id?u[b.route.id]:void 0,j=b.route.errorElement||jN,d&&(m<0&&E===0?($w("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,I=null):m===E&&(V=!0,I=b.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,E+1)),k=()=>{let B;return C?B=j:V?B=I:b.route.Component?B=M.createElement(b.route.Component,null):b.route.element?B=b.route.element:B=y,M.createElement(UN,{match:b,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:B})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?M.createElement(Kw,{location:n.location,revalidation:n.revalidation,component:j,error:C,children:k(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:g}):k()},null)}function Ay(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zN(t){let e=M.useContext(ul);return dt(e,Ay(t)),e}function FN(t){let e=M.useContext(ud);return dt(e,Ay(t)),e}function qN(t){let e=M.useContext(Ci);return dt(e,Ay(t)),e}function Ry(t){let e=qN(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HN(){return Ry("useRouteId")}function GN(){let t=M.useContext(Sy),e=FN("useRouteError"),n=Ry("useRouteError");return t!==void 0?t:e.errors?.[n]}function KN(){let{router:t}=zN("useNavigate"),e=Ry("useNavigate"),n=M.useRef(!1);return Hw(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{Bn(n.current,qw),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var jT={};function $w(t,e,n){!e&&!jT[t]&&(jT[t]=!0,Bn(!1,n))}M.memo($N);function $N({routes:t,future:e,state:n,onError:s}){return Gw(t,void 0,n,s,e)}function Yw({to:t,replace:e,state:n,relative:s}){dt(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(zn);Bn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(Ci),{pathname:u}=Ni(),d=os(),m=wy(t,Ey(l),u,s==="path"),g=JSON.stringify(m);return M.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function Ns(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){dt(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=cl(n));let{pathname:g="/",search:y="",hash:b="",state:E=null,key:C="default"}=n,V=M.useMemo(()=>{let j=Os(g,d);return j==null?null:{location:{pathname:j,search:y,hash:b,state:E,key:C},navigationType:s}},[d,g,y,b,E,C,s]);return Bn(V!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:M.createElement(zn.Provider,{value:m},M.createElement(cu.Provider,{children:e,value:V}))}function QN({children:t,location:e}){return PN(wg(t),e)}function wg(t,e=[]){let n=[];return M.Children.forEach(t,(s,a)=>{if(!M.isValidElement(s))return;let l=[...e,a];if(s.type===M.Fragment){n.push.apply(n,wg(s.props.children,l));return}dt(s.type===Ns,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=wg(s.props.children,l)),n.push(u)}),n}var _f="get",bf="application/x-www-form-urlencoded";function fd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function XN(t){return fd(t)&&t.tagName.toLowerCase()==="button"}function WN(t){return fd(t)&&t.tagName.toLowerCase()==="form"}function ZN(t){return fd(t)&&t.tagName.toLowerCase()==="input"}function JN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eI(t,e){return t.button===0&&(!e||e==="_self")&&!JN(t)}function Sg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function tI(t,e){let n=Sg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var of=null;function nI(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var iI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hp(t){return t!=null&&!iI.has(t)?(Bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):t}function sI(t,e){let n,s,a,l,u;if(WN(t)){let d=t.getAttribute("action");s=d?Os(d,e):null,n=t.getAttribute("method")||_f,a=Hp(t.getAttribute("enctype"))||bf,l=new FormData(t)}else if(XN(t)||ZN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Os(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||_f,a=Hp(t.getAttribute("formenctype"))||Hp(d.getAttribute("enctype"))||bf,l=new FormData(d,t),!nI()){let{name:g,type:y,value:b}=t;if(y==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,b)}}else{if(fd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,s=null,a=bf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Os(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function aI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await aI(l,n);return u.links?u.links():[]}return[]}));return fI(s.flat(1).filter(oI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LT(t,e,n,s,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>u(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function cI(t,e,{includeHydrateFallback:n}={}){return uI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function uI(t){return[...new Set(t)]}function hI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function fI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(hI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Qw(){let t=M.useContext(ul);return Cy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dI(){let t=M.useContext(ud);return Cy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ny=M.createContext(void 0);Ny.displayName="FrameworkContext";function Xw(){let t=M.useContext(Ny);return Cy(t,"You must render this element inside a <HydratedRouter> element"),t}function mI(t,e){let n=M.useContext(Ny),[s,a]=M.useState(!1),[l,u]=M.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=e,E=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=L=>{L.forEach(k=>{u(k.isIntersecting)})},I=new IntersectionObserver(j,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[t]),M.useEffect(()=>{if(s){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[s]);let C=()=>{a(!0)},V=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Nc(d,C),onBlur:Nc(m,V),onMouseEnter:Nc(g,C),onMouseLeave:Nc(y,V),onTouchStart:Nc(b,C)}]:[!1,E,{}]}function Nc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pI({page:t,...e}){let{router:n}=Qw(),s=M.useMemo(()=>kw(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?M.createElement(yI,{page:t,matches:s,...e}):null}function gI(t){let{manifest:e,routeModules:n}=Xw(),[s,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return lI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function yI({page:t,matches:e,...n}){let s=Ni(),{manifest:a,routeModules:l}=Xw(),{basename:u}=Qw(),{loaderData:d,matches:m}=dI(),g=M.useMemo(()=>LT(t,e,m,a,s,"data"),[t,e,m,a,s]),y=M.useMemo(()=>LT(t,e,m,a,s,"assets"),[t,e,m,a,s]),b=M.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let V=new Set,j=!1;if(e.forEach(L=>{let k=a.routes[L.route.id];!k||!k.hasLoader||(!g.some(B=>B.route.id===L.route.id)&&L.route.id in d&&l[L.route.id]?.shouldRevalidate||k.hasClientLoader?j=!0:V.add(L.route.id))}),V.size===0)return[];let I=rI(t,u,"data");return j&&V.size>0&&I.searchParams.set("_routes",e.filter(L=>V.has(L.route.id)).map(L=>L.route.id).join(",")),[I.pathname+I.search]},[u,d,s,a,g,e,t,l]),E=M.useMemo(()=>cI(y,a),[y,a]),C=gI(y);return M.createElement(M.Fragment,null,b.map(V=>M.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),E.map(V=>M.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),C.map(({key:V,link:j})=>M.createElement("link",{key:V,nonce:n.nonce,...j})))}function vI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_I&&(window.__reactRouterVersion="7.11.0")}catch{}function bI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=M.useRef();a.current==null&&(a.current=J2({window:s,v5Compat:!0}));let l=a.current,[u,d]=M.useState({action:l.action,location:l.location}),m=M.useCallback(g=>{n===!1?d(g):M.startTransition(()=>d(g))},[n]);return M.useLayoutEffect(()=>l.listen(m),[l,m]),M.createElement(YN,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var Ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zw=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:E,...C},V){let{basename:j,unstable_useTransitions:I}=M.useContext(zn),L=typeof g=="string"&&Ww.test(g),k=Uw(g,j);g=k.to;let B=MN(g,{relative:a}),[ee,J,ne]=mI(s,C),A=wI(g,{replace:u,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:E,unstable_useTransitions:I});function S(U){e&&e(U),U.defaultPrevented||A(U)}let N=M.createElement("a",{...C,...ne,href:k.absoluteURL||B,onClick:k.isExternal||l?e:S,ref:vI(V,J),target:m,"data-discover":!L&&n==="render"?"true":void 0});return ee&&!L?M.createElement(M.Fragment,null,N,M.createElement(pI,{page:B})):N});Zw.displayName="Link";var TI=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...g},y){let b=uu(u,{relative:g.relative}),E=Ni(),C=M.useContext(ud),{navigator:V,basename:j}=M.useContext(zn),I=C!=null&&II(b)&&d===!0,L=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,k=E.pathname,B=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(k=k.toLowerCase(),B=B?B.toLowerCase():null,L=L.toLowerCase()),B&&j&&(B=Os(B,j)||B);const ee=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let J=k===L||!a&&k.startsWith(L)&&k.charAt(ee)==="/",ne=B!=null&&(B===L||!a&&B.startsWith(L)&&B.charAt(L.length)==="/"),A={isActive:J,isPending:ne,isTransitioning:I},S=J?e:void 0,N;typeof s=="function"?N=s(A):N=[s,J?"active":null,ne?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(A):l;return M.createElement(Zw,{...g,"aria-current":S,className:N,ref:y,style:U,to:u,viewTransition:d},typeof m=="function"?m(A):m)});TI.displayName="NavLink";var xI=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=_f,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:E,...C},V)=>{let{unstable_useTransitions:j}=M.useContext(zn),I=CI(),L=NI(d,{relative:g}),k=u.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&Ww.test(d),ee=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let ne=J.nativeEvent.submitter,A=ne?.getAttribute("formmethod")||u,S=()=>I(ne||J.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:E});j&&n!==!1?M.startTransition(()=>S()):S()};return M.createElement("form",{ref:V,method:k,action:L,onSubmit:s?m:ee,...C,"data-discover":!B&&t==="render"?"true":void 0})});xI.displayName="Form";function EI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(t){let e=M.useContext(ul);return dt(e,EI(t)),e}function wI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=os(),y=Ni(),b=uu(t,{relative:l});return M.useCallback(E=>{if(eI(E,e)){E.preventDefault();let C=n!==void 0?n:Yc(y)===Yc(b),V=()=>g(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?M.startTransition(()=>V()):V()}},[y,g,b,n,s,e,t,a,l,u,d,m])}function SI(t){Bn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Sg(t)),n=M.useRef(!1),s=Ni(),a=M.useMemo(()=>tI(s.search,n.current?null:e.current),[s.search]),l=os(),u=M.useCallback((d,m)=>{const g=Sg(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+g,m)},[l,a]);return[a,u]}var AI=0,RI=()=>`__${String(++AI)}__`;function CI(){let{router:t}=Jw("useSubmit"),{basename:e}=M.useContext(zn),n=HN(),s=t.fetch,a=t.navigate;return M.useCallback(async(l,u={})=>{let{action:d,method:m,encType:g,formData:y,body:b}=sI(l,e);if(u.navigate===!1){let E=u.fetcherKey||RI();await s(E,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function NI(t,{relative:e}={}){let{basename:n}=M.useContext(zn),s=M.useContext(Ci);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...uu(t||".",{relative:e})},u=Ni();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ms([n,l.pathname])),Yc(l)}function II(t,{relative:e}={}){let n=M.useContext(zw);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jw("useViewTransitionState"),a=uu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Os(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Os(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pf(a.pathname,u)!=null||Pf(a.pathname,l)!=null}const DI=()=>{};var UT={};const e1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},VI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},t1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,y=l>>2,b=(l&3)<<4|d>>4;let E=(d&15)<<2|g>>6,C=g&63;m||(C=64,u||(E=64)),s.push(n[y],n[b],n[E],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new MI;const E=l<<2|d>>4;if(s.push(E),g!==64){const C=d<<4&240|g>>2;if(s.push(C),b!==64){const V=g<<6&192|b;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kI=function(t){const e=e1(t);return t1.encodeByteArray(e,!0)},Of=function(t){return kI(t).replace(/\./g,"")},n1=function(t){try{return t1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OI=()=>PI().__FIREBASE_DEFAULTS__,jI=()=>{if(typeof process>"u"||typeof UT>"u")return;const t=UT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n1(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return DI()||OI()||jI()||LI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i1=t=>dd()?.emulatorHosts?.[t],UI=t=>{const e=i1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},s1=()=>dd()?.config,r1=t=>dd()?.[`_${t}`];class BI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a1(t){return(await fetch(t,{credentials:"include"})).ok}function zI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Of(JSON.stringify(n)),Of(JSON.stringify(u)),""].join(".")}const Lc={};function FI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?t.emulator.push(e):t.prod.push(e);return t}function qI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let BT=!1;function o1(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||Lc[t]===e||Lc[t]||BT)return;Lc[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=FI().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{BT=!0,u()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=qI(s),C=n("text"),V=document.getElementById(C)||document.createElement("span"),j=n("learnmore"),I=document.getElementById(j)||document.createElement("a"),L=n("preprendIcon"),k=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;d(B),y(I,j);const ee=g();m(k,L),B.append(k,V,I,ee),document.body.appendChild(B)}l?(V.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function GI(){const t=dd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $I(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QI(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XI(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function ZI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const JI="FirebaseError";class qs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=JI,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?eD(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new qs(a,d,s)}}function eD(t,e){return t.replace(tD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const tD=/\{\$([^}]+)}/g;function nD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function La(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(zT(l)&&zT(u)){if(!La(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function zT(t){return t!==null&&typeof t=="object"}function fu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iD(t,e){const n=new sD(t,e);return n.subscribe.bind(n)}class sD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");rD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Gp),a.error===void 0&&(a.error=Gp),a.complete===void 0&&(a.complete=Gp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gp(){}function bt(t){return t&&t._delegate?t._delegate:t}class Ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Na="[DEFAULT]";class aD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new BI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oD(t){return t===Na?void 0:t}function lD(t){return t.instantiationMode==="EAGER"}class cD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const uD={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},hD=je.INFO,fD={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},dD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=fD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=hD,this._logHandler=dD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const mD=(t,e)=>e.some(n=>t instanceof n);let FT,qT;function pD(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gD(){return qT||(qT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l1=new WeakMap,Ag=new WeakMap,c1=new WeakMap,Kp=new WeakMap,Dy=new WeakMap;function yD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Vr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&l1.set(n,t)}).catch(()=>{}),Dy.set(e,t),e}function vD(t){if(Ag.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ag.set(t,e)}let Rg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ag.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _D(t){Rg=t(Rg)}function bD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call($p(this),e,...n);return c1.set(s,e.sort?e.sort():[e]),Vr(s)}:gD().includes(t)?function(...e){return t.apply($p(this),e),Vr(l1.get(this))}:function(...e){return Vr(t.apply($p(this),e))}}function TD(t){return typeof t=="function"?bD(t):(t instanceof IDBTransaction&&vD(t),mD(t,pD())?new Proxy(t,Rg):t)}function Vr(t){if(t instanceof IDBRequest)return yD(t);if(Kp.has(t))return Kp.get(t);const e=TD(t);return e!==t&&(Kp.set(t,e),Dy.set(e,t)),e}const $p=t=>Dy.get(t);function xD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Vr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Vr(u.result),m.oldVersion,m.newVersion,Vr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const ED=["get","getKey","getAll","getAllKeys","count"],wD=["put","add","delete","clear"],Yp=new Map;function HT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=wD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||ED.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Yp.set(e,l),l}_D(t=>({...t,get:(e,n,s)=>HT(e,n)||t.get(e,n,s),has:(e,n)=>!!HT(e,n)||t.has(e,n)}));class SD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function AD(t){return t.getComponent()?.type==="VERSION"}const Cg="@firebase/app",GT="0.14.6";const js=new Iy("@firebase/app"),RD="@firebase/app-compat",CD="@firebase/analytics-compat",ND="@firebase/analytics",ID="@firebase/app-check-compat",DD="@firebase/app-check",VD="@firebase/auth",MD="@firebase/auth-compat",kD="@firebase/database",PD="@firebase/data-connect",OD="@firebase/database-compat",jD="@firebase/functions",LD="@firebase/functions-compat",UD="@firebase/installations",BD="@firebase/installations-compat",zD="@firebase/messaging",FD="@firebase/messaging-compat",qD="@firebase/performance",HD="@firebase/performance-compat",GD="@firebase/remote-config",KD="@firebase/remote-config-compat",$D="@firebase/storage",YD="@firebase/storage-compat",QD="@firebase/firestore",XD="@firebase/ai",WD="@firebase/firestore-compat",ZD="firebase",JD="12.6.0";const Ng="[DEFAULT]",e4={[Cg]:"fire-core",[RD]:"fire-core-compat",[ND]:"fire-analytics",[CD]:"fire-analytics-compat",[DD]:"fire-app-check",[ID]:"fire-app-check-compat",[VD]:"fire-auth",[MD]:"fire-auth-compat",[kD]:"fire-rtdb",[PD]:"fire-data-connect",[OD]:"fire-rtdb-compat",[jD]:"fire-fn",[LD]:"fire-fn-compat",[UD]:"fire-iid",[BD]:"fire-iid-compat",[zD]:"fire-fcm",[FD]:"fire-fcm-compat",[qD]:"fire-perf",[HD]:"fire-perf-compat",[GD]:"fire-rc",[KD]:"fire-rc-compat",[$D]:"fire-gcs",[YD]:"fire-gcs-compat",[QD]:"fire-fst",[WD]:"fire-fst-compat",[XD]:"fire-vertex","fire-js":"fire-js",[ZD]:"fire-js-all"};const jf=new Map,t4=new Map,Ig=new Map;function KT(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jo(t){const e=t.name;if(Ig.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,t);for(const n of jf.values())KT(n,t);for(const n of t4.values())KT(n,t);return!0}function Vy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}const n4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new hu("app","Firebase",n4);class i4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const dl=JD;function u1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Ng,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Mr.create("bad-app-name",{appName:String(a)});if(n||(n=s1()),!n)throw Mr.create("no-options");const l=jf.get(a);if(l){if(La(n,l.options)&&La(s,l.config))return l;throw Mr.create("duplicate-app",{appName:a})}const u=new cD(a);for(const m of Ig.values())u.addComponent(m);const d=new i4(n,s,u);return jf.set(a,d),d}function h1(t=Ng){const e=jf.get(t);if(!e&&t===Ng&&s1())return u1();if(!e)throw Mr.create("no-app",{appName:t});return e}function kr(t,e,n){let s=e4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(u.join(" "));return}Jo(new Ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const s4="firebase-heartbeat-database",r4=1,Qc="firebase-heartbeat-store";let Qp=null;function f1(){return Qp||(Qp=xD(s4,r4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Qp}async function a4(t){try{const n=(await f1()).transaction(Qc),s=await n.objectStore(Qc).get(d1(t));return await n.done,s}catch(e){if(e instanceof qs)js.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e?.message});js.warn(n.message)}}}async function $T(t,e){try{const s=(await f1()).transaction(Qc,"readwrite");await s.objectStore(Qc).put(e,d1(t)),await s.done}catch(n){if(n instanceof qs)js.warn(n.message);else{const s=Mr.create("idb-set",{originalErrorMessage:n?.message});js.warn(s.message)}}}function d1(t){return`${t.name}!${t.options.appId}`}const o4=1024,l4=30;class c4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=YT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>l4){const a=f4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=YT(),{heartbeatsToSend:n,unsentEntries:s}=u4(this._heartbeatsCache.heartbeats),a=Of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return js.warn(e),""}}}function YT(){return new Date().toISOString().substring(0,10)}function u4(t,e=o4){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),QT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),QT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class h4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?ZI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $T(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $T(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function QT(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}function f4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function d4(t){Jo(new Ua("platform-logger",e=>new SD(e),"PRIVATE")),Jo(new Ua("heartbeat",e=>new c4(e),"PRIVATE")),kr(Cg,GT,t),kr(Cg,GT,"esm2020"),kr("fire-js","")}d4("");function m1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m4=m1,p1=new hu("auth","Firebase",m1());const Lf=new Iy("@firebase/auth");function p4(t,...e){Lf.logLevel<=je.WARN&&Lf.warn(`Auth (${dl}): ${t}`,...e)}function Tf(t,...e){Lf.logLevel<=je.ERROR&&Lf.error(`Auth (${dl}): ${t}`,...e)}function oi(t,...e){throw ky(t,...e)}function Ai(t,...e){return ky(t,...e)}function My(t,e,n){const s={...m4(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:t.name})}function ks(t){return My(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g4(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&oi(t,"argument-error"),My(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ky(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return p1.create(t,...e)}function be(t,e,...n){if(!t)throw ky(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tf(e),new Error(e)}function Ls(t,e){t||Ds(e)}function Dg(){return typeof self<"u"&&self.location?.href||""}function y4(){return XT()==="http:"||XT()==="https:"}function XT(){return typeof self<"u"&&self.location?.protocol||null}function v4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y4()||$I()||"connection"in navigator)?navigator.onLine:!0}function _4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=HI()||YI()}get(){return v4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Py(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class g1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const b4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const T4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x4=new du(3e4,6e4);function Hs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ls(t,e,n,s,a={}){return y1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=fu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return KI()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(g.credentials="include"),g1.fetch()(await v1(t,t.config.apiHost,n,d),g)})}async function y1(t,e,n){t._canInitEmulator=!1;const s={...b4,...e};try{const a=new w4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw lf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw lf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw lf(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw My(t,y,g);oi(t,y)}}catch(a){if(a instanceof qs)throw a;oi(t,"network-request-failed",{message:String(a)})}}async function mu(t,e,n,s,a={}){const l=await ls(t,e,n,s,a);return"mfaPendingCredential"in l&&oi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function v1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Py(t.config,a):`${t.config.apiScheme}://${a}`;return T4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function E4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),x4.get())})}}function lf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ai(t,e,s);return a.customData._tokenResponse=n,a}function WT(t){return t!==void 0&&t.enterprise!==void 0}class S4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A4(t,e){return ls(t,"GET","/v2/recaptchaConfig",Hs(t,e))}async function R4(t,e){return ls(t,"POST","/v1/accounts:delete",e)}async function Uf(t,e){return ls(t,"POST","/v1/accounts:lookup",e)}function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C4(t,e=!1){const n=bt(t),s=await n.getIdToken(e),a=Oy(s);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Uc(Xp(a.auth_time)),issuedAtTime:Uc(Xp(a.iat)),expirationTime:Uc(Xp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Xp(t){return Number(t)*1e3}function Oy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const a=n1(n);return a?JSON.parse(a):(Tf("Failed to decode base64 JWT payload"),null)}catch(a){return Tf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ZT(t){const e=Oy(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function el(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof qs&&N4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function N4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class I4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bf(t){const e=t.auth,n=await t.getIdToken(),s=await el(t,Uf(e,{idToken:n}));be(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?_1(a.providerUserInfo):[],u=V4(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Vg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function D4(t){const e=bt(t);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function _1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function M4(t,e){const n=await y1(t,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await v1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&fl(t.emulatorConfig.host)&&(m.credentials="include"),g1.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k4(t,e){return ls(t,"POST","/v2/accounts:revokeToken",Hs(t,e))}class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=ZT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await M4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new $o;return s&&(be(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return Ds("not implemented")}}function wr(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new I4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await el(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C4(this,e)}reload(){return D4(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await el(this,R4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:C,providerData:V,stsTokenManager:j}=n;be(b&&j,e,"internal-error");const I=$o.fromJSON(this.name,j);be(typeof b=="string",e,"internal-error"),wr(s,e.name),wr(a,e.name),be(typeof E=="boolean",e,"internal-error"),be(typeof C=="boolean",e,"internal-error"),wr(l,e.name),wr(u,e.name),wr(d,e.name),wr(m,e.name),wr(g,e.name),wr(y,e.name);const L=new Si({uid:b,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:I,createdAt:g,lastLoginAt:y});return V&&Array.isArray(V)&&(L.providerData=V.map(k=>({...k}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,s=!1){const a=new $o;a.updateFromServerResponse(n);const l=new Si({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Bf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?_1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new $o;d.updateFromIdToken(s);const m=new Si({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const JT=new Map;function Vs(t){Ls(t instanceof Function,"Expected a class definition");let e=JT.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JT.set(t,e),e)}class b1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b1.type="NONE";const ex=b1;function xf(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=xf(this.userKey,a.apiKey,l),this.fullPersistenceKey=xf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uf(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yo(Vs(ex),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Vs(ex);const u=xf(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(u);if(y){let b;if(typeof y=="string"){const E=await Uf(e,{idToken:y}).catch(()=>{});if(!E)break;b=await Si._fromGetAccountInfoResponse(e,E,y)}else b=Si._fromJSON(e,y);g!==l&&(d=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Yo(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Yo(l,e,s))}}function tx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A1(e))return"Blackberry";if(R1(e))return"Webos";if(x1(e))return"Safari";if((e.includes("chrome/")||E1(e))&&!e.includes("edge/"))return"Chrome";if(S1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function T1(t=dn()){return/firefox\//i.test(t)}function x1(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E1(t=dn()){return/crios\//i.test(t)}function w1(t=dn()){return/iemobile/i.test(t)}function S1(t=dn()){return/android/i.test(t)}function A1(t=dn()){return/blackberry/i.test(t)}function R1(t=dn()){return/webos/i.test(t)}function jy(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P4(t=dn()){return jy(t)&&!!window.navigator?.standalone}function O4(){return QI()&&document.documentMode===10}function C1(t=dn()){return jy(t)||S1(t)||R1(t)||A1(t)||/windows phone/i.test(t)||w1(t)}function N1(t,e=[]){let n;switch(t){case"Browser":n=tx(dn());break;case"Worker":n=`${tx(dn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${s}`}class j4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function L4(t,e={}){return ls(t,"GET","/v2/passwordPolicy",Hs(t,e))}const U4=6;class B4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??U4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class z4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nx(this),this.idTokenSubscription=new nx(this),this.beforeStateQueue=new j4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uf(this,{idToken:e}),s=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(ks(this));const n=e?bt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L4(this),n=new B4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await k4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&p4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kr(t){return bt(t)}class nx{constructor(e){this.auth=e,this.observer=null,this.addObserver=iD(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F4(t){md=t}function I1(t){return md.loadJS(t)}function q4(){return md.recaptchaEnterpriseScript}function H4(){return md.gapiScript}function G4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class K4{constructor(){this.enterprise=new $4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Y4="recaptcha-enterprise",D1="NO_RECAPTCHA";class Q4{constructor(e){this.type=Y4,this.auth=Kr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{A4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new S4(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;WT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(D1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K4().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&WT(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=q4();m.length!==0&&(m+=d),I1(m).then(()=>{a(d,l,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function ix(t,e,n,s=!1,a=!1){const l=new Q4(t);let u;if(a)u=D1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Mg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ix(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ix(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function X4(t,e){const n=Vy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(La(l,e??{}))return a;oi(a,"already-initialized")}return n.initialize({options:e})}function W4(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Vs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function Z4(t,e,n){const s=Kr(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=V1(e),{host:u,port:d}=J4(e),m=d===null?"":`:${d}`,g={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(La(g,s.config.emulator)&&La(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,fl(u)?(a1(`${l}//${u}${m}`),o1("Auth",!0)):eV()}function V1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J4(t){const e=V1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:sx(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:sx(u)}}}function sx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Ly{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function tV(t,e){return ls(t,"POST","/v1/accounts:signUp",e)}async function nV(t,e){return mu(t,"POST","/v1/accounts:signInWithPassword",Hs(t,e))}async function iV(t,e){return ls(t,"POST","/v1/accounts:sendOobCode",Hs(t,e))}async function sV(t,e){return iV(t,e)}async function rV(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}async function aV(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}class Xc extends Ly{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Xc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Xc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,n,"signInWithPassword",nV);case"emailLink":return rV(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,s,"signUpPassword",tV);case"emailLink":return aV(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qo(t,e){return mu(t,"POST","/v1/accounts:signInWithIdp",Hs(t,e))}const oV="http://localhost";class Ba extends Ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Ba(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:oV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function lV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cV(t){const e=Dc(Vc(t)).link,n=e?Dc(Vc(e)).deep_link_id:null,s=Dc(Vc(t)).deep_link_id;return(s?Dc(Vc(s)).link:null)||s||n||e||t}class Uy{constructor(e){const n=Dc(Vc(e)),s=n.apiKey??null,a=n.oobCode??null,l=lV(n.mode??null);be(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cV(e);try{return new Uy(n)}catch{return null}}}class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return Xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Uy.parseLink(n);return be(s,"argument-error"),Xc._fromEmailAndCode(e,s.code,s.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class By{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends By{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ar extends pu{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";class Is extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ba._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Is.credential(n,s)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";class Rr extends pu{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";class Cr extends pu{constructor(){super("twitter.com")}static credential(e,n){return Ba._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";async function uV(t,e){return mu(t,"POST","/v1/accounts:signUp",Hs(t,e))}class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Si._fromIdTokenResponse(e,s,a),u=rx(s);return new za({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=rx(s);return new za({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function rx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class zf extends qs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new zf(e,n,s,a)}}function M1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(t,l,e,s):l})}async function hV(t,e,n=!1){const s=await el(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return za._forOperation(t,"link",s)}async function fV(t,e,n=!1){const{auth:s}=t;if(Ln(s.app))return Promise.reject(ks(s));const a="reauthenticate";try{const l=await el(t,M1(s,a,e,t),n);be(l.idToken,s,"internal-error");const u=Oy(l.idToken);be(u,s,"internal-error");const{sub:d}=u;return be(t.uid===d,s,"user-mismatch"),za._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),l}}async function k1(t,e,n=!1){if(Ln(t.app))return Promise.reject(ks(t));const s="signIn",a=await M1(t,s,e),l=await za._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function dV(t,e){return k1(Kr(t),e)}async function P1(t){const e=Kr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mV(t,e,n){if(Ln(t.app))return Promise.reject(ks(t));const s=Kr(t),u=await Mg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&P1(t),m}),d=await za._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function pV(t,e,n){return Ln(t.app)?Promise.reject(ks(t)):dV(bt(t),ml.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&P1(t),s})}async function O1(t,e){const n=bt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await sV(n.auth,a);l!==t.email&&await t.reload()}async function gV(t,e){return ls(t,"POST","/v1/accounts:update",e)}async function yV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=bt(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await el(s,gV(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function vV(t,e,n,s){return bt(t).onIdTokenChanged(e,n,s)}function _V(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function bV(t,e,n,s){return bt(t).onAuthStateChanged(e,n,s)}function TV(t){return bt(t).signOut()}const Ff="__sak";class j1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xV=1e3,EV=10;class L1 extends j1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);O4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,EV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L1.type="LOCAL";const wV=L1;class U1 extends j1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U1.type="SESSION";const B1=U1;function SV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new pd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async g=>g(n.origin,l)),m=await SV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pd.receivers=[];function zy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class AV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const g=zy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ji(){return window}function RV(t){Ji().location.href=t}function z1(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function CV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NV(){return navigator?.serviceWorker?.controller||null}function IV(){return z1()?self:null}const F1="firebaseLocalStorageDb",DV=1,qf="firebaseLocalStorage",q1="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function VV(){const t=indexedDB.deleteDatabase(F1);return new gu(t).toPromise()}function kg(){const t=indexedDB.open(F1,DV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(qf,{keyPath:q1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(qf)?e(s):(s.close(),await VV(),e(await kg()))})})}async function ax(t,e,n){const s=gd(t,!0).put({[q1]:e,value:n});return new gu(s).toPromise()}async function MV(t,e){const n=gd(t,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function ox(t,e){const n=gd(t,!0).delete(e);return new gu(n).toPromise()}const kV=800,PV=3;class H1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>PV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pd._getInstance(IV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CV(),!this.activeServiceWorker)return;this.sender=new AV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await ax(e,Ff,"1"),await ox(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ax(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>MV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ox(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=gd(a,!1).getAll();return new gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H1.type="LOCAL";const OV=H1;new du(3e4,6e4);function G1(t,e){return e?Vs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Fy extends Ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jV(t){return k1(t.auth,new Fy(t),t.bypassAuthState)}function LV(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),fV(n,new Fy(t),t.bypassAuthState)}async function UV(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),hV(n,new Fy(t),t.bypassAuthState)}class K1{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jV;case"linkViaPopup":case"linkViaRedirect":return UV;case"reauthViaPopup":case"reauthViaRedirect":return LV;default:oi(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BV=new du(2e3,1e4);async function zV(t,e,n){if(Ln(t.app))return Promise.reject(Ai(t,"operation-not-supported-in-this-environment"));const s=Kr(t);g4(t,e,By);const a=G1(s,n);return new Da(s,"signInViaPopup",e,a).executeNotNull()}class Da extends K1{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=zy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BV.get())};e()}}Da.currentPopupAction=null;const FV="pendingRedirect",Ef=new Map;class qV extends K1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const s=await HV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HV(t,e){const n=$V(e),s=KV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function GV(t,e){Ef.set(t._key(),e)}function KV(t){return Vs(t._redirectPersistence)}function $V(t){return xf(FV,t.config.apiKey,t.name)}async function YV(t,e,n=!1){if(Ln(t.app))return Promise.reject(ks(t));const s=Kr(t),a=G1(s,e),u=await new qV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const QV=600*1e3;class XV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QV&&this.cachedEventUids.clear(),this.cachedEventUids.has(lx(e))}saveEventToCache(e){this.cachedEventUids.add(lx(e)),this.lastProcessedEventTime=Date.now()}}function lx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function WV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $1(t);default:return!1}}async function ZV(t,e={}){return ls(t,"GET","/v1/projects",e)}const JV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eM=/^https?/;async function tM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZV(t);for(const n of e)try{if(nM(n))return}catch{}oi(t,"unauthorized-domain")}function nM(t){const e=Dg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!eM.test(n))return!1;if(JV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const iM=new du(3e4,6e4);function cx(){const t=Ji().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sM(t){return new Promise((e,n)=>{function s(){cx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cx(),n(Ai(t,"network-request-failed"))},timeout:iM.get()})}if(Ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ji().gapi?.load)s();else{const a=G4("iframefcb");return Ji()[a]=()=>{gapi.load?s():n(Ai(t,"network-request-failed"))},I1(`${H4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wf=null,e})}let wf=null;function rM(t){return wf=wf||sM(t),wf}const aM=new du(5e3,15e3),oM="__/auth/iframe",lM="emulator/auth/iframe",cM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hM(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Py(e,lM):`https://${t.config.authDomain}/${oM}`,s={apiKey:e.apiKey,appName:t.name,v:dl},a=uM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${fu(s).slice(1)}`}async function fM(t){const e=await rM(t),n=Ji().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:hM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ai(t,"network-request-failed"),d=Ji().setTimeout(()=>{l(u)},aM.get());function m(){Ji().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const dM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mM=500,pM=600,gM="_blank",yM="http://localhost";class ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vM(t,e,n,s=mM,a=pM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...dM,width:s.toString(),height:a.toString(),top:l,left:u},g=dn().toLowerCase();n&&(d=E1(g)?gM:n),T1(g)&&(e=e||yM,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[C,V])=>`${E}${C}=${V},`,"");if(P4(g)&&d!=="_self")return _M(e||"",d),new ux(null);const b=window.open(e||"",d,y);be(b,t,"popup-blocked");try{b.focus()}catch{}return new ux(b)}function _M(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const bM="__/auth/handler",TM="emulator/auth/handler",xM=encodeURIComponent("fac");async function hx(t,e,n,s,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:dl,eventId:a};if(e instanceof By){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",nD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof pu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),g=m?`#${xM}=${encodeURIComponent(m)}`:"";return`${EM(t)}?${fu(d).slice(1)}${g}`}function EM({config:t}){return t.emulator?Py(t,TM):`https://${t.authDomain}/${bM}`}const Wp="webStorageSupport";class wM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B1,this._completeRedirectFn=YV,this._overrideRedirectResult=GV}async _openPopup(e,n,s,a){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await hx(e,n,s,Dg(),a);return vM(e,l,zy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await hx(e,n,s,Dg(),a);return RV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ls(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await fM(e),s=new XV(e);return n.register("authEvent",a=>(be(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wp,{type:Wp},a=>{const l=a?.[0]?.[Wp];l!==void 0&&n(!!l),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C1()||x1()||jy()}}const SM=wM;var fx="@firebase/auth",dx="1.12.0";class AM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CM(t){Jo(new Ua("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N1(t)},g=new z4(s,a,l,m);return W4(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ua("auth-internal",e=>{const n=Kr(e.getProvider("auth").getImmediate());return(s=>new AM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(fx,dx,RM(t)),kr(fx,dx,"esm2020")}const NM=300,IM=r1("authIdTokenMaxAge")||NM;let mx=null;const DM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IM)return;const a=n?.token;mx!==a&&(mx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function VM(t=h1()){const e=Vy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X4(t,{popupRedirectResolver:SM,persistence:[OV,wV,B1]}),s=r1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=DM(l.toString());_V(n,u,()=>u(n.currentUser)),vV(n,d=>u(d))}}const a=i1("auth");return a&&Z4(n,`http://${a}`),n}function MM(){return document.getElementsByTagName("head")?.[0]??document}F4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ai("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",MM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CM("Browser");var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pr,Y1;(function(){var t;function e(A,S){function N(){}N.prototype=S.prototype,A.F=S.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(U,P,q){for(var D=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)D[ze-2]=arguments[ze];return S.prototype[P].apply(U,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,S,N){N||(N=0);const U=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)U[P]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(P=0;P<16;++P)U[P]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=A.g[0],N=A.g[1],P=A.g[2];let q=A.g[3],D;D=S+(q^N&(P^q))+U[0]+3614090360&4294967295,S=N+(D<<7&4294967295|D>>>25),D=q+(P^S&(N^P))+U[1]+3905402710&4294967295,q=S+(D<<12&4294967295|D>>>20),D=P+(N^q&(S^N))+U[2]+606105819&4294967295,P=q+(D<<17&4294967295|D>>>15),D=N+(S^P&(q^S))+U[3]+3250441966&4294967295,N=P+(D<<22&4294967295|D>>>10),D=S+(q^N&(P^q))+U[4]+4118548399&4294967295,S=N+(D<<7&4294967295|D>>>25),D=q+(P^S&(N^P))+U[5]+1200080426&4294967295,q=S+(D<<12&4294967295|D>>>20),D=P+(N^q&(S^N))+U[6]+2821735955&4294967295,P=q+(D<<17&4294967295|D>>>15),D=N+(S^P&(q^S))+U[7]+4249261313&4294967295,N=P+(D<<22&4294967295|D>>>10),D=S+(q^N&(P^q))+U[8]+1770035416&4294967295,S=N+(D<<7&4294967295|D>>>25),D=q+(P^S&(N^P))+U[9]+2336552879&4294967295,q=S+(D<<12&4294967295|D>>>20),D=P+(N^q&(S^N))+U[10]+4294925233&4294967295,P=q+(D<<17&4294967295|D>>>15),D=N+(S^P&(q^S))+U[11]+2304563134&4294967295,N=P+(D<<22&4294967295|D>>>10),D=S+(q^N&(P^q))+U[12]+1804603682&4294967295,S=N+(D<<7&4294967295|D>>>25),D=q+(P^S&(N^P))+U[13]+4254626195&4294967295,q=S+(D<<12&4294967295|D>>>20),D=P+(N^q&(S^N))+U[14]+2792965006&4294967295,P=q+(D<<17&4294967295|D>>>15),D=N+(S^P&(q^S))+U[15]+1236535329&4294967295,N=P+(D<<22&4294967295|D>>>10),D=S+(P^q&(N^P))+U[1]+4129170786&4294967295,S=N+(D<<5&4294967295|D>>>27),D=q+(N^P&(S^N))+U[6]+3225465664&4294967295,q=S+(D<<9&4294967295|D>>>23),D=P+(S^N&(q^S))+U[11]+643717713&4294967295,P=q+(D<<14&4294967295|D>>>18),D=N+(q^S&(P^q))+U[0]+3921069994&4294967295,N=P+(D<<20&4294967295|D>>>12),D=S+(P^q&(N^P))+U[5]+3593408605&4294967295,S=N+(D<<5&4294967295|D>>>27),D=q+(N^P&(S^N))+U[10]+38016083&4294967295,q=S+(D<<9&4294967295|D>>>23),D=P+(S^N&(q^S))+U[15]+3634488961&4294967295,P=q+(D<<14&4294967295|D>>>18),D=N+(q^S&(P^q))+U[4]+3889429448&4294967295,N=P+(D<<20&4294967295|D>>>12),D=S+(P^q&(N^P))+U[9]+568446438&4294967295,S=N+(D<<5&4294967295|D>>>27),D=q+(N^P&(S^N))+U[14]+3275163606&4294967295,q=S+(D<<9&4294967295|D>>>23),D=P+(S^N&(q^S))+U[3]+4107603335&4294967295,P=q+(D<<14&4294967295|D>>>18),D=N+(q^S&(P^q))+U[8]+1163531501&4294967295,N=P+(D<<20&4294967295|D>>>12),D=S+(P^q&(N^P))+U[13]+2850285829&4294967295,S=N+(D<<5&4294967295|D>>>27),D=q+(N^P&(S^N))+U[2]+4243563512&4294967295,q=S+(D<<9&4294967295|D>>>23),D=P+(S^N&(q^S))+U[7]+1735328473&4294967295,P=q+(D<<14&4294967295|D>>>18),D=N+(q^S&(P^q))+U[12]+2368359562&4294967295,N=P+(D<<20&4294967295|D>>>12),D=S+(N^P^q)+U[5]+4294588738&4294967295,S=N+(D<<4&4294967295|D>>>28),D=q+(S^N^P)+U[8]+2272392833&4294967295,q=S+(D<<11&4294967295|D>>>21),D=P+(q^S^N)+U[11]+1839030562&4294967295,P=q+(D<<16&4294967295|D>>>16),D=N+(P^q^S)+U[14]+4259657740&4294967295,N=P+(D<<23&4294967295|D>>>9),D=S+(N^P^q)+U[1]+2763975236&4294967295,S=N+(D<<4&4294967295|D>>>28),D=q+(S^N^P)+U[4]+1272893353&4294967295,q=S+(D<<11&4294967295|D>>>21),D=P+(q^S^N)+U[7]+4139469664&4294967295,P=q+(D<<16&4294967295|D>>>16),D=N+(P^q^S)+U[10]+3200236656&4294967295,N=P+(D<<23&4294967295|D>>>9),D=S+(N^P^q)+U[13]+681279174&4294967295,S=N+(D<<4&4294967295|D>>>28),D=q+(S^N^P)+U[0]+3936430074&4294967295,q=S+(D<<11&4294967295|D>>>21),D=P+(q^S^N)+U[3]+3572445317&4294967295,P=q+(D<<16&4294967295|D>>>16),D=N+(P^q^S)+U[6]+76029189&4294967295,N=P+(D<<23&4294967295|D>>>9),D=S+(N^P^q)+U[9]+3654602809&4294967295,S=N+(D<<4&4294967295|D>>>28),D=q+(S^N^P)+U[12]+3873151461&4294967295,q=S+(D<<11&4294967295|D>>>21),D=P+(q^S^N)+U[15]+530742520&4294967295,P=q+(D<<16&4294967295|D>>>16),D=N+(P^q^S)+U[2]+3299628645&4294967295,N=P+(D<<23&4294967295|D>>>9),D=S+(P^(N|~q))+U[0]+4096336452&4294967295,S=N+(D<<6&4294967295|D>>>26),D=q+(N^(S|~P))+U[7]+1126891415&4294967295,q=S+(D<<10&4294967295|D>>>22),D=P+(S^(q|~N))+U[14]+2878612391&4294967295,P=q+(D<<15&4294967295|D>>>17),D=N+(q^(P|~S))+U[5]+4237533241&4294967295,N=P+(D<<21&4294967295|D>>>11),D=S+(P^(N|~q))+U[12]+1700485571&4294967295,S=N+(D<<6&4294967295|D>>>26),D=q+(N^(S|~P))+U[3]+2399980690&4294967295,q=S+(D<<10&4294967295|D>>>22),D=P+(S^(q|~N))+U[10]+4293915773&4294967295,P=q+(D<<15&4294967295|D>>>17),D=N+(q^(P|~S))+U[1]+2240044497&4294967295,N=P+(D<<21&4294967295|D>>>11),D=S+(P^(N|~q))+U[8]+1873313359&4294967295,S=N+(D<<6&4294967295|D>>>26),D=q+(N^(S|~P))+U[15]+4264355552&4294967295,q=S+(D<<10&4294967295|D>>>22),D=P+(S^(q|~N))+U[6]+2734768916&4294967295,P=q+(D<<15&4294967295|D>>>17),D=N+(q^(P|~S))+U[13]+1309151649&4294967295,N=P+(D<<21&4294967295|D>>>11),D=S+(P^(N|~q))+U[4]+4149444226&4294967295,S=N+(D<<6&4294967295|D>>>26),D=q+(N^(S|~P))+U[11]+3174756917&4294967295,q=S+(D<<10&4294967295|D>>>22),D=P+(S^(q|~N))+U[2]+718787259&4294967295,P=q+(D<<15&4294967295|D>>>17),D=N+(q^(P|~S))+U[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+q&4294967295}s.prototype.v=function(A,S){S===void 0&&(S=A.length);const N=S-this.blockSize,U=this.C;let P=this.h,q=0;for(;q<S;){if(P==0)for(;q<=N;)a(this,A,q),q+=this.blockSize;if(typeof A=="string"){for(;q<S;)if(U[P++]=A.charCodeAt(q++),P==this.blockSize){a(this,U),P=0;break}}else for(;q<S;)if(U[P++]=A[q++],P==this.blockSize){a(this,U),P=0;break}}this.h=P,this.o+=S},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,N=0;N<4;++N)for(let U=0;U<32;U+=8)A[S++]=this.g[N]>>>U&255;return A};function l(A,S){var N=d;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=S(A)}function u(A,S){this.h=S;const N=[];let U=!0;for(let P=A.length-1;P>=0;P--){const q=A[P]|0;U&&q==S||(N[P]=q,U=!1)}this.g=N}var d={};function m(A){return-128<=A&&A<128?l(A,function(S){return new u([S|0],S<0?-1:0)}):new u([A|0],A<0?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return b;if(A<0)return I(g(-A));const S=[];let N=1;for(let U=0;A>=N;U++)S[U]=A/N|0,N*=4294967296;return new u(S,0)}function y(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return I(y(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(S,8));let U=b;for(let q=0;q<A.length;q+=8){var P=Math.min(8,A.length-q);const D=parseInt(A.substring(q,q+P),S);P<8?(P=g(Math.pow(S,P)),U=U.j(P).add(g(D))):(U=U.j(N),U=U.add(g(D)))}return U}var b=m(0),E=m(1),C=m(16777216);t=u.prototype,t.m=function(){if(j(this))return-I(this).m();let A=0,S=1;for(let N=0;N<this.g.length;N++){const U=this.i(N);A+=(U>=0?U:4294967296+U)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(V(this))return"0";if(j(this))return"-"+I(this).toString(A);const S=g(Math.pow(A,6));var N=this;let U="";for(;;){const P=ee(N,S).g;N=L(N,P.j(S));let q=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=P,V(N))return q+U;for(;q.length<6;)q="0"+q;U=q+U}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function V(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function j(A){return A.h==-1}t.l=function(A){return A=L(this,A),j(A)?-1:V(A)?0:1};function I(A){const S=A.g.length,N=[];for(let U=0;U<S;U++)N[U]=~A.g[U];return new u(N,~A.h).add(E)}t.abs=function(){return j(this)?I(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),N=[];let U=0;for(let P=0;P<=S;P++){let q=U+(this.i(P)&65535)+(A.i(P)&65535),D=(q>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);U=D>>>16,q&=65535,D&=65535,N[P]=D<<16|q}return new u(N,N[N.length-1]&-2147483648?-1:0)};function L(A,S){return A.add(I(S))}t.j=function(A){if(V(this)||V(A))return b;if(j(this))return j(A)?I(this).j(I(A)):I(I(this).j(A));if(j(A))return I(this.j(I(A)));if(this.l(C)<0&&A.l(C)<0)return g(this.m()*A.m());const S=this.g.length+A.g.length,N=[];for(var U=0;U<2*S;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(let P=0;P<A.g.length;P++){const q=this.i(U)>>>16,D=this.i(U)&65535,ze=A.i(P)>>>16,Ye=A.i(P)&65535;N[2*U+2*P]+=D*Ye,k(N,2*U+2*P),N[2*U+2*P+1]+=q*Ye,k(N,2*U+2*P+1),N[2*U+2*P+1]+=D*ze,k(N,2*U+2*P+1),N[2*U+2*P+2]+=q*ze,k(N,2*U+2*P+2)}for(A=0;A<S;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=S;A<2*S;A++)N[A]=0;return new u(N,0)};function k(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function B(A,S){this.g=A,this.h=S}function ee(A,S){if(V(S))throw Error("division by zero");if(V(A))return new B(b,b);if(j(A))return S=ee(I(A),S),new B(I(S.g),I(S.h));if(j(S))return S=ee(A,I(S)),new B(I(S.g),S.h);if(A.g.length>30){if(j(A)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var N=E,U=S;U.l(A)<=0;)N=J(N),U=J(U);var P=ne(N,1),q=ne(U,1);for(U=ne(U,2),N=ne(N,2);!V(U);){var D=q.add(U);D.l(A)<=0&&(P=P.add(N),q=D),U=ne(U,1),N=ne(N,1)}return S=L(A,P.j(S)),new B(P,S)}for(P=b;A.l(S)>=0;){for(N=Math.max(1,Math.floor(A.m()/S.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),q=g(N),D=q.j(S);j(D)||D.l(A)>0;)N-=U,q=g(N),D=q.j(S);V(q)&&(q=E),P=P.add(q),A=L(A,D)}return new B(P,A)}t.B=function(A){return ee(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let U=0;U<S;U++)N[U]=this.i(U)&A.i(U);return new u(N,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let U=0;U<S;U++)N[U]=this.i(U)|A.i(U);return new u(N,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let U=0;U<S;U++)N[U]=this.i(U)^A.i(U);return new u(N,this.h^A.h)};function J(A){const S=A.g.length+1,N=[];for(let U=0;U<S;U++)N[U]=A.i(U)<<1|A.i(U-1)>>>31;return new u(N,A.h)}function ne(A,S){const N=S>>5;S%=32;const U=A.g.length-N,P=[];for(let q=0;q<U;q++)P[q]=S>0?A.i(q+N)>>>S|A.i(q+N+1)<<32-S:A.i(q+N);return new u(P,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Y1=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,Pr=u}).apply(typeof px<"u"?px:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Q1,Mc,X1,Sf,Pg,W1,Z1,J1;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var x=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var G=h[R];if(!(G in x))break e;x=x[G]}h=h[h.length-1],R=x[h],_=_(R),_!=R&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var x=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&x.push([R,_[R]]);return x}});var l=l||{},u=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,x){return h.call.apply(h.bind,arguments)}function g(h,_,x){return g=m,g.apply(null,arguments)}function y(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(R,G,X){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return _.prototype[G].apply(R,ue)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const x=Array(_);for(let R=0;R<_;R++)x[R]=h[R];return x}return[]}function V(h,_){for(let R=1;R<arguments.length;R++){const G=arguments[R];var x=typeof G;if(x=x!="object"?x:G?Array.isArray(G)?"array":x:"null",x=="array"||x=="object"&&typeof G.length=="number"){x=h.length||0;const X=G.length||0;h.length=x+X;for(let ue=0;ue<X;ue++)h[x+ue]=G[ue]}else h.push(G)}}class j{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(h){u.setTimeout(()=>{throw h},0)}function L(){var h=A;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class k{constructor(){this.h=this.g=null}add(_,x){const R=B.get();R.set(_,x),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new j(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ne=!1,A=new k,S=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(N)}};function N(){for(var h;h=L();){try{h.h.call(h.g)}catch(x){I(x)}var _=B;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ne=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,_),u.removeEventListener("test",x,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ze(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(ze,P),ze.prototype.init=function(h,_){const x=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(h,_,x,R,G){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!R,this.ha=G,this.key=++K,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Se(h,_,x){for(const R in h)_.call(x,h[R],R,h)}function Ce(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function z(h){const _={};for(const x in h)_[x]=h[x];return _}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,_){let x,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(x in R)h[x]=R[x];for(let X=0;X<ie.length;X++)x=ie[X],Object.prototype.hasOwnProperty.call(R,x)&&(h[x]=R[x])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,_,x,R,G){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=Ee(h,_,R,G);return ue>-1?(_=h[ue],x||(_.fa=!1)):(_=new le(_,this.src,X,!!R,G),_.fa=x,h.push(_)),_};function ve(h,_){const x=_.type;if(x in h.g){var R=h.g[x],G=Array.prototype.indexOf.call(R,_,void 0),X;(X=G>=0)&&Array.prototype.splice.call(R,G,1),X&&(fe(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Ee(h,_,x,R){for(let G=0;G<h.length;++G){const X=h[G];if(!X.da&&X.listener==_&&X.capture==!!x&&X.ha==R)return G}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),zt={};function ct(h,_,x,R,G){if(Array.isArray(_)){for(let X=0;X<_.length;X++)ct(h,_[X],x,R,G);return null}return x=Sl(x),h&&h[Ye]?h.J(_,x,d(R)?!!R.capture:!1,G):Wr(h,_,x,!1,R,G)}function Wr(h,_,x,R,G,X){if(!_)throw Error("Invalid event type");const ue=d(G)?!!G.capture:!!G;let Ne=Zr(h);if(Ne||(h[Fe]=Ne=new ce(h)),x=Ne.add(_,x,R,ue,X),x.proxy)return x;if(R=Ka(),x.proxy=R,R.src=h,R.listener=x,h.addEventListener)q||(G=ue),G===void 0&&(G=!1),h.addEventListener(_.toString(),R,G);else if(h.attachEvent)h.attachEvent(Ii(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ka(){function h(x){return _.call(h.src,h.listener,x)}const _=El;return h}function $a(h,_,x,R,G){if(Array.isArray(_))for(var X=0;X<_.length;X++)$a(h,_[X],x,R,G);else R=d(R)?!!R.capture:!!R,x=Sl(x),h&&h[Ye]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],x=Ee(_,x,R,G),x>-1&&(fe(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=Zr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ee(_,x,R,G)),(x=h>-1?_[h]:null)&&Ya(x))}function Ya(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ye])ve(_.i,h);else{var x=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(x,R,h.capture):_.detachEvent?_.detachEvent(Ii(x),R):_.addListener&&_.removeListener&&_.removeListener(R),(x=Zr(_))?(ve(x,h),x.h==0&&(x.src=null,_[Fe]=null)):fe(h)}}}function Ii(h){return h in zt?zt[h]:zt[h]="on"+h}function El(h,_){if(h.da)h=!0;else{_=new ze(_,this);const x=h.listener,R=h.ha||h.src;h.fa&&Ya(h),h=x.call(R,_)}return h}function Zr(h){return h=h[Fe],h instanceof ce?h:null}var wl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sl(h){return typeof h=="function"?h:(h[wl]||(h[wl]=function(_){return h.handleEvent(_)}),h[wl])}function Ct(){U.call(this),this.i=new ce(this),this.M=this,this.G=null}b(Ct,U),Ct.prototype[Ye]=!0,Ct.prototype.removeEventListener=function(h,_,x,R){$a(this,h,_,x,R)};function Ft(h,_){var x,R=h.G;if(R)for(x=[];R;R=R.G)x.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var G=_;_=new P(R,h),W(_,G)}G=!0;let X,ue;if(x)for(ue=x.length-1;ue>=0;ue--)X=_.g=x[ue],G=Gs(X,R,!0,_)&&G;if(X=_.g=h,G=Gs(X,R,!0,_)&&G,G=Gs(X,R,!1,_)&&G,x)for(ue=0;ue<x.length;ue++)X=_.g=x[ue],G=Gs(X,R,!1,_)&&G}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let R=0;R<x.length;R++)fe(x[R]);delete h.g[_],h.h--}}this.G=null},Ct.prototype.J=function(h,_,x,R){return this.i.add(String(h),_,!1,x,R)},Ct.prototype.K=function(h,_,x,R){return this.i.add(String(h),_,!0,x,R)};function Gs(h,_,x,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let X=0;X<_.length;++X){const ue=_[X];if(ue&&!ue.da&&ue.capture==x){const Ne=ue.listener,xt=ue.ha||ue.src;ue.fa&&ve(h.i,ue),G=Ne.call(xt,R)!==!1&&G}}return G&&!R.defaultPrevented}function Ld(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Du(h){h.g=Ld(()=>{h.g=null,h.i&&(h.i=!1,Du(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class mn extends U{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(h){U.call(this),this.h=h,this.g={}}b(Jr,U);var Al=[];function Rl(h){Se(h.g,function(_,x){this.g.hasOwnProperty(x)&&Ya(_)},h),h.g={}}Jr.prototype.N=function(){Jr.Z.N.call(this),Rl(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=u.JSON.stringify,Ud=u.JSON.parse,Vu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Mu(){}function ku(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){P.call(this,"d")}b(Xt,P);function Fn(){P.call(this,"c")}b(Fn,P);var Tt={},Pu=null;function Qa(){return Pu=Pu||new Ct}Tt.Ia="serverreachability";function Ou(h){P.call(this,Tt.Ia,h)}b(Ou,P);function Di(h){const _=Qa();Ft(_,new Ou(_))}Tt.STAT_EVENT="statevent";function ea(h,_){P.call(this,Tt.STAT_EVENT,h),this.stat=_}b(ea,P);function Nt(h){const _=Qa();Ft(_,new ea(_,h))}Tt.Ja="timingevent";function Vi(h,_){P.call(this,Tt.Ja,h),this.size=_}b(Vi,P);function Mi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Bd(h,_,x,R,G,X){h.info(function(){if(h.g)if(X){var ue="",Ne=X.split("&");for(let Ke=0;Ke<Ne.length;Ke++){var xt=Ne[Ke].split("=");if(xt.length>1){const ut=xt[0];xt=xt[1];const Kn=ut.split("_");ue=Kn.length>=2&&Kn[1]=="type"?ue+(ut+"="+xt+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+_+`
`+x+`
`+ue})}function ju(h,_,x,R,G,X,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+_+`
`+x+`
`+X+" "+ue})}function ki(h,_,x,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+zd(h,x)+(R?" "+R:"")})}function ta(h,_){h.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function zd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var x=X[h];if(!(x.length<2)){var R=x[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return Ks(X)}catch{return _}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nl;function ia(){}b(ia,Mu),ia.prototype.g=function(){return new XMLHttpRequest},Nl=new ia;function us(h){return encodeURIComponent(String(h))}function Lu(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function hi(h,_,x,R){this.j=h,this.i=_,this.l=x,this.S=R||1,this.V=new Jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var It={},Kt={};function Pi(h,_,x){h.M=1,h.A=sa(Vt(_)),h.u=x,h.R=!0,Xa(h,null)}function Xa(h,_){h.F=Date.now(),Oi(h),h.B=Vt(h.A);var x=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),eo(x.i,"t",R),h.C=0,x=h.j.L,h.h=new fi,h.g=Ju(h.j,x?_:null,!h.u),h.P>0&&(h.O=new mn(g(h.Y,h,h.g),h.P)),_=h.V,x=h.g,R=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Al[0]=G.toString()),G=Al);for(let X=0;X<G.length;X++){const ue=ct(x,G[X],R||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Di(),Bd(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const _=this.O;_&&pi(h)==3?_.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Ne=pi(this.g),xt=this.g.ya(),Ke=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ne!=4||xt==7||(xt==8||Ke<=0?Di(3):Di(2)),ji(this);var _=this.g.ca();this.X=_;var x=Fd(this);if(this.o=_==200,ju(this.i,this.v,this.B,this.l,this.S,Ne,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var X=R;break t}}X=null}if(h=X)ki(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,h);else{this.o=!1,this.m=3,Nt(12),Nn(this),qn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<x.length;)if(ut=Bu(this,x),ut==Kt){Ne==4&&(this.m=4,Nt(14),h=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==It){this.m=4,Nt(15),ki(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else ki(this.i,this.l,ut,null),Li(this,ut);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||x.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)ki(this.i,this.l,x,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(x.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Hl(ue),ue.P=!0,Nt(11))}}else ki(this.i,this.l,x,null),Li(this,x);Ne==4&&Nn(this),this.o&&!this.K&&(Ne==4?Qu(this.j,this):(this.o=!1,Oi(this)))}else fs(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Nn(this),qn(this)}}}catch{}};function Fd(h){if(!Uu(h))return h.g.la();const _=Wt(h.g);if(_==="")return"";let x="";const R=_.length,G=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Nn(h),qn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<R;X++)h.h.h=!0,x+=h.h.i.decode(_[X],{stream:!(G&&X==R-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function Uu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Bu(h,_){var x=h.C,R=_.indexOf(`
`,x);return R==-1?Kt:(x=Number(_.substring(x,R)),isNaN(x)?It:(R+=1,R+x>_.length?Kt:(_=_.slice(R,R+x),h.C=R+x,_)))}hi.prototype.cancel=function(){this.K=!0,Nn(this)};function Oi(h){h.T=Date.now()+h.H,Wa(h,h.H)}function Wa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Mi(g(h.aa,h),_)}function ji(h){h.D&&(u.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ta(this.i,this.B),this.M!=2&&(Di(),Nt(17)),Nn(this),this.m=2,qn(this)):Wa(this,this.T-h)};function qn(h){h.j.I==0||h.K||Qu(h.j,h)}function Nn(h){ji(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Rl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Li(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||Bi(x.h,h))){if(!h.L&&Bi(x.h,h)&&x.I==3){try{var R=x.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)ro(x),er(x);else break e;ha(x),Nt(18)}}else x.xa=G[1],0<x.xa-x.K&&G[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Mi(g(x.Va,x),6e3));Ui(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ki(x,11)}else if((h.L||x.g==h)&&ro(x),!D(_))for(G=x.Ba.g.parse(_),_=0;_<G.length;_++){let Ke=G[_];const ut=Ke[0];if(!(ut<=x.K))if(x.K=ut,Ke=Ke[1],x.I==2)if(Ke[0]=="c"){x.M=Ke[1],x.ba=Ke[2];const Kn=Ke[3];Kn!=null&&(x.ka=Kn,x.j.info("VER="+x.ka));const $i=Ke[4];$i!=null&&(x.za=$i,x.j.info("SVER="+x.za));const gi=Ke[5];gi!=null&&typeof gi=="number"&&gi>0&&(R=1.5*gi,x.O=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const yi=h.g;if(yi){const fa=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var X=R.h;X.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Vl(X,X.h),X.h=null))}if(R.G){const ao=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(R.wa=ao,Xe(R.J,R.G,ao))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),R=x;var ue=h;if(R.na=Zu(R,R.L?R.ba:null,R.W),ue.L){Ml(R.h,ue);var Ne=ue,xt=R.O;xt&&(Ne.H=xt),Ne.D&&(ji(Ne),Oi(Ne)),R.g=ue}else $u(R);x.i.length>0&&Gi(x)}else Ke[0]!="stop"&&Ke[0]!="close"||Ki(x,7);else x.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ki(x,7):Fl(x):Ke[0]!="noop"&&x.l&&x.l.qa(Ke),x.A=0)}}Di(4)}catch{}}var Dt=class{constructor(h,_){this.g=h,this.map=_}};function Il(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ui(h){return h.h?1:h.g?h.g.size:0}function Bi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Vl(h,_){h.g?h.g.add(_):h.h=_}function Ml(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Il.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return C(h.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const R=h[x].indexOf("=");let G,X=null;R>=0?(G=h[x].substring(0,R),X=h[x].substring(R+1)):G=h[x],_(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function In(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof In?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,$s(this,h.u),this.h=h.h,Pl(this,Gu(h.i)),this.m=h.m):h&&(_=String(h).match(zu))?(this.l=!1,$t(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),$s(this,_[4]),this.h=zi(_[5]||"",!0),Pl(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}In.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ra(_,Ja,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ra(_,Ja,!0),"@"),h.push(us(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(ra(x,x.charAt(0)=="/"?Ol:Fu,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",ra(x,qu)),h.join("")},In.prototype.resolve=function(h){const _=Vt(this);let x=!!h.j;x?$t(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var R=h.h;if(x)$s(_,h.u);else if(x=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=_.h.lastIndexOf("/");G!=-1&&(R=_.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ue=0;ue<G.length;){const Ne=G[ue++];Ne=="."?R&&ue==G.length&&X.push(""):Ne==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&ue==G.length&&X.push("")):(X.push(Ne),R=!0)}R=X.join("/")}else R=G}return x?_.h=R:x=h.i.toString()!=="",x?Pl(_,Gu(h.i)):x=!!h.m,x&&(_.m=h.m),_};function Vt(h){return new In(h)}function $t(h,_,x){h.j=x?zi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function $s(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Pl(h,_,x){_ instanceof Qs?(h.i=_,to(h.i,h.l)):(x||(_=ra(_,Ys)),h.i=new Qs(_,h.l))}function Xe(h,_,x){h.i.set(_,x)}function sa(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ra(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,_n),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ja=/[#\/\?@]/g,Fu=/[#\?:]/g,Ol=/[#\?]/g,Ys=/[#\?@]/g,qu=/#/g;function Qs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&Za(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=Qs.prototype,t.add=function(h,_){bn(this),this.i=null,h=Xs(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function Hu(h,_){bn(h),_=Xs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function jl(h,_){return bn(h),_=Xs(h,_),h.g.has(_)}t.forEach=function(h,_){bn(this),this.g.forEach(function(x,R){x.forEach(function(G){h.call(_,G,R,this)},this)},this)};function Ll(h,_){bn(h);let x=[];if(typeof _=="string")jl(h,_)&&(x=x.concat(h.g.get(Xs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}t.set=function(h,_){return bn(this),this.i=null,h=Xs(this,h),jl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Ll(this,h),h.length>0?String(h[0]):_):_};function eo(h,_,x){Hu(h,_),x.length>0&&(h.i=null,h.g.set(Xs(h,_),C(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var x=_[R];const G=us(x);x=Ll(this,x);for(let X=0;X<x.length;X++){let ue=G;x[X]!==""&&(ue+="="+us(x[X])),h.push(ue)}}return this.i=h.join("&")};function Gu(h){const _=new Qs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Xs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function to(h,_){_&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(x,R){const G=R.toLowerCase();R!=G&&(Hu(this,R),eo(this,G,x))},h)),h.j=_}function di(h,_){const x=new ui;if(u.Image){const R=new Image;R.onload=y(Hn,x,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Hn,x,"TestLoadImage: error",!1,_,R),R.onabort=y(Hn,x,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Hn,x,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function Ul(h,_){const x=new ui,R=new AbortController,G=setTimeout(()=>{R.abort(),Hn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(G),X.ok?Hn(x,"TestPingServer: ok",!0,_):Hn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Hn(x,"TestPingServer: error",!1,_)})}function Hn(h,_,x,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(x)}catch{}}function Ws(){this.g=new Vu}function Fi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Fi,Mu),Fi.prototype.g=function(){return new aa(this.i,this.h)};function aa(h,_){Ct.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(aa,Ct),t=aa.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Zs(this):mi(this),this.readyState==3&&no(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Zs(this))},t.Na=function(h){this.g&&(this.response=h,Zs(this))},t.ga=function(){this.g&&Zs(this)};function Zs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gn(h){let _="";return Se(h,function(x,R){_+=R,_+=":",_+=x,_+=`\r
`}),_}function oa(h,_,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=Gn(x),typeof h=="string"?x!=null&&us(x):Xe(h,_,x))}function Je(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,Ct);var qi=/^https?$/i,Bl=["POST","PUT"];t=Je.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nl.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){la(this,X);return}if(h=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)x.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())x.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Bl,_,void 0)>=0)||R||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of x)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){la(this,X)}};function la(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,zl(h),hs(h)}function zl(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},t.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof l<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),pi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var R;if(R=X===0){let ue=String(h.D).match(zu)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),R=!qi.test(ue?ue.toLowerCase():"")}x=R}if(x)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var G=pi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",zl(h)}}finally{hs(h)}}}}function hs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||Ft(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ud(_)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const _={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var x=Lu(h[R]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=_[G]||[];_[G]=X,X.push(x)}Ce(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function Js(h){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,h),this.Za=Hi("retryDelaySeedMs",1e4,h),this.Ta=Hi("forwardChannelMaxRetries",2,h),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Il(h&&h.concurrentRequestLimit),this.Ba=new Ws,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Js.prototype,t.ka=8,t.I=1,t.connect=function(h,_,x,R){Nt(0),this.W=h,this.H=_||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.J=Zu(this,null,this.W),Gi(this)};function Fl(h){if(io(h),h.I==3){var _=h.V++,x=Vt(h.J);if(Xe(x,"SID",h.M),Xe(x,"RID",_),Xe(x,"TYPE","terminate"),ua(h,x),_=new hi(h,h.j,_),_.M=2,_.A=sa(Vt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=_.A,x=!0),x||(_.g=Ju(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Oi(_)}Wu(h)}function er(h){h.g&&(Hl(h),h.g.cancel(),h.g=null)}function io(h){er(h),h.v&&(u.clearTimeout(h.v),h.v=null),ro(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Gi(h){if(!Dl(h.h)&&!h.m){h.m=!0;var _=h.Ea;J||S(),ne||(J(),ne=!0),A.add(_,h),h.D=0}}function so(h,_){return Ui(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Mi(g(h.Ea,h,_),Xu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new hi(this,this.j,h);let X=this.o;if(this.U&&(X?(X=z(X),W(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Ku(this,G,_),x=Vt(this.J),Xe(x,"RID",h),Xe(x,"CVER",22),this.G&&Xe(x,"X-HTTP-Session-Id",this.G),ua(this,x),X&&(this.R?_="headers="+us(Gn(X))+"&"+_:this.u&&oa(x,this.u,X)),Vl(this.h,G),this.Ra&&Xe(x,"TYPE","init"),this.S?(Xe(x,"$req",_),Xe(x,"SID","null"),G.U=!0,Pi(G,x,null)):Pi(G,x,_),this.I=2}}else this.I==3&&(h?ql(this,h):this.i.length==0||Dl(this.h)||ql(this))};function ql(h,_){var x;_?x=_.l:x=h.V++;const R=Vt(h.J);Xe(R,"SID",h.M),Xe(R,"RID",x),Xe(R,"AID",h.K),ua(h,R),h.u&&h.o&&oa(R,h.u,h.o),x=new hi(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Ku(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Vl(h.h,x),Pi(x,R,_)}function ua(h,_){h.H&&Se(h.H,function(x,R){Xe(_,R,x)}),h.l&&Se({},function(x,R){Xe(_,R,x)})}function Ku(h,_,x){x=Math.min(h.i.length,x);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ne=-1;for(;;){const xt=["count="+x];Ne==-1?x>0?(Ne=G[0].g,xt.push("ofs="+Ne)):Ne=0:xt.push("ofs="+Ne);let Ke=!0;for(let ut=0;ut<x;ut++){var X=G[ut].g;const Kn=G[ut].map;if(X-=Ne,X<0)Ne=Math.max(0,G[ut].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var ue=Kn instanceof Map?Kn:Object.entries(Kn);for(const[$i,gi]of ue){let yi=gi;d(gi)&&(yi=Ks(gi)),xt.push(X+$i+"="+encodeURIComponent(yi))}}catch($i){throw xt.push(X+"type="+encodeURIComponent("_badmap")),$i}}catch{R&&R(Kn)}}if(Ke){ue=xt.join("&");break e}}ue=void 0}return h=h.i.splice(0,x),_.G=h,ue}function $u(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;J||S(),ne||(J(),ne=!0),A.add(_,h),h.A=0}}function ha(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Mi(g(h.Da,h),Xu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Mi(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),er(this),Yu(this))};function Hl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Yu(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Vt(h.na);Xe(_,"RID","rpc"),Xe(_,"SID",h.M),Xe(_,"AID",h.K),Xe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(_,"TO",h.ia),Xe(_,"TYPE","xmlhttp"),ua(h,_),h.u&&h.o&&oa(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=sa(Vt(_)),x.u=null,x.R=!0,Xa(x,h)}t.Va=function(){this.C!=null&&(this.C=null,er(this),ha(this),Nt(19))};function ro(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Qu(h,_){var x=null;if(h.g==_){ro(h),Hl(h),h.g=null;var R=2}else if(Bi(h.h,_))x=_.G,Ml(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;R=Qa(),Ft(R,new Vi(R,x)),Gi(h)}else $u(h);else if(G=_.m,G==3||G==0&&_.X>0||!(R==1&&so(h,_)||R==2&&ha(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),G){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function Xu(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function Ki(h,_){if(h.j.info("Error code "+_),_==2){var x=g(h.bb,h),R=h.Ua;const G=!R;R=new In(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$t(R,"https"),sa(R),G?di(R.toString(),x):Ul(R.toString(),x)}else Nt(2);h.I=0,h.l&&h.l.pa(_),Wu(h),io(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Wu(h){if(h.I=0,h.ja=[],h.l){const _=kl(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Zu(h,_,x){var R=x instanceof In?Vt(x):new In(x);if(R.g!="")_&&(R.g=_+"."+R.g),$s(R,R.u);else{var G=u.location;R=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const X=new In(null);R&&$t(X,R),_&&(X.g=_),G&&$s(X,G),x&&(X.h=x),R=X}return x=h.G,_=h.wa,x&&_&&Xe(R,x,_),Xe(R,"VER",h.ka),ua(h,R),R}function Ju(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Je(new Fi({ab:x})):new Je(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}t=eh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tr(){}tr.prototype.g=function(h,_){return new pn(h,_)};function pn(h,_){Ct.call(this),this.g=new Js(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ds(this)}b(pn,Ct),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Fl(this.g)},pn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=Ks(h),h=x);_.i.push(new Dt(_.Ya++,h)),_.I==3&&Gi(_)},pn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,pn.Z.N.call(this)};function th(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(th,Xt);function nh(){Fn.call(this),this.status=1}b(nh,Fn);function ds(h){this.g=h}b(ds,eh),ds.prototype.ra=function(){Ft(this.g,"a")},ds.prototype.qa=function(h){Ft(this.g,new th(h))},ds.prototype.pa=function(h){Ft(this.g,new nh)},ds.prototype.oa=function(){Ft(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,J1=function(){return new tr},Z1=function(){return Qa()},W1=Tt,Pg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Sf=na,Cl.COMPLETE="complete",X1=Cl,ku.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Mc=ku,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Q1=Je}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const gx="@firebase/firestore",yx="4.9.3";let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let pl="12.7.0";const Fa=new Iy("@firebase/firestore");function Lo(){return Fa.logLevel}function de(t,...e){if(Fa.logLevel<=je.DEBUG){const n=e.map(qy);Fa.debug(`Firestore (${pl}): ${t}`,...n)}}function Us(t,...e){if(Fa.logLevel<=je.ERROR){const n=e.map(qy);Fa.error(`Firestore (${pl}): ${t}`,...n)}}function tl(t,...e){if(Fa.logLevel<=je.WARN){const n=e.map(qy);Fa.warn(`Firestore (${pl}): ${t}`,...n)}}function qy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,eS(t,s,n)}function eS(t,e,n){let s=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Us(s),new Error(s)}function Qe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||eS(e,a,s)}function Re(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class tS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class PM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OM{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ps,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ps)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new tS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class jM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new jM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=BM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function Og(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Zp(a)===Zp(l)?Le(a,l):Zp(a)?1:-1}return Le(t.length,e.length)}const zM=55296,FM=57343;function Zp(t){const e=t.charCodeAt(0);return e>=zM&&e<=FM}function nl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const _x="__name__";class Zi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Zi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const s=Zi.isNumericId(e),a=Zi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):Og(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}}class st extends Zi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const qM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Zi{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return qM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_x}static keyField(){return new rn([_x])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new he(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function nS(t,e,n){if(!n)throw new he(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HM(t,e,n,s){if(e===!0&&s===!0)throw new he(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bx(t){if(!ye.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tx(t){if(ye.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yd(t);throw new he(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function yu(t,e){if(!iS(t))throw new he(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(re.INVALID_ARGUMENT,n);return!0}const xx=-62135596800,Ex=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Ex);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xx)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ex}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Bt("string",lt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wc=-1;function GM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Lr(a,ye.empty(),e)}function KM(t){return new Lr(t.readTime,t.key,Wc)}class Lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(we.min(),ye.empty(),Wc)}static max(){return new Lr(we.max(),ye.empty(),Wc)}}function $M(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}const YM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==YM)throw t;de("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((y=>{u[g]=y,++d,d===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function XM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}class vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vd.ce=-1;const Gy=-1;function _d(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function WM(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const sS="";function ZM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wx(e)),e=JM(t.get(n),e);return wx(e)}function JM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case sS:n+="";break;default:n+=l}}return n}function wx(t){return t+sS+""}function Sx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new sn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ax(this.data.getIterator())}getIteratorFrom(e){return new Ax(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class Ax{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Gt(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class aS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new aS("Invalid base64 string: "+l):l}})(e);return new on(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const ek=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=ek.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}const oS="server_timestamp",lS="__type__",cS="__previous_value__",uS="__local_write_time__";function Ky(t){return(t?.mapValue?.fields||{})[lS]?.stringValue===oS}function bd(t){const e=t.mapValue.fields[cS];return Ky(e)?bd(e):e}function Zc(t){const e=Ur(t.mapValue.fields[uS].timestampValue);return new lt(e.seconds,e.nanos)}class tk{constructor(e,n,s,a,l,u,d,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Gf="(default)";class Jc{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}const hS="__type__",nk="__max__",hf={mapValue:{}},fS="__vector__",Kf="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ky(t)?4:sk(t)?9007199254740991:ik(t)?10:11:Te(28295,{value:t})}function as(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ur(a.timestampValue),d=Ur(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Br(a.bytesValue).isEqual(Br(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=At(a.doubleValue),d=At(l.doubleValue);return u===d?Hf(u)===Hf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Sx(u)!==Sx(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!as(u[m],d[m])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function eu(t,e){return(t.values||[]).find((n=>as(n,e)))!==void 0}function il(t,e){if(t===e)return 0;const n=zr(t),s=zr(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=At(l.integerValue||l.doubleValue),m=At(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Rx(t.timestampValue,e.timestampValue);case 4:return Rx(Zc(t),Zc(e));case 5:return Og(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Br(l),m=Br(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Le(d[g],m[g]);if(y!==0)return y}return Le(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=Le(At(l.latitude),At(u.latitude));return d!==0?d:Le(At(l.longitude),At(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Cx(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},g=d[Kf]?.arrayValue,y=m[Kf]?.arrayValue,b=Le(g?.values?.length||0,y?.values?.length||0);return b!==0?b:Cx(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===hf.mapValue&&u===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(u===hf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=u.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let b=0;b<m.length&&b<y.length;++b){const E=Og(m[b],y[b]);if(E!==0)return E;const C=il(d[m[b]],g[y[b]]);if(C!==0)return C}return Le(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Rx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ur(t),s=Ur(e),a=Le(n.seconds,s.seconds);return a!==0?a:Le(n.nanos,s.nanos)}function Cx(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=il(n[a],s[a]);if(l)return l}return Le(n.length,s.length)}function sl(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=jg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${jg(n.fields[u])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function Af(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(t);return e?16+Af(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Af(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return $r(s.fields,((l,u)=>{a+=l.length+Af(u)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function Nx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lg(t){return!!t&&"integerValue"in t}function $y(t){return!!t&&"arrayValue"in t}function Ix(t){return!!t&&"nullValue"in t}function Dx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rf(t){return!!t&&"mapValue"in t}function ik(t){return(t?.mapValue?.fields||{})[hS]?.stringValue===fS}function Bc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return{...t}}function sk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nk}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=rn.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=Bc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){$r(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Rn(Bc(this.value))}}function dS(t){const e=[];return $r(t.fields,((n,s)=>{const a=new rn([n]);if(Rf(s)){const l=dS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Un(e)}class hn{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,we.min(),we.min(),we.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,a){return new hn(e,1,n,we.min(),s,a,0)}static newNoDocument(e,n){return new hn(e,2,n,we.min(),we.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,we.min(),we.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(e,n){this.position=e,this.inclusive=n}}function Vx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(u.referenceValue),n.key):s=il(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Mx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}class Yf{constructor(e,n="asc"){this.field=e,this.dir=n}}function rk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class mS{}class Ut extends mS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ok(e,n,s):n==="array-contains"?new uk(e,s):n==="in"?new hk(e,s):n==="not-in"?new fk(e,s):n==="array-contains-any"?new dk(e,s):new Ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new lk(e,s):new ck(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(il(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends mS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ri(e,n)}matches(e){return pS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pS(t){return t.op==="and"}function gS(t){return ak(t)&&pS(t)}function ak(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function Ug(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(gS(t))return t.filters.map((e=>Ug(e))).join(",");{const e=t.filters.map((n=>Ug(n))).join(",");return`${t.op}(${e})`}}function yS(t,e){return t instanceof Ut?(function(s,a){return a instanceof Ut&&s.op===a.op&&s.field.isEqual(a.field)&&as(s.value,a.value)})(t,e):t instanceof Ri?(function(s,a){return a instanceof Ri&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&yS(u,a.filters[d])),!0):!1})(t,e):void Te(19439)}function vS(t){return t instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`})(t):t instanceof Ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(vS).join(" ,")+"}"})(t):"Filter"}class ok extends Ut{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class lk extends Ut{constructor(e,n){super(e,"in",n),this.keys=_S("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ck extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=_S("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _S(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class uk extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $y(n)&&eu(n.arrayValue,this.value)}}class hk extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class fk extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class dk extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}class mk{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function kx(t,e=null,n=[],s=[],a=null,l=null,u=null){return new mk(t,e,n,s,a,l,u)}function Yy(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ug(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),_d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>sl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>sl(s))).join(",")),e.Te=n}return e.Te}function Qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mx(t.startAt,e.startAt)&&Mx(t.endAt,e.endAt)}function Bg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class vu{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pk(t,e,n,s,a,l,u,d){return new vu(t,e,n,s,a,l,u,d)}function Xy(t){return new vu(t)}function Px(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bS(t){return t.collectionGroup!==null}function zc(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Gt(rn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Yf(l,s))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Yf(rn.keyField(),s))}return e.Ie}function es(t){const e=Re(t);return e.Ee||(e.Ee=gk(e,zc(t))),e.Ee}function gk(t,e){if(t.limitType==="F")return kx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Yf(a.field,l)}));const n=t.endAt?new $f(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $f(t.startAt.position,t.startAt.inclusive):null;return kx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function zg(t,e){const n=t.filters.concat([e]);return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fg(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Td(t,e){return Qy(es(t),es(e))&&t.limitType===e.limitType}function TS(t){return`${Yy(es(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>vS(a))).join(", ")}]`),_d(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>sl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>sl(a))).join(",")),`Target(${s})`})(es(t))}; limitType=${t.limitType})`}function xd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of zc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const g=Vx(u,d,m);return u.inclusive?g<=0:g<0})(s.startAt,zc(s),a)||s.endAt&&!(function(u,d,m){const g=Vx(u,d,m);return u.inclusive?g>=0:g>0})(s.endAt,zc(s),a))})(t,e)}function yk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xS(t){return(e,n)=>{let s=!1;for(const a of zc(t)){const l=vk(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function vk(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),g=d.data.field(l);return m!==null&&g!==null?il(m,g):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:t.dir})}}class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return rS(this.inner)}size(){return this.innerSize}}const _k=new pt(ye.comparator);function Bs(){return _k}const ES=new pt(ye.comparator);function kc(...t){let e=ES;for(const n of t)e=e.insert(n.key,n);return e}function wS(t){let e=ES;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Va(){return Fc()}function SS(){return Fc()}function Fc(){return new Ha((t=>t.toString()),((t,e)=>t.isEqual(e)))}const bk=new pt(ye.comparator),Tk=new Gt(ye.comparator);function Ue(...t){let e=Tk;for(const n of t)e=e.add(n);return e}const xk=new Gt(Le);function Ek(){return xk}function Wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function AS(t){return{integerValue:""+t}}function wk(t,e){return WM(e)?AS(e):Wy(t,e)}class Ed{constructor(){this._=void 0}}function Sk(t,e,n){return t instanceof Qf?(function(a,l){const u={fields:{[lS]:{stringValue:oS},[uS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ky(l)&&(l=bd(l)),l&&(u.fields[cS]=l),{mapValue:u}})(n,e):t instanceof tu?CS(t,e):t instanceof nu?NS(t,e):(function(a,l){const u=RS(a,l),d=Ox(u)+Ox(a.Ae);return Lg(u)&&Lg(a.Ae)?AS(d):Wy(a.serializer,d)})(t,e)}function Ak(t,e,n){return t instanceof tu?CS(t,e):t instanceof nu?NS(t,e):n}function RS(t,e){return t instanceof Xf?(function(s){return Lg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Qf extends Ed{}class tu extends Ed{constructor(e){super(),this.elements=e}}function CS(t,e){const n=IS(e);for(const s of t.elements)n.some((a=>as(a,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends Ed{constructor(e){super(),this.elements=e}}function NS(t,e){let n=IS(e);for(const s of t.elements)n=n.filter((a=>!as(a,s)));return{arrayValue:{values:n}}}class Xf extends Ed{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ox(t){return At(t.integerValue||t.doubleValue)}function IS(t){return $y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Rk(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof tu&&a instanceof tu||s instanceof nu&&a instanceof nu?nl(s.elements,a.elements,as):s instanceof Xf&&a instanceof Xf?as(s.Ae,a.Ae):s instanceof Qf&&a instanceof Qf})(t.transform,e.transform)}class Ck{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function DS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sd(t.key,vn.none()):new _u(t.key,t.data,vn.none());{const n=t.data,s=Rn.empty();let a=new Gt(rn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Yr(t.key,s,new Un(a.toArray()),vn.none())}}function Nk(t,e,n){t instanceof _u?(function(a,l,u){const d=a.value.clone(),m=Lx(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Yr?(function(a,l,u){if(!Cf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=Lx(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(VS(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function qc(t,e,n,s){return t instanceof _u?(function(l,u,d,m){if(!Cf(l.precondition,u))return d;const g=l.value.clone(),y=Ux(l.fieldTransforms,m,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Yr?(function(l,u,d,m){if(!Cf(l.precondition,u))return d;const g=Ux(l.fieldTransforms,m,u),y=u.data;return y.setAll(VS(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,d){return Cf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function Ik(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=RS(s.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,l))}return n||null}function jx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&nl(s,a,((l,u)=>Rk(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends wd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yr extends wd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function VS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Lx(t,e,n){const s=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,Ak(u,d,n[a]))}return s}function Ux(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,Sk(l,u,e))}return s}class Sd extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dk extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vk{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Nk(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=qc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=qc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=SS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=DS(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((n,s)=>jx(n,s)))&&nl(this.baseMutations,e.baseMutations,((n,s)=>jx(n,s)))}}class Zy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return bk})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Zy(e,n,s,a)}}class Mk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kk{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,qe;function Pk(t){switch(t){case re.OK:return Te(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function MS(t){if(t===void 0)return Us("GRPC error has no .code"),re.UNKNOWN;switch(t){case jt.OK:return re.OK;case jt.CANCELLED:return re.CANCELLED;case jt.UNKNOWN:return re.UNKNOWN;case jt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case jt.INTERNAL:return re.INTERNAL;case jt.UNAVAILABLE:return re.UNAVAILABLE;case jt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case jt.NOT_FOUND:return re.NOT_FOUND;case jt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case jt.ABORTED:return re.ABORTED;case jt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case jt.DATA_LOSS:return re.DATA_LOSS;default:return Te(39323,{code:t})}}(qe=jt||(jt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function Ok(){return new TextEncoder}const jk=new Pr([4294967295,4294967295],0);function Bx(t){const e=Ok().encode(t),n=new Y1;return n.update(e),new Uint8Array(n.digest())}function zx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Pr([n,s],0),new Pr([a,l],0)]}class Jy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pc(`Invalid padding: ${n}`);if(s<0)throw new Pc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Pr.fromNumber(s)));return a.compare(jk)===1&&(a=new Pr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Bx(e),[s,a]=zx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Jy(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=Bx(e),[s,a]=zx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ad{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ad(we.min(),a,new pt(Le),Bs(),Ue())}}class bu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,Ue(),Ue(),Ue())}}class Nf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class kS{constructor(e,n){this.targetId=e,this.Ce=n}}class PS{constructor(e,n,s=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Fx{constructor(){this.ve=0,this.Fe=qx(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}})),new bu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=qx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=ff(),this.He=ff(),this.Ye=new pt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Bg(l))if(s===0){const u=new ye(l.path);this.et(n,u,hn.newNoDocument(u,we.min()))}else Qe(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Br(s).toUint8Array()}catch(m){if(m instanceof aS)return tl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Jy(u,a,l)}catch(m){return tl(m instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&Bg(d.target)){const m=new ye(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,hn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Ue();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Ad(e,n,this.Ye,this.je,s);return this.je=Bs(),this.Je=ff(),this.He=ff(),this.Ye=new pt(Le),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Fx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ff(){return new pt(ye.comparator)}function qx(){return new pt(ye.comparator)}const Uk={asc:"ASCENDING",desc:"DESCENDING"},Bk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zk={and:"AND",or:"OR"};class Fk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qg(t,e){return t.useProto3Json||_d(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qk(t,e){return Wf(t,e.toTimestamp())}function ts(t){return Qe(!!t,49232),we.fromTimestamp((function(n){const s=Ur(n);return new lt(s.seconds,s.nanos)})(t))}function e0(t,e){return Hg(t,e).canonicalString()}function Hg(t,e){const n=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jS(t){const e=st.fromString(t);return Qe(FS(e),10190,{key:e.toString()}),e}function Gg(t,e){return e0(t.databaseId,e.path)}function Jp(t,e){const n=jS(e);if(n.get(1)!==t.databaseId.projectId)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(US(n))}function LS(t,e){return e0(t.databaseId,e)}function Hk(t){const e=jS(t);return e.length===4?st.emptyPath():US(e)}function Kg(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function US(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Hx(t,e,n){return{name:Gg(t,e),fields:n.value.mapValue.fields}}function Gk(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),on.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),on.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const y=g.code===void 0?re.UNKNOWN:MS(g.code);return new he(y,g.message||"")})(u);n=new PS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Jp(t,s.document.name),l=ts(s.document.updateTime),u=s.document.createTime?ts(s.document.createTime):we.min(),d=new Rn({mapValue:{fields:s.document.fields}}),m=hn.newFoundDocument(a,l,u,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Nf(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Jp(t,s.document),l=s.readTime?ts(s.readTime):we.min(),u=hn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Nf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Jp(t,s.document),l=s.removedTargetIds||[];n=new Nf([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new kk(a,l),d=s.targetId;n=new kS(d,u)}}return n}function Kk(t,e){let n;if(e instanceof _u)n={update:Hx(t,e.key,e.value)};else if(e instanceof Sd)n={delete:Gg(t,e.key)};else if(e instanceof Yr)n={update:Hx(t,e.key,e.data),updateMask:tP(e.fieldMask)};else{if(!(e instanceof Dk))return Te(16599,{Vt:e.type});n={verify:Gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof Qf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:qk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(t,e.precondition)),n}function $k(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ts(a.updateTime):ts(l);return u.isEqual(we.min())&&(u=ts(l)),new Ck(u,a.transformResults||[])})(n,e)))):[]}function Yk(t,e){return{documents:[LS(t,e.path)]}}function Qk(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=LS(t,a);const l=(function(g){if(g.length!==0)return zS(Ri.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:Bo(E.field),direction:Zk(E.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=qg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function Xk(t){let e=Hk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qe(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(b){const E=BS(b);return E instanceof Ri&&gS(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((E=>(function(V){return new Yf(zo(V.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let E;return E=typeof b=="object"?b.value:b,_d(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(b){const E=!!b.before,C=b.values||[];return new $f(C,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const E=!b.before,C=b.values||[];return new $f(C,E)})(n.endAt)),pk(e,a,u,l,d,"F",m,g)}function Wk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zo(n.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(n.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(n.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(n.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ut.create(zo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ri.create(n.compositeFilter.filters.map((s=>BS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function Zk(t){return Uk[t]}function Jk(t){return Bk[t]}function eP(t){return zk[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function zo(t){return rn.fromServerFormat(t.fieldPath)}function zS(t){return t instanceof Ut?(function(n){if(n.op==="=="){if(Dx(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(Ix(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dx(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(Ix(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:Jk(n.op),value:n.value}}})(t):t instanceof Ri?(function(n){const s=n.getFilters().map((a=>zS(a)));return s.length===1?s[0]:{compositeFilter:{op:eP(n.op),filters:s}}})(t):Te(54877,{filter:t})}function tP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function FS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Dr{constructor(e,n,s,a,l=we.min(),u=we.min(),d=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nP{constructor(e){this.yt=e}}function iP(t){const e=Xk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fg(e,e.limit,"L"):e}class sP{constructor(){this.Cn=new rP}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Lr.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class rP{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Gt(st.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Gt(st.comparator)).toArray()}}const Gx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(qS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}const Kx="LruGarbageCollector",aP=1048576;function $x([t,e],[n,s]){const a=Le(t,n);return a===0?Le(e,s):a}class oP{constructor(e){this.Ir=e,this.buffer=new Gt($x),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$x(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lP{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Kx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?de(Kx,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)}))}}class cP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(vd.ce);const s=new oP(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Gx)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Lo()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function uP(t,e){return new cP(t,e)}class hP{constructor(){this.changes=new Ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dP{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&qc(s.mutation,a,Un.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const a=Va();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=kc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Va();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=Bs();const u=Fc(),d=(function(){return Fc()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Yr)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),qc(y.mutation,g,y.mutation.getFieldMask(),lt.now())):u.set(g.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>u.set(g,y))),n.forEach(((g,y)=>d.set(g,new fP(y,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Fc();let a=new pt(((u,d)=>u-d)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Un.empty();y=d.applyToLocalView(g,y),s.set(m,y);const b=(a.get(d.batchId)||Ue()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,b=SS();y.forEach((E=>{if(!l.has(E)){const C=DS(n.get(E),s.get(E));C!==null&&b.set(E,C),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return oe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(Va());let d=Wc,m=l;return u.next((g=>oe.forEach(g,((y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ue()))).next((y=>({batchId:d,changes:wS(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=kc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(m=>{const g=(function(b,E){return new vu(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((y=>{y.forEach(((b,E)=>{u=u.insert(b,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,hn.newInvalidDocument(y)))}));let d=kc();return u.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&qc(y.mutation,g,Un.empty(),lt.now()),xd(n,g)&&(d=d.insert(m,g))})),d}))}}class mP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ts(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:iP(a.bundledQuery),readTime:ts(a.readTime)}})(n)),oe.resolve()}}class pP{constructor(){this.overlays=new pt(ye.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Va();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=Va(),l=n.length+1,u=new ye(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Va(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return oe.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new Mk(n,s));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class gP{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class t0{constructor(){this.Qr=new Gt(Qt.$r),this.Ur=new Gt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new st([])),s=new Qt(n,e),a=new Qt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new st([])),s=new Qt(n,e),a=new Qt(n,e+1);let l=Ue();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class yP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Qt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Vk(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Gy:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),a=new Qt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const d=this.Xr(u.Yr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(Le);return n.forEach((a=>{const l=new Qt(a,0),u=new Qt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{s=s.add(d.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const u=new Qt(new ye(l),0);let d=new Gt(Le);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),u),oe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new Qt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qt(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vP{constructor(e){this.ri=e,this.docs=(function(){return new pt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=Bs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Bs();const u=n.path,d=new ye(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||$M(KM(y),s)<=0||(a.has(y.key)||xd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _P(this)}getSize(e){return oe.resolve(this.size)}}class _P extends hP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class bP{constructor(e){this.persistence=e,this.si=new Ha((n=>Yy(n)),Qy),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new t0,this.targetCount=0,this.ai=rl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}class HS{constructor(e,n){this.ui={},this.overlays={},this.ci=new vd(0),this.li=!1,this.li=!0,this.hi=new gP,this.referenceDelegate=e(this),this.Pi=new bP(this),this.indexManager=new sP,this.remoteDocumentCache=(function(a){return new vP(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nP(n),this.Ii=new mP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new yP(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new TP(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class TP extends QM{constructor(e){super(),this.currentSequenceNumber=e}}class n0{constructor(e){this.persistence=e,this.Ri=new t0,this.Vi=null}static mi(e){return new n0(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zf{constructor(e,n){this.persistence=e,this.pi=new Ha((s=>ZM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=uP(this,n)}static mi(e,n){return new Zf(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((d=>{d||(s++,l.removeEntry(u,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Af(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class i0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new i0(e,n.fromCache,s,a)}}class xP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XI()?8:XM(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new xP;return this.Ss(e,n,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Lo()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Lo()<=je.DEBUG&&de("QueryEngine","Query:",Uo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Lo()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(n))):oe.resolve())}ys(e,n){if(Px(n))return oe.resolve(null);let s=es(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Fg(n,null,"F"),s=es(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ue(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,u,m.readTime)?this.ys(e,Fg(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return Px(n)||a.isEqual(we.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?oe.resolve(null):(Lo()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(n)),this.vs(e,u,n,GM(a,Wc)).next((d=>d)))}))}Ds(e,n){let s=new Gt(xS(e));return n.forEach(((a,l)=>{xd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Lo()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.ps.getDocumentsMatchingQuery(e,n,Lr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const s0="LocalStore",wP=3e8;class SP{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new pt(Le),this.xs=new Ha((l=>Yy(l)),Qy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AP(t,e,n,s){return new SP(t,e,n,s)}async function GS(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=Ue();for(const g of a){u.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function RP(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const b=g.batch,E=b.keys();let C=oe.resolve();return E.forEach((V=>{C=C.next((()=>y.getEntry(m,V))).next((j=>{const I=g.docVersions.get(V);Qe(I!==null,48541),j.version.compareTo(I)<0&&(b.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function KS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CP(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,b)=>{const E=a.get(b);if(!E)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,b))));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(on.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(b,C),(function(j,I,L){return j.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=wP?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(E,C,y)&&d.push(n.Pi.updateTargetData(l,C))}));let m=Bs(),g=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(NP(l,u,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(we.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return oe.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function NP(t,e,n){let s=Ue(),a=Ue();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Bs();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):de(s0,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function IP(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function DP(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Dr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function $g(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!yl(u))throw u;de(s0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Yx(t,e,n){const s=Re(t);let a=we.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,y){const b=Re(m),E=b.xs.get(y);return E!==void 0?oe.resolve(b.Ms.get(E)):b.Pi.getTargetData(g,y)})(s,u,es(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:we.min(),n?l:Ue()))).next((d=>(VP(s,yk(e),d),{documents:d,Qs:l})))))}function VP(t,e,n){let s=t.Os.get(e)||we.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Qx{constructor(){this.activeTargetIds=Ek()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MP{constructor(){this.Mo=new Qx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Qx,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kP{Oo(e){}shutdown(){}}const Xx="ConnectivityMonitor";class Wx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Xx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Xx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let df=null;function Yg(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}const eg="RestConnection",PP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Yg(),d=this.zo(e,n.toUriEncodedString());de(eg,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=fl(g);return this.Jo(e,d,m,s,y).then((b=>(de(eg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw tl(eg,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",s),b}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=PP[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class jP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class LP extends OP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Yg();return new Promise(((d,m)=>{const g=new Q1;g.setWithCredentials(!0),g.listenOnce(X1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Sf.NO_ERROR:const b=g.getResponseJson();de(cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Sf.TIMEOUT:de(cn,`RPC '${e}' ${u} timed out`),m(new he(re.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const E=g.getStatus();if(de(cn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C?.error;if(V&&V.status&&V.message){const j=(function(L){const k=L.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(k)>=0?k:re.UNKNOWN})(V.status);m(new he(j,V.message))}else m(new he(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(re.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(cn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);de(cn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Yg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=J1(),d=Z1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");de(cn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const b=u.createWebChannel(y,m);this.I_(b);let E=!1,C=!1;const V=new jP({Yo:I=>{C?de(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(E||(de(cn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),de(cn,`RPC '${e}' stream ${a} sending:`,I),b.send(I))},Zo:()=>b.close()}),j=(I,L,k)=>{I.listen(L,(B=>{try{k(B)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return j(b,Mc.EventType.OPEN,(()=>{C||(de(cn,`RPC '${e}' stream ${a} transport opened.`),V.o_())})),j(b,Mc.EventType.CLOSE,(()=>{C||(C=!0,de(cn,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(b))})),j(b,Mc.EventType.ERROR,(I=>{C||(C=!0,tl(cn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),V.a_(new he(re.UNAVAILABLE,"The operation could not be completed")))})),j(b,Mc.EventType.MESSAGE,(I=>{if(!C){const L=I.data[0];Qe(!!L,16349);const k=L,B=k?.error||k[0]?.error;if(B){de(cn,`RPC '${e}' stream ${a} received error:`,B);const ee=B.status;let J=(function(S){const N=jt[S];if(N!==void 0)return MS(N)})(ee),ne=B.message;J===void 0&&(J=re.INTERNAL,ne="Unknown error status: "+ee+" with message "+B.message),C=!0,V.a_(new he(J,ne)),b.close()}else de(cn,`RPC '${e}' stream ${a} received:`,L),V.u_(L)}})),j(d,W1.STAT_EVENT,(I=>{I.stat===Pg.PROXY?de(cn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Pg.NOPROXY&&de(cn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function tg(){return typeof document<"u"?document:null}function Rd(t){return new Fk(t,!0)}class $S{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Zx="PersistentStream";class YS{constructor(e,n,s,a,l,u,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $S(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Zx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(Zx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UP extends YS{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Gk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?ts(u.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Kg(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=Bg(m)?{documents:Yk(l,m)}:{query:Qk(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=OS(l,u.resumeToken);const g=qg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(we.min())>0){d.readTime=Wf(l,u.snapshotVersion.toTimestamp());const g=qg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=Wk(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Kg(this.serializer),n.removeTarget=e,this.q_(n)}}class BP extends YS{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$k(e.writeResults,e.commitTime),s=ts(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Kg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Kk(this.serializer,s)))};this.q_(n)}}class zP{}class FP extends zP{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Hg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(re.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Hg(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class HP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Ga(this)&&(de(qa,"Restarting streams for network reachability change."),await(async function(m){const g=Re(m);g.Ea.add(4),await Tu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Cd(g)})(this))}))})),this.Ra=new qP(s,a)}}async function Cd(t){if(Ga(t))for(const e of t.da)await e(!0)}async function Tu(t){for(const e of t.da)await e(!1)}function QS(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),l0(n)?o0(n):vl(n).O_()&&a0(n,e))}function r0(t,e){const n=Re(t),s=vl(n);n.Ia.delete(e),s.O_()&&XS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ga(n)&&n.Ra.set("Unknown"))}function a0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Y_(e)}function XS(t,e){t.Va.Ue(e),vl(t).Z_(e)}function o0(t){t.Va=new Lk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Ra.ua()}function l0(t){return Ga(t)&&!vl(t).x_()&&t.Ia.size>0}function Ga(t){return Re(t).Ea.size===0}function WS(t){t.Va=void 0}async function GP(t){t.Ra.set("Online")}async function KP(t){t.Ia.forEach(((e,n)=>{a0(t,e)}))}async function $P(t,e){WS(t),l0(t)?(t.Ra.ha(e),o0(t)):t.Ra.set("Unknown")}async function YP(t,e,n){if(t.Ra.set("Online"),e instanceof PS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){de(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jf(t,s)}else if(e instanceof Nf?t.Va.Ze(e):e instanceof kS?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const s=await KS(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),XS(l,m);const b=new Dr(y.target,m,g,y.sequenceNumber);a0(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){de(qa,"Failed to raise snapshot:",s),await Jf(t,s)}}async function Jf(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await Tu(t),t.Ra.set("Offline"),n||(n=()=>KS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cd(t)}))}function ZS(t,e){return e().catch((n=>Jf(t,n,e)))}async function Nd(t){const e=Re(t),n=Fr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gy;for(;QP(e);)try{const a=await IP(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,XP(e,a)}catch(a){await Jf(e,a)}JS(e)&&eA(e)}function QP(t){return Ga(t)&&t.Ta.length<10}function XP(t,e){t.Ta.push(e);const n=Fr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return Ga(t)&&!Fr(t).x_()&&t.Ta.length>0}function eA(t){Fr(t).start()}async function WP(t){Fr(t).ra()}async function ZP(t){const e=Fr(t);for(const n of t.Ta)e.ea(n.mutations)}async function JP(t,e,n){const s=t.Ta.shift(),a=Zy.from(s,e,n);await ZS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Nd(t)}async function eO(t,e){e&&Fr(t).X_&&await(async function(s,a){if((function(u){return Pk(u)&&u!==re.ABORTED})(a.code)){const l=s.Ta.shift();Fr(s).B_(),await ZS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Nd(s)}})(t,e),JS(t)&&eA(t)}async function Jx(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),de(qa,"RemoteStore received new credentials");const s=Ga(n);n.Ea.add(3),await Tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cd(n)}async function tO(t,e){const n=Re(t);e?(n.Ea.delete(2),await Cd(n)):e||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function vl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new UP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:GP.bind(null,t),t_:KP.bind(null,t),r_:$P.bind(null,t),H_:YP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),l0(t)?o0(t):t.Ra.set("Unknown")):(await t.ma.stop(),WS(t))}))),t.ma}function Fr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new BP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:WP.bind(null,t),r_:eO.bind(null,t),ta:ZP.bind(null,t),na:JP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Nd(t)):(await t.fa.stop(),t.Ta.length>0&&(de(qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class c0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new c0(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u0(t,e){if(Us("AsyncQueue",`${e}: ${t}`),yl(t))return new he(re.UNAVAILABLE,`${e}: ${t}`);throw t}class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=kc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class eE{constructor(){this.ga=new pt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class al{constructor(e,n,s,a,l,u,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new al(e,n,Xo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class nO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iO{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=tE(),l.forEach(((u,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new he(re.ABORTED,"Firestore shutting down"))}}function tE(){return new Ha((t=>TS(t)),Td)}async function tA(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new nO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=u0(u,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&h0(n)}async function nA(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function sO(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(s=!0);u.wa=a}}s&&h0(n)}function rO(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function h0(t){t.Ca.forEach((e=>{e.next()}))}var Qg,nE;(nE=Qg||(Qg={})).Ma="default",nE.Cache="cache";class iA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new al(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qg.Cache}}class sA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class aO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=xS(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new eE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const E=a.get(y),C=xd(this.query,b)?b:null,V=!!E&&this.mutatedKeys.has(E.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let I=!1;E&&C?E.data.isEqual(C.data)?V!==j&&(s.track({type:3,doc:C}),I=!0):this.su(E,C)||(s.track({type:2,doc:C}),I=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!E&&C?(s.track({type:0,doc:C}),I=!0):E&&!C&&(s.track({type:1,doc:E}),I=!0,(m||g)&&(d=!0)),I&&(C?(u=u.add(C),l=j?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(C,V){const j=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:I})}};return j(C)-j(V)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new al(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new rA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new sA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const f0="SyncEngine";class oO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class lO{constructor(e){this.key=e,this.hu=!1}}class cO{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ha((d=>TS(d)),Td),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ye.comparator),this.Au=new Map,this.Ru=new t0,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uO(t,e,n=!0){const s=hA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await aA(s,e,n,!0),a}async function hO(t,e){const n=hA(t);await aA(n,e,!0,!1)}async function aA(t,e,n,s){const a=await DP(t.localStore,es(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await fO(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&QS(t.remoteStore,a),d}async function fO(t,e,n,s,a){t.pu=(b,E,C)=>(async function(j,I,L,k){let B=I.view.ru(L);B.Cs&&(B=await Yx(j.localStore,I.query,!1).then((({documents:A})=>I.view.ru(A,B))));const ee=k&&k.targetChanges.get(I.targetId),J=k&&k.targetMismatches.get(I.targetId)!=null,ne=I.view.applyChanges(B,j.isPrimaryClient,ee,J);return sE(j,I.targetId,ne.au),ne.snapshot})(t,b,E,C);const l=await Yx(t.localStore,e,!0),u=new aO(e,l.Qs),d=u.ru(l.documents),m=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(d,t.isPrimaryClient,m);sE(t,n,g.au);const y=new oO(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function dO(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Td(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await $g(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&r0(s.remoteStore,a.targetId),Xg(s,a.targetId)})).catch(gl)):(Xg(s,a.targetId),await $g(s.localStore,a.targetId,!0))}async function mO(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),r0(n.remoteStore,s.targetId))}async function pO(t,e,n){const s=xO(t);try{const a=await(function(u,d){const m=Re(u),g=lt.now(),y=d.reduce(((C,V)=>C.add(V.key)),Ue());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let V=Bs(),j=Ue();return m.Ns.getEntries(C,y).next((I=>{V=I,V.forEach(((L,k)=>{k.isValidDocument()||(j=j.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,V))).next((I=>{b=I;const L=[];for(const k of d){const B=Ik(k,b.get(k.key).overlayedDocument);B!=null&&L.push(new Yr(k.key,B,dS(B.value.mapValue),vn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,L,d)})).next((I=>{E=I;const L=I.applyToLocalDocumentSet(b,j);return m.documentOverlayCache.saveOverlays(C,I.batchId,L)}))})).then((()=>({batchId:E.batchId,changes:wS(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new pt(Le)),g=g.insert(d,m),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await xu(s,a.changes),await Nd(s.remoteStore)}catch(a){const l=u0(a,"Failed to persist write");n.reject(l)}}async function oA(t,e){const n=Re(t);try{const s=await CP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Qe(u.hu,14607):a.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await xu(n,s,e)}catch(s){await gl(s)}}function iE(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=Re(u);m.onlineState=d;let g=!1;m.queries.forEach(((y,b)=>{for(const E of b.Sa)E.va(d)&&(g=!0)})),g&&h0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gO(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new pt(ye.comparator);u=u.insert(l,hn.newNoDocument(l,we.min()));const d=Ue().add(l),m=new Ad(we.min(),new Map,new pt(Le),u,d);await oA(s,m),s.du=s.du.remove(l),s.Au.delete(e),d0(s)}else await $g(s.localStore,e,!1).then((()=>Xg(s,e,n))).catch(gl)}async function yO(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await RP(n.localStore,e);cA(n,s,null),lA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,a)}catch(a){await gl(a)}}async function vO(t,e,n){const s=Re(t);try{const a=await(function(u,d){const m=Re(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((b=>(Qe(b!==null,37113),y=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,e);cA(s,e,n),lA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xu(s,a)}catch(a){await gl(a)}}function lA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function cA(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||uA(t,s)}))}function uA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(r0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),d0(t))}function sE(t,e,n){for(const s of n)s instanceof sA?(t.Ru.addReference(s.key,e),_O(t,s)):s instanceof rA?(de(f0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||uA(t,s.key)):Te(19791,{wu:s})}function _O(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(de(f0,"New document in limbo: "+n),t.Eu.add(s),d0(t))}function d0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(st.fromString(e)),s=t.fu.next();t.Au.set(s,new lO(n)),t.du=t.du.insert(n,s),QS(t.remoteStore,new Dr(es(Xy(n.path)),s,"TargetPurposeLimboResolution",vd.ce))}}async function xu(t,e,n){const s=Re(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=i0.As(m.targetId,g);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,g){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(g,(E=>oe.forEach(E.Es,(C=>y.persistence.referenceDelegate.addReference(b,E.targetId,C))).next((()=>oe.forEach(E.ds,(C=>y.persistence.referenceDelegate.removeReference(b,E.targetId,C)))))))))}catch(b){if(!yl(b))throw b;de(s0,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const C=y.Ms.get(E),V=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(E,j)}}})(s.localStore,l))}async function bO(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){de(f0,"User change. New user:",e.toKey());const s=await GS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(re.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Ls)}}function TO(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function hA(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Pu.H_=sO.bind(null,e.eventManager),e.Pu.yu=rO.bind(null,e.eventManager),e}function xO(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vO.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AP(this.persistence,new EP,e.initialUser,this.serializer)}Cu(e){return new HS(n0.mi,this.serializer)}Du(e){return new MP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class EO extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Zf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lP(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new HS((s=>Zf.mi(s,n)),this.serializer)}}class Wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bO.bind(null,this.syncEngine),await tO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iO})()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),s=(function(l){return new LP(l)})(e.databaseInfo);return(function(l,u,d,m){return new FP(l,u,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new HP(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>iE(this.syncEngine,n,0)),(function(){return Wx.v()?new Wx:new kP})())}createSyncEngine(e,n){return(function(a,l,u,d,m,g,y){const b=new cO(a,l,u,d,m,g);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);de(qa,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wg.provider={build:()=>new Wg};class fA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qr="FirestoreClient";class wO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{de(qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(de(qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=u0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ng(t,e){t.asyncQueue.verifyOperationInProgress(),de(qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await GS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function rE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SO(t);de(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Jx(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Jx(e.remoteStore,a))),t._onlineComponents=e}async function SO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(qr,"Using user provided OfflineComponentProvider");try{await ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await ng(t,new ed)}}else de(qr,"Using default OfflineComponentProvider"),await ng(t,new EO(void 0));return t._offlineComponents}async function dA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(qr,"Using user provided OnlineComponentProvider"),await rE(t,t._uninitializedComponentsProvider._online)):(de(qr,"Using default OnlineComponentProvider"),await rE(t,new Wg))),t._onlineComponents}function AO(t){return dA(t).then((e=>e.syncEngine))}async function mA(t){const e=await dA(t),n=e.eventManager;return n.onListen=uO.bind(null,e.syncEngine),n.onUnlisten=dO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mO.bind(null,e.syncEngine),n}function RO(t,e,n={}){const s=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,g){const y=new fA({next:E=>{y.Nu(),u.enqueueAndForget((()=>nA(l,b)));const C=E.docs.has(d);!C&&E.fromCache?g.reject(new he(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&m&&m.source==="server"?g.reject(new he(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new iA(Xy(d.path),y,{includeMetadataChanges:!0,qa:!0});return tA(l,b)})(await mA(t),t.asyncQueue,e,n,s))),s.promise}function CO(t,e,n={}){const s=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,g){const y=new fA({next:E=>{y.Nu(),u.enqueueAndForget((()=>nA(l,b))),E.fromCache&&m.source==="server"?g.reject(new he(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new iA(d,y,{includeMetadataChanges:!0,qa:!0});return tA(l,b)})(await mA(t),t.asyncQueue,e,n,s))),s.promise}function pA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const aE=new Map;const gA="firestore.googleapis.com",oE=!0;class lE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=oE}else this.host=e.host,this.ssl=e.ssl??oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aP)throw new he(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kM;switch(s.type){case"firstParty":return new LM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=aE.get(n);s&&(de("ComponentProvider","Removing Datastore"),aE.delete(n),s.terminate())})(this),Promise.resolve()}}function NO(t,e,n,s={}){t=li(t,Id);const a=fl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(a1(`https://${d}`),o1("Firestore",!0)),l.host!==gA&&l.host!==d&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!La(m,u)&&(t._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=un.MOCK_USER;else{g=zI(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(b)}t._authCredentials=new PM(new tS(g,y))}}class _l{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _l(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,Rt._jsonSchema))return new Rt(e,s||null,new ye(st.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Bt("string",Rt._jsonSchemaVersion),referencePath:Bt("string")};class Or extends _l{constructor(e,n,s){super(e,n,Xy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ye(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function Ei(t,e,...n){if(t=bt(t),nS("collection","path",e),t instanceof Id){const s=st.fromString(e,...n);return Tx(s),new Or(t,null,s)}{if(!(t instanceof Rt||t instanceof Or))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return Tx(s),new Or(t.firestore,null,s)}}function rt(t,e,...n){if(t=bt(t),arguments.length===1&&(e=Hy.newId()),nS("doc","path",e),t instanceof Id){const s=st.fromString(e,...n);return bx(s),new Rt(t,null,new ye(s))}{if(!(t instanceof Rt||t instanceof Or))throw new he(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return bx(s),new Rt(t.firestore,t instanceof Or?t.converter:null,new ye(s))}}const cE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $S(this,"async_queue_retry"),this._c=()=>{const s=tg();s&&de(cE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=tg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;de(cE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",hE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=c0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:hE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Qr extends Id{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new uE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function IO(t,e){const n=typeof t=="object"?t:h1(),s=typeof t=="string"?t:Gf,a=Vy(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=UI("firestore");l&&NO(a,...l)}return a}function Dd(t){if(t._terminated)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DO(t),t._firestoreClient}function DO(t){const e=t._freezeSettings(),n=(function(a,l,u,d){return new tk(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(on.fromBase64String(e))}catch(n){throw new he(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Bt("string",si._jsonSchemaVersion),bytes:Bt("string")};class Eu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class m0{constructor(e){this._methodName=e}}class ns{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(yu(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:Bt("string",ns._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class is{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new is(e.vectorValues);throw new he(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:Bt("string",is._jsonSchemaVersion),vectorValues:Bt("object")};const VO=/^__.*__$/;class MO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class yA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class p0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new p0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vA(this.Ac)&&VO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rd(e)}Cc(e,n,s,a=!1){return new p0({Ac:e,methodName:n,Dc:s,path:rn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new kO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g0(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);y0("Data must be an object, but it was:",u,s);const d=TA(s,u);let m,g;if(l.merge)m=new Un(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const E=Zg(e,b,n);if(!u.contains(E))throw new he(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);EA(y,E)||y.push(E)}m=new Un(y),g=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=u.fieldTransforms;return new MO(new Rn(d),m,g)}class Vd extends m0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}function _A(t,e,n,s){const a=t.Cc(1,e,n);y0("Data must be an object, but it was:",a,s);const l=[],u=Rn.empty();$r(s,((m,g)=>{const y=v0(e,m,n);g=bt(g);const b=a.yc(y);if(g instanceof Vd)l.push(y);else{const E=Su(g,b);E!=null&&(l.push(y),u.set(y,E))}}));const d=new Un(l);return new yA(u,d,a.fieldTransforms)}function bA(t,e,n,s,a,l){const u=t.Cc(1,e,n),d=[Zg(e,s,n)],m=[a];if(l.length%2!=0)throw new he(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(Zg(e,l[E])),m.push(l[E+1]);const g=[],y=Rn.empty();for(let E=d.length-1;E>=0;--E)if(!EA(g,d[E])){const C=d[E];let V=m[E];V=bt(V);const j=u.yc(C);if(V instanceof Vd)g.push(C);else{const I=Su(V,j);I!=null&&(g.push(C),y.set(C,I))}}const b=new Un(g);return new yA(y,b,u.fieldTransforms)}function PO(t,e,n,s=!1){return Su(n,t.Cc(s?4:3,e))}function Su(t,e){if(xA(t=bt(t)))return y0("Unsupported field value:",e,t),TA(t,e);if(t instanceof m0)return(function(s,a){if(!vA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=Su(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=lt.fromDate(s);return{timestampValue:Wf(a.serializer,l)}}if(s instanceof lt){const l=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,l)}}if(s instanceof ns)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof si)return{bytesValue:OS(a.serializer,s._byteString)};if(s instanceof Rt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:e0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof is)return(function(u,d){return{mapValue:{fields:{[hS]:{stringValue:fS},[Kf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Wy(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${yd(s)}`)})(t,e)}function TA(t,e){const n={};return rS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((s,a)=>{const l=Su(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function xA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof ns||t instanceof si||t instanceof Rt||t instanceof m0||t instanceof is)}function y0(t,e,n){if(!xA(n)||!iS(n)){const s=yd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Zg(t,e,n){if((e=bt(e))instanceof Eu)return e._internalPath;if(typeof e=="string")return v0(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const OO=new RegExp("[~\\*/\\[\\]]");function v0(t,e,n){if(e.search(OO)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new he(re.INVALID_ARGUMENT,d+t+m)}function EA(t,e){return t.some((n=>n.isEqual(e)))}class wA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jO extends wA{data(){return super.data()}}function _0(t,e){return typeof e=="string"?v0(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}function LO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b0{}class UO extends b0{}function Nr(t,e,...n){let s=[];e instanceof b0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof T0)).length,d=l.filter((m=>m instanceof Md)).length;if(u>1||u>0&&d>0)throw new he(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Md extends UO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Md(e,n,s)}_apply(e){const n=this._parse(e);return SA(e._query,n),new _l(e.firestore,e.converter,zg(e._query,n))}_parse(e){const n=wu(e.firestore);return(function(l,u,d,m,g,y,b){let E;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){dE(b,y);const V=[];for(const j of b)V.push(fE(m,l,j));E={arrayValue:{values:V}}}else E=fE(m,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||dE(b,y),E=PO(d,u,b,y==="in"||y==="not-in");return Ut.create(g,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wi(t,e,n){const s=e,a=_0("where",t);return Md._create(a,s,n)}class T0 extends b0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)SA(u,m),u=zg(u,m)})(e._query,n),new _l(e.firestore,e.converter,zg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fE(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new he(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bS(e)&&n.indexOf("/")!==-1)throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!ye.isDocumentKey(s))throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Nx(t,new ye(s))}if(n instanceof Rt)return Nx(t,n._key);throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(n)}.`)}function dE(t,e){if(!Array.isArray(t)||t.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SA(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class BO{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $r(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Kf].arrayValue?.values?.map((s=>At(s.doubleValue)));return new is(n)}convertGeoPoint(e){return new ns(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Qe(FS(s),9688,{name:e});const a=new Jc(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Us(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function x0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends wA{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:Bt("string",Pa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class If extends Pa{data(e={}){return super.data(e)}}class Wo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Oc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new If(this._firestore,this._userDataWriter,s.key,s,new Oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Oc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Oc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:zO(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}function an(t){t=li(t,Rt);const e=li(t.firestore,Qr);return RO(Dd(e),t._key).then((n=>HO(e,t,n)))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:Bt("string",Wo._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class AA extends BO{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Ir(t){t=li(t,_l);const e=li(t.firestore,Qr),n=Dd(e),s=new AA(e);return LO(t._query),CO(n,t._query).then((a=>new Wo(e,s,t,a)))}function iu(t,e,n){t=li(t,Rt);const s=li(t.firestore,Qr),a=x0(t.converter,e,n);return Au(s,[g0(wu(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,vn.none())])}function FO(t,e,n,...s){t=li(t,Rt);const a=li(t.firestore,Qr),l=wu(a);let u;return u=typeof(e=bt(e))=="string"||e instanceof Eu?bA(l,"updateDoc",t._key,e,n,s):_A(l,"updateDoc",t._key,e),Au(a,[u.toMutation(t._key,vn.exists(!0))])}function qO(t){return Au(li(t.firestore,Qr),[new Sd(t._key,vn.none())])}function ig(t,e){const n=li(t.firestore,Qr),s=rt(t),a=x0(t.converter,e);return Au(n,[g0(wu(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,vn.exists(!1))]).then((()=>s))}function Au(t,e){return(function(s,a){const l=new Ps;return s.asyncQueue.enqueueAndForget((async()=>pO(await AO(s),a,l))),l.promise})(Dd(t),e)}function HO(t,e,n){const s=n.docs.get(e._key),a=new AA(t);return new Pa(t,a,e._key,s,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}class GO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wu(e)}set(e,n,s){this._verifyNotCommitted();const a=sg(e,this._firestore),l=x0(a.converter,n,s),u=g0(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,vn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=sg(e,this._firestore);let u;return u=typeof(n=bt(n))=="string"||n instanceof Eu?bA(this._dataReader,"WriteBatch.update",l._key,n,s,a):_A(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=sg(e,this._firestore);return this._mutations=this._mutations.concat(new Sd(n._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sg(t,e){if((t=bt(t)).firestore!==e)throw new he(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function RA(t){return Dd(t=li(t,Qr)),new GO(t,(e=>Au(t,e)))}(function(e,n=!0){(function(a){pl=a})(dl),Jo(new Ua("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Qr(new OM(s.getProvider("auth-internal")),new UM(u,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(g.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),kr(gx,yx,e),kr(gx,yx,"esm2020")})();var KO="firebase",$O="12.7.0";kr(KO,$O,"app");const YO={apiKey:"AIzaSyBaGcQdywx3EHrWuo7KAa4ed4oXOMvsFYM",authDomain:"nfl-bracket-b3140.firebaseapp.com",projectId:"nfl-bracket-b3140",storageBucket:"nfl-bracket-b3140.firebasestorage.app",messagingSenderId:"965277224800",appId:"1:965277224800:web:83afd415384e97b6d51805"};let rg,ti,Ve;try{rg=u1(YO),ti=VM(rg),Ve=IO(rg)}catch(t){console.error("Firebase initialization error:",t),console.warn("Please configure Firebase credentials in .env file")}const CA=M.createContext(),cs=()=>M.useContext(CA),ag="drewpdewitt@gmail.com".split(",").map(t=>t.trim())||[],QO=({children:t})=>{const[e,n]=M.useState(null),[s,a]=M.useState(!0),[l,u]=M.useState(null),[d,m]=M.useState(!1),[g,y]=M.useState(null);M.useEffect(()=>{if(!ti){u("Firebase not configured. Please add .env file with Firebase credentials."),a(!1);return}return bV(ti,async I=>{if(n(I),m(I?ag.includes(I.email):!1),I){const L=await an(rt(Ve,"users",I.uid));L.exists()?y(L.data().username):y(I.displayName||I.email.split("@")[0])}else y(null);a(!1)})},[]);const b=(j,I)=>{if(!ti)throw new Error("Firebase not configured");return pV(ti,j,I)},E=async(j,I,L)=>{if(!ti)throw new Error("Firebase not configured");const k=await mV(ti,j,I);await yV(k.user,{displayName:L});const B=ag.includes(j);return await iu(rt(Ve,"users",k.user.uid),{username:L,email:j,isAdmin:B,createdAt:new Date,emailVerified:!1}),await O1(k.user),k},C=async()=>{if(!ti)throw new Error("Firebase not configured");const j=new Is,I=await zV(ti,j),L=await an(rt(Ve,"users",I.user.uid)),k=ag.includes(I.user.email);return L.exists()||await iu(rt(Ve,"users",I.user.uid),{username:I.user.displayName||I.user.email.split("@")[0],email:I.user.email,isAdmin:k,createdAt:new Date}),I},V=()=>{if(!ti)throw new Error("Firebase not configured");return TV(ti)};return l?v.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md",children:[v.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:" Configuration Required"}),v.jsx("p",{className:"text-gray-700 mb-4",children:l}),v.jsxs("div",{className:"bg-gray-100 p-4 rounded text-sm",children:[v.jsx("p",{className:"font-semibold mb-2",children:"Quick Setup:"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[v.jsx("li",{children:"Create Firebase project at console.firebase.google.com"}),v.jsx("li",{children:"Enable Authentication (Email/Password)"}),v.jsx("li",{children:"Create Firestore database"}),v.jsx("li",{children:"Copy .env.example to .env"}),v.jsx("li",{children:"Add your Firebase credentials to .env"}),v.jsx("li",{children:"Restart dev server"})]})]})]})}):v.jsx(CA.Provider,{value:{user:e,login:b,signup:E,loginWithGoogle:C,logout:V,loading:s,isAdmin:d,username:g},children:t})};const XO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),mE=t=>{const e=WO(t);return e.charAt(0).toUpperCase()+e.slice(1)},NA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),ZO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var JO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const e3=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>M.createElement("svg",{ref:m,...JO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:NA("lucide",a),...!l&&!ZO(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,y])=>M.createElement(g,y)),...Array.isArray(l)?l:[l]]));const gt=(t,e)=>{const n=M.forwardRef(({className:s,...a},l)=>M.createElement(e3,{ref:l,iconNode:e,className:NA(`lucide-${XO(mE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=mE(t),n};const t3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jr=gt("arrow-left",t3);const n3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],og=gt("arrow-right",n3);const i3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],s3=gt("award",i3);const r3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],a3=gt("calendar",r3);const o3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],l3=gt("chart-column",o3);const c3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],u3=gt("check",c3);const h3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nd=gt("circle-alert",h3);const f3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d3=gt("eye",f3);const m3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],p3=gt("lock-open",m3);const g3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pE=gt("lock",g3);const y3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],v3=gt("log-out",y3);const _3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],IA=gt("mail",_3);const b3=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],T3=gt("medal",b3);const x3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gE=gt("plus",x3);const E3=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],w3=gt("radio",E3);const S3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],A3=gt("refresh-cw",S3);const R3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],C3=gt("save",R3);const N3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DA=gt("settings",N3);const I3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],D3=gt("share-2",I3);const V3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VA=gt("trash-2",V3);const M3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],id=gt("trophy",M3);const k3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],P3=gt("user",k3);const O3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yE=gt("users",O3);function j3(){const[t,e]=M.useState(!0),[n,s]=M.useState(""),[a,l]=M.useState(""),[u,d]=M.useState(""),[m,g]=M.useState(""),[y,b]=M.useState(""),[E,C]=M.useState(!1),{login:V,signup:j,loginWithGoogle:I}=cs(),L=os(),B=Ni().state?.from?.pathname||"/rooms",ee=A=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A),J=async A=>{if(A.preventDefault(),b(""),C(!1),!t){if(!ee(n)){b("Please enter a valid email address");return}if(a!==u){b("Passwords do not match");return}if(a.length<6){b("Password must be at least 6 characters");return}}try{t?(await V(n,a),L(B,{replace:!0})):(await j(n,a,m),C(!0))}catch(S){b(S.message)}},ne=async()=>{b("");try{await I(),L(B,{replace:!0})}catch(A){b(A.message)}};return v.jsxs("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),v.jsxs("div",{className:"relative z-10 bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[v.jsx("div",{className:"flex items-center justify-center mb-6",children:v.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:v.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[14px] flex items-center justify-center text-white text-2xl font-black italic",children:"NFL"})})}),v.jsx("h1",{className:"text-3xl font-black text-center mb-2 text-white uppercase tracking-tight",children:"Mixin it up Family Bracket"}),v.jsx("p",{className:"text-center text-slate-400 mb-6 text-sm",children:t?"Sign in to continue":"Create your account"}),E?v.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-6 text-center",children:[v.jsx(nd,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-bold text-green-400 mb-2",children:"Verification Email Sent!"}),v.jsx("p",{className:"text-slate-300 mb-4",children:"Please check your email and click the verification link to activate your account."}),v.jsx("button",{onClick:()=>{C(!1),e(!0)},className:"text-green-400 font-semibold hover:underline",children:"Back to Sign In"})]}):v.jsxs(v.Fragment,{children:[v.jsxs("form",{onSubmit:J,className:"space-y-4",children:[!t&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Username"}),v.jsx("input",{type:"text",value:m,onChange:A=>g(A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",value:n,onChange:A=>s(A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),v.jsx("input",{type:"password",value:a,onChange:A=>l(A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),!t&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Confirm Password"}),v.jsx("input",{type:"password",value:u,onChange:A=>d(A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),y&&v.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",children:[v.jsx(nd,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),v.jsx("p",{className:"text-red-400 text-sm",children:y})]}),v.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition font-bold uppercase tracking-wide",children:t?"Sign In":"Sign Up"})]}),v.jsxs("div",{className:"relative my-6",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-slate-700"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-slate-900/60 text-slate-400",children:"Or continue with"})})]}),v.jsxs("button",{onClick:ne,className:"w-full flex items-center justify-center gap-3 bg-white/10 border border-white/20 text-white py-3 rounded-lg hover:bg-white/20 transition font-semibold",children:[v.jsx(IA,{className:"w-5 h-5"}),"Google"]}),v.jsxs("p",{className:"text-center mt-4 text-sm text-slate-400",children:[t?"Don't have an account? ":"Already have an account? ",v.jsx("button",{onClick:()=>e(!t),className:"text-blue-400 font-semibold hover:underline",children:t?"Sign Up":"Sign In"})]})]})]})]})}function L3(){const[t,e]=M.useState(""),[n,s]=M.useState([]),{user:a,logout:l,isAdmin:u,username:d}=cs(),m=os(),[g]=SI();M.useEffect(()=>{y();const k=g.get("join");k&&(e(k.toUpperCase()),setTimeout(()=>{j(k.toUpperCase())},100))},[a,g]);const y=async()=>{const k=Nr(Ei(Ve,"userRooms"),wi("userId","==",a.uid)),B=await Ir(k),ee=[];for(const J of B.docs){const ne=J.data(),A=await an(rt(Ve,"rooms",ne.roomId));A.exists()&&ee.push({id:J.id,...ne,isCreator:A.data().createdBy===a.uid})}s(ee)},b=k=>{const B=`${window.location.origin}/rooms?join=${k}`;navigator.share?navigator.share({title:"Join my NFL Bracket Room",text:`Join my NFL playoff bracket room with code: ${k}`,url:B}).catch(()=>{E(B,k)}):E(B,k)},E=(k,B)=>{navigator.clipboard.writeText(k).then(()=>{alert(`Room link copied! Share this link or use code: ${B}`)}).catch(()=>{alert(`Share this link: ${k}

Or use room code: ${B}`)})},C=async()=>{const k=Math.random().toString(36).substring(2,8).toUpperCase(),B=await ig(Ei(Ve,"rooms"),{code:k,createdAt:new Date,createdBy:a.uid});await ig(Ei(Ve,"userRooms"),{userId:a.uid,roomId:B.id,roomCode:k}),m(`/bracket/${B.id}`)},V=async k=>{k.preventDefault(),await j(t)},j=async k=>{const B=Nr(Ei(Ve,"rooms"),wi("code","==",k.toUpperCase())),ee=await Ir(B);if(ee.empty)alert("Room not found. Please check the code and try again.");else{const J=ee.docs[0].id,ne=Nr(Ei(Ve,"userRooms"),wi("userId","==",a.uid),wi("roomId","==",J));(await Ir(ne)).empty&&await ig(Ei(Ve,"userRooms"),{userId:a.uid,roomId:J,roomCode:k.toUpperCase()}),m(`/bracket/${J}`)}},I=async(k,B)=>{if(window.confirm(`Are you sure you want to delete room ${B}? This will delete all brackets in this room and cannot be undone.`))try{console.log("Starting room deletion for:",k),console.log("Fetching brackets...");const ee=Nr(Ei(Ve,"brackets"),wi("roomId","==",k)),J=await Ir(ee);console.log("Found brackets:",J.docs.length),console.log("Fetching userRooms...");const ne=Nr(Ei(Ve,"userRooms"),wi("roomId","==",k)),A=await Ir(ne);console.log("Found userRooms:",A.docs.length);const S=RA(Ve);console.log("Adding brackets to batch delete..."),J.docs.forEach(N=>{S.delete(N.ref)}),console.log("Adding userRooms to batch delete..."),A.docs.forEach(N=>{S.delete(N.ref)}),console.log("Adding room to batch delete..."),S.delete(rt(Ve,"rooms",k)),console.log("Committing batch..."),await S.commit(),console.log("Room deleted successfully!"),alert("Room deleted successfully!"),y()}catch(ee){console.error("Full error object:",ee),console.error("Error code:",ee.code),console.error("Error message:",ee.message),alert(`Error deleting room: ${ee.message}

Check console for details.`)}},L=n.length===0;return v.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),v.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),v.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),v.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),v.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-12",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px] transition-transform duration-500",children:v.jsx("div",{className:"bg-[#020617] w-full h-full rounded-[10px] flex items-center justify-center text-white text-[14px] font-black italic",children:"NFL"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),v.jsxs("p",{className:"text-blue-200 text-sm",children:["Welcome back, ",d||"User"]})]})]}),v.jsxs("button",{onClick:l,className:"flex items-center gap-2 bg-red-500/20 backdrop-blur-sm border border-red-400/30 text-red-200 px-6 py-3 rounded-xl hover:bg-red-500/30 transition-all duration-300 shadow-lg hover:shadow-red-500/20",children:[v.jsx(v3,{className:"w-4 h-4"})," Logout"]}),u&&v.jsxs("button",{onClick:()=>m("/admin/playoff-config"),className:"flex items-center gap-2 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 text-blue-200 px-6 py-3 rounded-xl hover:bg-blue-500/30 transition-all duration-300 shadow-lg hover:shadow-blue-500/20",children:[v.jsx(DA,{className:"w-4 h-4"})," Playoff Config"]})]}),L?v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-3xl p-12 shadow-2xl",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 rounded-2xl mb-6 shadow-lg shadow-yellow-600/10",children:v.jsx(yE,{className:"w-10 h-10 text-white"})}),v.jsx("h2",{className:"text-4xl font-bold text-white mb-3",children:"Join a Room"}),v.jsx("p",{className:"text-slate-300 text-lg",children:"Enter a room code to get started with your bracket predictions"})]}),v.jsxs("form",{onSubmit:V,className:"space-y-6",children:[v.jsx("div",{children:v.jsx("input",{type:"text",value:t,onChange:k=>e(k.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-6 py-5 bg-slate-800/50 backdrop-blur-sm border-2 border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center text-2xl font-bold tracking-widest focus:ring-4 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all duration-300",maxLength:"6",required:!0})}),v.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-5 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-bold text-lg shadow-xl shadow-yellow-600/10 hover:shadow-2xl hover:scale-105 flex items-center justify-center gap-3",children:["Join Room ",v.jsx(og,{className:"w-5 h-5"})]})]}),u&&v.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[v.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Or create a new room as admin"}),v.jsxs("button",{onClick:C,className:"w-full bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 text-white py-4 rounded-xl hover:bg-slate-700/50 transition-all duration-300 font-semibold flex items-center justify-center gap-2",children:[v.jsx(gE,{className:"w-5 h-5"})," Create New Room"]})]})]})}):v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:v.jsx(yE,{className:"w-6 h-6 text-white"})}),v.jsx("h2",{className:"text-2xl font-bold text-white",children:"Join Room"})]}),v.jsxs("form",{onSubmit:V,className:"space-y-4",children:[v.jsx("input",{type:"text",value:t,onChange:k=>e(k.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center font-bold tracking-wider focus:ring-2 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all",maxLength:"6",required:!0}),v.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl flex items-center justify-center gap-2",children:["Join ",v.jsx(og,{className:"w-4 h-4"})]})]})]}),u&&v.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:v.jsx(gE,{className:"w-6 h-6 text-white"})}),v.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Room"})]}),v.jsx("p",{className:"text-slate-300 mb-6",children:"Start a new bracket room and share the code with friends"}),v.jsx("button",{onClick:C,className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl",children:"Create New Room"})]})]}),v.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl",children:[v.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[v.jsx(id,{className:"w-6 h-6 text-yellow-600/90"}),"My Rooms"]}),v.jsx("div",{className:"grid gap-4",children:n.map(k=>v.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl hover:bg-slate-800/50 transition-all duration-300 hover:shadow-lg",children:[v.jsxs("button",{onClick:()=>m(`/bracket/${k.roomId}`),className:"flex items-center gap-4 flex-grow text-left",children:[v.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-4 py-2 rounded-lg shadow-lg shadow-yellow-600/10",children:v.jsx("span",{className:"text-white font-bold text-lg tracking-wider",children:k.roomCode})}),v.jsxs("span",{className:"text-white font-semibold text-lg",children:["Room ",k.roomCode]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:B=>{B.stopPropagation(),b(k.roomCode)},className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition text-green-400",title:"Share Room",children:v.jsx(D3,{className:"w-4 h-4"})}),u&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:B=>{B.stopPropagation(),m(`/admin/brackets/${k.roomId}`)},className:"p-2 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition text-blue-400",title:"View Submitted Brackets (Admin)",children:v.jsx(d3,{className:"w-4 h-4"})}),v.jsx("button",{onClick:B=>{B.stopPropagation(),I(k.roomId,k.roomCode)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Room (Admin)",children:v.jsx(VA,{className:"w-4 h-4"})})]}),v.jsx(og,{className:"w-5 h-5 text-yellow-600/70"})]})]},k.id))})]})]})]}),v.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const vE=[{id:1,name:"Chiefs",city:"Kansas City",seed:1,conference:"AFC",color:"#E31837"},{id:2,name:"Bills",city:"Buffalo",seed:2,conference:"AFC",color:"#00338D"},{id:3,name:"Ravens",city:"Baltimore",seed:3,conference:"AFC",color:"#241773"},{id:4,name:"Texans",city:"Houston",seed:4,conference:"AFC",color:"#03202F"},{id:5,name:"Steelers",city:"Pittsburgh",seed:5,conference:"AFC",color:"#FFB612"},{id:6,name:"Chargers",city:"Los Angeles",seed:6,conference:"AFC",color:"#0080C6"},{id:7,name:"Broncos",city:"Denver",seed:7,conference:"AFC",color:"#FB4F14"},{id:8,name:"Lions",city:"Detroit",seed:1,conference:"NFC",color:"#0076B6"},{id:9,name:"Eagles",city:"Philadelphia",seed:2,conference:"NFC",color:"#004C54"},{id:10,name:"Rams",city:"Los Angeles",seed:3,conference:"NFC",color:"#003594"},{id:11,name:"Buccaneers",city:"Tampa Bay",seed:4,conference:"NFC",color:"#D50A0A"},{id:12,name:"Vikings",city:"Minnesota",seed:5,conference:"NFC",color:"#4F2683"},{id:13,name:"Commanders",city:"Washington",seed:6,conference:"NFC",color:"#5A1414"},{id:14,name:"Packers",city:"Green Bay",seed:7,conference:"NFC",color:"#203731"}],E0=async()=>{try{const t=await an(rt(Ve,"config","playoffs"));if(t.exists()){const e=t.data(),n=e.afcTeams||[],s=e.nfcTeams||[],a=[...n,...s].filter(Boolean);if(a.length===14)return a}return vE}catch(t){return console.error("Error fetching playoff teams:",t),vE}},w0=M.createContext({});function S0(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const A0=typeof window<"u",MA=A0?M.useLayoutEffect:M.useEffect,kd=M.createContext(null);function R0(t,e){t.indexOf(e)===-1&&t.push(e)}function C0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const zs=(t,e,n)=>n>e?e:n<t?t:n;let N0=()=>{};const Fs={},kA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function PA(t){return typeof t=="object"&&t!==null}const OA=t=>/^0[^.\s]+$/u.test(t);function I0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ai=t=>t,U3=(t,e)=>n=>e(t(n)),Ru=(...t)=>t.reduce(U3),su=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class D0{constructor(){this.subscriptions=[]}add(e){return R0(this.subscriptions,e),()=>C0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ss=t=>t*1e3,ri=t=>t/1e3;function jA(t,e){return e?t*(1e3/e):0}const LA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,B3=1e-7,z3=12;function F3(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=LA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>B3&&++d<z3);return u}function Cu(t,e,n,s){if(t===e&&n===s)return ai;const a=l=>F3(l,0,1,t,n);return l=>l===0||l===1?l:LA(a(l),e,s)}const UA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,BA=t=>e=>1-t(1-e),zA=Cu(.33,1.53,.69,.99),V0=BA(zA),FA=UA(V0),qA=t=>(t*=2)<1?.5*V0(t):.5*(2-Math.pow(2,-10*(t-1))),M0=t=>1-Math.sin(Math.acos(t)),HA=BA(M0),GA=UA(M0),q3=Cu(.42,0,1,1),H3=Cu(0,0,.58,1),KA=Cu(.42,0,.58,1),G3=t=>Array.isArray(t)&&typeof t[0]!="number",$A=t=>Array.isArray(t)&&typeof t[0]=="number",K3={linear:ai,easeIn:q3,easeInOut:KA,easeOut:H3,circIn:M0,circInOut:GA,circOut:HA,backIn:V0,backInOut:FA,backOut:zA,anticipate:qA},$3=t=>typeof t=="string",_E=t=>{if($A(t)){N0(t.length===4);const[e,n,s,a]=t;return Cu(e,n,s,a)}else if($3(t))return K3[t];return t},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Y3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),t()),y(d)}const g={schedule:(y,b=!1,E=!1)=>{const V=E&&a?n:s;return b&&u.add(y),V.has(y)||V.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const Q3=40;function YA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=mf.reduce((B,ee)=>(B[ee]=Y3(l),B),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:b,preRender:E,render:C,postRender:V}=u,j=()=>{const B=Fs.useManualTiming?a.timestamp:performance.now();n=!1,Fs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,Q3),1)),a.timestamp=B,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),b.process(a),E.process(a),C.process(a),V.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(j))},I=()=>{n=!0,s=!0,a.isProcessing||t(j)};return{schedule:mf.reduce((B,ee)=>{const J=u[ee];return B[ee]=(ne,A=!1,S=!1)=>(n||I(),J.schedule(ne,A,S)),B},{}),cancel:B=>{for(let ee=0;ee<mf.length;ee++)u[mf[ee]].cancel(B)},state:a,steps:u}}const{schedule:ft,cancel:Hr,state:nn,steps:lg}=YA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let Df;function X3(){Df=void 0}const Cn={now:()=>(Df===void 0&&Cn.set(nn.isProcessing||Fs.useManualTiming?nn.timestamp:performance.now()),Df),set:t=>{Df=t,queueMicrotask(X3)}},QA=t=>e=>typeof e=="string"&&e.startsWith(t),XA=QA("--"),W3=QA("var(--"),k0=t=>W3(t)?Z3.test(t.split("/*")[0].trim()):!1,Z3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ru={...bl,transform:t=>zs(0,1,t)},pf={...bl,default:1},Hc=t=>Math.round(t*1e5)/1e5,P0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J3(t){return t==null}const e6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,O0=(t,e)=>n=>!!(typeof n=="string"&&e6.test(n)&&n.startsWith(t)||e&&!J3(n)&&Object.prototype.hasOwnProperty.call(n,e)),WA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(P0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},t6=t=>zs(0,255,t),cg={...bl,transform:t=>Math.round(t6(t))},Ma={test:O0("rgb","red"),parse:WA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+cg.transform(t)+", "+cg.transform(e)+", "+cg.transform(n)+", "+Hc(ru.transform(s))+")"};function n6(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Jg={test:O0("#"),parse:n6,transform:Ma.transform},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sr=Nu("deg"),rs=Nu("%"),xe=Nu("px"),i6=Nu("vh"),s6=Nu("vw"),bE={...rs,parse:t=>rs.parse(t)/100,transform:t=>rs.transform(t*100)},Fo={test:O0("hsl","hue"),parse:WA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+rs.transform(Hc(e))+", "+rs.transform(Hc(n))+", "+Hc(ru.transform(s))+")"},Lt={test:t=>Ma.test(t)||Jg.test(t)||Fo.test(t),parse:t=>Ma.test(t)?Ma.parse(t):Fo.test(t)?Fo.parse(t):Jg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ma.transform(t):Fo.transform(t),getAnimatableNone:t=>{const e=Lt.parse(t);return e.alpha=0,Lt.transform(e)}},r6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a6(t){return isNaN(t)&&typeof t=="string"&&(t.match(P0)?.length||0)+(t.match(r6)?.length||0)>0}const ZA="number",JA="color",o6="var",l6="var(",TE="${}",c6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function au(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(c6,m=>(Lt.test(m)?(s.color.push(l),a.push(JA),n.push(Lt.parse(m))):m.startsWith(l6)?(s.var.push(l),a.push(o6),n.push(m)):(s.number.push(l),a.push(ZA),n.push(parseFloat(m))),++l,TE)).split(TE);return{values:n,split:d,indexes:s,types:a}}function eR(t){return au(t).values}function tR(t){const{split:e,types:n}=au(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===ZA?l+=Hc(a[u]):d===JA?l+=Lt.transform(a[u]):l+=a[u]}return l}}const u6=t=>typeof t=="number"?0:Lt.test(t)?Lt.getAnimatableNone(t):t;function h6(t){const e=eR(t);return tR(t)(e.map(u6))}const Gr={test:a6,parse:eR,createTransformer:tR,getAnimatableNone:h6};function ug(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=ug(m,d,t+1/3),l=ug(m,d,t),u=ug(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function sd(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,hg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},d6=[Jg,Ma,Fo],m6=t=>d6.find(e=>e.test(t));function xE(t){const e=m6(t);if(!e)return!1;let n=e.parse(t);return e===Fo&&(n=f6(n)),n}const EE=(t,e)=>{const n=xE(t),s=xE(e);if(!n||!s)return sd(t,e);const a={...n};return l=>(a.red=hg(n.red,s.red,l),a.green=hg(n.green,s.green,l),a.blue=hg(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),Ma.transform(a))},ey=new Set(["none","hidden"]);function p6(t,e){return ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function g6(t,e){return n=>mt(t,e,n)}function j0(t){return typeof t=="number"?g6:typeof t=="string"?k0(t)?sd:Lt.test(t)?EE:_6:Array.isArray(t)?nR:typeof t=="object"?Lt.test(t)?EE:y6:sd}function nR(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>j0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function y6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=j0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function v6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const _6=(t,e)=>{const n=Gr.createTransformer(e),s=au(t),a=au(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ey.has(t)&&!a.values.length||ey.has(e)&&!s.values.length?p6(t,e):Ru(nR(v6(s,a),a.values),n):sd(t,e)};function iR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):j0(t)(t,e)}const b6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Hr(e),now:()=>nn.isProcessing?nn.timestamp:Cn.now()}},sR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},rd=2e4;function L0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<rd;)e+=n,s=t.next(e);return e>=rd?1/0:e}function T6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(L0(s),rd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ri(a)}}const x6=5;function rR(t,e,n){const s=Math.max(e-x6,0);return jA(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fg=.001;function E6({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,u=1-e;u=zs(_t.minDamping,_t.maxDamping,u),t=zs(_t.minDuration,_t.maxDuration,ri(t)),u<1?(a=g=>{const y=g*u,b=y*t,E=y-n,C=ty(g,u),V=Math.exp(-b);return fg-E/C*V},l=g=>{const b=g*u*t,E=b*n+n,C=Math.pow(u,2)*Math.pow(g,2)*t,V=Math.exp(-b),j=ty(Math.pow(g,2),u);return(-a(g)+fg>0?-1:1)*((E-C)*V)/j}):(a=g=>{const y=Math.exp(-g*t),b=(g-n)*t+1;return-fg+y*b},l=g=>{const y=Math.exp(-g*t),b=(n-g)*(t*t);return y*b});const d=5/t,m=S6(a,l,d);if(t=ss(t),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const w6=12;function S6(t,e,n){let s=n;for(let a=1;a<w6;a++)s=s-t(s)/e(s);return s}function ty(t,e){return t*Math.sqrt(1-e*e)}const A6=["duration","bounce"],R6=["stiffness","damping","mass"];function wE(t,e){return e.some(n=>t[n]!==void 0)}function C6(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!wE(t,R6)&&wE(t,A6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*zs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=E6(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function ad(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:b,velocity:E,isResolvedFromDuration:C}=C6({...n,velocity:-ri(n.velocity||0)}),V=E||0,j=g/(2*Math.sqrt(m*y)),I=u-l,L=ri(Math.sqrt(m/y)),k=Math.abs(I)<5;s||(s=k?_t.restSpeed.granular:_t.restSpeed.default),a||(a=k?_t.restDelta.granular:_t.restDelta.default);let B;if(j<1){const J=ty(L,j);B=ne=>{const A=Math.exp(-j*L*ne);return u-A*((V+j*L*I)/J*Math.sin(J*ne)+I*Math.cos(J*ne))}}else if(j===1)B=J=>u-Math.exp(-L*J)*(I+(V+L*I)*J);else{const J=L*Math.sqrt(j*j-1);B=ne=>{const A=Math.exp(-j*L*ne),S=Math.min(J*ne,300);return u-A*((V+j*L*I)*Math.sinh(S)+J*I*Math.cosh(S))/J}}const ee={calculatedDuration:C&&b||null,next:J=>{const ne=B(J);if(C)d.done=J>=b;else{let A=J===0?V:0;j<1&&(A=J===0?ss(V):rR(B,J,ne));const S=Math.abs(A)<=s,N=Math.abs(u-ne)<=a;d.done=S&&N}return d.value=d.done?u:ne,d},toString:()=>{const J=Math.min(L0(ee),rd),ne=sR(A=>ee.next(J*A).value,J,30);return J+"ms "+ne},toTransition:()=>{}};return ee}ad.applyToOptions=t=>{const e=T6(t,100,ad);return t.ease=e.ease,t.duration=ss(e.duration),t.type="keyframes",t};function ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:g=.5,restSpeed:y}){const b=t[0],E={done:!1,value:b},C=S=>d!==void 0&&S<d||m!==void 0&&S>m,V=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let j=n*e;const I=b+j,L=u===void 0?I:u(I);L!==I&&(j=L-b);const k=S=>-j*Math.exp(-S/s),B=S=>L+k(S),ee=S=>{const N=k(S),U=B(S);E.done=Math.abs(N)<=g,E.value=E.done?L:U};let J,ne;const A=S=>{C(E.value)&&(J=S,ne=ad({keyframes:[E.value,V(E.value)],velocity:rR(B,S,E.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return A(0),{calculatedDuration:null,next:S=>{let N=!1;return!ne&&J===void 0&&(N=!0,ee(S),A(S)),J!==void 0&&S>=J?ne.next(S-J):(!N&&ee(S),E)}}}function N6(t,e,n){const s=[],a=n||Fs.mix||iR,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ai:e;d=Ru(m,d)}s.push(d)}return s}function I6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(N0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=N6(e,s,a),m=d.length,g=y=>{if(u&&y<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(y<t[b+1]);b++);const E=su(t[b],t[b+1],y);return d[b](E)};return n?y=>g(zs(t[0],t[l-1],y)):g}function D6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=su(0,e,s);t.push(mt(n,1,a))}}function V6(t){const e=[0];return D6(e,t.length-1),e}function M6(t,e){return t.map(n=>n*e)}function k6(t,e){return t.map(()=>e||KA).splice(0,t.length-1)}function Gc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=G3(s)?s.map(_E):_E(s),l={done:!1,value:e[0]},u=M6(n&&n.length===e.length?n:V6(e),t),d=I6(u,e,{ease:Array.isArray(a)?a:k6(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const P6=t=>t!==null;function U0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(P6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const O6={decay:ny,inertia:ny,tween:Gc,keyframes:Gc,spring:ad};function aR(t){typeof t.type=="string"&&(t.type=O6[t.type])}class B0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const j6=t=>t/100;class z0 extends B0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aR(e);const{type:n=Gc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||Gc;m!==Gc&&typeof d[0]!="number"&&(this.mixKeyframes=Ru(j6,iR(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=L0(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:b,repeatType:E,repeatDelay:C,type:V,onUpdate:j,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-g*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,ee=s;if(b){const S=Math.min(this.currentTime,a)/d;let N=Math.floor(S),U=S%1;!U&&S>=1&&(U=1),U===1&&N--,N=Math.min(N,b+1),N%2&&(E==="reverse"?(U=1-U,C&&(U-=C/d)):E==="mirror"&&(ee=u)),B=zs(0,1,U)*d}const J=k?{done:!1,value:y[0]}:ee.next(B);l&&(J.value=l(J.value));let{done:ne}=J;!k&&m!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return A&&V!==ny&&(J.value=U0(y,this.options,I,this.speed)),j&&j(J.value),A&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(this.currentTime)}set time(e){e=ss(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=b6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function L6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ka=t=>t*180/Math.PI,iy=t=>{const e=ka(Math.atan2(t[1],t[0]));return sy(e)},U6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iy,rotateZ:iy,skewX:t=>ka(Math.atan(t[1])),skewY:t=>ka(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sy=t=>(t=t%360,t<0&&(t+=360),t),SE=iy,AE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),RE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),B6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:AE,scaleY:RE,scale:t=>(AE(t)+RE(t))/2,rotateX:t=>sy(ka(Math.atan2(t[6],t[5]))),rotateY:t=>sy(ka(Math.atan2(-t[2],t[0]))),rotateZ:SE,rotate:SE,skewX:t=>ka(Math.atan(t[4])),skewY:t=>ka(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ry(t){return t.includes("scale")?1:0}function ay(t,e){if(!t||t==="none")return ry(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=B6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=U6,a=d}if(!a)return ry(e);const l=s[e],u=a[1].split(",").map(F6);return typeof l=="function"?l(u):u[l]}const z6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ay(n,e)};function F6(t){return parseFloat(t.trim())}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xl=new Set(Tl),CE=t=>t===bl||t===xe,q6=new Set(["x","y","z"]),H6=Tl.filter(t=>!q6.has(t));function G6(t){const e=[];return H6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ay(e,"x"),y:(t,{transform:e})=>ay(e,"y")};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const ja=new Set;let oy=!1,ly=!1,cy=!1;function oR(){if(ly){const t=Array.from(ja).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=G6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ly=!1,oy=!1,ja.forEach(t=>t.complete(cy)),ja.clear()}function lR(){ja.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ly=!0)})}function K6(){cy=!0,lR(),oR(),cy=!1}class F0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),oy||(oy=!0,ft.read(lR),ft.resolveKeyframes(oR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}L6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $6=t=>t.startsWith("--");function Y6(t,e,n){$6(e)?t.style.setProperty(e,n):t.style[e]=n}const Q6=I0(()=>window.ScrollTimeline!==void 0),X6={};function W6(t,e){const n=I0(t);return()=>X6[e]??n()}const cR=W6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,NE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jc([0,.65,.55,1]),circOut:jc([.55,0,1,.45]),backIn:jc([.31,.01,.66,-.59]),backOut:jc([.33,1.53,.69,.99])};function uR(t,e){if(t)return typeof t=="function"?cR()?sR(t,e):"ease-out":$A(t)?jc(t):Array.isArray(t)?t.map(n=>uR(n,e)||NE.easeOut):NE[t]}function Z6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[e]:n};m&&(y.offset=m);const b=uR(d,a);Array.isArray(b)&&(y.easing=b);const E={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),t.animate(y,E)}function hR(t){return typeof t=="function"&&"applyToOptions"in t}function J6({type:t,...e}){return hR(t)&&cR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ej extends B0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,N0(typeof e.type!="string");const g=J6(e);this.animation=Z6(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=U0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):Y6(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Q6()?(this.animation.timeline=e,ai):n(this)}}const fR={anticipate:qA,backInOut:FA,circInOut:GA};function tj(t){return t in fR}function nj(t){typeof t.ease=="string"&&tj(t.ease)&&(t.ease=fR[t.ease])}const IE=10;class ij extends ej{constructor(e){nj(e),aR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new z0({...u,autoplay:!1}),m=ss(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-IE).value,d.sample(m).value,IE),d.stop()}}const DE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gr.test(t)||t==="0")&&!t.startsWith("url("));function sj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rj(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=DE(a,e),d=DE(l,e);return!u||!d?!1:sj(t)||(n==="spring"||hR(n))&&s}function uy(t){t.duration=0,t.type="keyframes"}const aj=new Set(["opacity","clipPath","filter","transform"]),oj=I0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lj(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return oj()&&n&&aj.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const cj=40;class uj extends B0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:g,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:y,...b},C=y?.KeyframeResolver||F0;this.keyframeResolver=new C(d,(V,j,I)=>this.onKeyframesResolved(V,j,E,!I),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=Cn.now(),rj(e,l,u,d)||((Fs.instantAnimations||!m)&&y?.(U0(e,s,n)),e[0]=e[e.length-1],uy(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>cj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!g&&lj(E)?new ij({...E,element:E.motionValue.owner.current}):new z0(E);C.finished.then(()=>this.notifyFinished()).catch(ai),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),K6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fj(t){const e=hj.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function dR(t,e,n=1){const[s,a]=fj(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return kA(u)?parseFloat(u):u}return k0(a)?dR(a,e,n+1):a}function q0(t,e){return t?.[e]??t?.default??t}const mR=new Set(["width","height","top","left","right","bottom",...Tl]),dj={test:t=>t==="auto",parse:t=>t},pR=t=>e=>e.test(t),gR=[bl,xe,rs,Sr,s6,i6,dj],VE=t=>gR.find(pR(t));function mj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||OA(t):!0}const pj=new Set(["brightness","contrast","saturate","opacity"]);function gj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(P0)||[];if(!s)return t;const a=n.replace(s,"");let l=pj.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const yj=/\b([a-z-]*)\(.*?\)/gu,hy={...Gr,getAnimatableNone:t=>{const e=t.match(yj);return e?e.map(gj).join(" "):t}},ME={...bl,transform:Math.round},vj={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:pf,scaleX:pf,scaleY:pf,scaleZ:pf,skew:Sr,skewX:Sr,skewY:Sr,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:ru,originX:bE,originY:bE,originZ:xe},H0={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...vj,zIndex:ME,fillOpacity:ru,strokeOpacity:ru,numOctaves:ME},_j={...H0,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:hy,WebkitFilter:hy},yR=t=>_j[t];function vR(t,e){let n=yR(t);return n!==hy&&(n=Gr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bj=new Set(["auto","none","0"]);function Tj(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!bj.has(l)&&au(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=vR(n,a)}class xj extends F0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),k0(g))){const y=dR(g,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!mR.has(s)||e.length!==2)return;const[a,l]=e,u=VE(a),d=VE(l);if(u!==d)if(CE(u)&&CE(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||mj(e[a]))&&s.push(a);s.length&&Tj(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function Ej(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const _R=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bR(t){return PA(t)&&"offsetHeight"in t}const kE=30,wj=t=>!isNaN(parseFloat(t));class Sj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new D0);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kE);return jA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new Sj(t,e)}const{schedule:G0}=YA(queueMicrotask,!1),xi={x:!1,y:!1};function TR(){return xi.x||xi.y}function Aj(t){return t==="x"||t==="y"?xi[t]?null:(xi[t]=!0,()=>{xi[t]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function xR(t,e){const n=Ej(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function PE(t){return!(t.pointerType==="touch"||TR())}function Rj(t,e,n={}){const[s,a,l]=xR(t,n),u=d=>{if(!PE(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const y=b=>{PE(b)&&(g(b),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const ER=(t,e)=>e?t===e?!0:ER(t,e.parentElement):!1,K0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Cj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Nj(t){return Cj.has(t.tagName)||t.tabIndex!==-1}const Vf=new WeakSet;function OE(t){return e=>{e.key==="Enter"&&t(e)}}function dg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ij=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=OE(()=>{if(Vf.has(n))return;dg(n,"down");const a=OE(()=>{dg(n,"up")}),l=()=>dg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function jE(t){return K0(t)&&!TR()}function Dj(t,e,n={}){const[s,a,l]=xR(t,n),u=d=>{const m=d.currentTarget;if(!jE(d))return;Vf.add(m);const g=e(m,d),y=(C,V)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",E),Vf.has(m)&&Vf.delete(m),jE(C)&&typeof g=="function"&&g(C,{success:V})},b=C=>{y(C,m===window||m===document||n.useGlobalTarget||ER(m,C.target))},E=C=>{y(C,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),bR(d)&&(d.addEventListener("focus",g=>Ij(g,a)),!Nj(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function wR(t){return PA(t)&&"ownerSVGElement"in t}function Vj(t){return wR(t)&&t.tagName==="svg"}const fn=t=>!!(t&&t.getVelocity),Mj=[...gR,Lt,Gr],kj=t=>Mj.find(pR(t)),$0=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pj(...t){return e=>{let n=!1;const s=t.map(a=>{const l=LE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():LE(t[a],null)}}}}function Oj(...t){return M.useCallback(Pj(...t),t)}class jj extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=bR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Lj({children:t,isPresent:e,anchorX:n,root:s}){const a=M.useId(),l=M.useRef(null),u=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=M.useContext($0),m=Oj(l,t?.ref);return M.useInsertionEffect(()=>{const{width:g,height:y,top:b,left:E,right:C}=u.current;if(e||!l.current||!g||!y)return;const V=n==="left"?`left: ${E}`:`right: ${C}`;l.current.dataset.motionPopId=a;const j=document.createElement("style");d&&(j.nonce=d);const I=s??document.head;return I.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${V}px !important;
            top: ${b}px !important;
          }
        `),()=>{I.contains(j)&&I.removeChild(j)}},[e]),v.jsx(jj,{isPresent:e,childRef:l,sizeRef:u,children:M.cloneElement(t,{ref:m})})}const Uj=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:m})=>{const g=S0(Bj),y=M.useId();let b=!0,E=M.useMemo(()=>(b=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{g.set(C,!0);for(const V of g.values())if(!V)return;s&&s()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,s]);return l&&b&&(E={...E}),M.useMemo(()=>{g.forEach((C,V)=>g.set(V,!1))},[n]),M.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=v.jsx(Lj,{isPresent:n,anchorX:d,root:m,children:t})),v.jsx(kd.Provider,{value:E,children:t})};function Bj(){return new Map}function SR(t=!0){const e=M.useContext(kd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const u=M.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const gf=t=>t.key||"";function UE(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const AR=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[g,y]=SR(u),b=M.useMemo(()=>UE(t),[t]),E=u&&!g?[]:b.map(gf),C=M.useRef(!0),V=M.useRef(b),j=S0(()=>new Map),[I,L]=M.useState(b),[k,B]=M.useState(b);MA(()=>{C.current=!1,V.current=b;for(let ne=0;ne<k.length;ne++){const A=gf(k[ne]);E.includes(A)?j.delete(A):j.get(A)!==!0&&j.set(A,!1)}},[k,E.length,E.join("-")]);const ee=[];if(b!==I){let ne=[...b];for(let A=0;A<k.length;A++){const S=k[A],N=gf(S);E.includes(N)||(ne.splice(A,0,S),ee.push(S))}return l==="wait"&&ee.length&&(ne=ee),B(UE(ne)),L(b),null}const{forceRender:J}=M.useContext(w0);return v.jsx(v.Fragment,{children:k.map(ne=>{const A=gf(ne),S=u&&!g?!1:b===k||E.includes(A),N=()=>{if(j.has(A))j.set(A,!0);else return;let U=!0;j.forEach(P=>{P||(U=!1)}),U&&(J?.(),B(V.current),u&&y?.(),s&&s())};return v.jsx(Uj,{isPresent:S,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:S?void 0:N,anchorX:d,children:ne},A)})})},RR=M.createContext({strict:!1}),BE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in BE)ll[t]={isEnabled:e=>BE[t].some(n=>!!e[n])};function zj(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const Fj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function od(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Fj.has(t)}let CR=t=>!od(t);function qj(t){typeof t=="function"&&(CR=e=>e.startsWith("on")?!od(e):t(e))}try{qj(require("@emotion/is-prop-valid").default)}catch{}function Hj(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(CR(a)||n===!0&&od(a)||!e&&!od(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Pd=M.createContext({});function Od(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ou(t){return typeof t=="string"||Array.isArray(t)}const Y0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q0=["initial",...Y0];function jd(t){return Od(t.animate)||Q0.some(e=>ou(t[e]))}function NR(t){return!!(jd(t)||t.variants)}function Gj(t,e){if(jd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ou(n)?n:void 0,animate:ou(s)?s:void 0}}return t.inherit!==!1?e:{}}function Kj(t){const{initial:e,animate:n}=Gj(t,M.useContext(Pd));return M.useMemo(()=>({initial:e,animate:n}),[zE(e),zE(n)])}function zE(t){return Array.isArray(t)?t.join(" "):t}function FE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ic={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=FE(t,e.target.x),s=FE(t,e.target.y);return`${n}% ${s}%`}},$j={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Gr.parse(t);if(a.length>5)return s;const l=Gr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const g=mt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},fy={borderRadius:{...Ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ic,borderTopRightRadius:Ic,borderBottomLeftRadius:Ic,borderBottomRightRadius:Ic,boxShadow:$j};function IR(t,{layout:e,layoutId:n}){return xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fy[t]||t==="opacity")}const Yj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qj=Tl.length;function Xj(t,e,n){let s="",a=!0;for(let l=0;l<Qj;l++){const u=Tl[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=_R(d,H0[u]);if(!m){a=!1;const y=Yj[u]||u;s+=`${y}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function X0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const g=e[m];if(xl.has(m)){u=!0;continue}else if(XA(m)){a[m]=g;continue}else{const y=_R(g,H0[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=Xj(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const W0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DR(t,e,n){for(const s in e)!fn(e[s])&&!IR(s,n)&&(t[s]=e[s])}function Wj({transformTemplate:t},e){return M.useMemo(()=>{const n=W0();return X0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Zj(t,e){const n=t.style||{},s={};return DR(s,n,t),Object.assign(s,Wj(t,e)),s}function Jj(t,e){const n={},s=Zj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const eL={offset:"stroke-dashoffset",array:"stroke-dasharray"},tL={offset:"strokeDashoffset",array:"strokeDasharray"};function nL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?eL:tL;t[l.offset]=xe.transform(-s);const u=xe.transform(e),d=xe.transform(n);t[l.array]=`${u} ${d}`}function VR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,g,y){if(X0(t,d,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:E}=t;b.transform&&(E.transform=b.transform,delete b.transform),(E.transform||b.transformOrigin)&&(E.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&nL(b,a,l,u,!1)}const MR=()=>({...W0(),attrs:{}}),kR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iL(t,e,n,s){const a=M.useMemo(()=>{const l=MR();return VR(l,e,kR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};DR(l,t.style,t),a.style={...l,...a.style}}return a}const sL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z0(t){return typeof t!="string"||t.includes("-")?!1:!!(sL.indexOf(t)>-1||/[A-Z]/u.test(t))}function rL(t,e,n,{latestValues:s},a,l=!1){const d=(Z0(t)?iL:Jj)(e,s,a,t),m=Hj(e,typeof t=="string",l),g=t!==M.Fragment?{...m,...d,ref:n}:{},{children:y}=e,b=M.useMemo(()=>fn(y)?y.get():y,[y]);return M.createElement(t,{...g,children:b})}function qE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function J0(t,e,n,s){if(typeof e=="function"){const[a,l]=qE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=qE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Mf(t){return fn(t)?t.get():t}function aL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:oL(n,s,a,t),renderState:e()}}function oL(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Mf(l[E]);let{initial:u,animate:d}=t;const m=jd(t),g=NR(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const b=y?d:u;if(b&&typeof b!="boolean"&&!Od(b)){const E=Array.isArray(b)?b:[b];for(let C=0;C<E.length;C++){const V=J0(t,E[C]);if(V){const{transitionEnd:j,transition:I,...L}=V;for(const k in L){let B=L[k];if(Array.isArray(B)){const ee=y?B.length-1:0;B=B[ee]}B!==null&&(a[k]=B)}for(const k in j)a[k]=j[k]}}}return a}const PR=t=>(e,n)=>{const s=M.useContext(Pd),a=M.useContext(kd),l=()=>aL(t,e,s,a);return n?l():S0(l)};function ev(t,e,n){const{style:s}=t,a={};for(const l in s)(fn(s[l])||e.style&&fn(e.style[l])||IR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const lL=PR({scrapeMotionValuesFromProps:ev,createRenderState:W0});function OR(t,e,n){const s=ev(t,e,n);for(const a in t)if(fn(t[a])||fn(e[a])){const l=Tl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const cL=PR({scrapeMotionValuesFromProps:OR,createRenderState:MR}),uL=Symbol.for("motionComponentSymbol");function qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hL(t,e,n){return M.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qo(n)&&(n.current=s))},[e])}const tv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fL="framerAppearId",jR="data-"+tv(fL),LR=M.createContext({});function dL(t,e,n,s,a){const{visualElement:l}=M.useContext(Pd),u=M.useContext(RR),d=M.useContext(kd),m=M.useContext($0).reducedMotion,g=M.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,b=M.useContext(LR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&mL(g.current,n,a,b);const E=M.useRef(!1);M.useInsertionEffect(()=>{y&&E.current&&y.update(n,d)});const C=n[jR],V=M.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return MA(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),M.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),V.current=!1),y.enteringChildren=void 0)}),y}function mL(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:UR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&qo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function UR(t){if(t)return t.options.allowProjection!==!1?t.projection:UR(t.parent)}function mg(t,{forwardMotionProps:e=!1}={},n,s){n&&zj(n);const a=Z0(t)?cL:lL;function l(d,m){let g;const y={...M.useContext($0),...d,layoutId:pL(d)},{isStatic:b}=y,E=Kj(d),C=a(d,b);if(!b&&A0){gL();const V=yL(y);g=V.MeasureLayout,E.visualElement=dL(t,C,y,s,V.ProjectionNode)}return v.jsxs(Pd.Provider,{value:E,children:[g&&E.visualElement?v.jsx(g,{visualElement:E.visualElement,...y}):null,rL(t,d,hL(C,E.visualElement,m),C,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=M.forwardRef(l);return u[uL]=t,u}function pL({layoutId:t}){const e=M.useContext(w0).id;return e&&t!==void 0?e+"-"+t:t}function gL(t,e){M.useContext(RR).strict}function yL(t){const{drag:e,layout:n}=ll;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function vL(t,e){if(typeof Proxy>"u")return mg;const n=new Map,s=(l,u)=>mg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,mg(u,void 0,t,e)),n.get(u))})}function BR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function _L({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function pg(t){return t===void 0||t===1}function dy({scale:t,scaleX:e,scaleY:n}){return!pg(t)||!pg(e)||!pg(n)}function Ia(t){return dy(t)||zR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zR(t){return HE(t.x)||HE(t.y)}function HE(t){return t&&t!=="0%"}function ld(t,e,n){const s=t-n,a=e*s;return n+a}function GE(t,e,n,s,a){return a!==void 0&&(t=ld(t,a,s)),ld(t,n,s)+e}function my(t,e=0,n=1,s,a){t.min=GE(t.min,e,n,s,a),t.max=GE(t.max,e,n,s,a)}function FR(t,{x:e,y:n}){my(t.x,e.translate,e.scale,e.originPoint),my(t.y,n.translate,n.scale,n.originPoint)}const KE=.999999999999,$E=1.0000000000001;function TL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Go(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,FR(t,u)),s&&Ia(l.latestValues)&&Go(t,l.latestValues))}e.x<$E&&e.x>KE&&(e.x=1),e.y<$E&&e.y>KE&&(e.y=1)}function Ho(t,e){t.min=t.min+e,t.max=t.max+e}function YE(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);my(t,e,n,l,s)}function Go(t,e){YE(t.x,e.x,e.scaleX,e.scale,e.originX),YE(t.y,e.y,e.scaleY,e.scale,e.originY)}function qR(t,e){return BR(bL(t.getBoundingClientRect(),e))}function xL(t,e,n){const s=qR(t,n),{scroll:a}=e;return a&&(Ho(s.x,a.offset.x),Ho(s.y,a.offset.y)),s}const QE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:QE(),y:QE()}),XE=()=>({min:0,max:0}),Ht=()=>({x:XE(),y:XE()}),py={current:null},HR={current:!1};function EL(){if(HR.current=!0,!!A0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>py.current=t.matches;t.addEventListener("change",e),e()}else py.current=!1}const wL=new WeakMap;function SL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(fn(a))t.addValue(s,a);else if(fn(l))t.addValue(s,ol(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,ol(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const WE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=F0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Cn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=jd(n),this.isVariantNode=NR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in b){const C=b[E];m[E]!==void 0&&fn(C)&&C.set(m[E])}}mount(e){this.current=e,wL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),HR.current||EL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:py.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=xl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ll){const n=ll[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<WE.length;s++){const a=WE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=SL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ol(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(kA(s)||OA(s))?s=parseFloat(s):!kj(s)&&Gr.test(n)&&(s=vR(e,n)),this.setBaseTarget(e,fn(s)?s.get():s)),fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=J0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!fn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new D0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){G0.render(this.render)}}class GR extends AL{constructor(){super(...arguments),this.KeyframeResolver=xj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function RL(t){return window.getComputedStyle(t)}class CL extends GR{constructor(){super(...arguments),this.type="html",this.renderInstance=KR}readValueFromInstance(e,n){if(xl.has(n))return this.projection?.isProjecting?ry(n):z6(e,n);{const s=RL(e),a=(XA(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qR(e,n)}build(e,n,s){X0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return ev(e,n,s)}}const $R=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NL(t,e,n,s){KR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute($R.has(a)?a:tv(a),e.attrs[a])}class IL extends GR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xl.has(n)){const s=yR(n);return s&&s.default||0}return n=$R.has(n)?n:tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return OR(e,n,s)}build(e,n,s){VR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){NL(e,n,s,a)}mount(e){this.isSVGTag=kR(e.tagName),super.mount(e)}}const DL=(t,e)=>Z0(t)?new IL(e):new CL(e,{allowProjection:t!==M.Fragment});function Zo(t,e,n){const s=t.getProps();return J0(s,e,n!==void 0?n:s.custom,t)}const gy=t=>Array.isArray(t);function VL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function ML(t){return gy(t)?t[t.length-1]||0:t}function kL(t,e){const n=Zo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=ML(l[u]);VL(t,u,d)}}function PL(t){return!!(fn(t)&&t.add)}function yy(t,e){const n=t.getValue("willChange");if(PL(n))return n.add(e);if(!n&&Fs.WillChange){const s=new Fs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function YR(t){return t.props[jR]}const OL=t=>t!==null;function jL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(OL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const LL={type:"spring",stiffness:500,damping:25,restSpeed:10},UL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BL={type:"keyframes",duration:.8},zL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FL=(t,{keyframes:e})=>e.length>2?BL:xl.has(t)?t.startsWith("scale")?UL(e[1]):LL:zL;function qL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const nv=(t,e,n,s={},a,l)=>u=>{const d=q0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-ss(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};qL(d)||Object.assign(y,FL(t,y)),y.duration&&(y.duration=ss(y.duration)),y.repeatDelay&&(y.repeatDelay=ss(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(uy(y),y.delay===0&&(b=!0)),(Fs.instantAnimations||Fs.skipAnimations)&&(b=!0,uy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const E=jL(y.keyframes,d);if(E!==void 0){ft.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new z0(y):new uj(y)};function HL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function QR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const b=t.getValue(y,t.latestValues[y]??null),E=d[y];if(E===void 0||g&&HL(g,y))continue;const C={delay:n,...q0(l||{},y)},V=b.get();if(V!==void 0&&!b.isAnimating&&!Array.isArray(E)&&E===V&&!C.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const L=YR(t);if(L){const k=window.MotionHandoffAnimation(L,y,ft);k!==null&&(C.startTime=k,j=!0)}}yy(t,y),b.start(nv(y,b,E,t.shouldReduceMotion&&mR.has(y)?{type:!1}:C,t,j));const I=b.animation;I&&m.push(I)}return u&&Promise.all(m).then(()=>{ft.update(()=>{u&&kL(t,u)})}),m}function XR(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}function vy(t,e,n={}){const s=Zo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(QR(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=a;return GL(t,e,m,g,y,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function GL(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(vy(m,e,{...u,delay:n+(typeof s=="function"?0:s)+XR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function KL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>vy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=vy(t,e,n);else{const a=typeof e=="function"?Zo(t,e,n.custom):e;s=Promise.all(QR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function WR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const $L=Q0.length;function ZR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$L;n++){const s=Q0[n],a=t.props[s];(ou(a)||a===!1)&&(e[s]=a)}return e}const YL=[...Y0].reverse(),QL=Y0.length;function XL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>KL(t,n,s)))}function WL(t){let e=XL(t),n=ZE(),s=!0;const a=m=>(g,y)=>{const b=Zo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:E,transitionEnd:C,...V}=b;g={...g,...V,...C}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,y=ZR(t.parent)||{},b=[],E=new Set;let C={},V=1/0;for(let I=0;I<QL;I++){const L=YL[I],k=n[L],B=g[L]!==void 0?g[L]:y[L],ee=ou(B),J=L===m?k.isActive:null;J===!1&&(V=I);let ne=B===y[L]&&B!==g[L]&&ee;if(ne&&s&&t.manuallyAnimateOnMount&&(ne=!1),k.protectedKeys={...C},!k.isActive&&J===null||!B&&!k.prevProp||Od(B)||typeof B=="boolean")continue;const A=ZL(k.prevProp,B);let S=A||L===m&&k.isActive&&!ne&&ee||I>V&&ee,N=!1;const U=Array.isArray(B)?B:[B];let P=U.reduce(a(L),{});J===!1&&(P={});const{prevResolvedValues:q={}}=k,D={...q,...P},ze=le=>{S=!0,E.has(le)&&(N=!0,E.delete(le)),k.needsAnimating[le]=!0;const fe=t.getValue(le);fe&&(fe.liveStyle=!1)};for(const le in D){const fe=P[le],Se=q[le];if(C.hasOwnProperty(le))continue;let Ce=!1;gy(fe)&&gy(Se)?Ce=!WR(fe,Se):Ce=fe!==Se,Ce?fe!=null?ze(le):E.add(le):fe!==void 0&&E.has(le)?ze(le):k.protectedKeys[le]=!0}k.prevProp=B,k.prevResolvedValues=P,k.isActive&&(C={...C,...P}),s&&t.blockInitialAnimation&&(S=!1);const Ye=ne&&A;S&&(!Ye||N)&&b.push(...U.map(le=>{const fe={type:L};if(typeof le=="string"&&s&&!Ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:Se}=t,Ce=Zo(Se,le);if(Se.enteringChildren&&Ce){const{delayChildren:z}=Ce.transition||{};fe.delay=XR(Se.enteringChildren,t,z)}}return{animation:le,options:fe}}))}if(E.size){const I={};if(typeof g.initial!="boolean"){const L=Zo(t,Array.isArray(g.initial)?g.initial[0]:g.initial);L&&L.transition&&(I.transition=L.transition)}E.forEach(L=>{const k=t.getBaseTarget(L),B=t.getValue(L);B&&(B.liveStyle=!0),I[L]=k??null}),b.push({animation:I})}let j=!!b.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(b):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),n[m].isActive=g;const y=u(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ZE()}}}function ZL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WR(e,t):!1}function Ca(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZE(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class Xr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JL extends Xr{constructor(e){super(e),e.animationState||(e.animationState=WL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Od(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let e5=0;class t5 extends Xr{constructor(){super(...arguments),this.id=e5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const n5={animation:{Feature:JL},exit:{Feature:t5}};function lu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Iu(t){return{point:{x:t.pageX,y:t.pageY}}}const i5=t=>e=>K0(e)&&t(e,Iu(e));function Kc(t,e,n,s){return lu(t,e,i5(n),s)}const JR=1e-4,s5=1-JR,r5=1+JR,eC=.01,a5=0-eC,o5=0+eC;function yn(t){return t.max-t.min}function l5(t,e,n){return Math.abs(t-e)<=n}function JE(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=s5&&t.scale<=r5||isNaN(t.scale))&&(t.scale=1),(t.translate>=a5&&t.translate<=o5||isNaN(t.translate))&&(t.translate=0)}function $c(t,e,n,s){JE(t.x,e.x,n.x,s?s.originX:void 0),JE(t.y,e.y,n.y,s?s.originY:void 0)}function ew(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function c5(t,e,n){ew(t.x,e.x,n.x),ew(t.y,e.y,n.y)}function tw(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function cd(t,e,n){tw(t.x,e.x,n.x),tw(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const tC=({current:t})=>t?t.ownerDocument.defaultView:null,nw=(t,e)=>Math.abs(t-e);function u5(t,e){const n=nw(t.x,e.x),s=nw(t.y,e.y);return Math.sqrt(n**2+s**2)}class nC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=yg(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,V=u5(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!V)return;const{point:j}=E,{timestamp:I}=nn;this.history.push({...j,timestamp:I});const{onStart:L,onMove:k}=this.handlers;C||(L&&L(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=gg(C,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:V,onSessionEnd:j,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=yg(E.type==="pointercancel"?this.lastMoveEventInfo:gg(C,this.transformPagePoint),this.history);this.startEvent&&V&&V(E,L),j&&j(E,L)},!K0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const d=Iu(e),m=gg(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=nn;this.history=[{...g,timestamp:y}];const{onSessionStart:b}=n;b&&b(e,yg(m,this.history)),this.removeListeners=Ru(Kc(this.contextWindow,"pointermove",this.handlePointerMove),Kc(this.contextWindow,"pointerup",this.handlePointerUp),Kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hr(this.updatePoint)}}function gg(t,e){return e?{point:e(t.point)}:t}function iw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yg({point:t},e){return{point:t,delta:iw(t,iC(e)),offset:iw(t,h5(e)),velocity:f5(e,.1)}}function h5(t){return t[0]}function iC(t){return t[t.length-1]}function f5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=iC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ss(e)));)n--;if(!s)return{x:0,y:0};const l=ri(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function d5(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function sw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function m5(t,{top:e,left:n,bottom:s,right:a}){return{x:sw(t.x,n,a),y:sw(t.y,e,s)}}function rw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function p5(t,e){return{x:rw(t.x,e.x),y:rw(t.y,e.y)}}function g5(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=su(e.min,e.max-s,t.min):s>a&&(n=su(t.min,t.max-a,e.min)),zs(0,1,n)}function y5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _y=.35;function v5(t=_y){return t===!1?t=0:t===!0&&(t=_y),{x:aw(t,"left","right"),y:aw(t,"top","bottom")}}function aw(t,e,n){return{min:ow(t,e),max:ow(t,n)}}function ow(t,e){return typeof t=="number"?t:t[e]||0}const _5=new WeakMap;class b5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Iu(b).point)},u=(b,E)=>{const{drag:C,dragPropagation:V,onDragStart:j}=this.getProps();if(C&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Aj(C),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(L=>{let k=this.getAxisMotionValue(L).get()||0;if(rs.test(k)){const{projection:B}=this.visualElement;if(B&&B.layout){const ee=B.layout.layoutBox[L];ee&&(k=yn(ee)*(parseFloat(k)/100))}}this.originPoint[L]=k}),j&&ft.postRender(()=>j(b,E)),yy(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},d=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:V,onDirectionLock:j,onDrag:I}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:L}=E;if(V&&this.currentDirection===null){this.currentDirection=T5(L),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",E.point,L),this.updateAxis("y",E.point,L),this.visualElement.render(),I&&I(b,E)},m=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E,this.stop(b,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ni(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new nC(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:tC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ft.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!yf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=d5(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=m5(s.layoutBox,e):this.constraints=!1,this.elastic=v5(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=y5(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=xL(s,a.root,this.visualElement.getTransformPagePoint());let u=p5(a.layout.layoutBox,l);if(n){const d=n(_L(u));this.hasMutatedConstraints=!!d,d&&(u=BR(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ni(y=>{if(!yf(y,n,this.currentDirection))return;let b=m&&m[y]||{};u&&(b={min:0,max:0});const E=a?200:1e6,C=a?40:1e7,V={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,V)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return yy(this.visualElement,e),s.start(nv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:s}=this.getProps();if(!yf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-mt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=g5({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ni(u=>{if(!yf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];d.set(mt(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;_5.set(this.visualElement,this);const e=this.visualElement.current,n=Kc(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const u=lu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ni(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=_y,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function yf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function T5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class x5 extends Xr{constructor(e){super(e),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new b5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const lw=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class E5 extends Xr{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(e){this.session=new nC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:lw(e),onStart:lw(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&ft.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Kc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let vg=!1;class w5 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),vg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,vg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;vg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sC(t){const[e,n]=SR(),s=M.useContext(w0);return v.jsx(w5,{...t,layoutGroup:s,switchLayoutGroup:M.useContext(LR),isPresent:e,safeToRemove:n})}function S5(t,e,n){const s=fn(t)?t:ol(t);return s.start(nv("",s,e,n)),s.animation}const A5=(t,e)=>t.depth-e.depth;class R5{constructor(){this.children=[],this.isDirty=!1}add(e){R0(this.children,e),this.isDirty=!0}remove(e){C0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A5),this.isDirty=!1,this.children.forEach(e)}}function C5(t,e){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Hr(s),t(l-e))};return ft.setup(s,!0),()=>Hr(s)}const rC=["TopLeft","TopRight","BottomLeft","BottomRight"],N5=rC.length,cw=t=>typeof t=="string"?parseFloat(t):t,uw=t=>typeof t=="number"||xe.test(t);function I5(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,D5(s)),t.opacityExit=mt(e.opacity??1,0,V5(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let u=0;u<N5;u++){const d=`border${rC[u]}Radius`;let m=hw(e,d),g=hw(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||uw(m)===uw(g)?(t[d]=Math.max(mt(cw(m),cw(g),s),0),(rs.test(g)||rs.test(m))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function hw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const D5=aC(0,.5,HA),V5=aC(.5,.95,ai);function aC(t,e,n){return s=>s<t?0:s>e?1:n(su(t,e,s))}function fw(t,e){t.min=e.min,t.max=e.max}function Ti(t,e){fw(t.x,e.x),fw(t.y,e.y)}function dw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mw(t,e,n,s,a){return t-=e,t=ld(t,1/n,s),a!==void 0&&(t=ld(t,1/a,s)),t}function M5(t,e=0,n=1,s=.5,a,l=t,u=t){if(rs.test(e)&&(e=parseFloat(e),e=mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=mt(l.min,l.max,s);t===l&&(d-=e),t.min=mw(t.min,e,n,d,a),t.max=mw(t.max,e,n,d,a)}function pw(t,e,[n,s,a],l,u){M5(t,e[n],e[s],e[a],e.scale,l,u)}const k5=["x","scaleX","originX"],P5=["y","scaleY","originY"];function gw(t,e,n,s){pw(t.x,e,k5,n?n.x:void 0,s?s.x:void 0),pw(t.y,e,P5,n?n.y:void 0,s?s.y:void 0)}function yw(t){return t.translate===0&&t.scale===1}function oC(t){return yw(t.x)&&yw(t.y)}function vw(t,e){return t.min===e.min&&t.max===e.max}function O5(t,e){return vw(t.x,e.x)&&vw(t.y,e.y)}function _w(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lC(t,e){return _w(t.x,e.x)&&_w(t.y,e.y)}function bw(t){return yn(t.x)/yn(t.y)}function Tw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class j5{constructor(){this.members=[]}add(e){R0(this.members,e),e.scheduleRender()}remove(e){if(C0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L5(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:E,skewX:C,skewY:V}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),b&&(s+=`rotateX(${b}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),V&&(s+=`skewY(${V}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const _g=["","X","Y","Z"],U5=1e3;let B5=0;function bg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function cC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&cC(s)}function uC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=B5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(q5),this.nodes.forEach($5),this.nodes.forEach(Y5),this.nodes.forEach(H5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new R5)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new D0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=wR(u)&&!Vj(u),this.instance=u;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,b=0;const E=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{b=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==b&&(b=C,this.root.updateBlockedByResize=!0,y&&y(),y=C5(E,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(ww)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||J5,{onLayoutAnimationStart:j,onLayoutAnimationComplete:I}=g.getProps(),L=!this.targetLayout||!lC(this.targetLayout,C),k=!b&&E;if(this.options.layoutRoot||this.resumeFrom||k||b&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...q0(V,"layout"),onPlay:j,onComplete:I};(g.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,k)}else b||ww(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ew);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(K5),this.nodes.forEach(z5),this.nodes.forEach(F5)):this.nodes.forEach(Ew),this.clearAllSnapshots();const d=Cn.now();nn.delta=zs(0,1e3/60,d-nn.timestamp),nn.timestamp=d,nn.isProcessing=!0,lg.update.process(nn),lg.preRender.process(nn),lg.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(G5),this.sharedNodes.forEach(X5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!oC(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||Ia(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),e9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ht();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(t9))){const{scroll:g}=this.root;g&&(Ho(d.x,g.offset.x),Ho(d.y,g.offset.y))}return d}removeElementScroll(u){const d=Ht();if(Ti(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Ti(d,u),Ho(d.x,y.offset.x),Ho(d.y,y.offset.y))}return d}applyTransform(u,d=!1){const m=Ht();Ti(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Go(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ia(y.latestValues)&&Go(m,y.latestValues)}return Ia(this.latestValues)&&Go(m,this.latestValues),m}removeTransform(u){const d=Ht();Ti(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Ia(g.latestValues))continue;dy(g.latestValues)&&g.updateSnapshot();const y=Ht(),b=g.measurePageBox();Ti(y,b),gw(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Ia(this.latestValues)&&gw(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=nn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),FR(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dy(this.parent.latestValues)||zR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),cd(this.relativeTargetOrigin,d,m),Ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ti(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;TL(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ht());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dw(this.prevProjectionDelta.x,this.projectionDelta.x),dw(this.prevProjectionDelta.y,this.projectionDelta.y)),$c(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==E||!Tw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(u,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},b=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=Ht(),C=m?m.source:void 0,V=this.layout?this.layout.source:void 0,j=C!==V,I=this.getStack(),L=!I||I.members.length<=1,k=!!(j&&!L&&this.options.crossfade===!0&&!this.path.some(Z5));this.animationProgress=0;let B;this.mixTargetDelta=ee=>{const J=ee/1e3;Sw(b.x,u.x,J),Sw(b.y,u.y,J),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cd(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W5(this.relativeTarget,this.relativeTargetOrigin,E,J),B&&O5(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ht()),Ti(B,this.relativeTarget)),j&&(this.animationValues=y,I5(y,g,this.latestValues,J,k,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=S5(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=u;if(!(!d||!m||!g)){if(this!==u&&this.layout&&g&&hC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ht();const b=yn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const E=yn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+E}Ti(d,m),Go(d,y),$c(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new j5),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&bg("z",u,g,this.animationValues);for(let y=0;y<_g.length;y++)bg(`rotate${_g[y]}`,u,g,this.animationValues),bg(`skew${_g[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Mf(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Mf(d?.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=L5(this.projectionDeltaWithTransform,this.treeScale,y);m&&(b=m(y,b)),u.transform=b;const{x:E,y:C}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in fy){if(y[V]===void 0)continue;const{correct:j,applyTo:I,isCSSVariable:L}=fy[V],k=b==="none"?y[V]:j(y[V],g);if(I){const B=I.length;for(let ee=0;ee<B;ee++)u[I[ee]]=k}else L?this.options.visualElement.renderState.vars[V]=k:u[V]=k}this.options.layoutId&&(u.pointerEvents=g===this?Mf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(xw),this.root.sharedNodes.clear()}}}function z5(t){t.updateLayout()}function F5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ni(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],E=yn(b);b.min=n[y].min,b.max=b.min+E}):hC(a,e.layoutBox,n)&&ni(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],E=yn(n[y]);b.max=b.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const u=Ko();$c(u,n,e.layoutBox);const d=Ko();l?$c(d,t.applyTransform(s,!0),e.measuredBox):$c(d,n,e.layoutBox);const m=!oC(u);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:E}=y;if(b&&E){const C=Ht();cd(C,e.layoutBox,b.layoutBox);const V=Ht();cd(V,n,E.layoutBox),lC(C,V)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function q5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function H5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function G5(t){t.clearSnapshot()}function xw(t){t.clearMeasurements()}function Ew(t){t.isLayoutDirty=!1}function K5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ww(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $5(t){t.resolveTargetDelta()}function Y5(t){t.calcProjection()}function Q5(t){t.resetSkewAndRotation()}function X5(t){t.removeLeadSnapshot()}function Sw(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Aw(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function W5(t,e,n,s){Aw(t.x,e.x,n.x,s),Aw(t.y,e.y,n.y,s)}function Z5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J5={duration:.45,ease:[.4,0,.1,1]},Rw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Cw=Rw("applewebkit/")&&!Rw("chrome/")?Math.round:ai;function Nw(t){t.min=Cw(t.min),t.max=Cw(t.max)}function e9(t){Nw(t.x),Nw(t.y)}function hC(t,e,n){return t==="position"||t==="preserve-aspect"&&!l5(bw(e),bw(n),.2)}function t9(t){return t!==t.root&&t.scroll?.wasRoot}const n9=uC({attachResizeListener:(t,e)=>lu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tg={current:void 0},fC=uC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tg.current){const t=new n9({});t.mount(window),t.setOptions({layoutScroll:!0}),Tg.current=t}return Tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),i9={pan:{Feature:E5},drag:{Feature:x5,ProjectionNode:fC,MeasureLayout:sC}};function Iw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Iu(e)))}class s9 extends Xr{mount(){const{current:e}=this.node;e&&(this.unmount=Rj(e,(n,s)=>(Iw(this.node,s,"Start"),a=>Iw(this.node,a,"End"))))}unmount(){}}class r9 extends Xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(lu(this.node.current,"focus",()=>this.onFocus()),lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Iu(e)))}class a9 extends Xr{mount(){const{current:e}=this.node;e&&(this.unmount=Dj(e,(n,s)=>(Dw(this.node,s,"Start"),(a,{success:l})=>Dw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const by=new WeakMap,xg=new WeakMap,o9=t=>{const e=by.get(t.target);e&&e(t)},l9=t=>{t.forEach(o9)};function c9({root:t,...e}){const n=t||document;xg.has(n)||xg.set(n,{});const s=xg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(l9,{root:t,...e})),s[a]}function u9(t,e,n){const s=c9(e);return by.set(t,n),s.observe(t),()=>{by.delete(t),s.unobserve(t)}}const h9={some:0,all:1};class f9 extends Xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:h9[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),E=g?y:b;E&&E(m)};return u9(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(d9(e,n))&&this.startObserver()}unmount(){}}function d9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const m9={inView:{Feature:f9},tap:{Feature:a9},focus:{Feature:r9},hover:{Feature:s9}},p9={layout:{ProjectionNode:fC,MeasureLayout:sC}},g9={...n5,...m9,...i9,...p9},ii=vL(g9,DL);function St({matchup:t,onPickWinner:e,isLocked:n=!1}){const{team1:s,team2:a,winner:l,result:u}=t,d=(m,g)=>{if(!m)return v.jsx("div",{className:`h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-${g?"b":"t"}-xl border-x border-slate-800/40 ${g?"border-b":"border-t"}`,children:v.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})});const y=l?.id===m.id,b=l&&l.id!==m.id,E=!n&&m,C=u&&l?.id===u,V=u&&l&&l.id!==u;return v.jsxs(ii.button,{whileHover:E?{backgroundColor:"rgba(30, 41, 59, 0.9)",x:2}:{},whileTap:E?{scale:.98}:{},onClick:()=>E&&e(t.id,m),disabled:!E,className:`w-full h-9 lg:h-11 px-3 lg:px-4 flex items-center justify-between transition-all relative overflow-hidden
          ${g?"rounded-b-xl":"rounded-t-xl"} 
          ${y&&C?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":y&&V?"bg-red-900/40 ring-1 ring-inset ring-red-400/50":y?"bg-slate-800/80 ring-1 ring-inset ring-blue-400/30":"bg-slate-900/60"} 
          ${b?"opacity-20 grayscale":"opacity-100"}
          ${E?"cursor-pointer":"cursor-not-allowed"}
          border-x border-slate-800/50 ${g?"border-b":"border-t"}`,children:[y&&v.jsx(ii.div,{layoutId:`winner-glow-${t.id}`,className:`absolute inset-0 pointer-events-none ${C?"bg-gradient-to-r from-green-500/20 to-transparent":V?"bg-gradient-to-r from-red-500/20 to-transparent":"bg-gradient-to-r from-blue-500/10 to-transparent"}`}),v.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 z-10",children:[v.jsx("div",{className:"w-5 h-5 lg:w-6 lg:h-6 rounded flex items-center justify-center font-bold text-[9px] lg:text-[10px] text-white shadow-lg border border-white/10",style:{backgroundColor:m.color},children:m.seed}),v.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[v.jsx("span",{className:"text-[7px] lg:text-[8px] text-slate-500 font-bold uppercase tracking-wider",children:m.city}),v.jsx("span",{className:"font-bold text-[11px] lg:text-[13px] text-slate-100 uppercase tracking-tight",children:m.name})]})]}),v.jsx(AR,{children:y&&v.jsx(ii.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:C?"text-green-400":V?"text-red-400":"text-blue-400",children:v.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 lg:w-4 lg:h-4",children:v.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})};return v.jsx("div",{className:`w-40 lg:w-48 flex-shrink-0 relative group transition-all duration-500 ${!s||!a?"opacity-50":"opacity-100"}`,children:v.jsxs("div",{className:"shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm",children:[d(s,!1),d(a,!0)]})})}const Ty="/assets/super_bowl_lx-logo_brandlogos.net_3b9vb-STySwuiF.png";function y9(){const{roomId:t}=hd(),{user:e,isAdmin:n}=cs(),s=os(),[a,l]=M.useState([]),[u,d]=M.useState(null),[m,g]=M.useState(!0),[y,b]=M.useState(null),[E,C]=M.useState({});M.useEffect(()=>{V()},[t,e]);const V=async()=>{const W=await E0();l(W),await L(),await I(),await j(),g(!1)},j=async()=>{const W=await an(rt(Ve,"gameResults",t));W.exists()&&C(W.data().results||{})},I=async()=>{const W=await an(rt(Ve,"rooms",t));W.exists()&&b(W.data().createdBy)},L=async()=>{const W=rt(Ve,"brackets",`${t}_${e.uid}`),ce=await an(W);ce.exists()&&d(ce.data())},k=async(W,ce=!1)=>{const ve=rt(Ve,"brackets",`${t}_${e.uid}`),Ee={userId:e.uid,roomId:t,picks:W,submitted:ce,submittedAt:ce?new Date:null};await iu(ve,Ee),d(Ee)},B=(W,ce)=>{if(u?.submitted)return;const ve={...u?.picks||{},[W]:ce.id};k(ve,!1)},ee=async()=>{if(!u?.picks||Object.keys(u.picks).length===0){alert("Please make at least one pick before submitting");return}await k(u.picks,!0)},J=async()=>{if(window.confirm("Are you sure you want to reset ALL brackets in this room? This cannot be undone."))try{const W=Nr(Ei(Ve,"brackets"),wi("roomId","==",t)),ce=await Ir(W);if(ce.empty){alert("No brackets to reset.");return}const ve=RA(Ve);ce.docs.forEach(Ee=>{ve.delete(Ee.ref)}),await ve.commit(),d(null),alert(`Successfully reset ${ce.docs.length} bracket(s)!`),window.location.reload()}catch(W){console.error("Error resetting brackets:",W),alert(`Error resetting brackets: ${W.message}`)}};if(m)return v.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:v.jsx("div",{className:"text-white text-xl",children:"Loading bracket..."})});const ne=a.filter(W=>W.conference==="AFC"),A=a.filter(W=>W.conference==="NFC"),S=u?.submitted===!0,N=y===e.uid,U=W=>a.find(ce=>ce.id===W),P=W=>u?.picks?.[W]?U(u.picks[W]):null,q=[{id:"afc-wc-0",team1:ne[1],team2:ne[6],winner:P("afc-wc-0"),result:E["afc-wc-0"]},{id:"afc-wc-1",team1:ne[2],team2:ne[5],winner:P("afc-wc-1"),result:E["afc-wc-1"]},{id:"afc-wc-2",team1:ne[3],team2:ne[4],winner:P("afc-wc-2"),result:E["afc-wc-2"]}],D=[{id:"nfc-wc-0",team1:A[1],team2:A[6],winner:P("nfc-wc-0"),result:E["nfc-wc-0"]},{id:"nfc-wc-1",team1:A[2],team2:A[5],winner:P("nfc-wc-1"),result:E["nfc-wc-1"]},{id:"nfc-wc-2",team1:A[3],team2:A[4],winner:P("nfc-wc-2"),result:E["nfc-wc-2"]}],ze=q.map(W=>W.winner).filter(Boolean).sort((W,ce)=>W.seed-ce.seed),Ye=D.map(W=>W.winner).filter(Boolean).sort((W,ce)=>W.seed-ce.seed),K=[{id:"afc-div-0",team1:ne[0],team2:ze[2]||null,winner:P("afc-div-0"),result:E["afc-div-0"]},{id:"afc-div-1",team1:ze[0]||null,team2:ze[1]||null,winner:P("afc-div-1"),result:E["afc-div-1"]}],le=[{id:"nfc-div-0",team1:A[0],team2:Ye[2]||null,winner:P("nfc-div-0"),result:E["nfc-div-0"]},{id:"nfc-div-1",team1:Ye[0]||null,team2:Ye[1]||null,winner:P("nfc-div-1"),result:E["nfc-div-1"]}],fe=K.map(W=>W.winner).filter(Boolean),Se=le.map(W=>W.winner).filter(Boolean),Ce={id:"afc-conf",team1:fe[0]||null,team2:fe[1]||null,winner:P("afc-conf"),result:E["afc-conf"]},z={id:"nfc-conf",team1:Se[0]||null,team2:Se[1]||null,winner:P("nfc-conf"),result:E["nfc-conf"]},ie={id:"super-bowl",team1:Ce.winner||null,team2:z.winner||null,winner:P("super-bowl"),result:E["super-bowl"]};return v.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100 relative selection:bg-blue-500/30",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),v.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between px-3 lg:px-10 py-3 lg:h-[70px] bg-slate-950/60 backdrop-blur-xl border-b border-white/5 z-50",children:[v.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-5",children:[v.jsx("button",{onClick:()=>s("/rooms"),className:"text-slate-400 hover:text-white transition p-2 lg:p-0",children:v.jsx(jr,{className:"w-7 h-7 lg:w-6 lg:h-6"})}),v.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:v.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] lg:text-[14px] font-black italic",children:"NFL"})}),v.jsxs("div",{className:"hidden sm:block",children:[v.jsx("h1",{className:"text-lg lg:text-2xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),v.jsx("p",{className:"text-[8px] lg:text-[10px] text-slate-500 font-bold uppercase tracking-[0.4em] mt-1 opacity-60",children:"Professional Playoff Simulator"})]})]}),v.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-6",children:[v.jsxs("button",{onClick:()=>s(`/leaderboard/${t}`),className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-yellow-600/20 border border-yellow-600/30 text-yellow-400 rounded-lg hover:bg-yellow-600/30 transition",children:[v.jsx(l3,{className:"w-6 h-6 lg:w-4 lg:h-4"}),v.jsx("span",{className:"text-[9px] lg:text-xs font-bold uppercase tracking-wider",children:"Board"})]}),n&&v.jsxs("button",{onClick:()=>s(`/game-results/${t}`),className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg hover:bg-blue-500/30 transition text-xs font-bold uppercase tracking-wider",children:[v.jsx(DA,{className:"w-4 h-4"})," Game Results"]}),v.jsxs("div",{className:"hidden lg:flex items-center space-x-8 text-[11px] font-bold uppercase tracking-[0.2em] text-slate-500",children:[v.jsxs("div",{className:"flex items-center space-x-2.5",children:[v.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-600 shadow-lg shadow-red-600/30"}),v.jsx("span",{children:"AFC Bracket"})]}),v.jsxs("div",{className:"flex items-center space-x-2.5",children:[v.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-600 shadow-lg shadow-blue-600/30"}),v.jsx("span",{children:"NFC Bracket"})]})]}),n&&N&&v.jsxs(ii.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:J,className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-500/30 text-red-400 rounded-lg hover:bg-red-500/30 transition text-xs font-bold uppercase tracking-wider",children:[v.jsx(p3,{className:"w-4 h-4"})," Reset All Brackets"]}),!S&&u?.picks&&Object.keys(u.picks).length>0&&v.jsxs(ii.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ee,className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-6 py-2 lg:py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-xl",children:[v.jsx(pE,{className:"w-6 h-6 lg:w-4 lg:h-4"}),v.jsx("span",{className:"text-[9px] lg:text-sm",children:"Submit"})]}),S&&v.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400 font-bold",children:[v.jsx(pE,{className:"w-6 h-6 lg:w-4 lg:h-4"}),v.jsx("span",{className:"text-[9px] lg:text-xs uppercase",children:"Done"})]})]})]}),v.jsxs("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 relative overflow-x-auto",children:[v.jsxs("div",{className:"hidden lg:flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-90 lg:scale-95 xl:scale-100",children:[v.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[v.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),q.map(W=>v.jsx(St,{matchup:W,onPickWinner:B,isLocked:S},W.id)),v.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[v.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),v.jsxs("div",{className:"text-left overflow-hidden",children:[v.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),v.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:ne[0]?.name})]})]})]}),v.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),K.map(W=>v.jsx(St,{matchup:W,onPickWinner:B,isLocked:S},W.id))]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),v.jsx(St,{matchup:Ce,onPickWinner:B,isLocked:S})]})]}),v.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6 relative",children:[v.jsxs("div",{className:"relative w-28 h-28 lg:w-36 lg:h-36 flex items-center justify-center mb-2",children:[v.jsx(ii.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),v.jsx("img",{src:Ty,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80 drop-shadow-[0_0_15px_rgba(202,138,4,0.3)]"})]}),v.jsxs("div",{className:"relative group",children:[v.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/20 via-blue-500/20 to-red-600/20 rounded-2xl blur opacity-30 group-hover:opacity-70 transition duration-1000"}),v.jsx(St,{matchup:ie,onPickWinner:B,isLocked:S})]}),v.jsx("div",{className:"h-[80px] lg:h-[100px] mt-4 lg:mt-6 flex flex-col items-center justify-center",children:v.jsx(AR,{mode:"wait",children:ie.winner?v.jsxs(ii.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"text-center relative",children:[v.jsx(ii.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1,repeat:1/0,repeatDelay:2},className:"text-amber-500 font-black text-[10px] lg:text-[12px] uppercase tracking-[0.8em] mb-2",children:"Super Bowl Winner"}),v.jsx("div",{className:"text-3xl lg:text-5xl xl:text-6xl font-black text-white italic tracking-tighter uppercase drop-shadow-[0_0_30px_rgba(255,255,255,0.4)] leading-none",children:ie.winner.name}),v.jsx(ii.div,{initial:{width:0},animate:{width:120},className:"h-[2px] lg:h-[3px] bg-gradient-to-r from-transparent via-amber-500 to-transparent mx-auto mt-4 lg:mt-6 rounded-full shadow-[0_0_20px_rgba(245,158,11,0.8)]"})]},"celebration"):v.jsxs(ii.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center opacity-40",children:[v.jsx("div",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase tracking-[0.8em] italic",children:"Pick Your Champion"}),v.jsx("div",{className:"w-24 lg:w-32 h-[1px] bg-slate-800 mt-3 lg:mt-4"})]},"placeholder")})})]}),v.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[v.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),D.map(W=>v.jsx(St,{matchup:W,onPickWinner:B,isLocked:S},W.id)),v.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[v.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),v.jsxs("div",{className:"text-left overflow-hidden",children:[v.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),v.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:A[0]?.name})]})]})]}),v.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),le.map(W=>v.jsx(St,{matchup:W,onPickWinner:B,isLocked:S},W.id))]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),v.jsx(St,{matchup:z,onPickWinner:B,isLocked:S})]})]})]}),v.jsx("div",{className:"lg:hidden w-full",children:v.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-10 pb-20",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Wild Card Round"}),v.jsx("p",{className:"text-sm text-slate-400",children:"First Round of Playoffs"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"text-center mb-4",children:v.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:v.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),v.jsx("div",{className:"space-y-4",children:q.map(W=>v.jsx(St,{matchup:W,onPickWinner:B,isLocked:S},W.id))})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"text-center mb-4",children:v.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:v.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),v.jsx("div",{className:"space-y-4",children:D.map(W=>v.jsx(St,{matchup:W,onPickWinner:B,isLocked:S},W.id))})]})]})]}),v.jsxs("div",{className:"flex items-center justify-center py-4",children:[v.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),v.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),v.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Divisional Round"}),v.jsx("p",{className:"text-sm text-slate-400",children:"Top seeds enter the bracket"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"text-center mb-4",children:v.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:v.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),v.jsx("div",{className:"space-y-4",children:K.map(W=>v.jsx(St,{matchup:W,onPickWinner:B,isLocked:S},W.id))}),v.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-500/30 flex items-center justify-center",children:v.jsx("span",{className:"font-black text-sm text-red-500",children:"1"})}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-xs text-red-500/80 font-bold uppercase",children:"First Round Bye"}),v.jsx("div",{className:"text-base font-black text-white uppercase",children:ne[0]?.name})]})]})})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"text-center mb-4",children:v.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:v.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),v.jsx("div",{className:"space-y-4",children:le.map(W=>v.jsx(St,{matchup:W,onPickWinner:B,isLocked:S},W.id))}),v.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/30 flex items-center justify-center",children:v.jsx("span",{className:"font-black text-sm text-blue-500",children:"1"})}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-xs text-blue-500/80 font-bold uppercase",children:"First Round Bye"}),v.jsx("div",{className:"text-base font-black text-white uppercase",children:A[0]?.name})]})]})})]})]})]}),v.jsxs("div",{className:"flex items-center justify-center py-4",children:[v.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),v.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),v.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Conference Championships"}),v.jsx("p",{className:"text-sm text-slate-400",children:"Battle for Super Bowl berth"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"text-center mb-4",children:v.jsx("div",{className:"inline-block px-6 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:v.jsx("span",{className:"text-sm font-black text-red-500 uppercase tracking-wider",children:"AFC Championship"})})}),v.jsx(St,{matchup:Ce,onPickWinner:B,isLocked:S}),Ce.winner&&v.jsxs("div",{className:"mt-4 text-center p-4 bg-red-500/10 rounded-lg border border-red-500/30",children:[v.jsx("div",{className:"text-xs text-red-500 font-bold uppercase mb-1",children:"AFC Champion"}),v.jsx("div",{className:"text-xl font-black text-white",children:Ce.winner.name})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"text-center mb-4",children:v.jsx("div",{className:"inline-block px-6 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:v.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-wider",children:"NFC Championship"})})}),v.jsx(St,{matchup:z,onPickWinner:B,isLocked:S}),z.winner&&v.jsxs("div",{className:"mt-4 text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/30",children:[v.jsx("div",{className:"text-xs text-blue-500 font-bold uppercase mb-1",children:"NFC Champion"}),v.jsx("div",{className:"text-xl font-black text-white",children:z.winner.name})]})]})]})]}),v.jsxs("div",{className:"flex items-center justify-center py-4",children:[v.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"}),v.jsx("div",{className:"mx-6 text-yellow-600 text-2xl",children:""}),v.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-4",children:[v.jsx(ii.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),v.jsx("img",{src:Ty,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})]}),v.jsx("h2",{className:"text-4xl font-black text-yellow-500 uppercase mb-2",children:"Super Bowl LX"}),v.jsx("p",{className:"text-sm text-slate-400",children:"Championship Game"})]}),v.jsxs("div",{className:"max-w-md mx-auto",children:[v.jsx(St,{matchup:ie,onPickWinner:B,isLocked:S}),ie.winner&&v.jsxs(ii.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-8 text-center p-8 bg-gradient-to-b from-yellow-500/20 to-yellow-600/10 rounded-2xl border-2 border-yellow-500/40",children:[v.jsx(id,{className:"w-20 h-20 text-yellow-500 mx-auto mb-4"}),v.jsx("div",{className:"text-yellow-500 font-black text-sm uppercase tracking-widest mb-2",children:"Super Bowl Champion"}),v.jsx("div",{className:"text-4xl font-black text-white italic uppercase",children:ie.winner.name})]})]})]})]})})]}),v.jsx("footer",{className:"h-[50px] flex items-center justify-center px-10 bg-slate-950/40 border-t border-white/5 text-[9px] font-bold text-slate-500 uppercase tracking-widest relative z-50",children:v.jsxs("div",{className:"flex items-center space-x-12 opacity-40",children:[v.jsx("span",{children:"NFL Re-seeding Active: #1 hosts highest numeric seed"}),v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-800"}),v.jsx("span",{children:"Predict Super Bowl LX Live"})]})})]})}function v9(){const{roomId:t}=hd(),{isAdmin:e}=cs(),n=os(),[s,a]=M.useState([]),[l,u]=M.useState(null),[d,m]=M.useState([]),[g,y]=M.useState(!0),[b,E]=M.useState("");M.useEffect(()=>{if(!e){n("/rooms");return}C()},[t,e]);const C=async()=>{const I=await E0();m(I);const L=await an(rt(Ve,"rooms",t));L.exists()&&E(L.data().code);const k=Nr(Ei(Ve,"brackets"),wi("roomId","==",t),wi("submitted","==",!0)),B=await Ir(k),ee=await Promise.all(B.docs.map(async J=>{const ne=J.data(),A=await an(rt(Ve,"users",ne.userId)),S=A.exists()?A.data():{};return{id:J.id,...ne,username:S.username||S.email||"Unknown User"}}));a(ee.sort((J,ne)=>ne.submittedAt?.toDate()-J.submittedAt?.toDate())),y(!1)},V=async(I,L)=>{if(window.confirm(`Are you sure you want to delete ${L}'s bracket? This cannot be undone.`))try{await qO(rt(Ve,"brackets",I)),a(s.filter(k=>k.id!==I)),alert("Bracket deleted successfully!")}catch(k){console.error("Error deleting bracket:",k),alert(`Error deleting bracket: ${k.message}`)}},j=I=>{const L=d.filter(K=>K.conference==="AFC"),k=d.filter(K=>K.conference==="NFC"),B=K=>d.find(le=>le.id===K),ee=K=>I.picks?.[K]?B(I.picks[K]):null,J=[{id:"afc-wc-0",team1:L[1],team2:L[6],winner:ee("afc-wc-0")},{id:"afc-wc-1",team1:L[2],team2:L[5],winner:ee("afc-wc-1")},{id:"afc-wc-2",team1:L[3],team2:L[4],winner:ee("afc-wc-2")}],ne=[{id:"nfc-wc-0",team1:k[1],team2:k[6],winner:ee("nfc-wc-0")},{id:"nfc-wc-1",team1:k[2],team2:k[5],winner:ee("nfc-wc-1")},{id:"nfc-wc-2",team1:k[3],team2:k[4],winner:ee("nfc-wc-2")}],A=J.map(K=>K.winner).filter(Boolean).sort((K,le)=>K.seed-le.seed),S=ne.map(K=>K.winner).filter(Boolean).sort((K,le)=>K.seed-le.seed),N=[{id:"afc-div-0",team1:L[0],team2:A[2]||null,winner:ee("afc-div-0")},{id:"afc-div-1",team1:A[0]||null,team2:A[1]||null,winner:ee("afc-div-1")}],U=[{id:"nfc-div-0",team1:k[0],team2:S[2]||null,winner:ee("nfc-div-0")},{id:"nfc-div-1",team1:S[0]||null,team2:S[1]||null,winner:ee("nfc-div-1")}],P=N.map(K=>K.winner).filter(Boolean),q=U.map(K=>K.winner).filter(Boolean),D={id:"afc-conf",team1:P[0]||null,team2:P[1]||null,winner:ee("afc-conf")},ze={id:"nfc-conf",team1:q[0]||null,team2:q[1]||null,winner:ee("nfc-conf")},Ye={id:"super-bowl",team1:D.winner||null,team2:ze.winner||null,winner:ee("super-bowl")};return v.jsxs("div",{className:"flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-75 lg:scale-85 xl:scale-90",children:[v.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[v.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),J.map(K=>v.jsx(St,{matchup:K,isLocked:!0},K.id)),v.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[v.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),v.jsxs("div",{className:"text-left overflow-hidden",children:[v.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),v.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:L[0]?.name})]})]})]}),v.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),N.map(K=>v.jsx(St,{matchup:K,isLocked:!0},K.id))]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),v.jsx(St,{matchup:D,isLocked:!0})]})]}),v.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6",children:[v.jsx("div",{className:"relative w-24 h-24 lg:w-32 lg:h-32 flex items-center justify-center mb-2",children:v.jsx("img",{src:Ty,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})}),v.jsx(St,{matchup:Ye,isLocked:!0}),Ye.winner&&v.jsxs("div",{className:"mt-4 text-center",children:[v.jsx("div",{className:"text-amber-500 font-black text-[10px] uppercase tracking-widest mb-1",children:"Super Bowl Winner"}),v.jsx("div",{className:"text-2xl lg:text-4xl font-black text-white italic uppercase",children:Ye.winner.name})]})]}),v.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[v.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),ne.map(K=>v.jsx(St,{matchup:K,isLocked:!0},K.id)),v.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[v.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),v.jsxs("div",{className:"text-left overflow-hidden",children:[v.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),v.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:k[0]?.name})]})]})]}),v.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),U.map(K=>v.jsx(St,{matchup:K,isLocked:!0},K.id))]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),v.jsx(St,{matchup:ze,isLocked:!0})]})]})]})};return g?v.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:v.jsx("div",{className:"text-white text-xl",children:"Loading brackets..."})}):l?v.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100",children:[v.jsx("header",{className:"h-[70px] flex items-center justify-between px-10 bg-slate-950/60 backdrop-blur-xl border-b border-white/5",children:v.jsxs("div",{className:"flex items-center space-x-5",children:[v.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white transition",children:v.jsx(jr,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl font-black uppercase tracking-tighter text-white",children:[l.username,"'s Bracket"]}),v.jsxs("p",{className:"text-xs text-slate-500",children:["Submitted ",l.submittedAt?.toDate().toLocaleString()]})]})]})}),v.jsx("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 overflow-x-auto",children:j(l)})]}):v.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 overflow-hidden",children:v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),v.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:v.jsx(jr,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Submitted Brackets"}),v.jsxs("p",{className:"text-slate-400",children:["Room: ",b]})]})]}),s.length===0?v.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:v.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):v.jsx("div",{className:"grid gap-4",children:s.map(I=>v.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:bg-slate-800/50 transition-all",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("button",{onClick:()=>u(I),className:"flex items-center gap-4 flex-grow text-left",children:[v.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl",children:v.jsx(P3,{className:"w-6 h-6 text-white"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-white",children:I.username}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",children:[v.jsx(a3,{className:"w-4 h-4"}),v.jsxs("span",{children:["Submitted ",I.submittedAt?.toDate().toLocaleString()]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:L=>{L.stopPropagation(),V(I.id,I.username)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Bracket",children:v.jsx(VA,{className:"w-4 h-4"})}),v.jsx(jr,{className:"w-5 h-5 text-yellow-600/70 rotate-180"})]})]})},I.id))})]})]})}const vf={wc:1,div:2,conf:3,"super-bowl":5};function _9(){const{roomId:t}=hd(),{user:e}=cs(),n=os(),[s,a]=M.useState([]),[l,u]=M.useState(""),[d,m]=M.useState(!0),[g,y]=M.useState({}),[b,E]=M.useState(!1);M.useEffect(()=>{C()},[t]);const C=async()=>{try{const j=await an(rt(Ve,"brackets",`${t}_${e.uid}`)),I=j.exists()&&j.data().submitted===!0;E(I);const L=await an(rt(Ve,"rooms",t));L.exists()&&u(L.data().code);const k=await an(rt(Ve,"gameResults",t)),B=k.exists()?k.data().results||{}:{};y(B);const ee=Nr(Ei(Ve,"brackets"),wi("roomId","==",t),wi("submitted","==",!0)),J=await Ir(ee),ne=await Promise.all(J.docs.map(async A=>{const S=A.data(),N=await an(rt(Ve,"users",S.userId)),U=N.exists()?N.data():{},P=V(S.picks,B);return{userId:S.userId,username:U.username||U.email||"Unknown User",points:P,submittedAt:S.submittedAt}}));ne.sort((A,S)=>S.points-A.points),a(ne)}catch(j){console.error("Error loading leaderboard:",j)}finally{m(!1)}},V=(j,I)=>{let L=0;return Object.entries(j).forEach(([k,B])=>{I[k]===B&&(k.includes("wc")?L+=vf.wc:k.includes("div")?L+=vf.div:k.includes("conf")?L+=vf.conf:k==="super-bowl"&&(L+=vf["super-bowl"]))}),L};return d?v.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:v.jsx("div",{className:"text-white text-xl",children:"Loading leaderboard..."})}):b?v.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 overflow-hidden",children:v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),v.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:v.jsx(jr,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white flex items-center gap-3",children:[v.jsx(id,{className:"w-10 h-10 text-yellow-600/90"}),"Leaderboard"]}),v.jsxs("p",{className:"text-slate-400",children:["Room: ",l]})]})]}),s.length===0?v.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:v.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):v.jsx("div",{className:"space-y-3",children:s.map((j,I)=>{const L=j.userId===e.uid,k=I+1;return v.jsx("div",{className:`bg-slate-900/40 backdrop-blur-xl border rounded-xl p-6 transition-all ${L?"border-yellow-600/50 bg-yellow-600/5":"border-white/10 hover:bg-slate-800/50"}`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl ${k===1?"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white":k===2?"bg-gradient-to-br from-slate-300 to-slate-400 text-slate-900":k===3?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-slate-800 text-slate-400"}`,children:k===1?v.jsx(id,{className:"w-6 h-6"}):k===2?v.jsx(T3,{className:"w-6 h-6"}):k===3?v.jsx(s3,{className:"w-6 h-6"}):k}),v.jsxs("div",{children:[v.jsxs("h3",{className:`text-xl font-bold ${L?"text-yellow-500":"text-white"}`,children:[j.username," ",L&&"(You)"]}),v.jsxs("p",{className:"text-sm text-slate-400",children:["Submitted ",j.submittedAt?.toDate().toLocaleDateString()]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-3xl font-black text-yellow-600/90",children:j.points}),v.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Points"})]})]})},j.userId)})}),v.jsxs("div",{className:"mt-8 bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Point System"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"1"}),v.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Wild Card"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"2"}),v.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Divisional"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"3"}),v.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Conference"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"5"}),v.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Super Bowl"})]})]})]})]})]}):v.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 overflow-hidden",children:v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),v.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-4 py-8",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:v.jsx(jr,{className:"w-6 h-6"})}),v.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Leaderboard"})]}),v.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-yellow-600/30 rounded-2xl p-12 text-center",children:[v.jsx(nd,{className:"w-16 h-16 text-yellow-600/90 mx-auto mb-4"}),v.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Submit Your Bracket First"}),v.jsx("p",{className:"text-slate-300 mb-6",children:"You must submit your bracket before viewing the leaderboard."}),v.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"px-6 py-3 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition font-bold uppercase tracking-wider",children:"Go to Bracket"})]})]})]})}const b9="https://site.api.espn.com/apis/site/v2/sports/football/nfl",T9=async()=>{try{return(await(await fetch(`${b9}/scoreboard`)).json()).events||[]}catch(t){return console.error("Error fetching NFL scoreboard:",t),[]}},x9=(t,e)=>{const n={},s={};return t.forEach(a=>{const l=a.competitions?.[0];if(!l)return;const u=l.competitors,d=l.status,m=d.type.completed,g=d.type.state==="in",y=u.find(j=>j.homeAway==="home"),b=u.find(j=>j.homeAway==="away");if(!y||!b)return;const E=Vw(e,y.team.displayName),C=Vw(e,b.team.displayName);if(!E||!C)return;const V=E9(E,C);if(V&&(s[V]={homeTeam:{id:E.id,name:E.name,score:parseInt(y.score)||0},awayTeam:{id:C.id,name:C.name,score:parseInt(b.score)||0},status:d.type.description,isCompleted:m,isInProgress:g,period:d.period||0,clock:d.displayClock||""},m)){const j=parseInt(y.score)||0,I=parseInt(b.score)||0,L=j>I?E.id:C.id;n[V]=L}}),{gameResults:n,liveScores:s}},Vw=(t,e)=>{let n=t.find(s=>e.includes(s.city)&&e.includes(s.name));return n||(n=t.find(s=>e.includes(s.name))),n},E9=(t,e)=>{const n=[t.seed,e.seed].sort((a,l)=>a-l),s=t.conference.toLowerCase();return n[0]===2&&n[1]===7?`${s}-wc-0`:n[0]===3&&n[1]===6?`${s}-wc-1`:n[0]===4&&n[1]===5?`${s}-wc-2`:null},w9=async(t,e,n)=>{const s=await T9(),{gameResults:a,liveScores:l}=x9(s,e);return{gameResults:a,liveScores:l}};function S9(){const{roomId:t}=hd(),{isAdmin:e}=cs(),n=os(),[s,a]=M.useState([]),[l,u]=M.useState({}),[d,m]=M.useState({}),[g,y]=M.useState(""),[b,E]=M.useState(!0),[C,V]=M.useState(!1);M.useEffect(()=>{if(!e){n("/rooms");return}j();const A=setInterval(()=>{I()},3e4);return()=>clearInterval(A)},[t,e]);const j=async()=>{const A=await E0();a(A);const S=await an(rt(Ve,"rooms",t));S.exists()&&y(S.data().code);const N=await an(rt(Ve,"gameResults",t));N.exists()&&u(N.data().results||{}),E(!1),I(A)},I=async(A=s)=>{V(!0);try{const{gameResults:S,liveScores:N}=await w9(t,A,l);if(m(N),Object.keys(S).length>0){const U={...l,...S};await L(U)}}catch(S){console.error("Error syncing games:",S)}finally{V(!1)}},L=async A=>{await iu(rt(Ve,"gameResults",t),{results:A}),u(A)},k=(A,S)=>{const N={...l,[A]:S};L(N)},B=A=>{const S={...l};delete S[A],L(S)},ee=(A,S,N,U)=>{const P=l[A],q=d[A];return v.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:U}),q?.isInProgress&&v.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-500 font-bold",children:[v.jsx(w3,{className:"w-3 h-3 animate-pulse"}),"LIVE - Q",q.period," ",q.clock]}),q?.isCompleted&&v.jsx("div",{className:"text-xs text-green-500 font-bold",children:"FINAL"})]}),v.jsx("div",{className:"space-y-2",children:[S,N].map(D=>D&&v.jsxs("button",{onClick:()=>P===D.id?B(A):k(A,D.id),className:`w-full p-3 rounded-lg border-2 transition-all flex items-center justify-between ${P===D.id?"border-green-500 bg-green-500/20":P&&P!==D.id?"border-red-500/50 bg-red-500/10 opacity-50":"border-slate-700 hover:border-slate-600"}`,children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 flex items-center justify-center text-xs font-bold text-white",children:D.seed}),v.jsx("span",{className:"font-bold text-white",children:D.name})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[q&&v.jsx("span",{className:"text-xl font-black text-white",children:q.homeTeam.id===D.id?q.homeTeam.score:q.awayTeam.score}),P===D.id&&v.jsx(u3,{className:"w-5 h-5 text-green-500"})]})]},D.id))})]})};if(b)return v.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:v.jsx("div",{className:"text-white text-xl",children:"Loading..."})});const J=s.filter(A=>A.conference==="AFC"),ne=s.filter(A=>A.conference==="NFC");return v.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 overflow-hidden",children:v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),v.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:v.jsx(jr,{className:"w-6 h-6"})}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Game Results"}),v.jsxs("p",{className:"text-slate-400",children:["Room: ",g," - Click to manually set winners"]})]}),v.jsxs("button",{onClick:()=>I(),disabled:C,className:"flex items-center gap-2 px-6 py-3 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-xl hover:bg-blue-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[v.jsx(A3,{className:`w-5 h-5 ${C?"animate-spin":""}`}),C?"Syncing...":"Sync Live Scores"]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),v.jsxs("div",{className:"space-y-3",children:[ee("afc-wc-0",J[1],J[6],`#${J[1]?.seed} vs #${J[6]?.seed}`),ee("afc-wc-1",J[2],J[5],`#${J[2]?.seed} vs #${J[5]?.seed}`),ee("afc-wc-2",J[3],J[4],`#${J[3]?.seed} vs #${J[4]?.seed}`)]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),v.jsxs("div",{className:"space-y-3",children:[ee("afc-div-0",J[0],null,`#1 ${J[0]?.name} vs Winner`),ee("afc-div-1",null,null,"Winner vs Winner")]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),ee("afc-conf",null,null,"AFC Championship")]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),v.jsxs("div",{className:"space-y-3",children:[ee("nfc-wc-0",ne[1],ne[6],`#${ne[1]?.seed} vs #${ne[6]?.seed}`),ee("nfc-wc-1",ne[2],ne[5],`#${ne[2]?.seed} vs #${ne[5]?.seed}`),ee("nfc-wc-2",ne[3],ne[4],`#${ne[3]?.seed} vs #${ne[4]?.seed}`)]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),v.jsxs("div",{className:"space-y-3",children:[ee("nfc-div-0",ne[0],null,`#1 ${ne[0]?.name} vs Winner`),ee("nfc-div-1",null,null,"Winner vs Winner")]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),ee("nfc-conf",null,null,"NFC Championship")]})]})]}),v.jsxs("div",{className:"mt-8 max-w-md mx-auto",children:[v.jsx("h2",{className:"text-2xl font-black text-yellow-600/90 uppercase tracking-wider mb-4 text-center",children:"Super Bowl LX"}),ee("super-bowl",null,null,"Championship Game")]})]})]})}const Mw=[{id:"chiefs",name:"Chiefs",city:"Kansas City",conference:"AFC",color:"#E31837"},{id:"bills",name:"Bills",city:"Buffalo",conference:"AFC",color:"#00338D"},{id:"ravens",name:"Ravens",city:"Baltimore",conference:"AFC",color:"#241773"},{id:"texans",name:"Texans",city:"Houston",conference:"AFC",color:"#03202F"},{id:"steelers",name:"Steelers",city:"Pittsburgh",conference:"AFC",color:"#FFB612"},{id:"chargers",name:"Chargers",city:"Los Angeles",conference:"AFC",color:"#0080C6"},{id:"broncos",name:"Broncos",city:"Denver",conference:"AFC",color:"#FB4F14"},{id:"eagles",name:"Eagles",city:"Philadelphia",conference:"NFC",color:"#004C54"},{id:"lions",name:"Lions",city:"Detroit",conference:"NFC",color:"#0076B6"},{id:"rams",name:"Rams",city:"Los Angeles",conference:"NFC",color:"#003594"},{id:"buccaneers",name:"Buccaneers",city:"Tampa Bay",conference:"NFC",color:"#D50A0A"},{id:"vikings",name:"Vikings",city:"Minnesota",conference:"NFC",color:"#4F2683"},{id:"packers",name:"Packers",city:"Green Bay",conference:"NFC",color:"#203731"},{id:"commanders",name:"Commanders",city:"Washington",conference:"NFC",color:"#5A1414"}];function A9(){const{isAdmin:t}=cs(),e=os(),[n,s]=M.useState(Array(7).fill(null)),[a,l]=M.useState(Array(7).fill(null)),[u,d]=M.useState(!0),[m,g]=M.useState(!1);M.useEffect(()=>{if(!t){e("/rooms");return}y()},[t]);const y=async()=>{const V=await an(rt(Ve,"config","playoffs"));if(V.exists()){const j=V.data();s(j.afcTeams||Array(7).fill(null)),l(j.nfcTeams||Array(7).fill(null))}d(!1)},b=async()=>{g(!0);try{await iu(rt(Ve,"config","playoffs"),{afcTeams:n,nfcTeams:a,updatedAt:new Date}),alert("Playoff configuration saved!")}catch(V){console.error("Error saving config:",V),alert("Error saving configuration")}finally{g(!1)}},E=(V,j,I)=>{const L=Mw.find(B=>B.id===I);if(!L)return;const k={...L,seed:j+1};if(V==="AFC"){const B=[...n];B[j]=k,s(B)}else{const B=[...a];B[j]=k,l(B)}},C=(V,j)=>{const I=V==="AFC"?n:a,L=I[j],k=Mw.filter(B=>B.conference===V&&!I.some(ee=>ee?.id===B.id));return v.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[v.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:["Seed #",j+1]}),v.jsxs("select",{value:L?.id||"",onChange:B=>E(V,j,B.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-white font-bold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[v.jsx("option",{value:"",children:"Select Team"}),k.map(B=>v.jsxs("option",{value:B.id,children:[B.city," ",B.name]},B.id)),L&&v.jsxs("option",{value:L.id,children:[L.city," ",L.name]})]})]})};return u?v.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:v.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):v.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 overflow-hidden",children:v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),v.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[v.jsxs("div",{className:"flex items-center justify-between mb-8",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>e("/rooms"),className:"text-slate-400 hover:text-white transition",children:v.jsx(jr,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Playoff Configuration"}),v.jsx("p",{className:"text-slate-400",children:"Set the 14 playoff teams and their seeds"})]})]}),v.jsxs("button",{onClick:b,disabled:m,className:"flex items-center gap-2 px-6 py-3 bg-green-500/20 border border-green-500/30 text-green-400 rounded-xl hover:bg-green-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[v.jsx(C3,{className:"w-5 h-5"}),m?"Saving...":"Save Configuration"]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC Playoff Teams"}),[0,1,2,3,4,5,6].map(V=>C("AFC",V))]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC Playoff Teams"}),[0,1,2,3,4,5,6].map(V=>C("NFC",V))]})]})]})]})}function R9(){const{user:t,logout:e}=cs(),[n,s]=M.useState(!1),[a,l]=M.useState(""),u=async()=>{s(!0),l("");try{await O1(ti.currentUser),l("Verification email sent! Please check your inbox.")}catch{l("Error sending email. Please try again later.")}s(!1)};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-900 via-red-800 to-orange-900 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[v.jsx("div",{className:"flex items-center justify-center mb-6",children:v.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:v.jsx(IA,{className:"w-12 h-12 text-orange-600"})})}),v.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-gray-800",children:"Verify Your Email"}),v.jsxs("p",{className:"text-center text-gray-600 mb-6",children:["We sent a verification link to ",v.jsx("span",{className:"font-semibold",children:t?.email})]}),v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx(nd,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),v.jsxs("div",{className:"text-sm text-blue-800",children:[v.jsx("p",{className:"font-semibold mb-1",children:"Check your email"}),v.jsx("p",{children:"Click the verification link in the email to activate your account. You may need to check your spam folder."})]})]})}),a&&v.jsx("div",{className:`border rounded-lg p-3 mb-4 ${a.includes("sent")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:v.jsx("p",{className:"text-sm",children:a})}),v.jsx("button",{onClick:u,disabled:n,className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold mb-3 disabled:opacity-50",children:n?"Sending...":"Resend Verification Email"}),v.jsx("button",{onClick:e,className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Sign Out"})]})})}function C9(){const{user:t,isAdmin:e}=cs();return M.useEffect(()=>{(async()=>{if(t)try{const s=await an(rt(Ve,"users",t.uid));if(s.exists()){const a=s.data();console.log("Current user data:",a),console.log("isAdmin from context:",e),e&&!a.isAdmin&&(console.log("Setting admin status in Firestore..."),await FO(rt(Ve,"users",t.uid),{isAdmin:!0}),console.log("Admin status updated! Please refresh the page."),alert("Admin status has been set. Please refresh the page."))}else console.log("User document does not exist in Firestore")}catch(s){console.error("Error checking admin status:",s)}})()},[t,e]),null}function jo({children:t}){const{user:e,loading:n}=cs(),s=Ni();return n?v.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."}):e?e.emailVerified?v.jsxs(v.Fragment,{children:[v.jsx(C9,{}),t]}):v.jsx(R9,{}):v.jsx(Yw,{to:"/login",state:{from:s},replace:!0})}function N9(){return v.jsx(QO,{children:v.jsx(bI,{children:v.jsxs(QN,{children:[v.jsx(Ns,{path:"/login",element:v.jsx(j3,{})}),v.jsx(Ns,{path:"/rooms",element:v.jsx(jo,{children:v.jsx(L3,{})})}),v.jsx(Ns,{path:"/bracket/:roomId",element:v.jsx(jo,{children:v.jsx(y9,{})})}),v.jsx(Ns,{path:"/admin/brackets/:roomId",element:v.jsx(jo,{children:v.jsx(v9,{})})}),v.jsx(Ns,{path:"/leaderboard/:roomId",element:v.jsx(jo,{children:v.jsx(_9,{})})}),v.jsx(Ns,{path:"/game-results/:roomId",element:v.jsx(jo,{children:v.jsx(S9,{})})}),v.jsx(Ns,{path:"/admin/playoff-config",element:v.jsx(jo,{children:v.jsx(A9,{})})}),v.jsx(Ns,{path:"/",element:v.jsx(Yw,{to:"/rooms"})})]})})})}Z2.createRoot(document.getElementById("root")).render(v.jsx(M.StrictMode,{children:v.jsx(N9,{})}));
