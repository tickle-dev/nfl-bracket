(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Up={exports:{}},Nc={};var Cb;function W2(){if(Cb)return Nc;Cb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Nc.Fragment=e,Nc.jsx=n,Nc.jsxs=n,Nc}var Nb;function J2(){return Nb||(Nb=1,Up.exports=W2()),Up.exports}var y=J2(),Bp={exports:{}},Se={};var Ib;function Z2(){if(Ib)return Se;Ib=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function C(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function L(F,re,ue){this.props=F,this.context=re,this.refs=M,this.updater=ue||I}L.prototype.isReactComponent={},L.prototype.setState=function(F,re){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,re,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=L.prototype;function U(F,re,ue){this.props=F,this.context=re,this.refs=M,this.updater=ue||I}var Z=U.prototype=new B;Z.constructor=U,P(Z,L.prototype),Z.isPureReactComponent=!0;var J=Array.isArray;function ee(){}var E={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(F,re,ue){var me=ue.ref;return{$$typeof:t,type:F,key:re,ref:me!==void 0?me:null,props:ue}}function j(F,re){return N(F.type,re,F.props)}function V(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function H(F){var re={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return re[ue]})}var D=/\/+/g;function Ne(F,re){return typeof F=="object"&&F!==null&&F.key!=null?H(""+F.key):re.toString(36)}function le(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(ee,ee):(F.status="pending",F.then(function(re){F.status==="pending"&&(F.status="fulfilled",F.value=re)},function(re){F.status==="pending"&&(F.status="rejected",F.reason=re)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function G(F,re,ue,me,Te){var De=typeof F;(De==="undefined"||De==="boolean")&&(F=null);var He=!1;if(F===null)He=!0;else switch(De){case"bigint":case"string":case"number":He=!0;break;case"object":switch(F.$$typeof){case t:case e:He=!0;break;case v:return He=F._init,G(He(F._payload),re,ue,me,Te)}}if(He)return Te=Te(F),He=me===""?"."+Ne(F,0):me,J(Te)?(ue="",He!=null&&(ue=He.replace(D,"$&/")+"/"),G(Te,re,ue,"",function(Wr){return Wr})):Te!=null&&(V(Te)&&(Te=j(Te,ue+(Te.key==null||F&&F.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+He)),re.push(Te)),1;He=0;var zt=me===""?".":me+":";if(J(F))for(var ut=0;ut<F.length;ut++)me=F[ut],De=zt+Ne(me,ut),He+=G(me,re,ue,De,Te);else if(ut=C(F),typeof ut=="function")for(F=ut.call(F),ut=0;!(me=F.next()).done;)me=me.value,De=zt+Ne(me,ut++),He+=G(me,re,ue,De,Te);else if(De==="object"){if(typeof F.then=="function")return G(le(F),re,ue,me,Te);throw re=String(F),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return He}function oe(F,re,ue){if(F==null)return F;var me=[],Te=0;return G(F,me,"","",function(De){return re.call(ue,De,Te++)}),me}function fe(F){if(F._status===-1){var re=F._result;re=re(),re.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=re)}if(F._status===1)return F._result.default;throw F._result}var Ie=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Pe={map:oe,forEach:function(F,re,ue){oe(F,function(){re.apply(this,arguments)},ue)},count:function(F){var re=0;return oe(F,function(){re++}),re},toArray:function(F){return oe(F,function(re){return re})||[]},only:function(F){if(!V(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Se.Activity=x,Se.Children=Pe,Se.Component=L,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=U,Se.StrictMode=s,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Se.__COMPILER_RUNTIME={__proto__:null,c:function(F){return E.H.useMemoCache(F)}},Se.cache=function(F){return function(){return F.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(F,re,ue){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var me=P({},F.props),Te=F.key;if(re!=null)for(De in re.key!==void 0&&(Te=""+re.key),re)!S.call(re,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&re.ref===void 0||(me[De]=re[De]);var De=arguments.length-2;if(De===1)me.children=ue;else if(1<De){for(var He=Array(De),zt=0;zt<De;zt++)He[zt]=arguments[zt+2];me.children=He}return N(F.type,Te,me)},Se.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Se.createElement=function(F,re,ue){var me,Te={},De=null;if(re!=null)for(me in re.key!==void 0&&(De=""+re.key),re)S.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=re[me]);var He=arguments.length-2;if(He===1)Te.children=ue;else if(1<He){for(var zt=Array(He),ut=0;ut<He;ut++)zt[ut]=arguments[ut+2];Te.children=zt}if(F&&F.defaultProps)for(me in He=F.defaultProps,He)Te[me]===void 0&&(Te[me]=He[me]);return N(F,De,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(F){return{$$typeof:d,render:F}},Se.isValidElement=V,Se.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:fe}},Se.memo=function(F,re){return{$$typeof:g,type:F,compare:re===void 0?null:re}},Se.startTransition=function(F){var re=E.T,ue={};E.T=ue;try{var me=F(),Te=E.S;Te!==null&&Te(ue,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ee,Ie)}catch(De){Ie(De)}finally{re!==null&&ue.types!==null&&(re.types=ue.types),E.T=re}},Se.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Se.use=function(F){return E.H.use(F)},Se.useActionState=function(F,re,ue){return E.H.useActionState(F,re,ue)},Se.useCallback=function(F,re){return E.H.useCallback(F,re)},Se.useContext=function(F){return E.H.useContext(F)},Se.useDebugValue=function(){},Se.useDeferredValue=function(F,re){return E.H.useDeferredValue(F,re)},Se.useEffect=function(F,re){return E.H.useEffect(F,re)},Se.useEffectEvent=function(F){return E.H.useEffectEvent(F)},Se.useId=function(){return E.H.useId()},Se.useImperativeHandle=function(F,re,ue){return E.H.useImperativeHandle(F,re,ue)},Se.useInsertionEffect=function(F,re){return E.H.useInsertionEffect(F,re)},Se.useLayoutEffect=function(F,re){return E.H.useLayoutEffect(F,re)},Se.useMemo=function(F,re){return E.H.useMemo(F,re)},Se.useOptimistic=function(F,re){return E.H.useOptimistic(F,re)},Se.useReducer=function(F,re,ue){return E.H.useReducer(F,re,ue)},Se.useRef=function(F){return E.H.useRef(F)},Se.useState=function(F){return E.H.useState(F)},Se.useSyncExternalStore=function(F,re,ue){return E.H.useSyncExternalStore(F,re,ue)},Se.useTransition=function(){return E.H.useTransition()},Se.version="19.2.3",Se}var Db;function Cy(){return Db||(Db=1,Bp.exports=Z2()),Bp.exports}var k=Cy(),zp={exports:{}},Ic={},Fp={exports:{}},Hp={};var kb;function eN(){return kb||(kb=1,(function(t){function e(G,oe){var fe=G.length;G.push(oe);e:for(;0<fe;){var Ie=fe-1>>>1,Pe=G[Ie];if(0<a(Pe,oe))G[Ie]=oe,G[fe]=Pe,fe=Ie;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var oe=G[0],fe=G.pop();if(fe!==oe){G[0]=fe;e:for(var Ie=0,Pe=G.length,F=Pe>>>1;Ie<F;){var re=2*(Ie+1)-1,ue=G[re],me=re+1,Te=G[me];if(0>a(ue,fe))me<Pe&&0>a(Te,ue)?(G[Ie]=Te,G[me]=fe,Ie=me):(G[Ie]=ue,G[re]=fe,Ie=re);else if(me<Pe&&0>a(Te,fe))G[Ie]=Te,G[me]=fe,Ie=me;else break e}}return oe}function a(G,oe){var fe=G.sortIndex-oe.sortIndex;return fe!==0?fe:G.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],g=[],v=1,x=null,T=3,C=!1,I=!1,P=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function Z(G){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=G)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function J(G){if(P=!1,Z(G),!I)if(n(m)!==null)I=!0,ee||(ee=!0,H());else{var oe=n(g);oe!==null&&le(J,oe.startTime-G)}}var ee=!1,E=-1,S=5,N=-1;function j(){return M?!0:!(t.unstable_now()-N<S)}function V(){if(M=!1,ee){var G=t.unstable_now();N=G;var oe=!0;try{e:{I=!1,P&&(P=!1,B(E),E=-1),C=!0;var fe=T;try{t:{for(Z(G),x=n(m);x!==null&&!(x.expirationTime>G&&j());){var Ie=x.callback;if(typeof Ie=="function"){x.callback=null,T=x.priorityLevel;var Pe=Ie(x.expirationTime<=G);if(G=t.unstable_now(),typeof Pe=="function"){x.callback=Pe,Z(G),oe=!0;break t}x===n(m)&&s(m),Z(G)}else s(m);x=n(m)}if(x!==null)oe=!0;else{var F=n(g);F!==null&&le(J,F.startTime-G),oe=!1}}break e}finally{x=null,T=fe,C=!1}oe=void 0}}finally{oe?H():ee=!1}}}var H;if(typeof U=="function")H=function(){U(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ne=D.port2;D.port1.onmessage=V,H=function(){Ne.postMessage(null)}}else H=function(){L(V,0)};function le(G,oe){E=L(function(){G(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(G){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var fe=T;T=oe;try{return G()}finally{T=fe}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=T;T=G;try{return oe()}finally{T=fe}},t.unstable_scheduleCallback=function(G,oe,fe){var Ie=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,G){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=fe+Pe,G={id:v++,callback:oe,priorityLevel:G,startTime:fe,expirationTime:Pe,sortIndex:-1},fe>Ie?(G.sortIndex=fe,e(g,G),n(m)===null&&G===n(g)&&(P?(B(E),E=-1):P=!0,le(J,fe-Ie))):(G.sortIndex=Pe,e(m,G),I||C||(I=!0,ee||(ee=!0,H()))),G},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(G){var oe=T;return function(){var fe=T;T=oe;try{return G.apply(this,arguments)}finally{T=fe}}}})(Hp)),Hp}var Mb;function tN(){return Mb||(Mb=1,Fp.exports=eN()),Fp.exports}var qp={exports:{}},ln={};var Vb;function nN(){if(Vb)return ln;Vb=1;var t=Cy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},ln.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:C}):v==="script"&&s.d.X(m,{crossOrigin:x,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},ln.requestFormReset=function(m){s.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var jb;function iN(){if(jb)return qp.exports;jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qp.exports=nN(),qp.exports}var Pb;function sN(){if(Pb)return Ic;Pb=1;var t=tN(),e=Cy(),n=iN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===c)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var b=!1,A=f.child;A;){if(A===o){b=!0,o=f,c=p;break}if(A===c){b=!0,c=f,o=p;break}A=A.sibling}if(!b){for(A=p.child;A;){if(A===o){b=!0,o=p,c=f;break}if(A===c){b=!0,c=p,o=f;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case J:return"Suspense";case ee:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case U:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case Z:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case E:return r=i.displayName||null,r!==null?r:Ne(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return Ne(i(r))}catch{}}return null}var le=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],Pe=-1;function F(i){return{current:i}}function re(i){0>Pe||(i.current=Ie[Pe],Ie[Pe]=null,Pe--)}function ue(i,r){Pe++,Ie[Pe]=i.current,i.current=r}var me=F(null),Te=F(null),De=F(null),He=F(null);function zt(i,r){switch(ue(De,r),ue(Te,i),ue(me,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Wx(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Wx(r),i=Jx(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(me),ue(me,i)}function ut(){re(me),re(Te),re(De)}function Wr(i){i.memoizedState!==null&&ue(He,i);var r=me.current,o=Jx(r,i.type);r!==o&&(ue(Te,i),ue(me,o))}function Ka(i){Te.current===i&&(re(me),re(Te)),He.current===i&&(re(He),Sc._currentValue=fe)}var $a,Ya;function Ii(i){if($a===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$a=r&&r[1]||"",Ya=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+i+Ya}var Sl=!1;function Jr(i,r){if(!i||Sl)return"";Sl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Q=W}Reflect.construct(i,[],se)}else{try{se.call()}catch(W){Q=W}i.call(se.prototype)}}else{try{throw Error()}catch(W){Q=W}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],A=p[1];if(b&&A){var O=b.split(`
`),Y=A.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===Y.length)for(c=O.length-1,f=Y.length-1;1<=c&&0<=f&&O[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==Y[f]){var te=`
`+O[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=f);break}}}finally{Sl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ii(o):""}function Al(i,r){switch(i.tag){case 26:case 27:case 5:return Ii(i.type);case 16:return Ii("Lazy");case 13:return i.child!==r&&r!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Jr(i.type,!1);case 11:return Jr(i.type.render,!1);case 1:return Jr(i.type,!0);case 31:return Ii("Activity");default:return""}}function Rl(i){try{var r="",o=null;do r+=Al(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ct=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,Gs=t.unstable_cancelCallback,zd=t.unstable_shouldYield,ku=t.unstable_requestPaint,mn=t.unstable_now,Zr=t.unstable_getCurrentPriorityLevel,Cl=t.unstable_ImmediatePriority,Nl=t.unstable_UserBlockingPriority,Ks=t.unstable_NormalPriority,Fd=t.unstable_LowPriority,Mu=t.unstable_IdlePriority,Vu=t.log,ju=t.unstable_setDisableYieldValue,ci=null,Xt=null;function Hn(i){if(typeof Vu=="function"&&ju(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ci,i)}catch{}}var bt=Math.clz32?Math.clz32:Ou,Pu=Math.log,Qa=Math.LN2;function Ou(i){return i>>>=0,i===0?32:31-(Pu(i)/Qa|0)|0}var Di=256,ea=262144,Nt=4194304;function ki(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Mi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~p,c!==0?f=ki(c):(b&=A,b!==0?f=ki(b):o||(o=A&~i,o!==0&&(f=ki(o))))):(A=c&~p,A!==0?f=ki(A):b!==0?f=ki(b):o||(o=c&~i,o!==0&&(f=ki(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Hd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function Vi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ta(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qd(i,r,o,c,f,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,O=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var te=31-bt(o),se=1<<te;A[te]=0,O[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var W=Q[te];W!==null&&(W.lane&=-536870913)}o&=~se}c!==0&&na(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~r))}function na(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-bt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Il(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-bt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Dl(i,r){var o=r&-r;return o=(o&42)!==0?1:ia(o),(o&(i.suspendedLanes|r))!==0?0:o}function ia(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function us(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Uu(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:bb(i.type))}function hi(i,r){var o=oe.p;try{return oe.p=i,r()}finally{oe.p=o}}var fi=Math.random().toString(36).slice(2),It="__reactFiber$"+fi,Kt="__reactProps$"+fi,ji="__reactContainer$"+fi,Xa="__reactEvents$"+fi,Gd="__reactListeners$"+fi,Bu="__reactHandles$"+fi,zu="__reactResources$"+fi,Pi="__reactMarker$"+fi;function Wa(i){delete i[It],delete i[Kt],delete i[Xa],delete i[Gd],delete i[Bu]}function Oi(i){var r=i[It];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ji]||o[It]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=rb(i);i!==null;){if(o=i[It])return o;i=rb(i)}return r}i=o,o=i.parentNode}return null}function qn(i){if(i=i[It]||i[ji]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Nn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Li(i){var r=i[zu];return r||(r=i[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(i){i[Pi]=!0}var kl=new Set,Ml={};function Ui(i,r){Bi(i,r),Bi(i+"Capture",r)}function Bi(i,r){for(Ml[i]=r,i=0;i<r.length;i++)kl.add(r[i])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},Pl={};function Fu(i){return Ct.call(Pl,i)?!0:Ct.call(jl,i)?!1:Vl.test(i)?Pl[i]=!0:(jl[i]=!0,!1)}function Ja(i,r,o){if(Fu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function In(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function kt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $s(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ol(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xe(i){if(!i._valueTracker){var r=$s(i)?"checked":"value";i._valueTracker=Ol(i,r,""+i[r])}}function sa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=$s(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ra=/[\n"\\]/g;function _n(i){return i.replace(ra,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Za(i,r,o,c,f,p,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+$t(r)):i.value!==""+$t(r)&&(i.value=""+$t(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Ll(i,b,$t(r)):o!=null?Ll(i,b,$t(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+$t(A):i.removeAttribute("name")}function Hu(i,r,o,c,f,p,b,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Xe(i);return}o=o!=null?""+$t(o):"",r=r!=null?""+$t(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Xe(i)}function Ll(i,r,o){r==="number"&&zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ys(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+$t(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function qu(i,r,o){if(r!=null&&(r=""+$t(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+$t(o):""}function Qs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(le(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=$t(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Xe(i)}function xn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Gu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Bl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Ul(i,f,c)}else for(var p in r)r.hasOwnProperty(p)&&Ul(i,p,r[p])}function eo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(i){return Xs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var zl=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ws=null,Fi=null;function aa(i){var r=qn(i);if(r&&(i=r.stateNode)){var o=i[Kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Za(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[Kt]||null;if(!f)throw Error(s(90));Za(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&sa(c)}break e;case"textarea":qu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ys(i,!!o.multiple,r,!1)}}}var no=!1;function Js(i,r,o){if(no)return i(r,o);no=!0;try{var c=i(r);return c}finally{if(no=!1,(Ws!==null||Fi!==null)&&(Uh(),Ws&&(r=Ws,i=Fi,Fi=Ws=null,aa(r),i)))for(r=0;r<i.length;r++)aa(i[r])}}function mi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Kt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){oa=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{oa=!1}var Hi=null,Fl=null,la=null;function Hl(){if(la)return la;var i,r=Fl,o=r.length,c,f="value"in Hi?Hi.value:Hi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===f[p-c];c++);return la=f.slice(i,1<c?1-c:void 0)}function ca(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function pi(){return!1}function Wt(i){function r(o,c,f,p,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?hs:pi,this.isPropagationStopped=pi,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),r}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Wt(fs),Zs=x({},fs,{view:0,detail:0}),ql=Wt(Zs),er,io,Gi,so=x({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(er=i.screenX-Gi.screenX,io=i.screenY-Gi.screenY):io=er=0,Gi=i),er)},movementY:function(i){return"movementY"in i?i.movementY:io}}),Gl=Wt(so),ua=x({},so,{dataTransfer:0}),$u=Wt(ua),Yu=x({},Zs,{relatedTarget:0}),ha=Wt(Yu),Kl=x({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Wt(Kl),ro=x({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xu=Wt(ro),Wu=x({},fs,{data:0}),Ki=Wt(Wu),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=eh[i])?!!r[i]:!1}function tr(){return th}var pn=x({},Zs,{key:function(i){if(i.key){var r=Ju[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nh=Wt(pn),ih=x({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=Wt(ih),h=x({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),_=Wt(h),w=x({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Wt(w),K=x({},so,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Wt(K),ce=x({},fs,{newState:0,oldState:0}),Re=Wt(ce),wt=[9,13,27,32],$e=Kn&&"CompositionEvent"in window,ht=null;Kn&&"documentMode"in document&&(ht=document.documentMode);var $n=Kn&&"TextEvent"in window&&!ht,$i=Kn&&(!$e||ht&&8<ht&&11>=ht),gi=" ",yi=!1;function fa(i,r){switch(i){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oo=!1;function bC(i,r){switch(i){case"compositionend":return ao(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function wC(i,r){if(oo)return i==="compositionend"||!$e&&fa(i,r)?(i=Hl(),la=Fl=Hi=null,oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $i&&r.locale!=="ko"?null:r.data;default:return null}}var TC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!TC[i.type]:r==="textarea"}function cv(i,r,o,c){Ws?Fi?Fi.push(c):Fi=[c]:Ws=c,r=Kh(r,"onChange"),0<r.length&&(o=new qi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var $l=null,Yl=null;function EC(i){Gx(i,0)}function sh(i){var r=Nn(i);if(sa(r))return i}function uv(i,r){if(i==="change")return r}var hv=!1;if(Kn){var Kd;if(Kn){var $d="oninput"in document;if(!$d){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),$d=typeof fv.oninput=="function"}Kd=$d}else Kd=!1;hv=Kd&&(!document.documentMode||9<document.documentMode)}function dv(){$l&&($l.detachEvent("onpropertychange",mv),Yl=$l=null)}function mv(i){if(i.propertyName==="value"&&sh(Yl)){var r=[];cv(r,Yl,i,Gn(i)),Js(EC,r)}}function SC(i,r,o){i==="focusin"?(dv(),$l=r,Yl=o,$l.attachEvent("onpropertychange",mv)):i==="focusout"&&dv()}function AC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sh(Yl)}function RC(i,r){if(i==="click")return sh(r)}function CC(i,r){if(i==="input"||i==="change")return sh(r)}function NC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Dn=typeof Object.is=="function"?Object.is:NC;function Ql(i,r){if(Dn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Ct.call(r,f)||!Dn(i[f],r[f]))return!1}return!0}function pv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gv(i,r){var o=pv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=pv(o)}}function yv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?yv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function vv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=zi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=zi(i.document)}return r}function Yd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var IC=Kn&&"documentMode"in document&&11>=document.documentMode,lo=null,Qd=null,Xl=null,Xd=!1;function _v(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xd||lo==null||lo!==zi(c)||(c=lo,"selectionStart"in c&&Yd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xl&&Ql(Xl,c)||(Xl=c,c=Kh(Qd,"onSelect"),0<c.length&&(r=new qi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=lo)))}function da(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var co={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Wd={},xv={};Kn&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ma(i){if(Wd[i])return Wd[i];if(!co[i])return i;var r=co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in xv)return Wd[i]=r[o];return i}var bv=ma("animationend"),wv=ma("animationiteration"),Tv=ma("animationstart"),DC=ma("transitionrun"),kC=ma("transitionstart"),MC=ma("transitioncancel"),Ev=ma("transitionend"),Sv=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function vi(i,r){Sv.set(i,r),Ui(r,[i])}var rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Yn=[],uo=0,Zd=0;function ah(){for(var i=uo,r=Zd=uo=0;r<i;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var f=Yn[r];Yn[r++]=null;var p=Yn[r];if(Yn[r++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}p!==0&&Av(o,f,p)}}function oh(i,r,o,c){Yn[uo++]=i,Yn[uo++]=r,Yn[uo++]=o,Yn[uo++]=c,Zd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function em(i,r,o,c){return oh(i,r,o,c),lh(i)}function pa(i,r){return oh(i,null,null,r),lh(i)}function Av(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-bt(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),p):null}function lh(i){if(50<vc)throw vc=0,cp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ho={};function VC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,r,o,c){return new VC(i,r,o,c)}function tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ms(i,r){var o=i.alternate;return o===null?(o=kn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Rv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ch(i,r,o,c,f,p){var b=0;if(c=i,typeof i=="function")tm(i)&&(b=1);else if(typeof i=="string")b=U2(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=kn(31,o,r,f),i.elementType=N,i.lanes=p,i;case P:return ga(o.children,f,p,r);case M:b=8,f|=24;break;case L:return i=kn(12,o,r,f|2),i.elementType=L,i.lanes=p,i;case J:return i=kn(13,o,r,f),i.elementType=J,i.lanes=p,i;case ee:return i=kn(19,o,r,f),i.elementType=ee,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:b=10;break e;case B:b=9;break e;case Z:b=11;break e;case E:b=14;break e;case S:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=kn(b,o,r,f),r.elementType=i,r.type=c,r.lanes=p,r}function ga(i,r,o,c){return i=kn(7,i,c,r),i.lanes=o,i}function nm(i,r,o){return i=kn(6,i,null,r),i.lanes=o,i}function Cv(i){var r=kn(18,null,null,0);return r.stateNode=i,r}function im(i,r,o){return r=kn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Nv=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var o=Nv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Rl(r)},Nv.set(i,r),r)}return{value:i,source:r,stack:Rl(r)}}var fo=[],mo=0,uh=null,Wl=0,Xn=[],Wn=0,nr=null,Yi=1,Qi="";function ps(i,r){fo[mo++]=Wl,fo[mo++]=uh,uh=i,Wl=r}function Iv(i,r,o){Xn[Wn++]=Yi,Xn[Wn++]=Qi,Xn[Wn++]=nr,nr=i;var c=Yi;i=Qi;var f=32-bt(c)-1;c&=~(1<<f),o+=1;var p=32-bt(r)+f;if(30<p){var b=f-f%5;p=(c&(1<<b)-1).toString(32),c>>=b,f-=b,Yi=1<<32-bt(r)+f|o<<f|c,Qi=p+i}else Yi=1<<p|o<<f|c,Qi=i}function sm(i){i.return!==null&&(ps(i,1),Iv(i,1,0))}function rm(i){for(;i===uh;)uh=fo[--mo],fo[mo]=null,Wl=fo[--mo],fo[mo]=null;for(;i===nr;)nr=Xn[--Wn],Xn[Wn]=null,Qi=Xn[--Wn],Xn[Wn]=null,Yi=Xn[--Wn],Xn[Wn]=null}function Dv(i,r){Xn[Wn++]=Yi,Xn[Wn++]=Qi,Xn[Wn++]=nr,Yi=r.id,Qi=r.overflow,nr=i}var Jt=null,ot=null,Fe=!1,ir=null,Jn=!1,am=Error(s(519));function sr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Qn(r,i)),am}function kv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[It]=i,r[Kt]=c,o){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(o=0;o<xc.length;o++)je(xc[o],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Hu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Qs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Qx(r.textContent,o)?(c.popover!=null&&(je("beforetoggle",r),je("toggle",r)),c.onScroll!=null&&je("scroll",r),c.onScrollEnd!=null&&je("scrollend",r),c.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||sr(i,!0)}function Mv(i){for(Jt=i.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Jt=Jt.return}}function po(i){if(i!==Jt)return!1;if(!Fe)return Mv(i),Fe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ep(i.type,i.memoizedProps)),o=!o),o&&ot&&sr(i),Mv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=sb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=sb(i)}else r===27?(r=ot,vr(i.type)?(i=Np,Np=null,ot=i):ot=r):ot=Jt?ei(i.stateNode.nextSibling):null;return!0}function ya(){ot=Jt=null,Fe=!1}function om(){var i=ir;return i!==null&&(En===null?En=i:En.push.apply(En,i),ir=null),i}function Jl(i){ir===null?ir=[i]:ir.push(i)}var lm=F(null),va=null,gs=null;function rr(i,r,o){ue(lm,r._currentValue),r._currentValue=o}function ys(i){i._currentValue=lm.current,re(lm)}function cm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function um(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=f;for(var O=0;O<r.length;O++)if(A.context===r[O]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),cm(p.return,o,i),c||(b=null);break e}p=A.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),cm(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function go(i,r,o,c){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=f.type;Dn(f.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(f===He.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Sc):i=[Sc])}f=f.return}i!==null&&um(r,i,o,c),r.flags|=262144}function hh(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _a(i){va=i,gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return Vv(va,i)}function fh(i,r){return va===null&&_a(i),Vv(i,r)}function Vv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},gs===null){if(i===null)throw Error(s(308));gs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else gs=gs.next=r;return o}var jC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},PC=t.unstable_scheduleCallback,OC=t.unstable_NormalPriority,Mt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new jC,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&PC(OC,function(){i.controller.abort()})}var ec=null,fm=0,yo=0,vo=null;function LC(i,r){if(ec===null){var o=ec=[];fm=0,yo=pp(),vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return fm++,r.then(jv,jv),r}function jv(){if(--fm===0&&ec!==null){vo!==null&&(vo.status="fulfilled");var i=ec;ec=null,yo=0,vo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function UC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Pv=G.S;G.S=function(i,r){_x=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&LC(i,r),Pv!==null&&Pv(i,r)};var xa=F(null);function dm(){var i=xa.current;return i!==null?i:st.pooledCache}function dh(i,r){r===null?ue(xa,xa.current):ue(xa,r.pool)}function Ov(){var i=dm();return i===null?null:{parent:Mt._currentValue,pool:i}}var _o=Error(s(460)),mm=Error(s(474)),mh=Error(s(542)),ph={then:function(){}};function Lv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Uv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,zv(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,zv(i),i}throw wa=r,_o}}function ba(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wa=o,_o):o}}var wa=null;function Bv(){if(wa===null)throw Error(s(459));var i=wa;return wa=null,i}function zv(i){if(i===_o||i===mh)throw Error(s(483))}var xo=null,tc=0;function gh(i){var r=tc;return tc+=1,xo===null&&(xo=[]),Uv(xo,i,r)}function nc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function yh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Fv(i){function r(q,z){if(i){var $=q.deletions;$===null?(q.deletions=[z],q.flags|=16):$.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)r(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=ms(q,z),q.index=0,q.sibling=null,q}function p(q,z,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<z?(q.flags|=67108866,z):$):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,z,$,ne){return z===null||z.tag!==6?(z=nm($,q.mode,ne),z.return=q,z):(z=f(z,$),z.return=q,z)}function O(q,z,$,ne){var ye=$.type;return ye===P?te(q,z,$.props.children,ne,$.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&ba(ye)===z.type)?(z=f(z,$.props),nc(z,$),z.return=q,z):(z=ch($.type,$.key,$.props,null,q.mode,ne),nc(z,$),z.return=q,z)}function Y(q,z,$,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=im($,q.mode,ne),z.return=q,z):(z=f(z,$.children||[]),z.return=q,z)}function te(q,z,$,ne,ye){return z===null||z.tag!==7?(z=ga($,q.mode,ne,ye),z.return=q,z):(z=f(z,$),z.return=q,z)}function se(q,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=nm(""+z,q.mode,$),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return $=ch(z.type,z.key,z.props,null,q.mode,$),nc($,z),$.return=q,$;case I:return z=im(z,q.mode,$),z.return=q,z;case S:return z=ba(z),se(q,z,$)}if(le(z)||H(z))return z=ga(z,q.mode,$,null),z.return=q,z;if(typeof z.then=="function")return se(q,gh(z),$);if(z.$$typeof===U)return se(q,fh(q,z),$);yh(q,z)}return null}function Q(q,z,$,ne){var ye=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ye!==null?null:A(q,z,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return $.key===ye?O(q,z,$,ne):null;case I:return $.key===ye?Y(q,z,$,ne):null;case S:return $=ba($),Q(q,z,$,ne)}if(le($)||H($))return ye!==null?null:te(q,z,$,ne,null);if(typeof $.then=="function")return Q(q,z,gh($),ne);if($.$$typeof===U)return Q(q,z,fh(q,$),ne);yh(q,$)}return null}function W(q,z,$,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get($)||null,A(z,q,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return q=q.get(ne.key===null?$:ne.key)||null,O(z,q,ne,ye);case I:return q=q.get(ne.key===null?$:ne.key)||null,Y(z,q,ne,ye);case S:return ne=ba(ne),W(q,z,$,ne,ye)}if(le(ne)||H(ne))return q=q.get($)||null,te(z,q,ne,ye,null);if(typeof ne.then=="function")return W(q,z,$,gh(ne),ye);if(ne.$$typeof===U)return W(q,z,$,fh(z,ne),ye);yh(z,ne)}return null}function pe(q,z,$,ne){for(var ye=null,Ge=null,ge=z,ke=z=0,Le=null;ge!==null&&ke<$.length;ke++){ge.index>ke?(Le=ge,ge=null):Le=ge.sibling;var Ke=Q(q,ge,$[ke],ne);if(Ke===null){ge===null&&(ge=Le);break}i&&ge&&Ke.alternate===null&&r(q,ge),z=p(Ke,z,ke),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke,ge=Le}if(ke===$.length)return o(q,ge),Fe&&ps(q,ke),ye;if(ge===null){for(;ke<$.length;ke++)ge=se(q,$[ke],ne),ge!==null&&(z=p(ge,z,ke),Ge===null?ye=ge:Ge.sibling=ge,Ge=ge);return Fe&&ps(q,ke),ye}for(ge=c(ge);ke<$.length;ke++)Le=W(ge,q,ke,$[ke],ne),Le!==null&&(i&&Le.alternate!==null&&ge.delete(Le.key===null?ke:Le.key),z=p(Le,z,ke),Ge===null?ye=Le:Ge.sibling=Le,Ge=Le);return i&&ge.forEach(function(Tr){return r(q,Tr)}),Fe&&ps(q,ke),ye}function _e(q,z,$,ne){if($==null)throw Error(s(151));for(var ye=null,Ge=null,ge=z,ke=z=0,Le=null,Ke=$.next();ge!==null&&!Ke.done;ke++,Ke=$.next()){ge.index>ke?(Le=ge,ge=null):Le=ge.sibling;var Tr=Q(q,ge,Ke.value,ne);if(Tr===null){ge===null&&(ge=Le);break}i&&ge&&Tr.alternate===null&&r(q,ge),z=p(Tr,z,ke),Ge===null?ye=Tr:Ge.sibling=Tr,Ge=Tr,ge=Le}if(Ke.done)return o(q,ge),Fe&&ps(q,ke),ye;if(ge===null){for(;!Ke.done;ke++,Ke=$.next())Ke=se(q,Ke.value,ne),Ke!==null&&(z=p(Ke,z,ke),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke);return Fe&&ps(q,ke),ye}for(ge=c(ge);!Ke.done;ke++,Ke=$.next())Ke=W(ge,q,ke,Ke.value,ne),Ke!==null&&(i&&Ke.alternate!==null&&ge.delete(Ke.key===null?ke:Ke.key),z=p(Ke,z,ke),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke);return i&&ge.forEach(function(X2){return r(q,X2)}),Fe&&ps(q,ke),ye}function nt(q,z,$,ne){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case C:e:{for(var ye=$.key;z!==null;){if(z.key===ye){if(ye=$.type,ye===P){if(z.tag===7){o(q,z.sibling),ne=f(z,$.props.children),ne.return=q,q=ne;break e}}else if(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&ba(ye)===z.type){o(q,z.sibling),ne=f(z,$.props),nc(ne,$),ne.return=q,q=ne;break e}o(q,z);break}else r(q,z);z=z.sibling}$.type===P?(ne=ga($.props.children,q.mode,ne,$.key),ne.return=q,q=ne):(ne=ch($.type,$.key,$.props,null,q.mode,ne),nc(ne,$),ne.return=q,q=ne)}return b(q);case I:e:{for(ye=$.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){o(q,z.sibling),ne=f(z,$.children||[]),ne.return=q,q=ne;break e}else{o(q,z);break}else r(q,z);z=z.sibling}ne=im($,q.mode,ne),ne.return=q,q=ne}return b(q);case S:return $=ba($),nt(q,z,$,ne)}if(le($))return pe(q,z,$,ne);if(H($)){if(ye=H($),typeof ye!="function")throw Error(s(150));return $=ye.call($),_e(q,z,$,ne)}if(typeof $.then=="function")return nt(q,z,gh($),ne);if($.$$typeof===U)return nt(q,z,fh(q,$),ne);yh(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(o(q,z.sibling),ne=f(z,$),ne.return=q,q=ne):(o(q,z),ne=nm($,q.mode,ne),ne.return=q,q=ne),b(q)):o(q,z)}return function(q,z,$,ne){try{tc=0;var ye=nt(q,z,$,ne);return xo=null,ye}catch(ge){if(ge===_o||ge===mh)throw ge;var Ge=kn(29,ge,null,q.mode);return Ge.lanes=ne,Ge.return=q,Ge}}}var Ta=Fv(!0),Hv=Fv(!1),ar=!1;function pm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function or(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function lr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=lh(i),Av(i,null,o),r}return oh(i,c,r,o),lh(i)}function ic(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Il(i,o)}}function ym(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var vm=!1;function sc(){if(vm){var i=vo;if(i!==null)throw i}}function rc(i,r,o,c){vm=!1;var f=i.updateQueue;ar=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,Y=O.next;O.next=null,b===null?p=Y:b.next=Y,b=O;var te=i.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==b&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=O))}if(p!==null){var se=f.baseState;b=0,te=Y=O=null,A=p;do{var Q=A.lane&-536870913,W=Q!==A.lane;if(W?(Oe&Q)===Q:(c&Q)===Q){Q!==0&&Q===yo&&(vm=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=i,_e=A;Q=r;var nt=o;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){se=pe.call(nt,se,Q);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,Q=typeof pe=="function"?pe.call(nt,se,Q):pe,Q==null)break e;se=x({},se,Q);break e;case 2:ar=!0}}Q=A.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=W,O=se):te=te.next=W,b|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;W=A,A=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);te===null&&(O=se),f.baseState=O,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),dr|=b,i.lanes=b,i.memoizedState=se}}function qv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Gv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)qv(o[i],r)}var bo=F(null),vh=F(0);function Kv(i,r){i=As,ue(vh,i),ue(bo,r),As=i|r.baseLanes}function _m(){ue(vh,As),ue(bo,bo.current)}function xm(){As=vh.current,re(bo),re(vh)}var Mn=F(null),Zn=null;function cr(i){var r=i.alternate;ue(Tt,Tt.current&1),ue(Mn,i),Zn===null&&(r===null||bo.current!==null||r.memoizedState!==null)&&(Zn=i)}function bm(i){ue(Tt,Tt.current),ue(Mn,i),Zn===null&&(Zn=i)}function $v(i){i.tag===22?(ue(Tt,Tt.current),ue(Mn,i),Zn===null&&(Zn=i)):ur()}function ur(){ue(Tt,Tt.current),ue(Mn,Mn.current)}function Vn(i){re(Mn),Zn===i&&(Zn=null),re(Tt)}var Tt=F(0);function _h(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Rp(o)||Cp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vs=0,Ce=null,et=null,Vt=null,xh=!1,wo=!1,Ea=!1,bh=0,ac=0,To=null,BC=0;function yt(){throw Error(s(321))}function wm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Dn(i[o],r[o]))return!1;return!0}function Tm(i,r,o,c,f,p){return vs=p,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=i===null||i.memoizedState===null?I_:Lm,Ea=!1,p=o(c,f),Ea=!1,wo&&(p=Qv(r,o,c,f)),Yv(i),p}function Yv(i){G.H=cc;var r=et!==null&&et.next!==null;if(vs=0,Vt=et=Ce=null,xh=!1,ac=0,To=null,r)throw Error(s(300));i===null||jt||(i=i.dependencies,i!==null&&hh(i)&&(jt=!0))}function Qv(i,r,o,c){Ce=i;var f=0;do{if(wo&&(To=null),ac=0,wo=!1,25<=f)throw Error(s(301));if(f+=1,Vt=et=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=D_,p=r(o,c)}while(wo);return p}function zC(){var i=G.H,r=i.useState()[0];return r=typeof r.then=="function"?oc(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ce.flags|=1024),r}function Em(){var i=bh!==0;return bh=0,i}function Sm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Am(i){if(xh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xh=!1}vs=0,Vt=et=Ce=null,wo=!1,ac=bh=0,To=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ce.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Et(){if(et===null){var i=Ce.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Vt===null?Ce.memoizedState:Vt.next;if(r!==null)Vt=r,et=i;else{if(i===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Vt===null?Ce.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(i){var r=ac;return ac+=1,To===null&&(To=[]),i=Uv(To,i,r),r=Ce,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?I_:Lm),i}function Th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return oc(i);if(i.$$typeof===U)return Zt(i)}throw Error(s(438,String(i)))}function Rm(i){var r=null,o=Ce.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wh(),Ce.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=j;return r.index++,o}function _s(i,r){return typeof r=="function"?r(i):r}function Eh(i){var r=Et();return Cm(r,et,i)}function Cm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}r.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var A=b=null,O=null,Y=r,te=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Oe&se)===se:(vs&se)===se){var Q=Y.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===yo&&(te=!0);else if((vs&Q)===Q){Y=Y.next,Q===yo&&(te=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(A=O=se,b=p):O=O.next=se,Ce.lanes|=Q,dr|=Q;se=Y.action,Ea&&o(p,se),p=Y.hasEagerState?Y.eagerState:o(p,se)}else Q={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(A=O=Q,b=p):O=O.next=Q,Ce.lanes|=se,dr|=se;Y=Y.next}while(Y!==null&&Y!==r);if(O===null?b=p:O.next=A,!Dn(p,i.memoizedState)&&(jt=!0,te&&(o=vo,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=O,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Nm(i){var r=Et(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=i(p,b.action),b=b.next;while(b!==f);Dn(p,r.memoizedState)||(jt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Xv(i,r,o){var c=Ce,f=Et(),p=Fe;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Dn((et||f).memoizedState,o);if(b&&(f.memoizedState=o,jt=!0),f=f.queue,km(Zv.bind(null,c,f,i),[i]),f.getSnapshot!==r||b||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,Eo(9,{destroy:void 0},Jv.bind(null,c,f,o,r),null),st===null)throw Error(s(349));p||(vs&127)!==0||Wv(c,r,o)}return o}function Wv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ce.updateQueue,r===null?(r=wh(),Ce.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Jv(i,r,o,c){r.value=o,r.getSnapshot=c,e_(r)&&t_(i)}function Zv(i,r,o){return o(function(){e_(r)&&t_(i)})}function e_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Dn(i,o)}catch{return!0}}function t_(i){var r=pa(i,2);r!==null&&Sn(r,i,2)}function Im(i){var r=gn();if(typeof i=="function"){var o=i;if(i=o(),Ea){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:i},r}function n_(i,r,o,c){return i.baseState=o,Cm(i,et,typeof c=="function"?c:_s)}function FC(i,r,o,c,f){if(Rh(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};G.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,i_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function i_(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var p=G.T,b={};G.T=b;try{var A=o(f,c),O=G.S;O!==null&&O(b,A),s_(i,r,A)}catch(Y){Dm(i,r,Y)}finally{p!==null&&b.types!==null&&(p.types=b.types),G.T=p}}else try{p=o(f,c),s_(i,r,p)}catch(Y){Dm(i,r,Y)}}function s_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){r_(i,r,c)},function(c){return Dm(i,r,c)}):r_(i,r,o)}function r_(i,r,o){r.status="fulfilled",r.value=o,a_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,i_(i,o)))}function Dm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,a_(r),r=r.next;while(r!==c)}i.action=null}function a_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function o_(i,r){return r}function l_(i,r){if(Fe){var o=st.formState;if(o!==null){e:{var c=Ce;if(Fe){if(ot){t:{for(var f=ot,p=Jn;f.nodeType!==8;){if(!p){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ot=ei(f.nextSibling),c=f.data==="F!";break e}}sr(c)}c=!1}c&&(r=o[0])}}return o=gn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:r},o.queue=c,o=R_.bind(null,Ce,c),c.dispatch=o,c=Im(!1),p=Om.bind(null,Ce,!1,c.queue),c=gn(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=FC.bind(null,Ce,f,p,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function c_(i){var r=Et();return u_(r,et,i)}function u_(i,r,o){if(r=Cm(i,r,o_)[0],i=Eh(_s)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=oc(r)}catch(b){throw b===_o?mh:b}else c=r;r=Et();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Ce.flags|=2048,Eo(9,{destroy:void 0},HC.bind(null,f,o),null)),[c,p,i]}function HC(i,r){i.action=r}function h_(i){var r=Et(),o=et;if(o!==null)return u_(r,o,i);Et(),r=r.memoizedState,o=Et();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Eo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=wh(),Ce.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function f_(){return Et().memoizedState}function Sh(i,r,o,c){var f=gn();Ce.flags|=i,f.memoizedState=Eo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Ah(i,r,o,c){var f=Et();c=c===void 0?null:c;var p=f.memoizedState.inst;et!==null&&c!==null&&wm(c,et.memoizedState.deps)?f.memoizedState=Eo(r,p,o,c):(Ce.flags|=i,f.memoizedState=Eo(1|r,p,o,c))}function d_(i,r){Sh(8390656,8,i,r)}function km(i,r){Ah(2048,8,i,r)}function qC(i){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=wh(),Ce.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function m_(i){var r=Et().memoizedState;return qC({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function p_(i,r){return Ah(4,2,i,r)}function g_(i,r){return Ah(4,4,i,r)}function y_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function v_(i,r,o){o=o!=null?o.concat([i]):null,Ah(4,4,y_.bind(null,r,i),o)}function Mm(){}function __(i,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&wm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function x_(i,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&wm(r,c[1]))return c[0];if(c=i(),Ea){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[c,r],c}function Vm(i,r,o){return o===void 0||(vs&1073741824)!==0&&(Oe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=bx(),Ce.lanes|=i,dr|=i,o)}function b_(i,r,o,c){return Dn(o,r)?o:bo.current!==null?(i=Vm(i,o,c),Dn(i,r)||(jt=!0),i):(vs&42)===0||(vs&1073741824)!==0&&(Oe&261930)===0?(jt=!0,i.memoizedState=o):(i=bx(),Ce.lanes|=i,dr|=i,r)}function w_(i,r,o,c,f){var p=oe.p;oe.p=p!==0&&8>p?p:8;var b=G.T,A={};G.T=A,Om(i,!1,r,o);try{var O=f(),Y=G.S;if(Y!==null&&Y(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=UC(O,c);lc(i,r,te,On(i))}else lc(i,r,c,On(i))}catch(se){lc(i,r,{then:function(){},status:"rejected",reason:se},On())}finally{oe.p=p,b!==null&&A.types!==null&&(b.types=A.types),G.T=b}}function GC(){}function jm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=T_(i).queue;w_(i,f,r,fe,o===null?GC:function(){return E_(i),o(c)})}function T_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function E_(i){var r=T_(i);r.next===null&&(r=i.alternate.memoizedState),lc(i,r.next.queue,{},On())}function Pm(){return Zt(Sc)}function S_(){return Et().memoizedState}function A_(){return Et().memoizedState}function KC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();i=or(o);var c=lr(r,i,o);c!==null&&(Sn(c,r,o),ic(c,r,o)),r={cache:hm()},i.payload=r;return}r=r.return}}function $C(i,r,o){var c=On();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(i)?C_(r,o):(o=em(i,r,o,c),o!==null&&(Sn(o,i,c),N_(o,r,c)))}function R_(i,r,o){var c=On();lc(i,r,o,c)}function lc(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(i))C_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,A=p(b,o);if(f.hasEagerState=!0,f.eagerState=A,Dn(A,b))return oh(i,r,f,0),st===null&&ah(),!1}catch{}if(o=em(i,r,f,c),o!==null)return Sn(o,i,c),N_(o,r,c),!0}return!1}function Om(i,r,o,c){if(c={lane:2,revertLane:pp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Rh(i)){if(r)throw Error(s(479))}else r=em(i,o,c,2),r!==null&&Sn(r,i,2)}function Rh(i){var r=i.alternate;return i===Ce||r!==null&&r===Ce}function C_(i,r){wo=xh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function N_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Il(i,o)}}var cc={readContext:Zt,use:Th,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};cc.useEffectEvent=yt;var I_={readContext:Zt,use:Th,useCallback:function(i,r){return gn().memoizedState=[i,r===void 0?null:r],i},useContext:Zt,useEffect:d_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Sh(4194308,4,y_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Sh(4194308,4,i,r)},useInsertionEffect:function(i,r){Sh(4,2,i,r)},useMemo:function(i,r){var o=gn();r=r===void 0?null:r;var c=i();if(Ea){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=gn();if(o!==void 0){var f=o(r);if(Ea){Hn(!0);try{o(r)}finally{Hn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=$C.bind(null,Ce,i),[c.memoizedState,i]},useRef:function(i){var r=gn();return i={current:i},r.memoizedState=i},useState:function(i){i=Im(i);var r=i.queue,o=R_.bind(null,Ce,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Mm,useDeferredValue:function(i,r){var o=gn();return Vm(o,i,r)},useTransition:function(){var i=Im(!1);return i=w_.bind(null,Ce,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ce,f=gn();if(Fe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),st===null)throw Error(s(349));(Oe&127)!==0||Wv(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,d_(Zv.bind(null,c,p,i),[i]),c.flags|=2048,Eo(9,{destroy:void 0},Jv.bind(null,c,p,o,r),null),o},useId:function(){var i=gn(),r=st.identifierPrefix;if(Fe){var o=Qi,c=Yi;o=(c&~(1<<32-bt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=bh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=BC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Pm,useFormState:l_,useActionState:l_,useOptimistic:function(i){var r=gn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Om.bind(null,Ce,!0,o),o.dispatch=r,[i,r]},useMemoCache:Rm,useCacheRefresh:function(){return gn().memoizedState=KC.bind(null,Ce)},useEffectEvent:function(i){var r=gn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Lm={readContext:Zt,use:Th,useCallback:__,useContext:Zt,useEffect:km,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:x_,useReducer:Eh,useRef:f_,useState:function(){return Eh(_s)},useDebugValue:Mm,useDeferredValue:function(i,r){var o=Et();return b_(o,et.memoizedState,i,r)},useTransition:function(){var i=Eh(_s)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:oc(i),r]},useSyncExternalStore:Xv,useId:S_,useHostTransitionStatus:Pm,useFormState:c_,useActionState:c_,useOptimistic:function(i,r){var o=Et();return n_(o,et,i,r)},useMemoCache:Rm,useCacheRefresh:A_};Lm.useEffectEvent=m_;var D_={readContext:Zt,use:Th,useCallback:__,useContext:Zt,useEffect:km,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:x_,useReducer:Nm,useRef:f_,useState:function(){return Nm(_s)},useDebugValue:Mm,useDeferredValue:function(i,r){var o=Et();return et===null?Vm(o,i,r):b_(o,et.memoizedState,i,r)},useTransition:function(){var i=Nm(_s)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:oc(i),r]},useSyncExternalStore:Xv,useId:S_,useHostTransitionStatus:Pm,useFormState:h_,useActionState:h_,useOptimistic:function(i,r){var o=Et();return et!==null?n_(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:A_};D_.useEffectEvent=m_;function Um(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:x({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Bm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=On(),f=or(c);f.payload=r,o!=null&&(f.callback=o),r=lr(i,f,c),r!==null&&(Sn(r,i,c),ic(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=On(),f=or(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=lr(i,f,c),r!==null&&(Sn(r,i,c),ic(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=On(),c=or(o);c.tag=2,r!=null&&(c.callback=r),r=lr(i,c,o),r!==null&&(Sn(r,i,o),ic(r,i,o))}};function k_(i,r,o,c,f,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,b):r.prototype&&r.prototype.isPureReactComponent?!Ql(o,c)||!Ql(f,p):!0}function M_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Bm.enqueueReplaceState(r,r.state,null)}function Sa(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=x({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function V_(i){rh(i)}function j_(i){console.error(i)}function P_(i){rh(i)}function Ch(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function O_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zm(i,r,o){return o=or(o),o.tag=3,o.payload={element:null},o.callback=function(){Ch(i,r)},o}function L_(i){return i=or(i),i.tag=3,i}function U_(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){O_(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){O_(r,o,c),typeof f!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function YC(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&go(r,o,f,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?Bh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===ph?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),fp(i,c,f)),!1;case 22:return o.flags|=65536,c===ph?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),fp(i,c,f)),!1}throw Error(s(435,o.tag))}return fp(i,c,f),Bh(),!1}if(Fe)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==am&&(i=Error(s(422),{cause:c}),Jl(Qn(i,o)))):(c!==am&&(r=Error(s(423),{cause:c}),Jl(Qn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Qn(c,o),f=zm(i.stateNode,c,f),ym(i,f),vt!==4&&(vt=2)),!1;var p=Error(s(520),{cause:c});if(p=Qn(p,o),yc===null?yc=[p]:yc.push(p),vt!==4&&(vt=2),r===null)return!0;c=Qn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=zm(o.stateNode,c,i),ym(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(mr===null||!mr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=L_(f),U_(f,i,o,c),ym(o,f),!1}o=o.return}while(o!==null);return!1}var Fm=Error(s(461)),jt=!1;function en(i,r,o,c){r.child=i===null?Hv(r,null,o,c):Ta(r,i.child,o,c)}function B_(i,r,o,c,f){o=o.render;var p=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return _a(r),c=Tm(i,r,o,b,p,f),A=Em(),i!==null&&!jt?(Sm(i,r,f),xs(i,r,f)):(Fe&&A&&sm(r),r.flags|=1,en(i,r,c,f),r.child)}function z_(i,r,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!tm(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,F_(i,r,p,c,f)):(i=ch(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Xm(i,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(b,c)&&i.ref===r.ref)return xs(i,r,f)}return r.flags|=1,i=ms(p,c),i.ref=r.ref,i.return=r,r.child=i}function F_(i,r,o,c,f){if(i!==null){var p=i.memoizedProps;if(Ql(p,c)&&i.ref===r.ref)if(jt=!1,r.pendingProps=c=p,Xm(i,f))(i.flags&131072)!==0&&(jt=!0);else return r.lanes=i.lanes,xs(i,r,f)}return Hm(i,r,o,c,f)}function H_(i,r,o,c){var f=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,r.child=null;return q_(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&dh(r,p!==null?p.cachePool:null),p!==null?Kv(r,p):_m(),$v(r);else return c=r.lanes=536870912,q_(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(dh(r,p.cachePool),Kv(r,p),ur(),r.memoizedState=null):(i!==null&&dh(r,null),_m(),ur());return en(i,r,f,o),r.child}function uc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function q_(i,r,o,c,f){var p=dm();return p=p===null?null:{parent:Mt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&dh(r,null),_m(),$v(r),i!==null&&go(i,r,c,!0),r.childLanes=f,null}function Nh(i,r){return r=Dh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function G_(i,r,o){return Ta(r,i.child,null,o),i=Nh(r,r.pendingProps),i.flags|=2,Vn(r),r.memoizedState=null,i}function QC(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Fe){if(c.mode==="hidden")return i=Nh(r,c),r.lanes=536870912,uc(null,i);if(bm(r),(i=ot)?(i=ib(i,Jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:nr!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=Cv(i),o.return=r,r.child=o,Jt=r,ot=null)):i=null,i===null)throw sr(r);return r.lanes=536870912,null}return Nh(r,c)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(bm(r),f)if(r.flags&256)r.flags&=-257,r=G_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(jt||go(i,r,o,!1),f=(o&i.childLanes)!==0,jt||f){if(c=st,c!==null&&(b=Dl(c,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,pa(i,b),Sn(c,i,b),Fm;Bh(),r=G_(i,r,o)}else i=p.treeContext,ot=ei(b.nextSibling),Jt=r,Fe=!0,ir=null,Jn=!1,i!==null&&Dv(r,i),r=Nh(r,c),r.flags|=4096;return r}return i=ms(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ih(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Hm(i,r,o,c,f){return _a(r),o=Tm(i,r,o,c,void 0,f),c=Em(),i!==null&&!jt?(Sm(i,r,f),xs(i,r,f)):(Fe&&c&&sm(r),r.flags|=1,en(i,r,o,f),r.child)}function K_(i,r,o,c,f,p){return _a(r),r.updateQueue=null,o=Qv(r,c,o,f),Yv(i),c=Em(),i!==null&&!jt?(Sm(i,r,p),xs(i,r,p)):(Fe&&c&&sm(r),r.flags|=1,en(i,r,o,p),r.child)}function $_(i,r,o,c,f){if(_a(r),r.stateNode===null){var p=ho,b=o.contextType;typeof b=="object"&&b!==null&&(p=Zt(b)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Bm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},pm(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?Zt(b):ho,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Um(r,o,b,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Bm.enqueueReplaceState(p,p.state,null),rc(r,c,p,f),sc(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,O=Sa(o,A);p.props=O;var Y=p.context,te=o.contextType;b=ho,typeof te=="object"&&te!==null&&(b=Zt(te));var se=o.getDerivedStateFromProps;te=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||Y!==b)&&M_(r,p,c,b),ar=!1;var Q=r.memoizedState;p.state=Q,rc(r,c,p,f),sc(),Y=r.memoizedState,A||Q!==Y||ar?(typeof se=="function"&&(Um(r,o,se,c),Y=r.memoizedState),(O=ar||k_(r,o,O,c,Q,Y,b))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),p.props=c,p.state=Y,p.context=b,c=O):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,gm(i,r),b=r.memoizedProps,te=Sa(o,b),p.props=te,se=r.pendingProps,Q=p.context,Y=o.contextType,O=ho,typeof Y=="object"&&Y!==null&&(O=Zt(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==se||Q!==O)&&M_(r,p,c,O),ar=!1,Q=r.memoizedState,p.state=Q,rc(r,c,p,f),sc();var W=r.memoizedState;b!==se||Q!==W||ar||i!==null&&i.dependencies!==null&&hh(i.dependencies)?(typeof A=="function"&&(Um(r,o,A,c),W=r.memoizedState),(te=ar||k_(r,o,te,c,Q,W,O)||i!==null&&i.dependencies!==null&&hh(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,W,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,W,O)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),p.props=c,p.state=W,p.context=O,c=te):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Ih(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Ta(r,i.child,null,f),r.child=Ta(r,null,o,f)):en(i,r,o,f),r.memoizedState=p.state,i=r.child):i=xs(i,r,f),i}function Y_(i,r,o,c){return ya(),r.flags|=256,en(i,r,o,c),r.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(i){return{baseLanes:i,cachePool:Ov()}}function Km(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function Q_(i,r,o){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(f?cr(r):ur(),(i=ot)?(i=ib(i,Jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:nr!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=Cv(i),o.return=r,r.child=o,Jt=r,ot=null)):i=null,i===null)throw sr(r);return Cp(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,f?(ur(),f=r.mode,A=Dh({mode:"hidden",children:A},f),c=ga(c,f,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=Gm(o),c.childLanes=Km(i,b,o),r.memoizedState=qm,uc(null,c)):(cr(r),$m(r,A))}var O=i.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(p)r.flags&256?(cr(r),r.flags&=-257,r=Ym(i,r,o)):r.memoizedState!==null?(ur(),r.child=i.child,r.flags|=128,r=null):(ur(),A=c.fallback,f=r.mode,c=Dh({mode:"visible",children:c.children},f),A=ga(A,f,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Ta(r,i.child,null,o),c=r.child,c.memoizedState=Gm(o),c.childLanes=Km(i,b,o),r.memoizedState=qm,r=uc(null,c));else if(cr(r),Cp(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(s(419)),c.stack="",c.digest=b,Jl({value:c,source:null,stack:null}),r=Ym(i,r,o)}else if(jt||go(i,r,o,!1),b=(o&i.childLanes)!==0,jt||b){if(b=st,b!==null&&(c=Dl(b,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,pa(i,c),Sn(b,i,c),Fm;Rp(A)||Bh(),r=Ym(i,r,o)}else Rp(A)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,ot=ei(A.nextSibling),Jt=r,Fe=!0,ir=null,Jn=!1,i!==null&&Dv(r,i),r=$m(r,c.children),r.flags|=4096);return r}return f?(ur(),A=c.fallback,f=r.mode,O=i.child,Y=O.sibling,c=ms(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Y!==null?A=ms(Y,A):(A=ga(A,f,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,uc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=Gm(o):(f=A.cachePool,f!==null?(O=Mt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Ov(),A={baseLanes:A.baseLanes|o,cachePool:f}),c.memoizedState=A,c.childLanes=Km(i,b,o),r.memoizedState=qm,uc(i.child,c)):(cr(r),o=i.child,i=o.sibling,o=ms(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function $m(i,r){return r=Dh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Dh(i,r){return i=kn(22,i,null,r),i.lanes=0,i}function Ym(i,r,o){return Ta(r,i.child,null,o),i=$m(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function X_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),cm(i.return,r,o)}function Qm(i,r,o,c,f,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=f,b.treeForkCount=p)}function W_(i,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var b=Tt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ue(Tt,b),en(i,r,c,o),c=Fe?Wl:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&X_(i,o,r);else if(i.tag===19)X_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&_h(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Qm(r,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&_h(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Qm(r,!0,o,null,p,c);break;case"together":Qm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function xs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),dr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(go(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ms(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ms(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Xm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&hh(i)))}function XC(i,r,o){switch(r.tag){case 3:zt(r,r.stateNode.containerInfo),rr(r,Mt,i.memoizedState.cache),ya();break;case 27:case 5:Wr(r);break;case 4:zt(r,r.stateNode.containerInfo);break;case 10:rr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,bm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Q_(i,r,o):(cr(r),i=xs(i,r,o),i!==null?i.sibling:null);cr(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(go(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return W_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Tt,Tt.current),c)break;return null;case 22:return r.lanes=0,H_(i,r,o,r.pendingProps);case 24:rr(r,Mt,i.memoizedState.cache)}return xs(i,r,o)}function J_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)jt=!0;else{if(!Xm(i,o)&&(r.flags&128)===0)return jt=!1,XC(i,r,o);jt=(i.flags&131072)!==0}else jt=!1,Fe&&(r.flags&1048576)!==0&&Iv(r,Wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=ba(r.elementType),r.type=i,typeof i=="function")tm(i)?(c=Sa(i,c),r.tag=1,r=$_(null,r,i,c,o)):(r.tag=0,r=Hm(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===Z){r.tag=11,r=B_(null,r,i,c,o);break e}else if(f===E){r.tag=14,r=z_(null,r,i,c,o);break e}}throw r=Ne(i)||i,Error(s(306,r,""))}}return r;case 0:return Hm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=Sa(c,r.pendingProps),$_(i,r,c,f,o);case 3:e:{if(zt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,gm(i,r),rc(r,c,null,o);var b=r.memoizedState;if(c=b.cache,rr(r,Mt,c),c!==p.cache&&um(r,[Mt],o,!0),sc(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Y_(i,r,c,o);break e}else if(c!==f){f=Qn(Error(s(424)),r),Jl(f),r=Y_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ot=ei(i.firstChild),Jt=r,Fe=!0,ir=null,Jn=!0,o=Hv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ya(),c===f){r=xs(i,r,o);break e}en(i,r,c,o)}r=r.child}return r;case 26:return Ih(i,r),i===null?(o=cb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,i=r.pendingProps,c=$h(De.current).createElement(o),c[It]=r,c[Kt]=i,tn(c,o,i),Dt(c),r.stateNode=c):r.memoizedState=cb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Wr(r),i===null&&Fe&&(c=r.stateNode=ab(r.type,r.pendingProps,De.current),Jt=r,Jn=!0,f=ot,vr(r.type)?(Np=f,ot=ei(c.firstChild)):ot=f),en(i,r,r.pendingProps.children,o),Ih(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((f=c=ot)&&(c=A2(c,r.type,r.pendingProps,Jn),c!==null?(r.stateNode=c,Jt=r,ot=ei(c.firstChild),Jn=!1,f=!0):f=!1),f||sr(r)),Wr(r),f=r.type,p=r.pendingProps,b=i!==null?i.memoizedProps:null,c=p.children,Ep(f,p)?c=null:b!==null&&Ep(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Tm(i,r,zC,null,null,o),Sc._currentValue=f),Ih(i,r),en(i,r,c,o),r.child;case 6:return i===null&&Fe&&((i=o=ot)&&(o=R2(o,r.pendingProps,Jn),o!==null?(r.stateNode=o,Jt=r,ot=null,i=!0):i=!1),i||sr(r)),null;case 13:return Q_(i,r,o);case 4:return zt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ta(r,null,c,o):en(i,r,c,o),r.child;case 11:return B_(i,r,r.type,r.pendingProps,o);case 7:return en(i,r,r.pendingProps,o),r.child;case 8:return en(i,r,r.pendingProps.children,o),r.child;case 12:return en(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,rr(r,r.type,c.value),en(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,_a(r),f=Zt(f),c=c(f),r.flags|=1,en(i,r,c,o),r.child;case 14:return z_(i,r,r.type,r.pendingProps,o);case 15:return F_(i,r,r.type,r.pendingProps,o);case 19:return W_(i,r,o);case 31:return QC(i,r,o);case 22:return H_(i,r,o,r.pendingProps);case 24:return _a(r),c=Zt(Mt),i===null?(f=dm(),f===null&&(f=st,p=hm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:c,cache:f},pm(r),rr(r,Mt,f)):((i.lanes&o)!==0&&(gm(i,r),rc(r,null,null,o),sc()),f=i.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),rr(r,Mt,c)):(c=p.cache,rr(r,Mt,c),c!==f.cache&&um(r,[Mt],o,!0))),en(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function bs(i){i.flags|=4}function Wm(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Sx())i.flags|=8192;else throw wa=ph,mm}else i.flags&=-16777217}function Z_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!mb(r))if(Sx())i.flags|=8192;else throw wa=ph,mm}function kh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Lu():536870912,i.lanes|=r,Co|=r)}function hc(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function WC(i,r,o){var c=r.pendingProps;switch(rm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ys(Mt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(po(r)?bs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,om())),lt(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(bs(r),p!==null?(lt(r),Z_(r,p)):(lt(r),Wm(r,f,null,c,o))):p?p!==i.memoizedState?(bs(r),lt(r),Z_(r,p)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&bs(r),lt(r),Wm(r,f,i,c,o)),null;case 27:if(Ka(r),o=De.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&bs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=me.current,po(r)?kv(r):(i=ab(f,c,o),r.stateNode=i,bs(r))}return lt(r),null;case 5:if(Ka(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&bs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(p=me.current,po(r))kv(r);else{var b=$h(De.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}p[It]=r,p[Kt]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(tn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&bs(r)}}return lt(r),Wm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&bs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=De.current,po(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=Jt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[It]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Qx(i.nodeValue,o)),i||sr(r,!0)}else i=$h(i).createTextNode(c),i[It]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=po(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[It]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=om(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=po(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=om(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),kh(r,r.updateQueue),lt(r),null);case 4:return ut(),i===null&&_p(r.stateNode.containerInfo),lt(r),null;case 10:return ys(r.type),lt(r),null;case 19:if(re(Tt),c=r.memoizedState,c===null)return lt(r),null;if(f=(r.flags&128)!==0,p=c.rendering,p===null)if(f)hc(c,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=_h(i),p!==null){for(r.flags|=128,hc(c,!1),i=p.updateQueue,r.updateQueue=i,kh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Rv(o,i),o=o.sibling;return ue(Tt,Tt.current&1|2),Fe&&ps(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&mn()>Oh&&(r.flags|=128,f=!0,hc(c,!1),r.lanes=4194304)}else{if(!f)if(i=_h(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,kh(r,i),hc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Fe)return lt(r),null}else 2*mn()-c.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,f=!0,hc(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=mn(),i.sibling=null,o=Tt.current,ue(Tt,f?o&1|2:o&1),Fe&&ps(r,c.treeForkCount),i):(lt(r),null);case 22:case 23:return Vn(r),xm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&kh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&re(xa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ys(Mt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function JC(i,r){switch(rm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ys(Mt),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ka(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Vn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return re(Tt),null;case 4:return ut(),null;case 10:return ys(r.type),null;case 22:case 23:return Vn(r),xm(),i!==null&&re(xa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ys(Mt),null;case 25:return null;default:return null}}function ex(i,r){switch(rm(r),r.tag){case 3:ys(Mt),ut();break;case 26:case 27:case 5:Ka(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:re(Tt);break;case 10:ys(r.type);break;case 22:case 23:Vn(r),xm(),i!==null&&re(xa);break;case 24:ys(Mt)}}function fc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==f)}}catch(A){Je(r,r.return,A)}}function hr(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,f=r;var O=o,Y=A;try{Y()}catch(te){Je(f,O,te)}}}c=c.next}while(c!==p)}}catch(te){Je(r,r.return,te)}}function tx(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Gv(r,o)}catch(c){Je(i,i.return,c)}}}function nx(i,r,o){o.props=Sa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Je(i,r,c)}}function dc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){Je(i,r,f)}}function Xi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Je(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Je(i,r,f)}else o.current=null}function ix(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Je(i,i.return,f)}}function Jm(i,r,o){try{var c=i.stateNode;x2(c,i.type,o,r),c[Kt]=r}catch(f){Je(i,i.return,f)}}function sx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&vr(i.type)||i.tag===4}function Zm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&vr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ep(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(c!==4&&(c===27&&vr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(ep(i,r,o),i=i.sibling;i!==null;)ep(i,r,o),i=i.sibling}function Mh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&vr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Mh(i,r,o),i=i.sibling;i!==null;)Mh(i,r,o),i=i.sibling}function rx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);tn(r,c,o),r[It]=i,r[Kt]=o}catch(p){Je(i,i.return,p)}}var ws=!1,Pt=!1,tp=!1,ax=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function ZC(i,r){if(i=i.containerInfo,wp=ef,i=vv(i),Yd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,A=-1,O=-1,Y=0,te=0,se=i,Q=null;t:for(;;){for(var W;se!==o||f!==0&&se.nodeType!==3||(A=b+f),se!==p||c!==0&&se.nodeType!==3||(O=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(W=se.firstChild)!==null;)Q=se,se=W;for(;;){if(se===i)break t;if(Q===o&&++Y===f&&(A=b),Q===p&&++te===c&&(O=b),(W=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=W}o=A===-1||O===-1?null:{start:A,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tp={focusedElem:i,selectionRange:o},ef=!1,Yt=r;Yt!==null;)if(r=Yt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Yt=i;else for(;Yt!==null;){switch(r=Yt,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var pe=Sa(o.type,f);i=c.getSnapshotBeforeUpdate(pe,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Je(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Ap(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Yt=i;break}Yt=r.return}}function ox(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Es(i,o),c&4&&fc(5,o);break;case 1:if(Es(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Je(o,o.return,b)}else{var f=Sa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(o,o.return,b)}}c&64&&tx(o),c&512&&dc(o,o.return);break;case 3:if(Es(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Gv(i,r)}catch(b){Je(o,o.return,b)}}break;case 27:r===null&&c&4&&rx(o);case 26:case 5:Es(i,o),r===null&&c&4&&ix(o),c&512&&dc(o,o.return);break;case 12:Es(i,o);break;case 31:Es(i,o),c&4&&ux(i,o);break;case 13:Es(i,o),c&4&&hx(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=l2.bind(null,o),C2(i,o))));break;case 22:if(c=o.memoizedState!==null||ws,!c){r=r!==null&&r.memoizedState!==null||Pt,f=ws;var p=Pt;ws=c,(Pt=r)&&!p?Ss(i,o,(o.subtreeFlags&8772)!==0):Es(i,o),ws=f,Pt=p}break;case 30:break;default:Es(i,o)}}function lx(i){var r=i.alternate;r!==null&&(i.alternate=null,lx(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Wa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,bn=!1;function Ts(i,r,o){for(o=o.child;o!==null;)cx(i,r,o),o=o.sibling}function cx(i,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 26:Pt||Xi(o,r),Ts(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Xi(o,r);var c=ft,f=bn;vr(o.type)&&(ft=o.stateNode,bn=!1),Ts(i,r,o),wc(o.stateNode),ft=c,bn=f;break;case 5:Pt||Xi(o,r);case 6:if(c=ft,f=bn,ft=null,Ts(i,r,o),ft=c,bn=f,ft!==null)if(bn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(p){Je(o,r,p)}else try{ft.removeChild(o.stateNode)}catch(p){Je(o,r,p)}break;case 18:ft!==null&&(bn?(i=ft,tb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Po(i)):tb(ft,o.stateNode));break;case 4:c=ft,f=bn,ft=o.stateNode.containerInfo,bn=!0,Ts(i,r,o),ft=c,bn=f;break;case 0:case 11:case 14:case 15:hr(2,o,r),Pt||hr(4,o,r),Ts(i,r,o);break;case 1:Pt||(Xi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&nx(o,r,c)),Ts(i,r,o);break;case 21:Ts(i,r,o);break;case 22:Pt=(c=Pt)||o.memoizedState!==null,Ts(i,r,o),Pt=c;break;default:Ts(i,r,o)}}function ux(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Po(i)}catch(o){Je(r,r.return,o)}}}function hx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Po(i)}catch(o){Je(r,r.return,o)}}function e2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ax),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ax),r;default:throw Error(s(435,i.tag))}}function Vh(i,r){var o=e2(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=c2.bind(null,i,c);c.then(f,f)}})}function wn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(vr(A.type)){ft=A.stateNode,bn=!1;break e}break;case 5:ft=A.stateNode,bn=!1;break e;case 3:case 4:ft=A.stateNode.containerInfo,bn=!0;break e}A=A.return}if(ft===null)throw Error(s(160));cx(p,b,f),ft=null,bn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)fx(r,i),r=r.sibling}var _i=null;function fx(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(r,i),Tn(i),c&4&&(hr(3,i,i.return),fc(3,i),hr(5,i,i.return));break;case 1:wn(r,i),Tn(i),c&512&&(Pt||o===null||Xi(o,o.return)),c&64&&ws&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=_i;if(wn(r,i),Tn(i),c&512&&(Pt||o===null||Xi(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Pi]||p[It]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),tn(p,c,o),p[It]=i,Dt(p),c=p;break e;case"link":var b=fb("link","href",f).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(p=b[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}p=f.createElement(c),tn(p,c,o),f.head.appendChild(p);break;case"meta":if(b=fb("meta","content",f).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(p=b[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}p=f.createElement(c),tn(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[It]=i,Dt(p),c=p}i.stateNode=c}else db(f,i.type,i.stateNode);else i.stateNode=hb(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?db(f,i.type,i.stateNode):hb(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Jm(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(r,i),Tn(i),c&512&&(Pt||o===null||Xi(o,o.return)),o!==null&&c&4&&Jm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(r,i),Tn(i),c&512&&(Pt||o===null||Xi(o,o.return)),i.flags&32){f=i.stateNode;try{xn(f,"")}catch(pe){Je(i,i.return,pe)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Jm(i,f,o!==null?o.memoizedProps:f)),c&1024&&(tp=!0);break;case 6:if(wn(r,i),Tn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){Je(i,i.return,pe)}}break;case 3:if(Xh=null,f=_i,_i=Yh(r.containerInfo),wn(r,i),_i=f,Tn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(r.containerInfo)}catch(pe){Je(i,i.return,pe)}tp&&(tp=!1,dx(i));break;case 4:c=_i,_i=Yh(i.stateNode.containerInfo),wn(r,i),Tn(i),_i=c;break;case 12:wn(r,i),Tn(i);break;case 31:wn(r,i),Tn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vh(i,c)));break;case 13:wn(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ph=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vh(i,c)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,Y=ws,te=Pt;if(ws=Y||f,Pt=te||O,wn(r,i),Pt=te,ws=Y,Tn(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||ws||Pt||Aa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(p=O.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=O.stateNode;var se=O.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){Je(O,O.return,pe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pe){Je(O,O.return,pe)}}}else if(r.tag===18){if(o===null){O=r;try{var W=O.stateNode;f?nb(W,!0):nb(O.stateNode,!1)}catch(pe){Je(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Vh(i,o))));break;case 19:wn(r,i),Tn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vh(i,c)));break;case 30:break;case 21:break;default:wn(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(sx(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Zm(i);Mh(i,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(xn(b,""),o.flags&=-33);var A=Zm(i);Mh(i,A,b);break;case 3:case 4:var O=o.stateNode.containerInfo,Y=Zm(i);ep(i,Y,O);break;default:throw Error(s(161))}}catch(te){Je(i,i.return,te)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function dx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;dx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Es(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ox(i,r.alternate,r),r=r.sibling}function Aa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:hr(4,r,r.return),Aa(r);break;case 1:Xi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&nx(r,r.return,o),Aa(r);break;case 27:wc(r.stateNode);case 26:case 5:Xi(r,r.return),Aa(r);break;case 22:r.memoizedState===null&&Aa(r);break;case 30:Aa(r);break;default:Aa(r)}i=i.sibling}}function Ss(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ss(f,p,o),fc(4,p);break;case 1:if(Ss(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Je(c,c.return,Y)}if(c=p,f=c.updateQueue,f!==null){var A=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)qv(O[f],A)}catch(Y){Je(c,c.return,Y)}}o&&b&64&&tx(p),dc(p,p.return);break;case 27:rx(p);case 26:case 5:Ss(f,p,o),o&&c===null&&b&4&&ix(p),dc(p,p.return);break;case 12:Ss(f,p,o);break;case 31:Ss(f,p,o),o&&b&4&&ux(f,p);break;case 13:Ss(f,p,o),o&&b&4&&hx(f,p);break;case 22:p.memoizedState===null&&Ss(f,p,o),dc(p,p.return);break;case 30:break;default:Ss(f,p,o)}r=r.sibling}}function np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zl(o))}function ip(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i))}function xi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mx(i,r,o,c),r=r.sibling}function mx(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:xi(i,r,o,c),f&2048&&fc(9,r);break;case 1:xi(i,r,o,c);break;case 3:xi(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i)));break;case 12:if(f&2048){xi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,b=p.id,A=p.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Je(r,r.return,O)}}else xi(i,r,o,c);break;case 31:xi(i,r,o,c);break;case 13:xi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?xi(i,r,o,c):mc(i,r):p._visibility&2?xi(i,r,o,c):(p._visibility|=2,So(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&np(b,r);break;case 24:xi(i,r,o,c),f&2048&&ip(r.alternate,r);break;default:xi(i,r,o,c)}}function So(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,b=r,A=o,O=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:So(p,b,A,O,f),fc(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?So(p,b,A,O,f):mc(p,b):(te._visibility|=2,So(p,b,A,O,f)),f&&Y&2048&&np(b.alternate,b);break;case 24:So(p,b,A,O,f),f&&Y&2048&&ip(b.alternate,b);break;default:So(p,b,A,O,f)}r=r.sibling}}function mc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:mc(o,c),f&2048&&np(c.alternate,c);break;case 24:mc(o,c),f&2048&&ip(c.alternate,c);break;default:mc(o,c)}r=r.sibling}}var pc=8192;function Ao(i,r,o){if(i.subtreeFlags&pc)for(i=i.child;i!==null;)px(i,r,o),i=i.sibling}function px(i,r,o){switch(i.tag){case 26:Ao(i,r,o),i.flags&pc&&i.memoizedState!==null&&B2(o,_i,i.memoizedState,i.memoizedProps);break;case 5:Ao(i,r,o);break;case 3:case 4:var c=_i;_i=Yh(i.stateNode.containerInfo),Ao(i,r,o),_i=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=pc,pc=16777216,Ao(i,r,o),pc=c):Ao(i,r,o));break;default:Ao(i,r,o)}}function gx(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function gc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Yt=c,vx(c,i)}gx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yx(i),i=i.sibling}function yx(i){switch(i.tag){case 0:case 11:case 15:gc(i),i.flags&2048&&hr(9,i,i.return);break;case 3:gc(i);break;case 12:gc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,jh(i)):gc(i);break;default:gc(i)}}function jh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Yt=c,vx(c,i)}gx(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:hr(8,r,r.return),jh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,jh(r));break;default:jh(r)}i=i.sibling}}function vx(i,r){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:hr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=i;Yt!==null;){c=Yt;var f=c.sibling,p=c.return;if(lx(c),c===o){Yt=null;break e}if(f!==null){f.return=p,Yt=f;break e}Yt=p}}}var t2={getCacheForType:function(i){var r=Zt(Mt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Zt(Mt).controller.signal}},n2=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Ve=null,Oe=0,We=0,jn=null,fr=!1,Ro=!1,sp=!1,As=0,vt=0,dr=0,Ra=0,rp=0,Pn=0,Co=0,yc=null,En=null,ap=!1,Ph=0,_x=0,Oh=1/0,Lh=null,mr=null,Ht=0,pr=null,No=null,Rs=0,op=0,lp=null,xx=null,vc=0,cp=null;function On(){return(Ye&2)!==0&&Oe!==0?Oe&-Oe:G.T!==null?pp():Uu()}function bx(){if(Pn===0)if((Oe&536870912)===0||Fe){var i=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),Pn=i}else Pn=536870912;return i=Mn.current,i!==null&&(i.flags|=32),Pn}function Sn(i,r,o){(i===st&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Io(i,0),gr(i,Oe,Pn,!1)),ta(i,o),((Ye&2)===0||i!==st)&&(i===st&&((Ye&2)===0&&(Ra|=o),vt===4&&gr(i,Oe,Pn,!1)),Wi(i))}function wx(i,r,o){if((Ye&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ui(i,r),f=c?r2(i,r):hp(i,r,!0),p=c;do{if(f===0){Ro&&!c&&gr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!i2(o)){f=hp(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;f=yc;var O=A.current.memoizedState.isDehydrated;if(O&&(Io(A,b).flags|=256),b=hp(A,b,!1),b!==2){if(sp&&!O){A.errorRecoveryDisabledLanes|=p,Ra|=p,f=4;break e}p=En,En=f,p!==null&&(En===null?En=p:En.push.apply(En,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){Io(i,0),gr(i,r,0,!0);break}e:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:gr(c,r,Pn,!fr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ph+300-mn(),10<f)){if(gr(c,r,Pn,!fr),Mi(c,0,!0)!==0)break e;Rs=r,c.timeoutHandle=Zx(Tx.bind(null,c,o,En,Lh,ap,r,Pn,Ra,Co,fr,p,"Throttled",-0,0),f);break e}Tx(c,o,En,Lh,ap,r,Pn,Ra,Co,fr,p,null,-0,0)}}break}while(!0);Wi(i)}function Tx(i,r,o,c,f,p,b,A,O,Y,te,se,Q,W){if(i.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},px(r,p,se);var pe=(p&62914560)===p?Ph-mn():(p&4194048)===p?_x-mn():0;if(pe=z2(se,pe),pe!==null){Rs=p,i.cancelPendingCommit=pe(Dx.bind(null,i,r,p,o,c,f,b,A,O,te,se,null,Q,W)),gr(i,p,b,!Y);return}}Dx(i,r,p,o,c,f,b,A,O)}function i2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Dn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gr(i,r,o,c){r&=~rp,r&=~Ra,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var p=31-bt(f),b=1<<p;c[p]=-1,f&=~b}o!==0&&na(i,o,r)}function Uh(){return(Ye&6)===0?(_c(0),!1):!0}function up(){if(Ve!==null){if(We===0)var i=Ve.return;else i=Ve,gs=va=null,Am(i),xo=null,tc=0,i=Ve;for(;i!==null;)ex(i.alternate,i),i=i.return;Ve=null}}function Io(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,T2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Rs=0,up(),st=i,Ve=o=ms(i.current,null),Oe=r,We=0,jn=null,fr=!1,Ro=ui(i,r),sp=!1,Co=Pn=rp=Ra=dr=vt=0,En=yc=null,ap=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-bt(c),p=1<<f;r|=i[f],c&=~p}return As=r,ah(),o}function Ex(i,r){Ce=null,G.H=cc,r===_o||r===mh?(r=Bv(),We=3):r===mm?(r=Bv(),We=4):We=r===Fm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Ve===null&&(vt=1,Ch(i,Qn(r,i.current)))}function Sx(){var i=Mn.current;return i===null?!0:(Oe&4194048)===Oe?Zn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?i===Zn:!1}function Ax(){var i=G.H;return G.H=cc,i===null?cc:i}function Rx(){var i=G.A;return G.A=t2,i}function Bh(){vt=4,fr||(Oe&4194048)!==Oe&&Mn.current!==null||(Ro=!0),(dr&134217727)===0&&(Ra&134217727)===0||st===null||gr(st,Oe,Pn,!1)}function hp(i,r,o){var c=Ye;Ye|=2;var f=Ax(),p=Rx();(st!==i||Oe!==r)&&(Lh=null,Io(i,r)),r=!1;var b=vt;e:do try{if(We!==0&&Ve!==null){var A=Ve,O=jn;switch(We){case 8:up(),b=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var Y=We;if(We=0,jn=null,Do(i,A,O,Y),o&&Ro){b=0;break e}break;default:Y=We,We=0,jn=null,Do(i,A,O,Y)}}s2(),b=vt;break}catch(te){Ex(i,te)}while(!0);return r&&i.shellSuspendCounter++,gs=va=null,Ye=c,G.H=f,G.A=p,Ve===null&&(st=null,Oe=0,ah()),b}function s2(){for(;Ve!==null;)Cx(Ve)}function r2(i,r){var o=Ye;Ye|=2;var c=Ax(),f=Rx();st!==i||Oe!==r?(Lh=null,Oh=mn()+500,Io(i,r)):Ro=ui(i,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var p=jn;t:switch(We){case 1:We=0,jn=null,Do(i,r,p,1);break;case 2:case 9:if(Lv(p)){We=0,jn=null,Nx(r);break}r=function(){We!==2&&We!==9||st!==i||(We=7),Wi(i)},p.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Lv(p)?(We=0,jn=null,Nx(r)):(We=0,jn=null,Do(i,r,p,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var A=Ve;if(b?mb(b):A.stateNode.complete){We=0,jn=null;var O=A.sibling;if(O!==null)Ve=O;else{var Y=A.return;Y!==null?(Ve=Y,zh(Y)):Ve=null}break t}}We=0,jn=null,Do(i,r,p,5);break;case 6:We=0,jn=null,Do(i,r,p,6);break;case 8:up(),vt=6;break e;default:throw Error(s(462))}}a2();break}catch(te){Ex(i,te)}while(!0);return gs=va=null,G.H=c,G.A=f,Ye=o,Ve!==null?0:(st=null,Oe=0,ah(),vt)}function a2(){for(;Ve!==null&&!zd();)Cx(Ve)}function Cx(i){var r=J_(i.alternate,i,As);i.memoizedProps=i.pendingProps,r===null?zh(i):Ve=r}function Nx(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=K_(o,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=K_(o,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Am(r);default:ex(o,r),r=Ve=Rv(r,As),r=J_(o,r,As)}i.memoizedProps=i.pendingProps,r===null?zh(i):Ve=r}function Do(i,r,o,c){gs=va=null,Am(r),xo=null,tc=0;var f=r.return;try{if(YC(i,f,r,o,Oe)){vt=1,Ch(i,Qn(o,i.current)),Ve=null;return}}catch(p){if(f!==null)throw Ve=f,p;vt=1,Ch(i,Qn(o,i.current)),Ve=null;return}r.flags&32768?(Fe||c===1?i=!0:Ro||(Oe&536870912)!==0?i=!1:(fr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ix(r,i)):zh(r)}function zh(i){var r=i;do{if((r.flags&32768)!==0){Ix(r,fr);return}i=r.return;var o=WC(r.alternate,r,As);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);vt===0&&(vt=5)}function Ix(i,r){do{var o=JC(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);vt=6,Ve=null}function Dx(i,r,o,c,f,p,b,A,O){i.cancelPendingCommit=null;do Fh();while(Ht!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Zd,qd(i,o,p,b,A,O),i===st&&(Ve=st=null,Oe=0),No=r,pr=i,Rs=o,op=p,lp=f,xx=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,u2(Ks,function(){return Px(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,f=oe.p,oe.p=2,b=Ye,Ye|=4;try{ZC(i,r,o)}finally{Ye=b,oe.p=f,G.T=c}}Ht=1,kx(),Mx(),Vx()}}function kx(){if(Ht===1){Ht=0;var i=pr,r=No,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var c=oe.p;oe.p=2;var f=Ye;Ye|=4;try{fx(r,i);var p=Tp,b=vv(i.containerInfo),A=p.focusedElem,O=p.selectionRange;if(b!==A&&A&&A.ownerDocument&&yv(A.ownerDocument.documentElement,A)){if(O!==null&&Yd(A)){var Y=O.start,te=O.end;if(te===void 0&&(te=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(te,A.value.length);else{var se=A.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),pe=A.textContent.length,_e=Math.min(O.start,pe),nt=O.end===void 0?_e:Math.min(O.end,pe);!W.extend&&_e>nt&&(b=nt,nt=_e,_e=b);var q=gv(A,_e),z=gv(A,nt);if(q&&z&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var $=se.createRange();$.setStart(q.node,q.offset),W.removeAllRanges(),_e>nt?(W.addRange($),W.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),W.addRange($))}}}}for(se=[],W=A;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var ne=se[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ef=!!wp,Tp=wp=null}finally{Ye=f,oe.p=c,G.T=o}}i.current=r,Ht=2}}function Mx(){if(Ht===2){Ht=0;var i=pr,r=No,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var c=oe.p;oe.p=2;var f=Ye;Ye|=4;try{ox(i,r.alternate,r)}finally{Ye=f,oe.p=c,G.T=o}}Ht=3}}function Vx(){if(Ht===4||Ht===3){Ht=0,ku();var i=pr,r=No,o=Rs,c=xx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,No=pr=null,jx(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(mr=null),us(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ci,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=G.T,f=oe.p,oe.p=2,G.T=null;try{for(var p=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];p(A.value,{componentStack:A.stack})}}finally{G.T=r,oe.p=f}}(Rs&3)!==0&&Fh(),Wi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===cp?vc++:(vc=0,cp=i):vc=0,_c(0)}}function jx(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Zl(r)))}function Fh(){return kx(),Mx(),Vx(),Px()}function Px(){if(Ht!==5)return!1;var i=pr,r=op;op=0;var o=us(Rs),c=G.T,f=oe.p;try{oe.p=32>o?32:o,G.T=null,o=lp,lp=null;var p=pr,b=Rs;if(Ht=0,No=pr=null,Rs=0,(Ye&6)!==0)throw Error(s(331));var A=Ye;if(Ye|=4,yx(p.current),mx(p,p.current,b,o),Ye=A,_c(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ci,p)}catch{}return!0}finally{oe.p=f,G.T=c,jx(i,r)}}function Ox(i,r,o){r=Qn(o,r),r=zm(i.stateNode,r,2),i=lr(i,r,2),i!==null&&(ta(i,2),Wi(i))}function Je(i,r,o){if(i.tag===3)Ox(i,i,o);else for(;r!==null;){if(r.tag===3){Ox(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mr===null||!mr.has(c))){i=Qn(o,i),o=L_(2),c=lr(r,o,2),c!==null&&(U_(o,c,r,i),ta(c,2),Wi(c));break}}r=r.return}}function fp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new n2;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(sp=!0,f.add(o),i=o2.bind(null,i,r,o),r.then(i,i))}function o2(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,st===i&&(Oe&o)===o&&(vt===4||vt===3&&(Oe&62914560)===Oe&&300>mn()-Ph?(Ye&2)===0&&Io(i,0):rp|=o,Co===Oe&&(Co=0)),Wi(i)}function Lx(i,r){r===0&&(r=Lu()),i=pa(i,r),i!==null&&(ta(i,r),Wi(i))}function l2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Lx(i,o)}function c2(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Lx(i,o)}function u2(i,r){return Ft(i,r)}var Hh=null,ko=null,dp=!1,qh=!1,mp=!1,yr=0;function Wi(i){i!==ko&&i.next===null&&(ko===null?Hh=ko=i:ko=ko.next=i),qh=!0,dp||(dp=!0,f2())}function _c(i,r){if(!mp&&qh){mp=!0;do for(var o=!1,c=Hh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var b=c.suspendedLanes,A=c.pingedLanes;p=(1<<31-bt(42|i)+1)-1,p&=f&~(b&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Fx(c,p))}else p=Oe,p=Mi(c,c===st?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ui(c,p)||(o=!0,Fx(c,p));c=c.next}while(o);mp=!1}}function h2(){Ux()}function Ux(){qh=dp=!1;var i=0;yr!==0&&w2()&&(i=yr);for(var r=mn(),o=null,c=Hh;c!==null;){var f=c.next,p=Bx(c,r);p===0?(c.next=null,o===null?Hh=f:o.next=f,f===null&&(ko=o)):(o=c,(i!==0||(p&3)!==0)&&(qh=!0)),c=f}Ht!==0&&Ht!==5||_c(i),yr!==0&&(yr=0)}function Bx(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-bt(p),A=1<<b,O=f[b];O===-1?((A&o)===0||(A&c)!==0)&&(f[b]=Hd(A,r)):O<=r&&(i.expiredLanes|=A),p&=~A}if(r=st,o=Oe,o=Mi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Gs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ui(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Gs(c),us(o)){case 2:case 8:o=Nl;break;case 32:o=Ks;break;case 268435456:o=Mu;break;default:o=Ks}return c=zx.bind(null,i),o=Ft(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Gs(c),i.callbackPriority=2,i.callbackNode=null,2}function zx(i,r){if(Ht!==0&&Ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Fh()&&i.callbackNode!==o)return null;var c=Oe;return c=Mi(i,i===st?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(wx(i,c,r),Bx(i,mn()),i.callbackNode!=null&&i.callbackNode===o?zx.bind(null,i):null)}function Fx(i,r){if(Fh())return null;wx(i,r,!0)}function f2(){E2(function(){(Ye&6)!==0?Ft(Cl,h2):Ux()})}function pp(){if(yr===0){var i=yo;i===0&&(i=Di,Di<<=1,(Di&261888)===0&&(Di=256)),yr=i}return yr}function Hx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:to(""+i)}function qx(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function d2(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var p=Hx((f[Kt]||null).action),b=c.submitter;b&&(r=(r=b[Kt]||null)?Hx(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var A=new qi("action","action",null,c,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(yr!==0){var O=b?qx(f,b):new FormData(f);jm(o,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(A.preventDefault(),O=b?qx(f,b):new FormData(f),jm(o,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var gp=0;gp<Jd.length;gp++){var yp=Jd[gp],m2=yp.toLowerCase(),p2=yp[0].toUpperCase()+yp.slice(1);vi(m2,"on"+p2)}vi(bv,"onAnimationEnd"),vi(wv,"onAnimationIteration"),vi(Tv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(DC,"onTransitionRun"),vi(kC,"onTransitionStart"),vi(MC,"onTransitionCancel"),vi(Ev,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function Gx(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],O=A.instance,Y=A.currentTarget;if(A=A.listener,O!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=Y;try{p(f)}catch(te){rh(te)}f.currentTarget=null,p=O}else for(b=0;b<c.length;b++){if(A=c[b],O=A.instance,Y=A.currentTarget,A=A.listener,O!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=Y;try{p(f)}catch(te){rh(te)}f.currentTarget=null,p=O}}}}function je(i,r){var o=r[Xa];o===void 0&&(o=r[Xa]=new Set);var c=i+"__bubble";o.has(c)||(Kx(r,i,2,!1),o.add(c))}function vp(i,r,o){var c=0;r&&(c|=4),Kx(o,i,c,r)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function _p(i){if(!i[Gh]){i[Gh]=!0,kl.forEach(function(o){o!=="selectionchange"&&(g2.has(o)||vp(o,!1,i),vp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Gh]||(r[Gh]=!0,vp("selectionchange",!1,r))}}function Kx(i,r,o,c){switch(bb(r)){case 2:var f=q2;break;case 8:f=G2;break;default:f=Vp}o=f.bind(null,r,o,i),f=void 0,!oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function xp(i,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===f)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;A!==null;){if(b=Oi(A),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){c=p=b;continue e}A=A.parentNode}}c=c.return}Js(function(){var Y=p,te=Gn(o),se=[];e:{var Q=Sv.get(i);if(Q!==void 0){var W=qi,pe=i;switch(i){case"keypress":if(ca(o)===0)break e;case"keydown":case"keyup":W=nh;break;case"focusin":pe="focus",W=ha;break;case"focusout":pe="blur",W=ha;break;case"beforeblur":case"afterblur":W=ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case bv:case wv:case Tv:W=Qu;break;case Ev:W=R;break;case"scroll":case"scrollend":W=ql;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ds;break;case"toggle":case"beforetoggle":W=Re}var _e=(r&4)!==0,nt=!_e&&(i==="scroll"||i==="scrollend"),q=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var z=Y,$;z!==null;){var ne=z;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||q===null||(ne=mi(z,q),ne!=null&&_e.push(bc(z,ne,$))),nt)break;z=z.return}0<_e.length&&(Q=new W(Q,pe,null,o,te),se.push({event:Q,listeners:_e}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==zl&&(pe=o.relatedTarget||o.fromElement)&&(Oi(pe)||pe[ji]))break e;if((W||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(pe=o.relatedTarget||o.toElement,W=Y,pe=pe?Oi(pe):null,pe!==null&&(nt=l(pe),_e=pe.tag,pe!==nt||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(W=null,pe=Y),W!==pe)){if(_e=Gl,ne="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(_e=ds,ne="onPointerLeave",q="onPointerEnter",z="pointer"),nt=W==null?Q:Nn(W),$=pe==null?Q:Nn(pe),Q=new _e(ne,z+"leave",W,o,te),Q.target=nt,Q.relatedTarget=$,ne=null,Oi(te)===Y&&(_e=new _e(q,z+"enter",pe,o,te),_e.target=$,_e.relatedTarget=nt,ne=_e),nt=ne,W&&pe)t:{for(_e=y2,q=W,z=pe,$=0,ne=q;ne;ne=_e(ne))$++;ne=0;for(var ye=z;ye;ye=_e(ye))ne++;for(;0<$-ne;)q=_e(q),$--;for(;0<ne-$;)z=_e(z),ne--;for(;$--;){if(q===z||z!==null&&q===z.alternate){_e=q;break t}q=_e(q),z=_e(z)}_e=null}else _e=null;W!==null&&$x(se,Q,W,_e,!1),pe!==null&&nt!==null&&$x(se,nt,pe,_e,!0)}}e:{if(Q=Y?Nn(Y):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Ge=uv;else if(lv(Q))if(hv)Ge=CC;else{Ge=AC;var ge=SC}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&eo(Y.elementType)&&(Ge=uv):Ge=RC;if(Ge&&(Ge=Ge(i,Y))){cv(se,Ge,o,te);break e}ge&&ge(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ll(Q,"number",Q.value)}switch(ge=Y?Nn(Y):window,i){case"focusin":(lv(ge)||ge.contentEditable==="true")&&(lo=ge,Qd=Y,Xl=null);break;case"focusout":Xl=Qd=lo=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,_v(se,o,te);break;case"selectionchange":if(IC)break;case"keydown":case"keyup":_v(se,o,te)}var ke;if($e)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else oo?fa(i,o)&&(Le="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&($i&&o.locale!=="ko"&&(oo||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&oo&&(ke=Hl()):(Hi=te,Fl="value"in Hi?Hi.value:Hi.textContent,oo=!0)),ge=Kh(Y,Le),0<ge.length&&(Le=new Ki(Le,i,null,o,te),se.push({event:Le,listeners:ge}),ke?Le.data=ke:(ke=ao(o),ke!==null&&(Le.data=ke)))),(ke=$n?bC(i,o):wC(i,o))&&(Le=Kh(Y,"onBeforeInput"),0<Le.length&&(ge=new Ki("onBeforeInput","beforeinput",null,o,te),se.push({event:ge,listeners:Le}),ge.data=ke)),d2(se,i,Y,o,te)}Gx(se,r)})}function bc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Kh(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=mi(i,o),f!=null&&c.unshift(bc(i,f,p)),f=mi(i,r),f!=null&&c.push(bc(i,f,p))),i.tag===3)return c;i=i.return}return[]}function y2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $x(i,r,o,c,f){for(var p=r._reactName,b=[];o!==null&&o!==c;){var A=o,O=A.alternate,Y=A.stateNode;if(A=A.tag,O!==null&&O===c)break;A!==5&&A!==26&&A!==27||Y===null||(O=Y,f?(Y=mi(o,p),Y!=null&&b.unshift(bc(o,Y,O))):f||(Y=mi(o,p),Y!=null&&b.push(bc(o,Y,O)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var v2=/\r\n?/g,_2=/\u0000|\uFFFD/g;function Yx(i){return(typeof i=="string"?i:""+i).replace(v2,`
`).replace(_2,"")}function Qx(i,r){return r=Yx(r),Yx(i)===r}function tt(i,r,o,c,f,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||xn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&xn(i,""+c);break;case"className":In(i,"class",c);break;case"tabIndex":In(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":In(i,o,c);break;case"style":Bl(i,c,p);break;case"data":if(r!=="object"){In(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=to(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",f.name,f,null),tt(i,r,"formEncType",f.formEncType,f,null),tt(i,r,"formMethod",f.formMethod,f,null),tt(i,r,"formTarget",f.formTarget,f,null)):(tt(i,r,"encType",f.encType,f,null),tt(i,r,"method",f.method,f,null),tt(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=to(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=di);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=to(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":je("beforetoggle",i),je("toggle",i),Ja(i,"popover",c);break;case"xlinkActuate":kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ja(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ku.get(o)||o,Ja(i,o,c))}}function bp(i,r,o,c,f,p){switch(o){case"style":Bl(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?xn(i,c):(typeof c=="number"||typeof c=="bigint")&&xn(i,""+c);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Kt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ja(i,o,c)}}}function tn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,p,b,o,null)}}f&&tt(i,r,"srcSet",o.srcSet,o,null),c&&tt(i,r,"src",o.src,o,null);return;case"input":je("invalid",i);var A=p=b=f=null,O=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":f=te;break;case"type":b=te;break;case"checked":O=te;break;case"defaultChecked":Y=te;break;case"value":p=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:tt(i,r,c,te,o,null)}}Hu(i,p,A,O,Y,b,f,!1);return;case"select":je("invalid",i),c=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:tt(i,r,f,A,o,null)}r=p,o=b,i.multiple=!!c,r!=null?Ys(i,!!c,r,!1):o!=null&&Ys(i,!!c,o,!0);return;case"textarea":je("invalid",i),p=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:tt(i,r,b,A,o,null)}Qs(i,c,f,p);return;case"option":for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null)&&(O==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":tt(i,r,O,c,o,null));return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(c=0;c<xc.length;c++)je(xc[c],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,Y,c,o,null)}return;default:if(eo(r)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&bp(i,r,te,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&tt(i,r,A,c,o,null))}function x2(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,A=null,O=null,Y=null,te=null;for(W in o){var se=o[W];if(o.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=se;default:c.hasOwnProperty(W)||tt(i,r,W,null,c,se)}}for(var Q in c){var W=c[Q];if(se=o[Q],c.hasOwnProperty(Q)&&(W!=null||se!=null))switch(Q){case"type":p=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":te=W;break;case"value":b=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==se&&tt(i,r,Q,W,c,se)}}Za(i,b,A,O,Y,te,p,f);return;case"select":W=b=A=Q=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(p)||tt(i,r,p,null,c,O)}for(f in c)if(p=c[f],O=o[f],c.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":Q=p;break;case"defaultValue":A=p;break;case"multiple":b=p;default:p!==O&&tt(i,r,f,p,c,O)}r=A,o=b,c=W,Q!=null?Ys(i,!!o,Q,!1):!!c!=!!o&&(r!=null?Ys(i,!!o,r,!0):Ys(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,r,A,null,c,f)}for(b in c)if(f=c[b],p=o[b],c.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":Q=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&tt(i,r,b,f,c,p)}qu(i,Q,W);return;case"option":for(var pe in o)Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?i.selected=!1:tt(i,r,pe,null,c,Q));for(O in c)Q=c[O],W=o[O],c.hasOwnProperty(O)&&Q!==W&&(Q!=null||W!=null)&&(O==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":tt(i,r,O,Q,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Q=o[_e],o.hasOwnProperty(_e)&&Q!=null&&!c.hasOwnProperty(_e)&&tt(i,r,_e,null,c,Q);for(Y in c)if(Q=c[Y],W=o[Y],c.hasOwnProperty(Y)&&Q!==W&&(Q!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:tt(i,r,Y,Q,c,W)}return;default:if(eo(r)){for(var nt in o)Q=o[nt],o.hasOwnProperty(nt)&&Q!==void 0&&!c.hasOwnProperty(nt)&&bp(i,r,nt,void 0,c,Q);for(te in c)Q=c[te],W=o[te],!c.hasOwnProperty(te)||Q===W||Q===void 0&&W===void 0||bp(i,r,te,Q,c,W);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!c.hasOwnProperty(q)&&tt(i,r,q,null,c,Q);for(se in c)Q=c[se],W=o[se],!c.hasOwnProperty(se)||Q===W||Q==null&&W==null||tt(i,r,se,Q,c,W)}function Xx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,b=f.initiatorType,A=f.duration;if(p&&A&&Xx(b)){for(b=0,A=f.responseEnd,c+=1;c<o.length;c++){var O=o[c],Y=O.startTime;if(Y>A)break;var te=O.transferSize,se=O.initiatorType;te&&Xx(se)&&(O=O.responseEnd,b+=te*(O<A?1:(A-Y)/(O-Y)))}if(--c,r+=8*(p+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var wp=null,Tp=null;function $h(i){return i.nodeType===9?i:i.ownerDocument}function Wx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jx(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ep(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sp=null;function w2(){var i=window.event;return i&&i.type==="popstate"?i===Sp?!1:(Sp=i,!0):(Sp=null,!1)}var Zx=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(i){return eb.resolve(null).then(i).catch(S2)}:Zx;function S2(i){setTimeout(function(){throw i})}function vr(i){return i==="head"}function tb(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),Po(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")wc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,wc(o);for(var p=o.firstChild;p;){var b=p.nextSibling,A=p.nodeName;p[Pi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&wc(i.ownerDocument.body);o=f}while(o);Po(r)}function nb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Ap(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ap(o),Wa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function A2(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Pi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function R2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function ib(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ei(i.nextSibling),i===null))return null;return i}function Rp(i){return i.data==="$?"||i.data==="$~"}function Cp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function C2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Np=null;function sb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ei(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function rb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function ab(i,r,o){switch(r=$h(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function wc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Wa(i)}var ti=new Map,ob=new Set;function Yh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cs=oe.d;oe.d={f:N2,r:I2,D:D2,C:k2,L:M2,m:V2,X:P2,S:j2,M:O2};function N2(){var i=Cs.f(),r=Uh();return i||r}function I2(i){var r=qn(i);r!==null&&r.tag===5&&r.type==="form"?E_(r):Cs.r(i)}var Mo=typeof document>"u"?null:document;function lb(i,r,o){var c=Mo;if(c&&typeof r=="string"&&r){var f=_n(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),ob.has(f)||(ob.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),tn(r,"link",i),Dt(r),c.head.appendChild(r)))}}function D2(i){Cs.D(i),lb("dns-prefetch",i,null)}function k2(i,r){Cs.C(i,r),lb("preconnect",i,r)}function M2(i,r,o){Cs.L(i,r,o);var c=Mo;if(c&&i&&r){var f='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+_n(o.imageSizes)+'"]')):f+='[href="'+_n(i)+'"]';var p=f;switch(r){case"style":p=Vo(i);break;case"script":p=jo(i)}ti.has(p)||(i=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(p,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(Tc(p))||r==="script"&&c.querySelector(Ec(p))||(r=c.createElement("link"),tn(r,"link",i),Dt(r),c.head.appendChild(r)))}}function V2(i,r){Cs.m(i,r);var o=Mo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=jo(i)}if(!ti.has(p)&&(i=x({rel:"modulepreload",href:i},r),ti.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ec(p)))return}c=o.createElement("link"),tn(c,"link",i),Dt(c),o.head.appendChild(c)}}}function j2(i,r,o){Cs.S(i,r,o);var c=Mo;if(c&&i){var f=Li(c).hoistableStyles,p=Vo(i);r=r||"default";var b=f.get(p);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(Tc(p)))A.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(p))&&Ip(i,o);var O=b=c.createElement("link");Dt(O),tn(O,"link",i),O._p=new Promise(function(Y,te){O.onload=Y,O.onerror=te}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Qh(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},f.set(p,b)}}}function P2(i,r){Cs.X(i,r);var o=Mo;if(o&&i){var c=Li(o).hoistableScripts,f=jo(i),p=c.get(f);p||(p=o.querySelector(Ec(f)),p||(i=x({src:i,async:!0},r),(r=ti.get(f))&&Dp(i,r),p=o.createElement("script"),Dt(p),tn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function O2(i,r){Cs.M(i,r);var o=Mo;if(o&&i){var c=Li(o).hoistableScripts,f=jo(i),p=c.get(f);p||(p=o.querySelector(Ec(f)),p||(i=x({src:i,async:!0,type:"module"},r),(r=ti.get(f))&&Dp(i,r),p=o.createElement("script"),Dt(p),tn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function cb(i,r,o,c){var f=(f=De.current)?Yh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Vo(o.href),o=Li(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Vo(o.href);var p=Li(f).hoistableStyles,b=p.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=f.querySelector(Tc(i)))&&!p._p&&(b.instance=p,b.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),p||L2(f,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jo(o),o=Li(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Vo(i){return'href="'+_n(i)+'"'}function Tc(i){return'link[rel="stylesheet"]['+i+"]"}function ub(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function L2(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),tn(r,"link",o),Dt(r),i.head.appendChild(r))}function jo(i){return'[src="'+_n(i)+'"]'}function Ec(i){return"script[async]"+i}function hb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+_n(o.href)+'"]');if(c)return r.instance=c,Dt(c),c;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Dt(c),tn(c,"style",f),Qh(c,o.precedence,i),r.instance=c;case"stylesheet":f=Vo(o.href);var p=i.querySelector(Tc(f));if(p)return r.state.loading|=4,r.instance=p,Dt(p),p;c=ub(o),(f=ti.get(f))&&Ip(c,f),p=(i.ownerDocument||i).createElement("link"),Dt(p);var b=p;return b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),tn(p,"link",c),r.state.loading|=4,Qh(p,o.precedence,i),r.instance=p;case"script":return p=jo(o.src),(f=i.querySelector(Ec(p)))?(r.instance=f,Dt(f),f):(c=o,(f=ti.get(p))&&(c=x({},o),Dp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),Dt(f),tn(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Qh(c,o.precedence,i));return r.instance}function Qh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Ip(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Dp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Xh=null;function fb(i,r,o){if(Xh===null){var c=new Map,f=Xh=new Map;f.set(o,c)}else f=Xh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Pi]||p[It]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(p):c.set(b,[p])}}return c}function db(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function U2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function B2(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Vo(c.href),p=r.querySelector(Tc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Wh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Dt(p);return}p=r.ownerDocument||r,c=ub(c),(f=ti.get(f))&&Ip(c,f),p=p.createElement("link"),Dt(p);var b=p;b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),tn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Wh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var kp=0;function z2(i,r){return i.stylesheets&&i.count===0&&Zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&kp===0&&(kp=62500*b2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>kp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jh=null;function Zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jh=new Map,r.forEach(F2,i),Jh=null,Wh.call(i))}function F2(i,r){if(!(r.state.loading&4)){var o=Jh.get(i);if(o)var c=o.get(null);else{o=new Map,Jh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=r.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,f),o.set(b,f),this.count++,c=Wh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Sc={$$typeof:U,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function H2(i,r,o,c,f,p,b,A,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function pb(i,r,o,c,f,p,b,A,O,Y,te,se){return i=new H2(i,r,o,b,O,Y,te,se,A),r=1,p===!0&&(r|=24),p=kn(3,null,null,r),i.current=p,p.stateNode=i,r=hm(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},pm(p),i}function gb(i){return i?(i=ho,i):ho}function yb(i,r,o,c,f,p){f=gb(f),c.context===null?c.context=f:c.pendingContext=f,c=or(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=lr(i,c,r),o!==null&&(Sn(o,i,r),ic(o,i,r))}function vb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Mp(i,r){vb(i,r),(i=i.alternate)&&vb(i,r)}function _b(i){if(i.tag===13||i.tag===31){var r=pa(i,67108864);r!==null&&Sn(r,i,67108864),Mp(i,67108864)}}function xb(i){if(i.tag===13||i.tag===31){var r=On();r=ia(r);var o=pa(i,r);o!==null&&Sn(o,i,r),Mp(i,r)}}var ef=!0;function q2(i,r,o,c){var f=G.T;G.T=null;var p=oe.p;try{oe.p=2,Vp(i,r,o,c)}finally{oe.p=p,G.T=f}}function G2(i,r,o,c){var f=G.T;G.T=null;var p=oe.p;try{oe.p=8,Vp(i,r,o,c)}finally{oe.p=p,G.T=f}}function Vp(i,r,o,c){if(ef){var f=jp(c);if(f===null)xp(i,r,c,tf,o),wb(i,c);else if($2(f,i,r,o,c))c.stopPropagation();else if(wb(i,c),r&4&&-1<K2.indexOf(i)){for(;f!==null;){var p=qn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=ki(p.pendingLanes);if(b!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var O=1<<31-bt(b);A.entanglements[1]|=O,b&=~O}Wi(p),(Ye&6)===0&&(Oh=mn()+500,_c(0))}}break;case 31:case 13:A=pa(p,2),A!==null&&Sn(A,p,2),Uh(),Mp(p,2)}if(p=jp(c),p===null&&xp(i,r,c,tf,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else xp(i,r,c,null,o)}}function jp(i){return i=Gn(i),Pp(i)}var tf=null;function Pp(i){if(tf=null,i=Oi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return tf=i,null}function bb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case Cl:return 2;case Nl:return 8;case Ks:case Fd:return 32;case Mu:return 268435456;default:return 32}default:return 32}}var Op=!1,_r=null,xr=null,br=null,Ac=new Map,Rc=new Map,wr=[],K2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wb(i,r){switch(i){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ac.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(r.pointerId)}}function Cc(i,r,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=qn(r),r!==null&&_b(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function $2(i,r,o,c,f){switch(r){case"focusin":return _r=Cc(_r,i,r,o,c,f),!0;case"dragenter":return xr=Cc(xr,i,r,o,c,f),!0;case"mouseover":return br=Cc(br,i,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return Ac.set(p,Cc(Ac.get(p)||null,i,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Rc.set(p,Cc(Rc.get(p)||null,i,r,o,c,f)),!0}return!1}function Tb(i){var r=Oi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,hi(i.priority,function(){xb(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,hi(i.priority,function(){xb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=jp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);zl=c,o.target.dispatchEvent(c),zl=null}else return r=qn(o),r!==null&&_b(r),i.blockedOn=o,!1;r.shift()}return!0}function Eb(i,r,o){nf(i)&&o.delete(r)}function Y2(){Op=!1,_r!==null&&nf(_r)&&(_r=null),xr!==null&&nf(xr)&&(xr=null),br!==null&&nf(br)&&(br=null),Ac.forEach(Eb),Rc.forEach(Eb)}function sf(i,r){i.blockedOn===r&&(i.blockedOn=null,Op||(Op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y2)))}var rf=null;function Sb(i){rf!==i&&(rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rf===i&&(rf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(Pp(c||o)===null)continue;break}var p=qn(o);p!==null&&(i.splice(r,3),r-=3,jm(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Po(i){function r(O){return sf(O,i)}_r!==null&&sf(_r,i),xr!==null&&sf(xr,i),br!==null&&sf(br,i),Ac.forEach(r),Rc.forEach(r);for(var o=0;o<wr.length;o++){var c=wr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<wr.length&&(o=wr[0],o.blockedOn===null);)Tb(o),o.blockedOn===null&&wr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],b=f[Kt]||null;if(typeof p=="function")b||Sb(o);else if(b){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Kt]||null)A=b.formAction;else if(Pp(f)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),Sb(o)}}}function Ab(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Lp(i){this._internalRoot=i}af.prototype.render=Lp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=On();yb(o,c,i,r,null,null)},af.prototype.unmount=Lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;yb(i.current,2,null,i,null,null),Uh(),r[ji]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var r=Uu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<wr.length&&r!==0&&r<wr[o].priority;o++);wr.splice(o,0,i),o===0&&Tb(i)}};var Rb=e.version;if(Rb!=="19.2.3")throw Error(s(527,Rb,"19.2.3"));oe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var Q2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{ci=of.inject(Q2),Xt=of}catch{}}return Ic.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=V_,p=j_,b=P_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=pb(i,1,!1,null,null,o,c,null,f,p,b,Ab),i[ji]=r.current,_p(i),new Lp(r)},Ic.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",p=V_,b=j_,A=P_,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=pb(i,1,!0,r,o??null,c,f,O,p,b,A,Ab),r.context=gb(null),o=r.current,c=On(),c=ia(c),f=or(c),f.callback=null,lr(o,f,c),o=c,r.current.lanes=o,ta(r,o),Wi(r),i[ji]=r.current,_p(i),new af(r)},Ic.version="19.2.3",Ic}var Ob;function rN(){if(Ob)return zp.exports;Ob=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=sN(),zp.exports}var aN=rN();var Lb="popstate";function oN(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return Rg("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xc(a)}return cN(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lN(){return Math.random().toString(36).substring(2,10)}function Ub(t,e){return{usr:t.state,key:t.key,idx:e}}function Rg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hl(e):e,state:n,key:e&&e.key||s||lN()}}function Xc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function cN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function x(){d="POP";let M=v(),L=M==null?null:M-g;g=M,m&&m({action:d,location:P.location,delta:L})}function T(M,L){d="PUSH";let B=Rg(P.location,M,L);g=v()+1;let U=Ub(B,g),Z=P.createHref(B);try{u.pushState(U,"",Z)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(Z)}l&&m&&m({action:d,location:P.location,delta:1})}function C(M,L){d="REPLACE";let B=Rg(P.location,M,L);g=v();let U=Ub(B,g),Z=P.createHref(B);u.replaceState(U,"",Z),l&&m&&m({action:d,location:P.location,delta:0})}function I(M){return uN(M)}let P={get action(){return d},get location(){return t(a,u)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Lb,x),m=M,()=>{a.removeEventListener(Lb,x),m=null}},createHref(M){return e(a,M)},createURL:I,encodeLocation(M){let L=I(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:C,go(M){return u.go(M)}};return P}function uN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UE(t,e,n="/"){return hN(t,e,n,!1)}function hN(t,e,n,s){let a=typeof e=="string"?hl(e):e,l=Ps(a.pathname||"/",n);if(l==null)return null;let u=BE(t);fN(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let g=TN(l);d=bN(u[m],g,s)}return d}function BE(t,e=[],n=[],s="",a=!1){let l=(u,d,m=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;mt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let x=Ms([s,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),BE(u.children,e,T,x,m)),!(u.path==null&&!u.index)&&e.push({path:x,score:_N(x,u.index),routesMeta:T})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of zE(u.path))l(u,d,!0,m)}),e}function zE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=zE(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function fN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var dN=/^:[\w-]+$/,mN=3,pN=2,gN=1,yN=10,vN=-2,Bb=t=>t==="*";function _N(t,e){let n=t.split("/"),s=n.length;return n.some(Bb)&&(s+=vN),e&&(s+=pN),n.filter(a=>!Bb(a)).reduce((a,l)=>a+(dN.test(l)?mN:l===""?gN:yN),s)}function xN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function bN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!x&&g&&n&&!s[s.length-1].route.index&&(x=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:Ms([l,x.pathname]),pathnameBase:RN(Ms([l,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(l=Ms([l,x.pathnameBase]))}return u}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=wN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:x},T)=>{if(v==="*"){let I=d[T]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const C=d[T];return x&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function wN(t,e=!1,n=!0){zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function TN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EN=t=>FE.test(t);function SN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?hl(t):t,l;if(n)if(EN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=zb(n.substring(1),"/"):l=zb(n,e)}else l=e;return{pathname:l,search:CN(s),hash:NN(a)}}function zb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Gp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ny(t){let e=AN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Iy(t,e,n,s=!1){let a;typeof t=="string"?a=hl(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),Gp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Gp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Gp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),x-=1;a.pathname=T.join("/")}d=x>=0?e[x]:"/"}let m=SN(a,d),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),RN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,IN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function kN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var HE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qE(t,e){let n=t;if(typeof n!="string"||!FE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(HE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Ps(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GE=["POST","PUT","PATCH","DELETE"];new Set(GE);var MN=["GET",...GE];new Set(MN);var fl=k.createContext(null);fl.displayName="DataRouter";var dd=k.createContext(null);dd.displayName="DataRouterState";var VN=k.createContext(!1),KE=k.createContext({isTransitioning:!1});KE.displayName="ViewTransition";var jN=k.createContext(new Map);jN.displayName="Fetchers";var PN=k.createContext(null);PN.displayName="Await";var Fn=k.createContext(null);Fn.displayName="Navigation";var uu=k.createContext(null);uu.displayName="Location";var Ci=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var Dy=k.createContext(null);Dy.displayName="RouteError";var $E="REACT_ROUTER_ERROR",ON="REDIRECT",LN="ROUTE_ERROR_RESPONSE";function UN(t){if(t.startsWith(`${$E}:${ON}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function BN(t){if(t.startsWith(`${$E}:${LN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new IN(e.status,e.statusText,e.data)}catch{}}function zN(t,{relative:e}={}){mt(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(Fn),{hash:a,pathname:l,search:u}=hu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ms([n,l])),s.createHref({pathname:d,search:u,hash:a})}function dl(){return k.useContext(uu)!=null}function Ni(){return mt(dl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(uu).location}var YE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(t){k.useContext(Fn).static||k.useLayoutEffect(t)}function os(){let{isDataRoute:t}=k.useContext(Ci);return t?eI():FN()}function FN(){mt(dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(fl),{basename:e,navigator:n}=k.useContext(Fn),{matches:s}=k.useContext(Ci),{pathname:a}=Ni(),l=JSON.stringify(Ny(s)),u=k.useRef(!1);return QE(()=>{u.current=!0}),k.useCallback((m,g={})=>{if(zn(u.current,YE),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=Iy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ms([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}k.createContext(null);function md(){let{matches:t}=k.useContext(Ci),e=t[t.length-1];return e?e.params:{}}function hu(t,{relative:e}={}){let{matches:n}=k.useContext(Ci),{pathname:s}=Ni(),a=JSON.stringify(Ny(n));return k.useMemo(()=>Iy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function HN(t,e){return XE(t,e)}function XE(t,e,n,s,a){mt(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(Fn),{matches:u}=k.useContext(Ci),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let B=x&&x.path||"";JE(g,!x||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Ni(),C;if(e){let B=typeof e=="string"?hl(e):e;mt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),C=B}else C=T;let I=C.pathname||"/",P=I;if(v!=="/"){let B=v.replace(/^\//,"").split("/");P="/"+I.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=UE(t,{pathname:P});zn(x||M!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),zn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=YN(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Ms([v,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Ms([v,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,s,a);return e&&L?k.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},L):L}function qN(){let t=ZN(),e=DN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,u)}var GN=k.createElement(qN,null),WE=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=BN(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(Ci.Provider,{value:this.props.routeContext},k.createElement(Dy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(KN,{error:t},e):e}};WE.contextType=VN;var Kp=new WeakMap;function KN({children:t,error:e}){let{basename:n}=k.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=UN(e.digest);if(s){let a=Kp.get(e);if(a)throw a;let l=qE(s.location,n);if(HE&&!Kp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Kp.set(e,u),u}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function $N({routeContext:t,match:e,children:n}){let s=k.useContext(fl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Ci.Provider,{value:t},n)}function YN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=v),x.route.id){let{loaderData:T,errors:C}=n,I=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!C||C[x.route.id]===void 0);if(x.route.lazy||I){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(v,x)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:kN(n.matches),errorInfo:x})}:void 0;return l.reduceRight((v,x,T)=>{let C,I=!1,P=null,M=null;n&&(C=u&&x.route.id?u[x.route.id]:void 0,P=x.route.errorElement||GN,d&&(m<0&&T===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):m===T&&(I=!0,M=x.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,T+1)),B=()=>{let U;return C?U=P:I?U=M:x.route.Component?U=k.createElement(x.route.Component,null):x.route.element?U=x.route.element:U=v,k.createElement($N,{match:x,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:U})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?k.createElement(WE,{location:n.location,revalidation:n.revalidation,component:P,error:C,children:B(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:g}):B()},null)}function ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QN(t){let e=k.useContext(fl);return mt(e,ky(t)),e}function XN(t){let e=k.useContext(dd);return mt(e,ky(t)),e}function WN(t){let e=k.useContext(Ci);return mt(e,ky(t)),e}function My(t){let e=WN(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JN(){return My("useRouteId")}function ZN(){let t=k.useContext(Dy),e=XN("useRouteError"),n=My("useRouteError");return t!==void 0?t:e.errors?.[n]}function eI(){let{router:t}=QN("useNavigate"),e=My("useNavigate"),n=k.useRef(!1);return QE(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{zn(n.current,YE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Fb={};function JE(t,e,n){!e&&!Fb[t]&&(Fb[t]=!0,zn(!1,n))}k.memo(tI);function tI({routes:t,future:e,state:n,onError:s}){return XE(t,void 0,n,s,e)}function ZE({to:t,replace:e,state:n,relative:s}){mt(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Fn);zn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(Ci),{pathname:u}=Ni(),d=os(),m=Iy(t,Ny(l),u,s==="path"),g=JSON.stringify(m);return k.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function Ns(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){mt(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=hl(n));let{pathname:g="/",search:v="",hash:x="",state:T=null,key:C="default"}=n,I=k.useMemo(()=>{let P=Ps(g,d);return P==null?null:{location:{pathname:P,search:v,hash:x,state:T,key:C},navigationType:s}},[d,g,v,x,T,C,s]);return zn(I!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:k.createElement(Fn.Provider,{value:m},k.createElement(uu.Provider,{children:e,value:I}))}function iI({children:t,location:e}){return HN(Cg(t),e)}function Cg(t,e=[]){let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){n.push.apply(n,Cg(s.props.children,l));return}mt(s.type===Ns,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Cg(s.props.children,l)),n.push(u)}),n}var Tf="get",Ef="application/x-www-form-urlencoded";function pd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function sI(t){return pd(t)&&t.tagName.toLowerCase()==="button"}function rI(t){return pd(t)&&t.tagName.toLowerCase()==="form"}function aI(t){return pd(t)&&t.tagName.toLowerCase()==="input"}function oI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lI(t,e){return t.button===0&&(!e||e==="_self")&&!oI(t)}function Ng(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function cI(t,e){let n=Ng(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var lf=null;function uI(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var hI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(t){return t!=null&&!hI.has(t)?(zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function fI(t,e){let n,s,a,l,u;if(rI(t)){let d=t.getAttribute("action");s=d?Ps(d,e):null,n=t.getAttribute("method")||Tf,a=$p(t.getAttribute("enctype"))||Ef,l=new FormData(t)}else if(sI(t)||aI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Ps(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Tf,a=$p(t.getAttribute("formenctype"))||$p(d.getAttribute("enctype"))||Ef,l=new FormData(d,t),!uI()){let{name:g,type:v,value:x}=t;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,x)}}else{if(pd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tf,s=null,a=Ef,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ps(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await mI(l,n);return u.links?u.links():[]}return[]}));return xI(s.flat(1).filter(pI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hb(t,e,n,s,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>u(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function yI(t,e,{includeHydrateFallback:n}={}){return vI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function vI(t){return[...new Set(t)]}function _I(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function xI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(_I(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function e1(){let t=k.useContext(fl);return Vy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bI(){let t=k.useContext(dd);return Vy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jy=k.createContext(void 0);jy.displayName="FrameworkContext";function t1(){let t=k.useContext(jy);return Vy(t,"You must render this element inside a <HydratedRouter> element"),t}function wI(t,e){let n=k.useContext(jy),[s,a]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,T=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=L=>{L.forEach(B=>{u(B.isIntersecting)})},M=new IntersectionObserver(P,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[t]),k.useEffect(()=>{if(s){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[s]);let C=()=>{a(!0)},I=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Dc(d,C),onBlur:Dc(m,I),onMouseEnter:Dc(g,C),onMouseLeave:Dc(v,I),onTouchStart:Dc(x,C)}]:[!1,T,{}]}function Dc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function TI({page:t,...e}){let{router:n}=e1(),s=k.useMemo(()=>UE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(SI,{page:t,matches:s,...e}):null}function EI(t){let{manifest:e,routeModules:n}=t1(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return gI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function SI({page:t,matches:e,...n}){let s=Ni(),{manifest:a,routeModules:l}=t1(),{basename:u}=e1(),{loaderData:d,matches:m}=bI(),g=k.useMemo(()=>Hb(t,e,m,a,s,"data"),[t,e,m,a,s]),v=k.useMemo(()=>Hb(t,e,m,a,s,"assets"),[t,e,m,a,s]),x=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let I=new Set,P=!1;if(e.forEach(L=>{let B=a.routes[L.route.id];!B||!B.hasLoader||(!g.some(U=>U.route.id===L.route.id)&&L.route.id in d&&l[L.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:I.add(L.route.id))}),I.size===0)return[];let M=dI(t,u,"data");return P&&I.size>0&&M.searchParams.set("_routes",e.filter(L=>I.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[u,d,s,a,g,e,t,l]),T=k.useMemo(()=>yI(v,a),[v,a]),C=EI(v);return k.createElement(k.Fragment,null,x.map(I=>k.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),T.map(I=>k.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),C.map(({key:I,link:P})=>k.createElement("link",{key:I,nonce:n.nonce,...P})))}function AI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RI&&(window.__reactRouterVersion="7.11.0")}catch{}function CI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=k.useRef();a.current==null&&(a.current=oN({window:s,v5Compat:!0}));let l=a.current,[u,d]=k.useState({action:l.action,location:l.location}),m=k.useCallback(g=>{n===!1?d(g):k.startTransition(()=>d(g))},[n]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(nI,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i1=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T,...C},I){let{basename:P,unstable_useTransitions:M}=k.useContext(Fn),L=typeof g=="string"&&n1.test(g),B=qE(g,P);g=B.to;let U=zN(g,{relative:a}),[Z,J,ee]=wI(s,C),E=kI(g,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:T,unstable_useTransitions:M});function S(j){e&&e(j),j.defaultPrevented||E(j)}let N=k.createElement("a",{...C,...ee,href:B.absoluteURL||U,onClick:B.isExternal||l?e:S,ref:AI(I,J),target:m,"data-discover":!L&&n==="render"?"true":void 0});return Z&&!L?k.createElement(k.Fragment,null,N,k.createElement(TI,{page:U})):N});i1.displayName="Link";var NI=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...g},v){let x=hu(u,{relative:g.relative}),T=Ni(),C=k.useContext(dd),{navigator:I,basename:P}=k.useContext(Fn),M=C!=null&&LI(x)&&d===!0,L=I.encodeLocation?I.encodeLocation(x).pathname:x.pathname,B=T.pathname,U=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(B=B.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&P&&(U=Ps(U,P)||U);const Z=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let J=B===L||!a&&B.startsWith(L)&&B.charAt(Z)==="/",ee=U!=null&&(U===L||!a&&U.startsWith(L)&&U.charAt(L.length)==="/"),E={isActive:J,isPending:ee,isTransitioning:M},S=J?e:void 0,N;typeof s=="function"?N=s(E):N=[s,J?"active":null,ee?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(E):l;return k.createElement(i1,{...g,"aria-current":S,className:N,ref:v,style:j,to:u,viewTransition:d},typeof m=="function"?m(E):m)});NI.displayName="NavLink";var II=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Tf,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T,...C},I)=>{let{unstable_useTransitions:P}=k.useContext(Fn),M=PI(),L=OI(d,{relative:g}),B=u.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&n1.test(d),Z=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let ee=J.nativeEvent.submitter,E=ee?.getAttribute("formmethod")||u,S=()=>M(ee||J.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T});P&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:I,method:B,action:L,onSubmit:s?m:Z,...C,"data-discover":!U&&t==="render"?"true":void 0})});II.displayName="Form";function DI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(t){let e=k.useContext(fl);return mt(e,DI(t)),e}function kI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=os(),v=Ni(),x=hu(t,{relative:l});return k.useCallback(T=>{if(lI(T,e)){T.preventDefault();let C=n!==void 0?n:Xc(v)===Xc(x),I=()=>g(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?k.startTransition(()=>I()):I()}},[v,g,x,n,s,e,t,a,l,u,d,m])}function MI(t){zn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(Ng(t)),n=k.useRef(!1),s=Ni(),a=k.useMemo(()=>cI(s.search,n.current?null:e.current),[s.search]),l=os(),u=k.useCallback((d,m)=>{const g=Ng(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+g,m)},[l,a]);return[a,u]}var VI=0,jI=()=>`__${String(++VI)}__`;function PI(){let{router:t}=s1("useSubmit"),{basename:e}=k.useContext(Fn),n=JN(),s=t.fetch,a=t.navigate;return k.useCallback(async(l,u={})=>{let{action:d,method:m,encType:g,formData:v,body:x}=fI(l,e);if(u.navigate===!1){let T=u.fetcherKey||jI();await s(T,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function OI(t,{relative:e}={}){let{basename:n}=k.useContext(Fn),s=k.useContext(Ci);mt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...hu(t||".",{relative:e})},u=Ni();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ms([n,l.pathname])),Xc(l)}function LI(t,{relative:e}={}){let n=k.useContext(KE);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s1("useViewTransitionState"),a=hu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ps(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ps(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uf(a.pathname,u)!=null||Uf(a.pathname,l)!=null}const UI=()=>{};var qb={};const r1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},BI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,x=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,C=g&63;m||(C=64,u||(T=64)),s.push(n[v],n[x],n[T],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||x==null)throw new zI;const T=l<<2|d>>4;if(s.push(T),g!==64){const C=d<<4&240|g>>2;if(s.push(C),x!==64){const I=g<<6&192|x;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FI=function(t){const e=r1(t);return a1.encodeByteArray(e,!0)},Bf=function(t){return FI(t).replace(/\./g,"")},o1=function(t){try{return a1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qI=()=>HI().__FIREBASE_DEFAULTS__,GI=()=>{if(typeof process>"u"||typeof qb>"u")return;const t=qb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&o1(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return UI()||qI()||GI()||KI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l1=t=>gd()?.emulatorHosts?.[t],$I=t=>{const e=l1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},c1=()=>gd()?.config,u1=t=>gd()?.[`_${t}`];class YI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h1(t){return(await fetch(t,{credentials:"include"})).ok}function QI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bf(JSON.stringify(n)),Bf(JSON.stringify(u)),""].join(".")}const Bc={};function XI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function WI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gb=!1;function f1(t,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Bc[t]===e||Bc[t]||Gb)return;Bc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=XI().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Gb=!0,u()},T}function v(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=WI(s),C=n("text"),I=document.getElementById(C)||document.createElement("span"),P=n("learnmore"),M=document.getElementById(P)||document.createElement("a"),L=n("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const U=T.element;d(U),v(M,P);const Z=g();m(B,L),U.append(B,I,M,Z),document.body.appendChild(U)}l?(I.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function ZI(){const t=gd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iD(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sD(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rD(){try{return typeof indexedDB=="object"}catch{return!1}}function aD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const oD="FirebaseError";class Hs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oD,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?lD(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Hs(a,d,s)}}function lD(t,e){return t.replace(cD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const cD=/\{\$([^}]+)}/g;function uD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function La(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Kb(l)&&Kb(u)){if(!La(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Kb(t){return t!==null&&typeof t=="object"}function du(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hD(t,e){const n=new fD(t,e);return n.subscribe.bind(n)}class fD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Yp),a.error===void 0&&(a.error=Yp),a.complete===void 0&&(a.complete=Yp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}function xt(t){return t&&t._delegate?t._delegate:t}class Ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Na="[DEFAULT]";class mD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pD(t){return t===Na?void 0:t}function gD(t){return t.instantiationMode==="EAGER"}class yD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const vD={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},_D=Ue.INFO,xD={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},bD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=xD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=_D,this._logHandler=bD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const wD=(t,e)=>e.some(n=>t instanceof n);let $b,Yb;function TD(){return $b||($b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ED(){return Yb||(Yb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,Ig=new WeakMap,m1=new WeakMap,Qp=new WeakMap,Oy=new WeakMap;function SD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(kr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&d1.set(n,t)}).catch(()=>{}),Oy.set(e,t),e}function AD(t){if(Ig.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ig.set(t,e)}let Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RD(t){Dg=t(Dg)}function CD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Xp(this),e,...n);return m1.set(s,e.sort?e.sort():[e]),kr(s)}:ED().includes(t)?function(...e){return t.apply(Xp(this),e),kr(d1.get(this))}:function(...e){return kr(t.apply(Xp(this),e))}}function ND(t){return typeof t=="function"?CD(t):(t instanceof IDBTransaction&&AD(t),wD(t,TD())?new Proxy(t,Dg):t)}function kr(t){if(t instanceof IDBRequest)return SD(t);if(Qp.has(t))return Qp.get(t);const e=ND(t);return e!==t&&(Qp.set(t,e),Oy.set(e,t)),e}const Xp=t=>Oy.get(t);function ID(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=kr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(kr(u.result),m.oldVersion,m.newVersion,kr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const DD=["get","getKey","getAll","getAllKeys","count"],kD=["put","add","delete","clear"],Wp=new Map;function Qb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=kD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||DD.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Wp.set(e,l),l}RD(t=>({...t,get:(e,n,s)=>Qb(e,n)||t.get(e,n,s),has:(e,n)=>!!Qb(e,n)||t.has(e,n)}));class MD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VD(t){return t.getComponent()?.type==="VERSION"}const kg="@firebase/app",Xb="0.14.6";const Os=new Py("@firebase/app"),jD="@firebase/app-compat",PD="@firebase/analytics-compat",OD="@firebase/analytics",LD="@firebase/app-check-compat",UD="@firebase/app-check",BD="@firebase/auth",zD="@firebase/auth-compat",FD="@firebase/database",HD="@firebase/data-connect",qD="@firebase/database-compat",GD="@firebase/functions",KD="@firebase/functions-compat",$D="@firebase/installations",YD="@firebase/installations-compat",QD="@firebase/messaging",XD="@firebase/messaging-compat",WD="@firebase/performance",JD="@firebase/performance-compat",ZD="@firebase/remote-config",e4="@firebase/remote-config-compat",t4="@firebase/storage",n4="@firebase/storage-compat",i4="@firebase/firestore",s4="@firebase/ai",r4="@firebase/firestore-compat",a4="firebase",o4="12.6.0";const Mg="[DEFAULT]",l4={[kg]:"fire-core",[jD]:"fire-core-compat",[OD]:"fire-analytics",[PD]:"fire-analytics-compat",[UD]:"fire-app-check",[LD]:"fire-app-check-compat",[BD]:"fire-auth",[zD]:"fire-auth-compat",[FD]:"fire-rtdb",[HD]:"fire-data-connect",[qD]:"fire-rtdb-compat",[GD]:"fire-fn",[KD]:"fire-fn-compat",[$D]:"fire-iid",[YD]:"fire-iid-compat",[QD]:"fire-fcm",[XD]:"fire-fcm-compat",[WD]:"fire-perf",[JD]:"fire-perf-compat",[ZD]:"fire-rc",[e4]:"fire-rc-compat",[t4]:"fire-gcs",[n4]:"fire-gcs-compat",[i4]:"fire-fst",[r4]:"fire-fst-compat",[s4]:"fire-vertex","fire-js":"fire-js",[a4]:"fire-js-all"};const zf=new Map,c4=new Map,Vg=new Map;function Wb(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if(Vg.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Vg.set(e,t);for(const n of zf.values())Wb(n,t);for(const n of c4.values())Wb(n,t);return!0}function Ly(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}const u4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new fu("app","Firebase",u4);class h4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const pl=o4;function p1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Mg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Mr.create("bad-app-name",{appName:String(a)});if(n||(n=c1()),!n)throw Mr.create("no-options");const l=zf.get(a);if(l){if(La(n,l.options)&&La(s,l.config))return l;throw Mr.create("duplicate-app",{appName:a})}const u=new yD(a);for(const m of Vg.values())u.addComponent(m);const d=new h4(n,s,u);return zf.set(a,d),d}function g1(t=Mg){const e=zf.get(t);if(!e&&t===Mg&&c1())return p1();if(!e)throw Mr.create("no-app",{appName:t});return e}function Vr(t,e,n){let s=l4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(u.join(" "));return}el(new Ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const f4="firebase-heartbeat-database",d4=1,Wc="firebase-heartbeat-store";let Jp=null;function y1(){return Jp||(Jp=ID(f4,d4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Jp}async function m4(t){try{const n=(await y1()).transaction(Wc),s=await n.objectStore(Wc).get(v1(t));return await n.done,s}catch(e){if(e instanceof Hs)Os.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e?.message});Os.warn(n.message)}}}async function Jb(t,e){try{const s=(await y1()).transaction(Wc,"readwrite");await s.objectStore(Wc).put(e,v1(t)),await s.done}catch(n){if(n instanceof Hs)Os.warn(n.message);else{const s=Mr.create("idb-set",{originalErrorMessage:n?.message});Os.warn(s.message)}}}function v1(t){return`${t.name}!${t.options.appId}`}const p4=1024,g4=30;class y4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>g4){const a=x4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zb(),{heartbeatsToSend:n,unsentEntries:s}=v4(this._heartbeatsCache.heartbeats),a=Bf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Os.warn(e),""}}}function Zb(){return new Date().toISOString().substring(0,10)}function v4(t,e=p4){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),ew(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ew(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rD()?aD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ew(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}function x4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function b4(t){el(new Ua("platform-logger",e=>new MD(e),"PRIVATE")),el(new Ua("heartbeat",e=>new y4(e),"PRIVATE")),Vr(kg,Xb,t),Vr(kg,Xb,"esm2020"),Vr("fire-js","")}b4("");function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w4=_1,x1=new fu("auth","Firebase",_1());const Ff=new Py("@firebase/auth");function T4(t,...e){Ff.logLevel<=Ue.WARN&&Ff.warn(`Auth (${pl}): ${t}`,...e)}function Sf(t,...e){Ff.logLevel<=Ue.ERROR&&Ff.error(`Auth (${pl}): ${t}`,...e)}function oi(t,...e){throw By(t,...e)}function Ai(t,...e){return By(t,...e)}function Uy(t,e,n){const s={...w4(),[e]:n};return new fu("auth","Firebase",s).create(e,{appName:t.name})}function Vs(t){return Uy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function E4(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&oi(t,"argument-error"),Uy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function By(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return x1.create(t,...e)}function xe(t,e,...n){if(!t)throw By(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Ls(t,e){t||Ds(e)}function jg(){return typeof self<"u"&&self.location?.href||""}function S4(){return tw()==="http:"||tw()==="https:"}function tw(){return typeof self<"u"&&self.location?.protocol||null}function A4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S4()||tD()||"connection"in navigator)?navigator.onLine:!0}function R4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=JI()||nD()}get(){return A4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zy(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class b1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I4=new mu(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ls(t,e,n,s,a={}){return w1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=du({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return eD()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ml(t.emulatorConfig.host)&&(g.credentials="include"),b1.fetch()(await T1(t,t.config.apiHost,n,d),g)})}async function w1(t,e,n){t._canInitEmulator=!1;const s={...C4,...e};try{const a=new k4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw cf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw cf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw cf(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Uy(t,v,g);oi(t,v)}}catch(a){if(a instanceof Hs)throw a;oi(t,"network-request-failed",{message:String(a)})}}async function pu(t,e,n,s,a={}){const l=await ls(t,e,n,s,a);return"mfaPendingCredential"in l&&oi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function T1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?zy(t.config,a):`${t.config.apiScheme}://${a}`;return N4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function D4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),I4.get())})}}function cf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ai(t,e,s);return a.customData._tokenResponse=n,a}function nw(t){return t!==void 0&&t.enterprise!==void 0}class M4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V4(t,e){return ls(t,"GET","/v2/recaptchaConfig",qs(t,e))}async function j4(t,e){return ls(t,"POST","/v1/accounts:delete",e)}async function Hf(t,e){return ls(t,"POST","/v1/accounts:lookup",e)}function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(t,e=!1){const n=xt(t),s=await n.getIdToken(e),a=Fy(s);xe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:zc(Zp(a.auth_time)),issuedAtTime:zc(Zp(a.iat)),expirationTime:zc(Zp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Zp(t){return Number(t)*1e3}function Fy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=o1(n);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function iw(t){const e=Fy(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hs&&O4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function O4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class L4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qf(t){const e=t.auth,n=await t.getIdToken(),s=await tl(t,Hf(e,{idToken:n}));xe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?E1(a.providerUserInfo):[],u=B4(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function U4(t){const e=xt(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function E1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function z4(t,e){const n=await w1(t,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await T1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&ml(t.emulatorConfig.host)&&(m.credentials="include"),b1.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F4(t,e){return ls(t,"POST","/v2/accounts:revokeToken",qs(t,e))}class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await z4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new $o;return s&&(xe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(xe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return Ds("not implemented")}}function Er(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new L4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await tl(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P4(this,e)}reload(){return U4(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await tl(this,j4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:C,providerData:I,stsTokenManager:P}=n;xe(x&&P,e,"internal-error");const M=$o.fromJSON(this.name,P);xe(typeof x=="string",e,"internal-error"),Er(s,e.name),Er(a,e.name),xe(typeof T=="boolean",e,"internal-error"),xe(typeof C=="boolean",e,"internal-error"),Er(l,e.name),Er(u,e.name),Er(d,e.name),Er(m,e.name),Er(g,e.name),Er(v,e.name);const L=new Si({uid:x,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:M,createdAt:g,lastLoginAt:v});return I&&Array.isArray(I)&&(L.providerData=I.map(B=>({...B}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,s=!1){const a=new $o;a.updateFromServerResponse(n);const l=new Si({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await qf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?E1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new $o;d.updateFromIdToken(s);const m=new Si({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const sw=new Map;function ks(t){Ls(t instanceof Function,"Expected a class definition");let e=sw.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sw.set(t,e),e)}class S1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S1.type="NONE";const rw=S1;function Af(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hf(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yo(ks(rw),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ks(rw);const u=Af(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(u);if(v){let x;if(typeof v=="string"){const T=await Hf(e,{idToken:v}).catch(()=>{});if(!T)break;x=await Si._fromGetAccountInfoResponse(e,T,v)}else x=Si._fromJSON(e,v);g!==l&&(d=x),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Yo(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Yo(l,e,s))}}function aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D1(e))return"Blackberry";if(k1(e))return"Webos";if(R1(e))return"Safari";if((e.includes("chrome/")||C1(e))&&!e.includes("edge/"))return"Chrome";if(I1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function A1(t=dn()){return/firefox\//i.test(t)}function R1(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C1(t=dn()){return/crios\//i.test(t)}function N1(t=dn()){return/iemobile/i.test(t)}function I1(t=dn()){return/android/i.test(t)}function D1(t=dn()){return/blackberry/i.test(t)}function k1(t=dn()){return/webos/i.test(t)}function Hy(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H4(t=dn()){return Hy(t)&&!!window.navigator?.standalone}function q4(){return iD()&&document.documentMode===10}function M1(t=dn()){return Hy(t)||I1(t)||k1(t)||D1(t)||/windows phone/i.test(t)||N1(t)}function V1(t,e=[]){let n;switch(t){case"Browser":n=aw(dn());break;case"Worker":n=`${aw(dn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${s}`}class G4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function K4(t,e={}){return ls(t,"GET","/v2/passwordPolicy",qs(t,e))}const $4=6;class Y4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Q4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ow(this),this.idTokenSubscription=new ow(this),this.beforeStateQueue=new G4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hf(this,{idToken:e}),s=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Vs(this));const n=e?xt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K4(this),n=new Y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await F4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&T4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kr(t){return xt(t)}class ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=hD(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X4(t){yd=t}function j1(t){return yd.loadJS(t)}function W4(){return yd.recaptchaEnterpriseScript}function J4(){return yd.gapiScript}function Z4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ek{constructor(){this.enterprise=new tk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nk="recaptcha-enterprise",P1="NO_RECAPTCHA";class ik{constructor(e){this.type=nk,this.auth=Kr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{V4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new M4(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;nw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(P1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ek().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&nw(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=W4();m.length!==0&&(m+=d),j1(m).then(()=>{a(d,l,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function lw(t,e,n,s=!1,a=!1){const l=new ik(t);let u;if(a)u=P1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Og(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await lw(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await lw(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function sk(t,e){const n=Ly(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(La(l,e??{}))return a;oi(a,"already-initialized")}return n.initialize({options:e})}function rk(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function ak(t,e,n){const s=Kr(t);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=O1(e),{host:u,port:d}=ok(e),m=d===null?"":`:${d}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(La(g,s.config.emulator)&&La(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ml(u)?(h1(`${l}//${u}${m}`),f1("Auth",!0)):lk()}function O1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ok(t){const e=O1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:cw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:cw(u)}}}function cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function ck(t,e){return ls(t,"POST","/v1/accounts:signUp",e)}async function uk(t,e){return pu(t,"POST","/v1/accounts:signInWithPassword",qs(t,e))}async function hk(t,e){return ls(t,"POST","/v1/accounts:sendOobCode",qs(t,e))}async function fk(t,e){return hk(t,e)}async function dk(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}async function mk(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}class Jc extends qy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,n,"signInWithPassword",uk);case"emailLink":return dk(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,s,"signUpPassword",ck);case"emailLink":return mk(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qo(t,e){return pu(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}const pk="http://localhost";class Ba extends qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Ba(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:pk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}function gk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yk(t){const e=Mc(Vc(t)).link,n=e?Mc(Vc(e)).deep_link_id:null,s=Mc(Vc(t)).deep_link_id;return(s?Mc(Vc(s)).link:null)||s||n||e||t}class Gy{constructor(e){const n=Mc(Vc(e)),s=n.apiKey??null,a=n.oobCode??null,l=gk(n.mode??null);xe(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yk(e);try{return new Gy(n)}catch{return null}}}class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Gy.parseLink(n);return xe(s,"argument-error"),Jc._fromEmailAndCode(e,s.code,s.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ar extends gu{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";class Is extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ba._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Is.credential(n,s)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";class Rr extends gu{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";class Cr extends gu{constructor(){super("twitter.com")}static credential(e,n){return Ba._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";async function vk(t,e){return pu(t,"POST","/v1/accounts:signUp",qs(t,e))}class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Si._fromIdTokenResponse(e,s,a),u=uw(s);return new za({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=uw(s);return new za({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Gf extends Hs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Gf(e,n,s,a)}}function L1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,l,e,s):l})}async function _k(t,e,n=!1){const s=await tl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return za._forOperation(t,"link",s)}async function xk(t,e,n=!1){const{auth:s}=t;if(Un(s.app))return Promise.reject(Vs(s));const a="reauthenticate";try{const l=await tl(t,L1(s,a,e,t),n);xe(l.idToken,s,"internal-error");const u=Fy(l.idToken);xe(u,s,"internal-error");const{sub:d}=u;return xe(t.uid===d,s,"user-mismatch"),za._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),l}}async function U1(t,e,n=!1){if(Un(t.app))return Promise.reject(Vs(t));const s="signIn",a=await L1(t,s,e),l=await za._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function bk(t,e){return U1(Kr(t),e)}async function B1(t){const e=Kr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wk(t,e,n){if(Un(t.app))return Promise.reject(Vs(t));const s=Kr(t),u=await Og(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&B1(t),m}),d=await za._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function Tk(t,e,n){return Un(t.app)?Promise.reject(Vs(t)):bk(xt(t),gl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&B1(t),s})}async function z1(t,e){const n=xt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await fk(n.auth,a);l!==t.email&&await t.reload()}async function Ek(t,e){return ls(t,"POST","/v1/accounts:update",e)}async function Sk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=xt(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await tl(s,Ek(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function Ak(t,e,n,s){return xt(t).onIdTokenChanged(e,n,s)}function Rk(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function Ck(t,e,n,s){return xt(t).onAuthStateChanged(e,n,s)}function Nk(t){return xt(t).signOut()}const Kf="__sak";class F1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ik=1e3,Dk=10;class H1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);q4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Dk):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}H1.type="LOCAL";const kk=H1;class q1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}q1.type="SESSION";const G1=q1;function Mk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new vd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async g=>g(n.origin,l)),m=await Mk(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];function $y(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Vk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const g=$y("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(x){const T=x;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Zi(){return window}function jk(t){Zi().location.href=t}function K1(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function Pk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ok(){return navigator?.serviceWorker?.controller||null}function Lk(){return K1()?self:null}const $1="firebaseLocalStorageDb",Uk=1,$f="firebaseLocalStorage",Y1="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function Bk(){const t=indexedDB.deleteDatabase($1);return new yu(t).toPromise()}function Lg(){const t=indexedDB.open($1,Uk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore($f,{keyPath:Y1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains($f)?e(s):(s.close(),await Bk(),e(await Lg()))})})}async function hw(t,e,n){const s=_d(t,!0).put({[Y1]:e,value:n});return new yu(s).toPromise()}async function zk(t,e){const n=_d(t,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function fw(t,e){const n=_d(t,!0).delete(e);return new yu(n).toPromise()}const Fk=800,Hk=3;class Q1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Hk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(Lk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Pk(),!this.activeServiceWorker)return;this.sender=new Vk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ok()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await hw(e,Kf,"1"),await fw(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=_d(a,!1).getAll();return new yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q1.type="LOCAL";const qk=Q1;new mu(3e4,6e4);function X1(t,e){return e?ks(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Yy extends qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gk(t){return U1(t.auth,new Yy(t),t.bypassAuthState)}function Kk(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),xk(n,new Yy(t),t.bypassAuthState)}async function $k(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),_k(n,new Yy(t),t.bypassAuthState)}class W1{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gk;case"linkViaPopup":case"linkViaRedirect":return $k;case"reauthViaPopup":case"reauthViaRedirect":return Kk;default:oi(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yk=new mu(2e3,1e4);async function Qk(t,e,n){if(Un(t.app))return Promise.reject(Ai(t,"operation-not-supported-in-this-environment"));const s=Kr(t);E4(t,e,Ky);const a=X1(s,n);return new Da(s,"signInViaPopup",e,a).executeNotNull()}class Da extends W1{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=$y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yk.get())};e()}}Da.currentPopupAction=null;const Xk="pendingRedirect",Rf=new Map;class Wk extends W1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const s=await Jk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jk(t,e){const n=tM(e),s=eM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function Zk(t,e){Rf.set(t._key(),e)}function eM(t){return ks(t._redirectPersistence)}function tM(t){return Af(Xk,t.config.apiKey,t.name)}async function nM(t,e,n=!1){if(Un(t.app))return Promise.reject(Vs(t));const s=Kr(t),a=X1(s,e),u=await new Wk(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const iM=600*1e3;class sM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!J1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iM&&this.cachedEventUids.clear(),this.cachedEventUids.has(dw(e))}saveEventToCache(e){this.cachedEventUids.add(dw(e)),this.lastProcessedEventTime=Date.now()}}function dw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(t);default:return!1}}async function aM(t,e={}){return ls(t,"GET","/v1/projects",e)}const oM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lM=/^https?/;async function cM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aM(t);for(const n of e)try{if(uM(n))return}catch{}oi(t,"unauthorized-domain")}function uM(t){const e=jg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!lM.test(n))return!1;if(oM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const hM=new mu(3e4,6e4);function mw(){const t=Zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fM(t){return new Promise((e,n)=>{function s(){mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mw(),n(Ai(t,"network-request-failed"))},timeout:hM.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)s();else{const a=Z4("iframefcb");return Zi()[a]=()=>{gapi.load?s():n(Ai(t,"network-request-failed"))},j1(`${J4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cf=null,e})}let Cf=null;function dM(t){return Cf=Cf||fM(t),Cf}const mM=new mu(5e3,15e3),pM="__/auth/iframe",gM="emulator/auth/iframe",yM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _M(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zy(e,gM):`https://${t.config.authDomain}/${pM}`,s={apiKey:e.apiKey,appName:t.name,v:pl},a=vM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${du(s).slice(1)}`}async function xM(t){const e=await dM(t),n=Zi().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:_M(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ai(t,"network-request-failed"),d=Zi().setTimeout(()=>{l(u)},mM.get());function m(){Zi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const bM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wM=500,TM=600,EM="_blank",SM="http://localhost";class pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AM(t,e,n,s=wM,a=TM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...bM,width:s.toString(),height:a.toString(),top:l,left:u},g=dn().toLowerCase();n&&(d=C1(g)?EM:n),A1(g)&&(e=e||SM,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[C,I])=>`${T}${C}=${I},`,"");if(H4(g)&&d!=="_self")return RM(e||"",d),new pw(null);const x=window.open(e||"",d,v);xe(x,t,"popup-blocked");try{x.focus()}catch{}return new pw(x)}function RM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const CM="__/auth/handler",NM="emulator/auth/handler",IM=encodeURIComponent("fac");async function gw(t,e,n,s,a,l){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:pl,eventId:a};if(e instanceof Ky){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",uD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof gu){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),g=m?`#${IM}=${encodeURIComponent(m)}`:"";return`${DM(t)}?${du(d).slice(1)}${g}`}function DM({config:t}){return t.emulator?zy(t,NM):`https://${t.authDomain}/${CM}`}const eg="webStorageSupport";class kM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=nM,this._overrideRedirectResult=Zk}async _openPopup(e,n,s,a){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await gw(e,n,s,jg(),a);return AM(e,l,$y())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await gw(e,n,s,jg(),a);return jk(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ls(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xM(e),s=new sM(e);return n.register("authEvent",a=>(xe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eg,{type:eg},a=>{const l=a?.[0]?.[eg];l!==void 0&&n(!!l),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||R1()||Hy()}}const MM=kM;var yw="@firebase/auth",vw="1.12.0";class VM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PM(t){el(new Ua("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(t)},g=new Q4(s,a,l,m);return rk(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),el(new Ua("auth-internal",e=>{const n=Kr(e.getProvider("auth").getImmediate());return(s=>new VM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(yw,vw,jM(t)),Vr(yw,vw,"esm2020")}const OM=300,LM=u1("authIdTokenMaxAge")||OM;let _w=null;const UM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LM)return;const a=n?.token;_w!==a&&(_w=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BM(t=g1()){const e=Ly(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sk(t,{popupRedirectResolver:MM,persistence:[qk,kk,G1]}),s=u1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=UM(l.toString());Rk(n,u,()=>u(n.currentUser)),Ak(n,d=>u(d))}}const a=l1("auth");return a&&ak(n,`http://${a}`),n}function zM(){return document.getElementsByTagName("head")?.[0]??document}X4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ai("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",zM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PM("Browser");var xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jr,Z1;(function(){var t;function e(E,S){function N(){}N.prototype=S.prototype,E.F=S.prototype,E.prototype=new N,E.prototype.constructor=E,E.D=function(j,V,H){for(var D=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)D[Ne-2]=arguments[Ne];return S.prototype[V].apply(j,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,S,N){N||(N=0);const j=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)j[V]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(V=0;V<16;++V)j[V]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=E.g[0],N=E.g[1],V=E.g[2];let H=E.g[3],D;D=S+(H^N&(V^H))+j[0]+3614090360&4294967295,S=N+(D<<7&4294967295|D>>>25),D=H+(V^S&(N^V))+j[1]+3905402710&4294967295,H=S+(D<<12&4294967295|D>>>20),D=V+(N^H&(S^N))+j[2]+606105819&4294967295,V=H+(D<<17&4294967295|D>>>15),D=N+(S^V&(H^S))+j[3]+3250441966&4294967295,N=V+(D<<22&4294967295|D>>>10),D=S+(H^N&(V^H))+j[4]+4118548399&4294967295,S=N+(D<<7&4294967295|D>>>25),D=H+(V^S&(N^V))+j[5]+1200080426&4294967295,H=S+(D<<12&4294967295|D>>>20),D=V+(N^H&(S^N))+j[6]+2821735955&4294967295,V=H+(D<<17&4294967295|D>>>15),D=N+(S^V&(H^S))+j[7]+4249261313&4294967295,N=V+(D<<22&4294967295|D>>>10),D=S+(H^N&(V^H))+j[8]+1770035416&4294967295,S=N+(D<<7&4294967295|D>>>25),D=H+(V^S&(N^V))+j[9]+2336552879&4294967295,H=S+(D<<12&4294967295|D>>>20),D=V+(N^H&(S^N))+j[10]+4294925233&4294967295,V=H+(D<<17&4294967295|D>>>15),D=N+(S^V&(H^S))+j[11]+2304563134&4294967295,N=V+(D<<22&4294967295|D>>>10),D=S+(H^N&(V^H))+j[12]+1804603682&4294967295,S=N+(D<<7&4294967295|D>>>25),D=H+(V^S&(N^V))+j[13]+4254626195&4294967295,H=S+(D<<12&4294967295|D>>>20),D=V+(N^H&(S^N))+j[14]+2792965006&4294967295,V=H+(D<<17&4294967295|D>>>15),D=N+(S^V&(H^S))+j[15]+1236535329&4294967295,N=V+(D<<22&4294967295|D>>>10),D=S+(V^H&(N^V))+j[1]+4129170786&4294967295,S=N+(D<<5&4294967295|D>>>27),D=H+(N^V&(S^N))+j[6]+3225465664&4294967295,H=S+(D<<9&4294967295|D>>>23),D=V+(S^N&(H^S))+j[11]+643717713&4294967295,V=H+(D<<14&4294967295|D>>>18),D=N+(H^S&(V^H))+j[0]+3921069994&4294967295,N=V+(D<<20&4294967295|D>>>12),D=S+(V^H&(N^V))+j[5]+3593408605&4294967295,S=N+(D<<5&4294967295|D>>>27),D=H+(N^V&(S^N))+j[10]+38016083&4294967295,H=S+(D<<9&4294967295|D>>>23),D=V+(S^N&(H^S))+j[15]+3634488961&4294967295,V=H+(D<<14&4294967295|D>>>18),D=N+(H^S&(V^H))+j[4]+3889429448&4294967295,N=V+(D<<20&4294967295|D>>>12),D=S+(V^H&(N^V))+j[9]+568446438&4294967295,S=N+(D<<5&4294967295|D>>>27),D=H+(N^V&(S^N))+j[14]+3275163606&4294967295,H=S+(D<<9&4294967295|D>>>23),D=V+(S^N&(H^S))+j[3]+4107603335&4294967295,V=H+(D<<14&4294967295|D>>>18),D=N+(H^S&(V^H))+j[8]+1163531501&4294967295,N=V+(D<<20&4294967295|D>>>12),D=S+(V^H&(N^V))+j[13]+2850285829&4294967295,S=N+(D<<5&4294967295|D>>>27),D=H+(N^V&(S^N))+j[2]+4243563512&4294967295,H=S+(D<<9&4294967295|D>>>23),D=V+(S^N&(H^S))+j[7]+1735328473&4294967295,V=H+(D<<14&4294967295|D>>>18),D=N+(H^S&(V^H))+j[12]+2368359562&4294967295,N=V+(D<<20&4294967295|D>>>12),D=S+(N^V^H)+j[5]+4294588738&4294967295,S=N+(D<<4&4294967295|D>>>28),D=H+(S^N^V)+j[8]+2272392833&4294967295,H=S+(D<<11&4294967295|D>>>21),D=V+(H^S^N)+j[11]+1839030562&4294967295,V=H+(D<<16&4294967295|D>>>16),D=N+(V^H^S)+j[14]+4259657740&4294967295,N=V+(D<<23&4294967295|D>>>9),D=S+(N^V^H)+j[1]+2763975236&4294967295,S=N+(D<<4&4294967295|D>>>28),D=H+(S^N^V)+j[4]+1272893353&4294967295,H=S+(D<<11&4294967295|D>>>21),D=V+(H^S^N)+j[7]+4139469664&4294967295,V=H+(D<<16&4294967295|D>>>16),D=N+(V^H^S)+j[10]+3200236656&4294967295,N=V+(D<<23&4294967295|D>>>9),D=S+(N^V^H)+j[13]+681279174&4294967295,S=N+(D<<4&4294967295|D>>>28),D=H+(S^N^V)+j[0]+3936430074&4294967295,H=S+(D<<11&4294967295|D>>>21),D=V+(H^S^N)+j[3]+3572445317&4294967295,V=H+(D<<16&4294967295|D>>>16),D=N+(V^H^S)+j[6]+76029189&4294967295,N=V+(D<<23&4294967295|D>>>9),D=S+(N^V^H)+j[9]+3654602809&4294967295,S=N+(D<<4&4294967295|D>>>28),D=H+(S^N^V)+j[12]+3873151461&4294967295,H=S+(D<<11&4294967295|D>>>21),D=V+(H^S^N)+j[15]+530742520&4294967295,V=H+(D<<16&4294967295|D>>>16),D=N+(V^H^S)+j[2]+3299628645&4294967295,N=V+(D<<23&4294967295|D>>>9),D=S+(V^(N|~H))+j[0]+4096336452&4294967295,S=N+(D<<6&4294967295|D>>>26),D=H+(N^(S|~V))+j[7]+1126891415&4294967295,H=S+(D<<10&4294967295|D>>>22),D=V+(S^(H|~N))+j[14]+2878612391&4294967295,V=H+(D<<15&4294967295|D>>>17),D=N+(H^(V|~S))+j[5]+4237533241&4294967295,N=V+(D<<21&4294967295|D>>>11),D=S+(V^(N|~H))+j[12]+1700485571&4294967295,S=N+(D<<6&4294967295|D>>>26),D=H+(N^(S|~V))+j[3]+2399980690&4294967295,H=S+(D<<10&4294967295|D>>>22),D=V+(S^(H|~N))+j[10]+4293915773&4294967295,V=H+(D<<15&4294967295|D>>>17),D=N+(H^(V|~S))+j[1]+2240044497&4294967295,N=V+(D<<21&4294967295|D>>>11),D=S+(V^(N|~H))+j[8]+1873313359&4294967295,S=N+(D<<6&4294967295|D>>>26),D=H+(N^(S|~V))+j[15]+4264355552&4294967295,H=S+(D<<10&4294967295|D>>>22),D=V+(S^(H|~N))+j[6]+2734768916&4294967295,V=H+(D<<15&4294967295|D>>>17),D=N+(H^(V|~S))+j[13]+1309151649&4294967295,N=V+(D<<21&4294967295|D>>>11),D=S+(V^(N|~H))+j[4]+4149444226&4294967295,S=N+(D<<6&4294967295|D>>>26),D=H+(N^(S|~V))+j[11]+3174756917&4294967295,H=S+(D<<10&4294967295|D>>>22),D=V+(S^(H|~N))+j[2]+718787259&4294967295,V=H+(D<<15&4294967295|D>>>17),D=N+(H^(V|~S))+j[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,E.g[2]=E.g[2]+V&4294967295,E.g[3]=E.g[3]+H&4294967295}s.prototype.v=function(E,S){S===void 0&&(S=E.length);const N=S-this.blockSize,j=this.C;let V=this.h,H=0;for(;H<S;){if(V==0)for(;H<=N;)a(this,E,H),H+=this.blockSize;if(typeof E=="string"){for(;H<S;)if(j[V++]=E.charCodeAt(H++),V==this.blockSize){a(this,j),V=0;break}}else for(;H<S;)if(j[V++]=E[H++],V==this.blockSize){a(this,j),V=0;break}}this.h=V,this.o+=S},s.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;S=this.o*8;for(var N=E.length-8;N<E.length;++N)E[N]=S&255,S/=256;for(this.v(E),E=Array(16),S=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)E[S++]=this.g[N]>>>j&255;return E};function l(E,S){var N=d;return Object.prototype.hasOwnProperty.call(N,E)?N[E]:N[E]=S(E)}function u(E,S){this.h=S;const N=[];let j=!0;for(let V=E.length-1;V>=0;V--){const H=E[V]|0;j&&H==S||(N[V]=H,j=!1)}this.g=N}var d={};function m(E){return-128<=E&&E<128?l(E,function(S){return new u([S|0],S<0?-1:0)}):new u([E|0],E<0?-1:0)}function g(E){if(isNaN(E)||!isFinite(E))return x;if(E<0)return M(g(-E));const S=[];let N=1;for(let j=0;E>=N;j++)S[j]=E/N|0,N*=4294967296;return new u(S,0)}function v(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return M(v(E.substring(1),S));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(S,8));let j=x;for(let H=0;H<E.length;H+=8){var V=Math.min(8,E.length-H);const D=parseInt(E.substring(H,H+V),S);V<8?(V=g(Math.pow(S,V)),j=j.j(V).add(g(D))):(j=j.j(N),j=j.add(g(D)))}return j}var x=m(0),T=m(1),C=m(16777216);t=u.prototype,t.m=function(){if(P(this))return-M(this).m();let E=0,S=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);E+=(j>=0?j:4294967296+j)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(P(this))return"-"+M(this).toString(E);const S=g(Math.pow(E,6));var N=this;let j="";for(;;){const V=Z(N,S).g;N=L(N,V.j(S));let H=((N.g.length>0?N.g[0]:N.h)>>>0).toString(E);if(N=V,I(N))return H+j;for(;H.length<6;)H="0"+H;j=H+j}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(let S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=L(this,E),P(E)?-1:I(E)?0:1};function M(E){const S=E.g.length,N=[];for(let j=0;j<S;j++)N[j]=~E.g[j];return new u(N,~E.h).add(T)}t.abs=function(){return P(this)?M(this):this},t.add=function(E){const S=Math.max(this.g.length,E.g.length),N=[];let j=0;for(let V=0;V<=S;V++){let H=j+(this.i(V)&65535)+(E.i(V)&65535),D=(H>>>16)+(this.i(V)>>>16)+(E.i(V)>>>16);j=D>>>16,H&=65535,D&=65535,N[V]=D<<16|H}return new u(N,N[N.length-1]&-2147483648?-1:0)};function L(E,S){return E.add(M(S))}t.j=function(E){if(I(this)||I(E))return x;if(P(this))return P(E)?M(this).j(M(E)):M(M(this).j(E));if(P(E))return M(this.j(M(E)));if(this.l(C)<0&&E.l(C)<0)return g(this.m()*E.m());const S=this.g.length+E.g.length,N=[];for(var j=0;j<2*S;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<E.g.length;V++){const H=this.i(j)>>>16,D=this.i(j)&65535,Ne=E.i(V)>>>16,le=E.i(V)&65535;N[2*j+2*V]+=D*le,B(N,2*j+2*V),N[2*j+2*V+1]+=H*le,B(N,2*j+2*V+1),N[2*j+2*V+1]+=D*Ne,B(N,2*j+2*V+1),N[2*j+2*V+2]+=H*Ne,B(N,2*j+2*V+2)}for(E=0;E<S;E++)N[E]=N[2*E+1]<<16|N[2*E];for(E=S;E<2*S;E++)N[E]=0;return new u(N,0)};function B(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function U(E,S){this.g=E,this.h=S}function Z(E,S){if(I(S))throw Error("division by zero");if(I(E))return new U(x,x);if(P(E))return S=Z(M(E),S),new U(M(S.g),M(S.h));if(P(S))return S=Z(E,M(S)),new U(M(S.g),S.h);if(E.g.length>30){if(P(E)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var N=T,j=S;j.l(E)<=0;)N=J(N),j=J(j);var V=ee(N,1),H=ee(j,1);for(j=ee(j,2),N=ee(N,2);!I(j);){var D=H.add(j);D.l(E)<=0&&(V=V.add(N),H=D),j=ee(j,1),N=ee(N,1)}return S=L(E,V.j(S)),new U(V,S)}for(V=x;E.l(S)>=0;){for(N=Math.max(1,Math.floor(E.m()/S.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),H=g(N),D=H.j(S);P(D)||D.l(E)>0;)N-=j,H=g(N),D=H.j(S);I(H)&&(H=T),V=V.add(H),E=L(E,D)}return new U(V,E)}t.B=function(E){return Z(this,E).h},t.and=function(E){const S=Math.max(this.g.length,E.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)&E.i(j);return new u(N,this.h&E.h)},t.or=function(E){const S=Math.max(this.g.length,E.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)|E.i(j);return new u(N,this.h|E.h)},t.xor=function(E){const S=Math.max(this.g.length,E.g.length),N=[];for(let j=0;j<S;j++)N[j]=this.i(j)^E.i(j);return new u(N,this.h^E.h)};function J(E){const S=E.g.length+1,N=[];for(let j=0;j<S;j++)N[j]=E.i(j)<<1|E.i(j-1)>>>31;return new u(N,E.h)}function ee(E,S){const N=S>>5;S%=32;const j=E.g.length-N,V=[];for(let H=0;H<j;H++)V[H]=S>0?E.i(H+N)>>>S|E.i(H+N+1)<<32-S:E.i(H+N);return new u(V,E.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Z1=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,jr=u}).apply(typeof xw<"u"?xw:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eS,jc,tS,Nf,Ug,nS,iS,sS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var _=0;_<h.length;++_){var w=h[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var w=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var K=h[R];if(!(K in w))break e;w=w[K]}h=h[h.length-1],R=w[h],_=_(R),_!=R&&_!=null&&e(w,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var w=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&w.push([R,_[R]]);return w}});var l=l||{},u=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,w){return h.call.apply(h.bind,arguments)}function g(h,_,w){return g=m,g.apply(null,arguments)}function v(h,_){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function x(h,_){function w(){}w.prototype=_.prototype,h.Z=_.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(R,K,X){for(var ce=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ce[Re-2]=arguments[Re];return _.prototype[K].apply(R,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const w=Array(_);for(let R=0;R<_;R++)w[R]=h[R];return w}return[]}function I(h,_){for(let R=1;R<arguments.length;R++){const K=arguments[R];var w=typeof K;if(w=w!="object"?w:K?Array.isArray(K)?"array":w:"null",w=="array"||w=="object"&&typeof K.length=="number"){w=h.length||0;const X=K.length||0;h.length=w+X;for(let ce=0;ce<X;ce++)h[w+ce]=K[ce]}else h.push(K)}}class P{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){u.setTimeout(()=>{throw h},0)}function L(){var h=E;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,w){const R=U.get();R.set(_,w),this.h?this.h.next=R:this.g=R,this.h=R}}var U=new P(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ee=!1,E=new B,S=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(N)}};function N(){for(var h;h=L();){try{h.h.call(h.g)}catch(w){M(w)}var _=U;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ee=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,_),u.removeEventListener("test",w,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ne(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}x(Ne,V),Ne.prototype.init=function(h,_){const w=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(w=="mouseover"?_=h.fromElement:w=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),G=0;function oe(h,_,w,R,K){this.listener=h,this.proxy=null,this.src=_,this.type=w,this.capture=!!R,this.ha=K,this.key=++G,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,_,w){for(const R in h)_.call(w,h[R],R,h)}function Pe(h,_){for(const w in h)_.call(void 0,h[w],w,h)}function F(h){const _={};for(const w in h)_[w]=h[w];return _}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,_){let w,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(w in R)h[w]=R[w];for(let X=0;X<re.length;X++)w=re[X],Object.prototype.hasOwnProperty.call(R,w)&&(h[w]=R[w])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,_,w,R,K){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ce=De(h,_,R,K);return ce>-1?(_=h[ce],w||(_.fa=!1)):(_=new oe(_,this.src,X,!!R,K),_.fa=w,h.push(_)),_};function Te(h,_){const w=_.type;if(w in h.g){var R=h.g[w],K=Array.prototype.indexOf.call(R,_,void 0),X;(X=K>=0)&&Array.prototype.splice.call(R,K,1),X&&(fe(_),h.g[w].length==0&&(delete h.g[w],h.h--))}}function De(h,_,w,R){for(let K=0;K<h.length;++K){const X=h[K];if(!X.da&&X.listener==_&&X.capture==!!w&&X.ha==R)return K}return-1}var He="closure_lm_"+(Math.random()*1e6|0),zt={};function ut(h,_,w,R,K){if(Array.isArray(_)){for(let X=0;X<_.length;X++)ut(h,_[X],w,R,K);return null}return w=Rl(w),h&&h[le]?h.J(_,w,d(R)?!!R.capture:!1,K):Wr(h,_,w,!1,R,K)}function Wr(h,_,w,R,K,X){if(!_)throw Error("Invalid event type");const ce=d(K)?!!K.capture:!!K;let Re=Jr(h);if(Re||(h[He]=Re=new me(h)),w=Re.add(_,w,R,ce,X),w.proxy)return w;if(R=Ka(),w.proxy=R,R.src=h,R.listener=w,h.addEventListener)H||(K=ce),K===void 0&&(K=!1),h.addEventListener(_.toString(),R,K);else if(h.attachEvent)h.attachEvent(Ii(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ka(){function h(w){return _.call(h.src,h.listener,w)}const _=Sl;return h}function $a(h,_,w,R,K){if(Array.isArray(_))for(var X=0;X<_.length;X++)$a(h,_[X],w,R,K);else R=d(R)?!!R.capture:!!R,w=Rl(w),h&&h[le]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],w=De(_,w,R,K),w>-1&&(fe(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=Jr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=De(_,w,R,K)),(w=h>-1?_[h]:null)&&Ya(w))}function Ya(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[le])Te(_.i,h);else{var w=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(w,R,h.capture):_.detachEvent?_.detachEvent(Ii(w),R):_.addListener&&_.removeListener&&_.removeListener(R),(w=Jr(_))?(Te(w,h),w.h==0&&(w.src=null,_[He]=null)):fe(h)}}}function Ii(h){return h in zt?zt[h]:zt[h]="on"+h}function Sl(h,_){if(h.da)h=!0;else{_=new Ne(_,this);const w=h.listener,R=h.ha||h.src;h.fa&&Ya(h),h=w.call(R,_)}return h}function Jr(h){return h=h[He],h instanceof me?h:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rl(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(_){return h.handleEvent(_)}),h[Al])}function Ct(){j.call(this),this.i=new me(this),this.M=this,this.G=null}x(Ct,j),Ct.prototype[le]=!0,Ct.prototype.removeEventListener=function(h,_,w,R){$a(this,h,_,w,R)};function Ft(h,_){var w,R=h.G;if(R)for(w=[];R;R=R.G)w.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var K=_;_=new V(R,h),ue(_,K)}K=!0;let X,ce;if(w)for(ce=w.length-1;ce>=0;ce--)X=_.g=w[ce],K=Gs(X,R,!0,_)&&K;if(X=_.g=h,K=Gs(X,R,!0,_)&&K,K=Gs(X,R,!1,_)&&K,w)for(ce=0;ce<w.length;ce++)X=_.g=w[ce],K=Gs(X,R,!1,_)&&K}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const w=h.g[_];for(let R=0;R<w.length;R++)fe(w[R]);delete h.g[_],h.h--}}this.G=null},Ct.prototype.J=function(h,_,w,R){return this.i.add(String(h),_,!1,w,R)},Ct.prototype.K=function(h,_,w,R){return this.i.add(String(h),_,!0,w,R)};function Gs(h,_,w,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let X=0;X<_.length;++X){const ce=_[X];if(ce&&!ce.da&&ce.capture==w){const Re=ce.listener,wt=ce.ha||ce.src;ce.fa&&Te(h.i,ce),K=Re.call(wt,R)!==!1&&K}}return K&&!R.defaultPrevented}function zd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function ku(h){h.g=zd(()=>{h.g=null,h.i&&(h.i=!1,ku(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class mn extends j{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(h){j.call(this),this.h=h,this.g={}}x(Zr,j);var Cl=[];function Nl(h){Ie(h.g,function(_,w){this.g.hasOwnProperty(w)&&Ya(_)},h),h.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),Nl(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=u.JSON.stringify,Fd=u.JSON.parse,Mu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Vu(){}function ju(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){V.call(this,"d")}x(Xt,V);function Hn(){V.call(this,"c")}x(Hn,V);var bt={},Pu=null;function Qa(){return Pu=Pu||new Ct}bt.Ia="serverreachability";function Ou(h){V.call(this,bt.Ia,h)}x(Ou,V);function Di(h){const _=Qa();Ft(_,new Ou(_))}bt.STAT_EVENT="statevent";function ea(h,_){V.call(this,bt.STAT_EVENT,h),this.stat=_}x(ea,V);function Nt(h){const _=Qa();Ft(_,new ea(_,h))}bt.Ja="timingevent";function ki(h,_){V.call(this,bt.Ja,h),this.size=_}x(ki,V);function Mi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Hd(h,_,w,R,K,X){h.info(function(){if(h.g)if(X){var ce="",Re=X.split("&");for(let $e=0;$e<Re.length;$e++){var wt=Re[$e].split("=");if(wt.length>1){const ht=wt[0];wt=wt[1];const $n=ht.split("_");ce=$n.length>=2&&$n[1]=="type"?ce+(ht+"="+wt+"&"):ce+(ht+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+_+`
`+w+`
`+ce})}function Lu(h,_,w,R,K,X,ce){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+_+`
`+w+`
`+X+" "+ce})}function Vi(h,_,w,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+qd(h,w)+(R?" "+R:"")})}function ta(h,_){h.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function qd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var w=X[h];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var K=R[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return Ks(X)}catch{return _}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function ia(){}x(ia,Vu),ia.prototype.g=function(){return new XMLHttpRequest},Dl=new ia;function us(h){return encodeURIComponent(String(h))}function Uu(h){var _=1;h=h.split(":");const w=[];for(;_>0&&h.length;)w.push(h.shift()),_--;return h.length&&w.push(h.join(":")),w}function hi(h,_,w,R){this.j=h,this.i=_,this.l=w,this.S=R||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var It={},Kt={};function ji(h,_,w){h.M=1,h.A=sa(kt(_)),h.u=w,h.R=!0,Xa(h,null)}function Xa(h,_){h.F=Date.now(),Pi(h),h.B=kt(h.A);var w=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),eo(w.i,"t",R),h.C=0,w=h.j.L,h.h=new fi,h.g=eh(h.j,w?_:null,!h.u),h.P>0&&(h.O=new mn(g(h.Y,h,h.g),h.P)),_=h.V,w=h.g,R=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Cl[0]=K.toString()),K=Cl);for(let X=0;X<K.length;X++){const ce=ut(w,K[X],R||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=h.J?F(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Di(),Hd(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const _=this.O;_&&pi(h)==3?_.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Re=pi(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Re!=4||wt==7||(wt==8||$e<=0?Di(3):Di(2)),Oi(this);var _=this.g.ca();this.X=_;var w=Gd(this);if(this.o=_==200,Lu(this.i,this.v,this.B,this.l,this.S,Re,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,K=this.g;if((R=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var X=R;break t}}X=null}if(h=X)Vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,h);else{this.o=!1,this.m=3,Nt(12),Nn(this),qn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<w.length;)if(ht=zu(this,w),ht==Kt){Re==4&&(this.m=4,Nt(14),h=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==It){this.m=4,Nt(15),Vi(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Vi(this.i,this.l,ht,null),Li(this,ht);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||w.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)Vi(this.i,this.l,w,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Kl(ce),ce.P=!0,Nt(11))}}else Vi(this.i,this.l,w,null),Li(this,w);Re==4&&Nn(this),this.o&&!this.K&&(Re==4?Xu(this.j,this):(this.o=!1,Pi(this)))}else fs(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Nn(this),qn(this)}}}catch{}};function Gd(h){if(!Bu(h))return h.g.la();const _=Wt(h.g);if(_==="")return"";let w="";const R=_.length,K=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Nn(h),qn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<R;X++)h.h.h=!0,w+=h.h.i.decode(_[X],{stream:!(K&&X==R-1)});return _.length=0,h.h.g+=w,h.C=0,h.h.g}function Bu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zu(h,_){var w=h.C,R=_.indexOf(`
`,w);return R==-1?Kt:(w=Number(_.substring(w,R)),isNaN(w)?It:(R+=1,R+w>_.length?Kt:(_=_.slice(R,R+w),h.C=R+w,_)))}hi.prototype.cancel=function(){this.K=!0,Nn(this)};function Pi(h){h.T=Date.now()+h.H,Wa(h,h.H)}function Wa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Mi(g(h.aa,h),_)}function Oi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ta(this.i,this.B),this.M!=2&&(Di(),Nt(17)),Nn(this),this.m=2,qn(this)):Wa(this,this.T-h)};function qn(h){h.j.I==0||h.K||Xu(h.j,h)}function Nn(h){Oi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Nl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Li(h,_){try{var w=h.j;if(w.I!=0&&(w.g==h||Bi(w.h,h))){if(!h.L&&Bi(w.h,h)&&w.I==3){try{var R=w.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)ro(w),er(w);else break e;ha(w),Nt(18)}}else w.xa=K[1],0<w.xa-w.K&&K[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Mi(g(w.Va,w),6e3));Ui(w.h)<=1&&w.ta&&(w.ta=void 0)}else Ki(w,11)}else if((h.L||w.g==h)&&ro(w),!D(_))for(K=w.Ba.g.parse(_),_=0;_<K.length;_++){let $e=K[_];const ht=$e[0];if(!(ht<=w.K))if(w.K=ht,$e=$e[1],w.I==2)if($e[0]=="c"){w.M=$e[1],w.ba=$e[2];const $n=$e[3];$n!=null&&(w.ka=$n,w.j.info("VER="+w.ka));const $i=$e[4];$i!=null&&(w.za=$i,w.j.info("SVER="+w.za));const gi=$e[5];gi!=null&&typeof gi=="number"&&gi>0&&(R=1.5*gi,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const yi=h.g;if(yi){const fa=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var X=R.h;X.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Vl(X,X.h),X.h=null))}if(R.G){const ao=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(R.wa=ao,Xe(R.J,R.G,ao))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var ce=h;if(R.na=Zu(R,R.L?R.ba:null,R.W),ce.L){jl(R.h,ce);var Re=ce,wt=R.O;wt&&(Re.H=wt),Re.D&&(Oi(Re),Pi(Re)),R.g=ce}else Yu(R);w.i.length>0&&Gi(w)}else $e[0]!="stop"&&$e[0]!="close"||Ki(w,7);else w.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ki(w,7):ql(w):$e[0]!="noop"&&w.l&&w.l.qa($e),w.A=0)}}Di(4)}catch{}}var Dt=class{constructor(h,_){this.g=h,this.map=_}};function kl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ui(h){return h.h?1:h.g?h.g.size:0}function Bi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Vl(h,_){h.g?h.g.add(_):h.h=_}function jl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}kl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const w of h.g.values())_=_.concat(w.G);return _}return C(h.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(h,_){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const R=h[w].indexOf("=");let K,X=null;R>=0?(K=h[w].substring(0,R),X=h[w].substring(R+1)):K=h[w],_(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function In(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof In?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,$s(this,h.u),this.h=h.h,Ol(this,Ku(h.i)),this.m=h.m):h&&(_=String(h).match(Fu))?(this.l=!1,$t(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),$s(this,_[4]),this.h=zi(_[5]||"",!0),Ol(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}In.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ra(_,Za,!0),":");var w=this.g;return(w||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ra(_,Za,!0),"@"),h.push(us(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ra(w,w.charAt(0)=="/"?Ll:Hu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ra(w,qu)),h.join("")},In.prototype.resolve=function(h){const _=kt(this);let w=!!h.j;w?$t(_,h.j):w=!!h.o,w?_.o=h.o:w=!!h.g,w?_.g=h.g:w=h.u!=null;var R=h.h;if(w)$s(_,h.u);else if(w=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var K=_.h.lastIndexOf("/");K!=-1&&(R=_.h.slice(0,K+1)+R)}if(K=R,K==".."||K==".")R="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){R=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let ce=0;ce<K.length;){const Re=K[ce++];Re=="."?R&&ce==K.length&&X.push(""):Re==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&ce==K.length&&X.push("")):(X.push(Re),R=!0)}R=X.join("/")}else R=K}return w?_.h=R:w=h.i.toString()!=="",w?Ol(_,Ku(h.i)):w=!!h.m,w&&(_.m=h.m),_};function kt(h){return new In(h)}function $t(h,_,w){h.j=w?zi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function $s(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Ol(h,_,w){_ instanceof Qs?(h.i=_,to(h.i,h.l)):(w||(_=ra(_,Ys)),h.i=new Qs(_,h.l))}function Xe(h,_,w){h.i.set(_,w)}function sa(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function zi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ra(h,_,w){return typeof h=="string"?(h=encodeURI(h).replace(_,_n),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Za=/[#\/\?@]/g,Hu=/[#\?:]/g,Ll=/[#\?]/g,Ys=/[#\?@]/g,qu=/#/g;function Qs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ja(h.i,function(_,w){h.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=Qs.prototype,t.add=function(h,_){xn(this),this.i=null,h=Xs(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(_),this.h+=1,this};function Gu(h,_){xn(h),_=Xs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ul(h,_){return xn(h),_=Xs(h,_),h.g.has(_)}t.forEach=function(h,_){xn(this),this.g.forEach(function(w,R){w.forEach(function(K){h.call(_,K,R,this)},this)},this)};function Bl(h,_){xn(h);let w=[];if(typeof _=="string")Ul(h,_)&&(w=w.concat(h.g.get(Xs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)w=w.concat(h[_]);return w}t.set=function(h,_){return xn(this),this.i=null,h=Xs(this,h),Ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Bl(this,h),h.length>0?String(h[0]):_):_};function eo(h,_,w){Gu(h,_),w.length>0&&(h.i=null,h.g.set(Xs(h,_),C(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var w=_[R];const K=us(w);w=Bl(this,w);for(let X=0;X<w.length;X++){let ce=K;w[X]!==""&&(ce+="="+us(w[X])),h.push(ce)}}return this.i=h.join("&")};function Ku(h){const _=new Qs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Xs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function to(h,_){_&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(w,R){const K=R.toLowerCase();R!=K&&(Gu(this,R),eo(this,K,w))},h)),h.j=_}function di(h,_){const w=new ui;if(u.Image){const R=new Image;R.onload=v(Gn,w,"TestLoadImage: loaded",!0,_,R),R.onerror=v(Gn,w,"TestLoadImage: error",!1,_,R),R.onabort=v(Gn,w,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(Gn,w,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function zl(h,_){const w=new ui,R=new AbortController,K=setTimeout(()=>{R.abort(),Gn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(K),X.ok?Gn(w,"TestPingServer: ok",!0,_):Gn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Gn(w,"TestPingServer: error",!1,_)})}function Gn(h,_,w,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(w)}catch{}}function Ws(){this.g=new Mu}function Fi(h){this.i=h.Sb||null,this.h=h.ab||!1}x(Fi,Vu),Fi.prototype.g=function(){return new aa(this.i,this.h)};function aa(h,_){Ct.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(aa,Ct),t=aa.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Js(this):mi(this),this.readyState==3&&no(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Js(this))},t.Na=function(h){this.g&&(this.response=h,Js(this))},t.ga=function(){this.g&&Js(this)};function Js(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=_.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let _="";return Ie(h,function(w,R){_+=R,_+=":",_+=w,_+=`\r
`}),_}function oa(h,_,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Kn(w),typeof h=="string"?w!=null&&us(w):Xe(h,_,w))}function Ze(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Ze,Ct);var Hi=/^https?$/i,Fl=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){la(this,X);return}if(h=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)w.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())w.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Fl,_,void 0)>=0)||R||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of w)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){la(this,X)}};function la(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Hl(h),hs(h)}function Hl(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},t.Xa=function(){ca(this)};function ca(h){if(h.h&&typeof l<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),pi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var R;if(R=X===0){let ce=String(h.D).match(Fu)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),R=!Hi.test(ce?ce.toLowerCase():"")}w=R}if(w)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var K=pi(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Hl(h)}}finally{hs(h)}}}}function hs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,_||Ft(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Fd(_)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const _={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var w=Uu(h[R]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=_[K]||[];_[K]=X,X.push(w)}Pe(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(h,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||_}function Zs(h){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,h),this.Za=qi("retryDelaySeedMs",1e4,h),this.Ta=qi("forwardChannelMaxRetries",2,h),this.va=qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(h&&h.concurrentRequestLimit),this.Ba=new Ws,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zs.prototype,t.ka=8,t.I=1,t.connect=function(h,_,w,R){Nt(0),this.W=h,this.H=_||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Zu(this,null,this.W),Gi(this)};function ql(h){if(io(h),h.I==3){var _=h.V++,w=kt(h.J);if(Xe(w,"SID",h.M),Xe(w,"RID",_),Xe(w,"TYPE","terminate"),ua(h,w),_=new hi(h,h.j,_),_.M=2,_.A=sa(kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=_.A,w=!0),w||(_.g=eh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Pi(_)}Ju(h)}function er(h){h.g&&(Kl(h),h.g.cancel(),h.g=null)}function io(h){er(h),h.v&&(u.clearTimeout(h.v),h.v=null),ro(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Gi(h){if(!Ml(h.h)&&!h.m){h.m=!0;var _=h.Ea;J||S(),ee||(J(),ee=!0),E.add(_,h),h.D=0}}function so(h,_){return Ui(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Mi(g(h.Ea,h,_),Wu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new hi(this,this.j,h);let X=this.o;if(this.U&&(X?(X=F(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=$u(this,K,_),w=kt(this.J),Xe(w,"RID",h),Xe(w,"CVER",22),this.G&&Xe(w,"X-HTTP-Session-Id",this.G),ua(this,w),X&&(this.R?_="headers="+us(Kn(X))+"&"+_:this.u&&oa(w,this.u,X)),Vl(this.h,K),this.Ra&&Xe(w,"TYPE","init"),this.S?(Xe(w,"$req",_),Xe(w,"SID","null"),K.U=!0,ji(K,w,null)):ji(K,w,_),this.I=2}}else this.I==3&&(h?Gl(this,h):this.i.length==0||Ml(this.h)||Gl(this))};function Gl(h,_){var w;_?w=_.l:w=h.V++;const R=kt(h.J);Xe(R,"SID",h.M),Xe(R,"RID",w),Xe(R,"AID",h.K),ua(h,R),h.u&&h.o&&oa(R,h.u,h.o),w=new hi(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),_&&(h.i=_.G.concat(h.i)),_=$u(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Vl(h.h,w),ji(w,R,_)}function ua(h,_){h.H&&Ie(h.H,function(w,R){Xe(_,R,w)}),h.l&&Ie({},function(w,R){Xe(_,R,w)})}function $u(h,_,w){w=Math.min(h.i.length,w);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var K=h.i;let Re=-1;for(;;){const wt=["count="+w];Re==-1?w>0?(Re=K[0].g,wt.push("ofs="+Re)):Re=0:wt.push("ofs="+Re);let $e=!0;for(let ht=0;ht<w;ht++){var X=K[ht].g;const $n=K[ht].map;if(X-=Re,X<0)Re=Math.max(0,K[ht].g-100),$e=!1;else try{X="req"+X+"_"||"";try{var ce=$n instanceof Map?$n:Object.entries($n);for(const[$i,gi]of ce){let yi=gi;d(gi)&&(yi=Ks(gi)),wt.push(X+$i+"="+encodeURIComponent(yi))}}catch($i){throw wt.push(X+"type="+encodeURIComponent("_badmap")),$i}}catch{R&&R($n)}}if($e){ce=wt.join("&");break e}}ce=void 0}return h=h.i.splice(0,w),_.G=h,ce}function Yu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;J||S(),ee||(J(),ee=!0),E.add(_,h),h.A=0}}function ha(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Mi(g(h.Da,h),Wu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Mi(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),er(this),Qu(this))};function Kl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Qu(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=kt(h.na);Xe(_,"RID","rpc"),Xe(_,"SID",h.M),Xe(_,"AID",h.K),Xe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(_,"TO",h.ia),Xe(_,"TYPE","xmlhttp"),ua(h,_),h.u&&h.o&&oa(_,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=sa(kt(_)),w.u=null,w.R=!0,Xa(w,h)}t.Va=function(){this.C!=null&&(this.C=null,er(this),ha(this),Nt(19))};function ro(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Xu(h,_){var w=null;if(h.g==_){ro(h),Kl(h),h.g=null;var R=2}else if(Bi(h.h,_))w=_.G,jl(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;R=Qa(),Ft(R,new ki(R,w)),Gi(h)}else Yu(h);else if(K=_.m,K==3||K==0&&_.X>0||!(R==1&&so(h,_)||R==2&&ha(h)))switch(w&&w.length>0&&(_=h.h,_.i=_.i.concat(w)),K){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function Wu(h,_){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*_}function Ki(h,_){if(h.j.info("Error code "+_),_==2){var w=g(h.bb,h),R=h.Ua;const K=!R;R=new In(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$t(R,"https"),sa(R),K?di(R.toString(),w):zl(R.toString(),w)}else Nt(2);h.I=0,h.l&&h.l.pa(_),Ju(h),io(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Ju(h){if(h.I=0,h.ja=[],h.l){const _=Pl(h.h);(_.length!=0||h.i.length!=0)&&(I(h.ja,_),I(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Zu(h,_,w){var R=w instanceof In?kt(w):new In(w);if(R.g!="")_&&(R.g=_+"."+R.g),$s(R,R.u);else{var K=u.location;R=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const X=new In(null);R&&$t(X,R),_&&(X.g=_),K&&$s(X,K),w&&(X.h=w),R=X}return w=h.G,_=h.wa,w&&_&&Xe(R,w,_),Xe(R,"VER",h.ka),ua(h,R),R}function eh(h,_,w){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Ze(new Fi({ab:w})):new Ze(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tr(){}tr.prototype.g=function(h,_){return new pn(h,_)};function pn(h,_){Ct.call(this),this.g=new Zs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ds(this)}x(pn,Ct),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ql(this.g)},pn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Ks(h),h=w);_.i.push(new Dt(_.Ya++,h)),_.I==3&&Gi(_)},pn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,pn.Z.N.call(this)};function nh(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const w in _){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}x(nh,Xt);function ih(){Hn.call(this),this.status=1}x(ih,Hn);function ds(h){this.g=h}x(ds,th),ds.prototype.ra=function(){Ft(this.g,"a")},ds.prototype.qa=function(h){Ft(this.g,new nh(h))},ds.prototype.pa=function(h){Ft(this.g,new ih)},ds.prototype.oa=function(){Ft(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,sS=function(){return new tr},iS=function(){return Qa()},nS=bt,Ug={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Nf=na,Il.COMPLETE="complete",tS=Il,ju.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,jc=ju,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,eS=Ze}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const bw="@firebase/firestore",ww="4.9.3";let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let yl="12.7.0";const Fa=new Py("@firebase/firestore");function Lo(){return Fa.logLevel}function de(t,...e){if(Fa.logLevel<=Ue.DEBUG){const n=e.map(Qy);Fa.debug(`Firestore (${yl}): ${t}`,...n)}}function Us(t,...e){if(Fa.logLevel<=Ue.ERROR){const n=e.map(Qy);Fa.error(`Firestore (${yl}): ${t}`,...n)}}function nl(t,...e){if(Fa.logLevel<=Ue.WARN){const n=e.map(Qy);Fa.warn(`Firestore (${yl}): ${t}`,...n)}}function Qy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rS(t,s,n)}function rS(t,e,n){let s=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Us(s),new Error(s)}function Qe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||rS(e,a,s)}function Ae(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class aS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class HM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qM{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new js;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new js,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new js)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new aS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class GM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new GM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $M{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Tw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Xy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=YM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Be(t,e){return t<e?-1:t>e?1:0}function Bg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return tg(a)===tg(l)?Be(a,l):tg(a)?1:-1}return Be(t.length,e.length)}const QM=55296,XM=57343;function tg(t){const e=t.charCodeAt(0);return e>=QM&&e<=XM}function il(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Ew="__name__";class Ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ji.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Be(e.length,n.length)}static compareSegments(e,n){const s=Ji.isNumericId(e),a=Ji.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):Bg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class at extends Ji{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const WM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ji{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return WM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ew}static keyField(){return new rn([Ew])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function oS(t,e,n){if(!n)throw new he(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JM(t,e,n,s){if(e===!0&&s===!0)throw new he(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sw(t){if(!ve.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Aw(t){if(ve.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xd(t);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!lS(t))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ie.INVALID_ARGUMENT,n);return!0}const Rw=-62135596800,Cw=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Cw);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rw)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cw}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Bt("string",ct._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ct(0,0))}static max(){return new Ee(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zc=-1;function ZM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new Lr(a,ve.empty(),e)}function eV(t){return new Lr(t.readTime,t.key,Zc)}class Lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Ee.min(),ve.empty(),Zc)}static max(){return new Lr(Ee.max(),ve.empty(),Zc)}}function tV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}const nV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==nV)throw t;de("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{u[g]=v,++d,d===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function sV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}class bd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bd.ce=-1;const Wy=-1;function wd(t){return t==null}function Yf(t){return t===0&&1/t==-1/0}function rV(t){return typeof t=="number"&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const cS="";function aV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Nw(e)),e=oV(t.get(n),e);return Nw(e)}function oV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case cS:n+="";break;default:n+=l}}return n}function Nw(t){return t+cS+""}function Iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new sn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dw(this.data.getIterator())}getIteratorFrom(e){return new Dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class Dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Gt(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class hS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hS("Invalid base64 string: "+l):l}})(e);return new on(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const lV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=lV.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}const fS="server_timestamp",dS="__type__",mS="__previous_value__",pS="__local_write_time__";function Jy(t){return(t?.mapValue?.fields||{})[dS]?.stringValue===fS}function Td(t){const e=t.mapValue.fields[mS];return Jy(e)?Td(e):e}function eu(t){const e=Ur(t.mapValue.fields[pS].timestampValue);return new ct(e.seconds,e.nanos)}class cV{constructor(e,n,s,a,l,u,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Qf="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Qf}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const gS="__type__",uV="__max__",ff={mapValue:{}},yS="__vector__",Xf="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jy(t)?4:fV(t)?9007199254740991:hV(t)?10:11:be(28295,{value:t})}function as(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ur(a.timestampValue),d=Ur(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Br(a.bytesValue).isEqual(Br(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=At(a.doubleValue),d=At(l.doubleValue);return u===d?Yf(u)===Yf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Iw(u)!==Iw(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!as(u[m],d[m])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function nu(t,e){return(t.values||[]).find((n=>as(n,e)))!==void 0}function sl(t,e){if(t===e)return 0;const n=zr(t),s=zr(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=At(l.integerValue||l.doubleValue),m=At(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return kw(t.timestampValue,e.timestampValue);case 4:return kw(eu(t),eu(e));case 5:return Bg(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Br(l),m=Br(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Be(d[g],m[g]);if(v!==0)return v}return Be(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=Be(At(l.latitude),At(u.latitude));return d!==0?d:Be(At(l.longitude),At(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Mw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},g=d[Xf]?.arrayValue,v=m[Xf]?.arrayValue,x=Be(g?.values?.length||0,v?.values?.length||0);return x!==0?x:Mw(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===ff.mapValue&&u===ff.mapValue)return 0;if(l===ff.mapValue)return 1;if(u===ff.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const T=Bg(m[x],v[x]);if(T!==0)return T;const C=sl(d[m[x]],g[v[x]]);if(C!==0)return C}return Be(m.length,v.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Ur(t),s=Ur(e),a=Be(n.seconds,s.seconds);return a!==0?a:Be(n.nanos,s.nanos)}function Mw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=sl(n[a],s[a]);if(l)return l}return Be(n.length,s.length)}function rl(t){return zg(t)}function zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=zg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${zg(n.fields[u])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function If(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+If(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return $r(s.fields,((l,u)=>{a+=l.length+If(u)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function Vw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fg(t){return!!t&&"integerValue"in t}function Zy(t){return!!t&&"arrayValue"in t}function jw(t){return!!t&&"nullValue"in t}function Pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function hV(t){return(t?.mapValue?.fields||{})[gS]?.stringValue===yS}function Fc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return{...t}}function fV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uV}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=rn.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=Fc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Df(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){$r(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Rn(Fc(this.value))}}function vS(t){const e=[];return $r(t.fields,((n,s)=>{const a=new rn([n]);if(Df(s)){const l=vS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Bn(e)}class hn{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,Ee.min(),Ee.min(),Ee.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,a){return new hn(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new hn(e,2,n,Ee.min(),Ee.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Ee.min(),Ee.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function Ow(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(u.referenceValue),n.key):s=sl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function dV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _S{}class Ut extends _S{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new pV(e,n,s):n==="array-contains"?new vV(e,s):n==="in"?new _V(e,s):n==="not-in"?new xV(e,s):n==="array-contains-any"?new bV(e,s):new Ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gV(e,s):new yV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sl(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ri(e,n)}matches(e){return xS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xS(t){return t.op==="and"}function bS(t){return mV(t)&&xS(t)}function mV(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function Hg(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(bS(t))return t.filters.map((e=>Hg(e))).join(",");{const e=t.filters.map((n=>Hg(n))).join(",");return`${t.op}(${e})`}}function wS(t,e){return t instanceof Ut?(function(s,a){return a instanceof Ut&&s.op===a.op&&s.field.isEqual(a.field)&&as(s.value,a.value)})(t,e):t instanceof Ri?(function(s,a){return a instanceof Ri&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&wS(u,a.filters[d])),!0):!1})(t,e):void be(19439)}function TS(t){return t instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`})(t):t instanceof Ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(TS).join(" ,")+"}"})(t):"Filter"}class pV extends Ut{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class gV extends Ut{constructor(e,n){super(e,"in",n),this.keys=ES("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yV extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=ES("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ES(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class vV extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zy(n)&&nu(n.arrayValue,this.value)}}class _V extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class xV extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class bV extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class wV{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function Uw(t,e=null,n=[],s=[],a=null,l=null,u=null){return new wV(t,e,n,s,a,l,u)}function e0(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Hg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>rl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>rl(s))).join(",")),e.Te=n}return e.Te}function t0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function qg(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class _u{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TV(t,e,n,s,a,l,u,d){return new _u(t,e,n,s,a,l,u,d)}function n0(t){return new _u(t)}function Bw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SS(t){return t.collectionGroup!==null}function Hc(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Gt(rn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Jf(l,s))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Jf(rn.keyField(),s))}return e.Ie}function es(t){const e=Ae(t);return e.Ee||(e.Ee=EV(e,Hc(t))),e.Ee}function EV(t,e){if(t.limitType==="F")return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jf(a.field,l)}));const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Gg(t,e){const n=t.filters.concat([e]);return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kg(t,e,n){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ed(t,e){return t0(es(t),es(e))&&t.limitType===e.limitType}function AS(t){return`${e0(es(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>TS(a))).join(", ")}]`),wd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>rl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>rl(a))).join(",")),`Target(${s})`})(es(t))}; limitType=${t.limitType})`}function Sd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Hc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const g=Ow(u,d,m);return u.inclusive?g<=0:g<0})(s.startAt,Hc(s),a)||s.endAt&&!(function(u,d,m){const g=Ow(u,d,m);return u.inclusive?g>=0:g>0})(s.endAt,Hc(s),a))})(t,e)}function SV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RS(t){return(e,n)=>{let s=!1;for(const a of Hc(t)){const l=AV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function AV(t,e,n){const s=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),g=d.data.field(l);return m!==null&&g!==null?sl(m,g):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}const RV=new gt(ve.comparator);function Bs(){return RV}const CS=new gt(ve.comparator);function Pc(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function NS(t){let e=CS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ka(){return qc()}function IS(){return qc()}function qc(){return new qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const CV=new gt(ve.comparator),NV=new Gt(ve.comparator);function ze(...t){let e=NV;for(const n of t)e=e.add(n);return e}const IV=new Gt(Be);function DV(){return IV}function i0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function DS(t){return{integerValue:""+t}}function kV(t,e){return rV(e)?DS(e):i0(t,e)}class Ad{constructor(){this._=void 0}}function MV(t,e,n){return t instanceof Zf?(function(a,l){const u={fields:{[dS]:{stringValue:fS},[pS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jy(l)&&(l=Td(l)),l&&(u.fields[mS]=l),{mapValue:u}})(n,e):t instanceof iu?MS(t,e):t instanceof su?VS(t,e):(function(a,l){const u=kS(a,l),d=zw(u)+zw(a.Ae);return Fg(u)&&Fg(a.Ae)?DS(d):i0(a.serializer,d)})(t,e)}function VV(t,e,n){return t instanceof iu?MS(t,e):t instanceof su?VS(t,e):n}function kS(t,e){return t instanceof ed?(function(s){return Fg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zf extends Ad{}class iu extends Ad{constructor(e){super(),this.elements=e}}function MS(t,e){const n=jS(e);for(const s of t.elements)n.some((a=>as(a,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Ad{constructor(e){super(),this.elements=e}}function VS(t,e){let n=jS(e);for(const s of t.elements)n=n.filter((a=>!as(a,s)));return{arrayValue:{values:n}}}class ed extends Ad{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zw(t){return At(t.integerValue||t.doubleValue)}function jS(t){return Zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jV(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof iu&&a instanceof iu||s instanceof su&&a instanceof su?il(s.elements,a.elements,as):s instanceof ed&&a instanceof ed?as(s.Ae,a.Ae):s instanceof Zf&&a instanceof Zf})(t.transform,e.transform)}class PV{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rd{}function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cd(t.key,vn.none()):new xu(t.key,t.data,vn.none());{const n=t.data,s=Rn.empty();let a=new Gt(rn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Yr(t.key,s,new Bn(a.toArray()),vn.none())}}function OV(t,e,n){t instanceof xu?(function(a,l,u){const d=a.value.clone(),m=Hw(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Yr?(function(a,l,u){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=Hw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(OS(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Gc(t,e,n,s){return t instanceof xu?(function(l,u,d,m){if(!kf(l.precondition,u))return d;const g=l.value.clone(),v=qw(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Yr?(function(l,u,d,m){if(!kf(l.precondition,u))return d;const g=qw(l.fieldTransforms,m,u),v=u.data;return v.setAll(OS(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,s):(function(l,u,d){return kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function LV(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=kS(s.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,l))}return n||null}function Fw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&il(s,a,((l,u)=>jV(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends Rd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yr extends Rd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function OS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Hw(t,e,n){const s=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,VV(u,d,n[a]))}return s}function qw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,MV(l,u,e))}return s}class Cd extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UV extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BV{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&OV(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=IS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=PS(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,((n,s)=>Fw(n,s)))&&il(this.baseMutations,e.baseMutations,((n,s)=>Fw(n,s)))}}class s0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return CV})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new s0(e,n,s,a)}}class zV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FV{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,qe;function HV(t){switch(t){case ie.OK:return be(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function LS(t){if(t===void 0)return Us("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Ot.OK:return ie.OK;case Ot.CANCELLED:return ie.CANCELLED;case Ot.UNKNOWN:return ie.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ie.INTERNAL;case Ot.UNAVAILABLE:return ie.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ie.NOT_FOUND;case Ot.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ot.ABORTED:return ie.ABORTED;case Ot.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ot.DATA_LOSS:return ie.DATA_LOSS;default:return be(39323,{code:t})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function qV(){return new TextEncoder}const GV=new jr([4294967295,4294967295],0);function Gw(t){const e=qV().encode(t),n=new Z1;return n.update(e),new Uint8Array(n.digest())}function Kw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new jr([n,s],0),new jr([a,l],0)]}class r0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(s<0)throw new Oc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(jr.fromNumber(s)));return a.compare(GV)===1&&(a=new jr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Gw(e),[s,a]=Kw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new r0(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=Gw(e),[s,a]=Kw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Nd(Ee.min(),a,new gt(Be),Bs(),ze())}}class bu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,ze(),ze(),ze())}}class Mf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class US{constructor(e,n){this.targetId=e,this.Ce=n}}class BS{constructor(e,n,s=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class $w{constructor(){this.ve=0,this.Fe=Yw(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be(38017,{changeType:l})}})),new bu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Yw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=df(),this.He=df(),this.Ye=new gt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(qg(l))if(s===0){const u=new ve(l.path);this.et(n,u,hn.newNoDocument(u,Ee.min()))}else Qe(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Br(s).toUint8Array()}catch(m){if(m instanceof hS)return nl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new r0(u,a,l)}catch(m){return nl(m instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&qg(d.target)){const m=new ve(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,hn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Nd(e,n,this.Ye,this.je,s);return this.je=Bs(),this.Je=df(),this.He=df(),this.Ye=new gt(Be),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $w,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $w),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function df(){return new gt(ve.comparator)}function Yw(){return new gt(ve.comparator)}const $V={asc:"ASCENDING",desc:"DESCENDING"},YV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QV={and:"AND",or:"OR"};class XV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $g(t,e){return t.useProto3Json||wd(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WV(t,e){return td(t,e.toTimestamp())}function ts(t){return Qe(!!t,49232),Ee.fromTimestamp((function(n){const s=Ur(n);return new ct(s.seconds,s.nanos)})(t))}function a0(t,e){return Yg(t,e).canonicalString()}function Yg(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function FS(t){const e=at.fromString(t);return Qe($S(e),10190,{key:e.toString()}),e}function Qg(t,e){return a0(t.databaseId,e.path)}function ng(t,e){const n=FS(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(qS(n))}function HS(t,e){return a0(t.databaseId,e)}function JV(t){const e=FS(t);return e.length===4?at.emptyPath():qS(e)}function Xg(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qS(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Qw(t,e,n){return{name:Qg(t,e),fields:n.value.mapValue.fields}}function ZV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const v=g.code===void 0?ie.UNKNOWN:LS(g.code);return new he(v,g.message||"")})(u);n=new BS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ng(t,s.document.name),l=ts(s.document.updateTime),u=s.document.createTime?ts(s.document.createTime):Ee.min(),d=new Rn({mapValue:{fields:s.document.fields}}),m=hn.newFoundDocument(a,l,u,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Mf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ng(t,s.document),l=s.readTime?ts(s.readTime):Ee.min(),u=hn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Mf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ng(t,s.document),l=s.removedTargetIds||[];n=new Mf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new FV(a,l),d=s.targetId;n=new US(d,u)}}return n}function ej(t,e){let n;if(e instanceof xu)n={update:Qw(t,e.key,e.value)};else if(e instanceof Cd)n={delete:Qg(t,e.key)};else if(e instanceof Yr)n={update:Qw(t,e.key,e.data),updateMask:cj(e.fieldMask)};else{if(!(e instanceof UV))return be(16599,{Vt:e.type});n={verify:Qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof Zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ed)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:WV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function tj(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ts(a.updateTime):ts(l);return u.isEqual(Ee.min())&&(u=ts(l)),new PV(u,a.transformResults||[])})(n,e)))):[]}function nj(t,e){return{documents:[HS(t,e.path)]}}function ij(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=HS(t,a);const l=(function(g){if(g.length!==0)return KS(Ri.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:Bo(T.field),direction:aj(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=$g(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function sj(t){let e=JV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qe(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(x){const T=GS(x);return T instanceof Ri&&bS(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((T=>(function(I){return new Jf(zo(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let T;return T=typeof x=="object"?x.value:x,wd(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(x){const T=!!x.before,C=x.values||[];return new Wf(C,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(x){const T=!x.before,C=x.values||[];return new Wf(C,T)})(n.endAt)),TV(e,a,u,l,d,"F",m,g)}function rj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zo(n.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(n.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(n.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(n.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ut.create(zo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ri.create(n.compositeFilter.filters.map((s=>GS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function aj(t){return $V[t]}function oj(t){return YV[t]}function lj(t){return QV[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function zo(t){return rn.fromServerFormat(t.fieldPath)}function KS(t){return t instanceof Ut?(function(n){if(n.op==="=="){if(Pw(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(jw(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pw(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(jw(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:oj(n.op),value:n.value}}})(t):t instanceof Ri?(function(n){const s=n.getFilters().map((a=>KS(a)));return s.length===1?s[0]:{compositeFilter:{op:lj(n.op),filters:s}}})(t):be(54877,{filter:t})}function cj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $S(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Dr{constructor(e,n,s,a,l=Ee.min(),u=Ee.min(),d=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uj{constructor(e){this.yt=e}}function hj(t){const e=sj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kg(e,e.limit,"L"):e}class fj{constructor(){this.Cn=new dj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Lr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class dj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Gt(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Gt(at.comparator)).toArray()}}const Xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YS=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(YS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}const Ww="LruGarbageCollector",mj=1048576;function Jw([t,e],[n,s]){const a=Be(t,n);return a===0?Be(e,s):a}class pj{constructor(e){this.Ir=e,this.buffer=new Gt(Jw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gj{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Ww,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?de(Ww,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)}))}}class yj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(bd.ce);const s=new pj(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Xw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(s=x,d=Date.now(),this.removeTargets(e,s,n)))).next((x=>(l=x,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(g=Date.now(),Lo()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${x} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function vj(t,e){return new yj(t,e)}class _j{constructor(){this.changes=new qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bj{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Gc(s.mutation,a,Bn.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const a=ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Pc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=ka();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=Bs();const u=qc(),d=(function(){return qc()})();return n.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Yr)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Gc(v.mutation,g,v.mutation.getFieldMask(),ct.now())):u.set(g.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>d.set(g,new xj(v,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=qc();let a=new gt(((u,d)=>u-d)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Bn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const x=(a.get(d.batchId)||ze()).add(m);a=a.insert(d.batchId,x)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,x=IS();v.forEach((T=>{if(!l.has(T)){const C=PS(n.get(T),s.get(T));C!==null&&x.set(T,C),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ae.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(ka());let d=Zc,m=l;return u.next((g=>ae.forEach(g,((v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,ze()))).next((v=>({batchId:d,changes:NS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let a=Pc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Pc();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(m=>{const g=(function(x,T){return new _u(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((x,T)=>{u=u.insert(x,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,hn.newInvalidDocument(v)))}));let d=Pc();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Gc(v.mutation,g,Bn.empty(),ct.now()),Sd(n,g)&&(d=d.insert(m,g))})),d}))}}class wj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ts(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:hj(a.bundledQuery),readTime:ts(a.readTime)}})(n)),ae.resolve()}}class Tj{constructor(){this.overlays=new gt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ka();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=ka(),l=n.length+1,u=new ve(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new gt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=ka(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return ae.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new zV(n,s));let l=this.qr.get(n);l===void 0&&(l=ze(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class Ej{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class o0{constructor(){this.Qr=new Gt(Qt.$r),this.Ur=new Gt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new at([])),s=new Qt(n,e),a=new Qt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new at([])),s=new Qt(n,e),a=new Qt(n,e+1);let l=ze();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class Sj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Qt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new BV(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Wy:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),a=new Qt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const d=this.Xr(u.Yr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(Be);return n.forEach((a=>{const l=new Qt(a,0),u=new Qt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{s=s.add(d.Yr)}))})),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const u=new Qt(new ve(l),0);let d=new Gt(Be);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),u),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new Qt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qt(n,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Aj{constructor(e){this.ri=e,this.docs=(function(){return new gt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=Bs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Bs();const u=n.path,d=new ve(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||tV(eV(v),s)<=0||(a.has(v.key)||Sd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){be(9500)}ii(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Rj(this)}getSize(e){return ae.resolve(this.size)}}class Rj extends _j{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Cj{constructor(e){this.persistence=e,this.si=new qa((n=>e0(n)),t0),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new o0,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}class QS{constructor(e,n){this.ui={},this.overlays={},this.ci=new bd(0),this.li=!1,this.li=!0,this.hi=new Ej,this.referenceDelegate=e(this),this.Pi=new Cj(this),this.indexManager=new fj,this.remoteDocumentCache=(function(a){return new Aj(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new uj(n),this.Ii=new wj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Sj(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new Nj(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Nj extends iV{constructor(e){super(),this.currentSequenceNumber=e}}class l0{constructor(e){this.persistence=e,this.Ri=new o0,this.Vi=null}static mi(e){return new l0(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(s=>{const a=ve.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nd{constructor(e,n){this.persistence=e,this.pi=new qa((s=>aV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=vj(this,n)}static mi(e,n){return new nd(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((d=>{d||(s++,l.removeEntry(u,Ee.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class c0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new c0(e,n.fromCache,s,a)}}class Ij{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sD()?8:sV(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Ij;return this.Ss(e,n,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Lo()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Lo()<=Ue.DEBUG&&de("QueryEngine","Query:",Uo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Lo()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(n))):ae.resolve())}ys(e,n){if(Bw(n))return ae.resolve(null);let s=es(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Kg(n,null,"F"),s=es(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=ze(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,u,m.readTime)?this.ys(e,Kg(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return Bw(n)||a.isEqual(Ee.min())?ae.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?ae.resolve(null):(Lo()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(n)),this.vs(e,u,n,ZM(a,Zc)).next((d=>d)))}))}Ds(e,n){let s=new Gt(RS(e));return n.forEach(((a,l)=>{Sd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Lo()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.ps.getDocumentsMatchingQuery(e,n,Lr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const u0="LocalStore",kj=3e8;class Mj{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new gt(Be),this.xs=new qa((l=>e0(l)),t0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Vj(t,e,n,s){return new Mj(t,e,n,s)}async function XS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=ze();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function jj(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const x=g.batch,T=x.keys();let C=ae.resolve();return T.forEach((I=>{C=C.next((()=>v.getEntry(m,I))).next((P=>{const M=g.docVersions.get(I);Qe(M!==null,48541),P.version.compareTo(M)<0&&(x.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,x)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function WS(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Pj(t,e){const n=Ae(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,x)=>{const T=a.get(x);if(!T)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,x))));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?C=C.withResumeToken(on.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),a=a.insert(x,C),(function(P,M,L){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=kj?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,C,v)&&d.push(n.Pi.updateTargetData(l,C))}));let m=Bs(),g=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(Oj(l,u,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Ee.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((x=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return ae.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function Oj(t,e,n){let s=ze(),a=ze();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Bs();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):de(u0,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function Lj(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Wy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Uj(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Dr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Wg(t,e,n){const s=Ae(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!_l(u))throw u;de(u0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Zw(t,e,n){const s=Ae(t);let a=Ee.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const x=Ae(m),T=x.xs.get(v);return T!==void 0?ae.resolve(x.Ms.get(T)):x.Pi.getTargetData(g,v)})(s,u,es(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ee.min(),n?l:ze()))).next((d=>(Bj(s,SV(e),d),{documents:d,Qs:l})))))}function Bj(t,e,n){let s=t.Os.get(e)||Ee.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class eT{constructor(){this.activeTargetIds=DV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zj{constructor(){this.Mo=new eT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fj{Oo(e){}shutdown(){}}const tT="ConnectivityMonitor";class nT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(tT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(tT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mf=null;function Jg(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}const ig="RestConnection",Hj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Qf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Jg(),d=this.zo(e,n.toUriEncodedString());de(ig,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),v=ml(g);return this.Jo(e,d,m,s,v).then((x=>(de(ig,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw nl(ig,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",s),x}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=Hj[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Gj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class Kj extends qj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Jg();return new Promise(((d,m)=>{const g=new eS;g.setWithCredentials(!0),g.listenOnce(tS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nf.NO_ERROR:const x=g.getResponseJson();de(cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case Nf.TIMEOUT:de(cn,`RPC '${e}' ${u} timed out`),m(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const T=g.getStatus();if(de(cn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C?.error;if(I&&I.status&&I.message){const P=(function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(B)>=0?B:ie.UNKNOWN})(I.status);m(new he(P,I.message))}else m(new he(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(ie.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(cn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);de(cn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=Jg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sS(),d=iS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");de(cn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const x=u.createWebChannel(v,m);this.I_(x);let T=!1,C=!1;const I=new Gj({Yo:M=>{C?de(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(T||(de(cn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),T=!0),de(cn,`RPC '${e}' stream ${a} sending:`,M),x.send(M))},Zo:()=>x.close()}),P=(M,L,B)=>{M.listen(L,(U=>{try{B(U)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return P(x,jc.EventType.OPEN,(()=>{C||(de(cn,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),P(x,jc.EventType.CLOSE,(()=>{C||(C=!0,de(cn,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(x))})),P(x,jc.EventType.ERROR,(M=>{C||(C=!0,nl(cn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),I.a_(new he(ie.UNAVAILABLE,"The operation could not be completed")))})),P(x,jc.EventType.MESSAGE,(M=>{if(!C){const L=M.data[0];Qe(!!L,16349);const B=L,U=B?.error||B[0]?.error;if(U){de(cn,`RPC '${e}' stream ${a} received error:`,U);const Z=U.status;let J=(function(S){const N=Ot[S];if(N!==void 0)return LS(N)})(Z),ee=U.message;J===void 0&&(J=ie.INTERNAL,ee="Unknown error status: "+Z+" with message "+U.message),C=!0,I.a_(new he(J,ee)),x.close()}else de(cn,`RPC '${e}' stream ${a} received:`,L),I.u_(L)}})),P(d,nS.STAT_EVENT,(M=>{M.stat===Ug.PROXY?de(cn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===Ug.NOPROXY&&de(cn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sg(){return typeof document<"u"?document:null}function Id(t){return new XV(t,!0)}class JS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iT="PersistentStream";class ZS{constructor(e,n,s,a,l,u,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $j extends ZS{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ee.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?ts(u.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Xg(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=qg(m)?{documents:nj(l,m)}:{query:ij(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=zS(l,u.resumeToken);const g=$g(l,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ee.min())>0){d.readTime=td(l,u.snapshotVersion.toTimestamp());const g=$g(l,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=rj(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Xg(this.serializer),n.removeTarget=e,this.q_(n)}}class Yj extends ZS{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tj(e.writeResults,e.commitTime),s=ts(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Xg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ej(this.serializer,s)))};this.q_(n)}}class Qj{}class Xj extends Qj{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Yg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ie.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Yg(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ha="RemoteStore";class Jj{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Ga(this)&&(de(Ha,"Restarting streams for network reachability change."),await(async function(m){const g=Ae(m);g.Ea.add(4),await wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Dd(g)})(this))}))})),this.Ra=new Wj(s,a)}}async function Dd(t){if(Ga(t))for(const e of t.da)await e(!0)}async function wu(t){for(const e of t.da)await e(!1)}function eA(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),m0(n)?d0(n):xl(n).O_()&&f0(n,e))}function h0(t,e){const n=Ae(t),s=xl(n);n.Ia.delete(e),s.O_()&&tA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ga(n)&&n.Ra.set("Unknown"))}function f0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).Y_(e)}function tA(t,e){t.Va.Ue(e),xl(t).Z_(e)}function d0(t){t.Va=new KV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.Ra.ua()}function m0(t){return Ga(t)&&!xl(t).x_()&&t.Ia.size>0}function Ga(t){return Ae(t).Ea.size===0}function nA(t){t.Va=void 0}async function Zj(t){t.Ra.set("Online")}async function eP(t){t.Ia.forEach(((e,n)=>{f0(t,e)}))}async function tP(t,e){nA(t),m0(t)?(t.Ra.ha(e),d0(t)):t.Ra.set("Unknown")}async function nP(t,e,n){if(t.Ra.set("Online"),e instanceof BS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){de(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await id(t,s)}else if(e instanceof Mf?t.Va.Ze(e):e instanceof US?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await WS(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),tA(l,m);const x=new Dr(v.target,m,g,v.sequenceNumber);f0(l,x)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){de(Ha,"Failed to raise snapshot:",s),await id(t,s)}}async function id(t,e,n){if(!_l(e))throw e;t.Ea.add(1),await wu(t),t.Ra.set("Offline"),n||(n=()=>WS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Ha,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dd(t)}))}function iA(t,e){return e().catch((n=>id(t,n,e)))}async function kd(t){const e=Ae(t),n=Fr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wy;for(;iP(e);)try{const a=await Lj(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,sP(e,a)}catch(a){await id(e,a)}sA(e)&&rA(e)}function iP(t){return Ga(t)&&t.Ta.length<10}function sP(t,e){t.Ta.push(e);const n=Fr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sA(t){return Ga(t)&&!Fr(t).x_()&&t.Ta.length>0}function rA(t){Fr(t).start()}async function rP(t){Fr(t).ra()}async function aP(t){const e=Fr(t);for(const n of t.Ta)e.ea(n.mutations)}async function oP(t,e,n){const s=t.Ta.shift(),a=s0.from(s,e,n);await iA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await kd(t)}async function lP(t,e){e&&Fr(t).X_&&await(async function(s,a){if((function(u){return HV(u)&&u!==ie.ABORTED})(a.code)){const l=s.Ta.shift();Fr(s).B_(),await iA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await kd(s)}})(t,e),sA(t)&&rA(t)}async function sT(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),de(Ha,"RemoteStore received new credentials");const s=Ga(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dd(n)}async function cP(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Dd(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function xl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ae(n);return l.sa(),new $j(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Zj.bind(null,t),t_:eP.bind(null,t),r_:tP.bind(null,t),H_:nP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),m0(t)?d0(t):t.Ra.set("Unknown")):(await t.ma.stop(),nA(t))}))),t.ma}function Fr(t){return t.fa||(t.fa=(function(n,s,a){const l=Ae(n);return l.sa(),new Yj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:rP.bind(null,t),r_:lP.bind(null,t),ta:aP.bind(null,t),na:oP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await kd(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Ha,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class p0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new p0(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g0(t,e){if(Us("AsyncQueue",`${e}: ${t}`),_l(t))return new he(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Pc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class rT{constructor(){this.ga=new gt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ol{constructor(e,n,s,a,l,u,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new ol(e,n,Xo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class uP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hP{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ae(n),l=a.queries;a.queries=aT(),l.forEach(((u,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function aT(){return new qa((t=>AS(t)),Ed)}async function aA(t,e){const n=Ae(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new uP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=g0(u,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&y0(n)}async function oA(t,e){const n=Ae(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fP(t,e){const n=Ae(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(s=!0);u.wa=a}}s&&y0(n)}function dP(t,e,n){const s=Ae(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function y0(t){t.Ca.forEach((e=>{e.next()}))}var Zg,oT;(oT=Zg||(Zg={})).Ma="default",oT.Cache="cache";class lA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ol(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zg.Cache}}class cA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class mP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=RS(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new rT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const T=a.get(v),C=Sd(this.query,x)?x:null,I=!!T&&this.mutatedKeys.has(T.key),P=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;T&&C?T.data.isEqual(C.data)?I!==P&&(s.track({type:3,doc:C}),M=!0):this.su(T,C)||(s.track({type:2,doc:C}),M=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!T&&C?(s.track({type:0,doc:C}),M=!0):T&&!C&&(s.track({type:1,doc:T}),M=!0,(m||g)&&(d=!0)),M&&(C?(u=u.add(C),l=P?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(C,I){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:M})}};return P(C)-P(I)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new ol(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new uA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new cA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const v0="SyncEngine";class pP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class gP{constructor(e){this.key=e,this.hu=!1}}class yP{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new qa((d=>AS(d)),Ed),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ve.comparator),this.Au=new Map,this.Ru=new o0,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vP(t,e,n=!0){const s=gA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hA(s,e,n,!0),a}async function _P(t,e){const n=gA(t);await hA(n,e,!0,!1)}async function hA(t,e,n,s){const a=await Uj(t.localStore,es(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await xP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&eA(t.remoteStore,a),d}async function xP(t,e,n,s,a){t.pu=(x,T,C)=>(async function(P,M,L,B){let U=M.view.ru(L);U.Cs&&(U=await Zw(P.localStore,M.query,!1).then((({documents:E})=>M.view.ru(E,U))));const Z=B&&B.targetChanges.get(M.targetId),J=B&&B.targetMismatches.get(M.targetId)!=null,ee=M.view.applyChanges(U,P.isPrimaryClient,Z,J);return cT(P,M.targetId,ee.au),ee.snapshot})(t,x,T,C);const l=await Zw(t.localStore,e,!0),u=new mP(e,l.Qs),d=u.ru(l.documents),m=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(d,t.isPrimaryClient,m);cT(t,n,g.au);const v=new pP(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function bP(t,e,n){const s=Ae(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Ed(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Wg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&h0(s.remoteStore,a.targetId),ey(s,a.targetId)})).catch(vl)):(ey(s,a.targetId),await Wg(s.localStore,a.targetId,!0))}async function wP(t,e){const n=Ae(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),h0(n.remoteStore,s.targetId))}async function TP(t,e,n){const s=IP(t);try{const a=await(function(u,d){const m=Ae(u),g=ct.now(),v=d.reduce(((C,I)=>C.add(I.key)),ze());let x,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let I=Bs(),P=ze();return m.Ns.getEntries(C,v).next((M=>{I=M,I.forEach(((L,B)=>{B.isValidDocument()||(P=P.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,I))).next((M=>{x=M;const L=[];for(const B of d){const U=LV(B,x.get(B.key).overlayedDocument);U!=null&&L.push(new Yr(B.key,U,vS(U.value.mapValue),vn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,L,d)})).next((M=>{T=M;const L=M.applyToLocalDocumentSet(x,P);return m.documentOverlayCache.saveOverlays(C,M.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:NS(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new gt(Be)),g=g.insert(d,m),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await Tu(s,a.changes),await kd(s.remoteStore)}catch(a){const l=g0(a,"Failed to persist write");n.reject(l)}}async function fA(t,e){const n=Ae(t);try{const s=await Pj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Qe(u.hu,14607):a.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await Tu(n,s,e)}catch(s){await vl(s)}}function lT(t,e,n){const s=Ae(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=Ae(u);m.onlineState=d;let g=!1;m.queries.forEach(((v,x)=>{for(const T of x.Sa)T.va(d)&&(g=!0)})),g&&y0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EP(t,e,n){const s=Ae(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new gt(ve.comparator);u=u.insert(l,hn.newNoDocument(l,Ee.min()));const d=ze().add(l),m=new Nd(Ee.min(),new Map,new gt(Be),u,d);await fA(s,m),s.du=s.du.remove(l),s.Au.delete(e),_0(s)}else await Wg(s.localStore,e,!1).then((()=>ey(s,e,n))).catch(vl)}async function SP(t,e){const n=Ae(t),s=e.batch.batchId;try{const a=await jj(n.localStore,e);mA(n,s,null),dA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,a)}catch(a){await vl(a)}}async function AP(t,e,n){const s=Ae(t);try{const a=await(function(u,d){const m=Ae(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((x=>(Qe(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(g,x)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);mA(s,e,n),dA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,a)}catch(a){await vl(a)}}function dA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function mA(t,e,n){const s=Ae(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||pA(t,s)}))}function pA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(h0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_0(t))}function cT(t,e,n){for(const s of n)s instanceof cA?(t.Ru.addReference(s.key,e),RP(t,s)):s instanceof uA?(de(v0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||pA(t,s.key)):be(19791,{wu:s})}function RP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(de(v0,"New document in limbo: "+n),t.Eu.add(s),_0(t))}function _0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(at.fromString(e)),s=t.fu.next();t.Au.set(s,new gP(n)),t.du=t.du.insert(n,s),eA(t.remoteStore,new Dr(es(n0(n.path)),s,"TargetPurposeLimboResolution",bd.ce))}}async function Tu(t,e,n){const s=Ae(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=c0.As(m.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,g){const v=Ae(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ae.forEach(g,(T=>ae.forEach(T.Es,(C=>v.persistence.referenceDelegate.addReference(x,T.targetId,C))).next((()=>ae.forEach(T.ds,(C=>v.persistence.referenceDelegate.removeReference(x,T.targetId,C)))))))))}catch(x){if(!_l(x))throw x;de(u0,"Failed to update sequence numbers: "+x)}for(const x of g){const T=x.targetId;if(!x.fromCache){const C=v.Ms.get(T),I=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(T,P)}}})(s.localStore,l))}async function CP(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){de(v0,"User change. New user:",e.toKey());const s=await XS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(ie.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function NP(t,e){const n=Ae(t),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let a=ze();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function gA(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EP.bind(null,e),e.Pu.H_=fP.bind(null,e.eventManager),e.Pu.yu=dP.bind(null,e.eventManager),e}function IP(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AP.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Vj(this.persistence,new Dj,e.initialUser,this.serializer)}Cu(e){return new QS(l0.mi,this.serializer)}Du(e){return new zj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class DP extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof nd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gj(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new QS((s=>nd.mi(s,n)),this.serializer)}}class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CP.bind(null,this.syncEngine),await cP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hP})()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),s=(function(l){return new Kj(l)})(e.databaseInfo);return(function(l,u,d,m){return new Xj(l,u,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new Jj(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>lT(this.syncEngine,n,0)),(function(){return nT.v()?new nT:new Fj})())}createSyncEngine(e,n){return(function(a,l,u,d,m,g,v){const x=new yP(a,l,u,d,m,g);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);de(Ha,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ty.provider={build:()=>new ty};class yA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Hr="FirestoreClient";class kP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Xy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{de(Hr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(de(Hr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=g0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function rg(t,e){t.asyncQueue.verifyOperationInProgress(),de(Hr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await XS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MP(t);de(Hr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>sT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>sT(e.remoteStore,a))),t._onlineComponents=e}async function MP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Hr,"Using user provided OfflineComponentProvider");try{await rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await rg(t,new sd)}}else de(Hr,"Using default OfflineComponentProvider"),await rg(t,new DP(void 0));return t._offlineComponents}async function vA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Hr,"Using user provided OnlineComponentProvider"),await uT(t,t._uninitializedComponentsProvider._online)):(de(Hr,"Using default OnlineComponentProvider"),await uT(t,new ty))),t._onlineComponents}function VP(t){return vA(t).then((e=>e.syncEngine))}async function _A(t){const e=await vA(t),n=e.eventManager;return n.onListen=vP.bind(null,e.syncEngine),n.onUnlisten=bP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_P.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wP.bind(null,e.syncEngine),n}function jP(t,e,n={}){const s=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,g){const v=new yA({next:T=>{v.Nu(),u.enqueueAndForget((()=>oA(l,x)));const C=T.docs.has(d);!C&&T.fromCache?g.reject(new he(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&m&&m.source==="server"?g.reject(new he(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),x=new lA(n0(d.path),v,{includeMetadataChanges:!0,qa:!0});return aA(l,x)})(await _A(t),t.asyncQueue,e,n,s))),s.promise}function PP(t,e,n={}){const s=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,g){const v=new yA({next:T=>{v.Nu(),u.enqueueAndForget((()=>oA(l,x))),T.fromCache&&m.source==="server"?g.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),x=new lA(d,v,{includeMetadataChanges:!0,qa:!0});return aA(l,x)})(await _A(t),t.asyncQueue,e,n,s))),s.promise}function xA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const hT=new Map;const bA="firestore.googleapis.com",fT=!0;class dT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bA,this.ssl=fT}else this.host=e.host,this.ssl=e.ssl??fT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mj)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FM;switch(s.type){case"firstParty":return new KM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=hT.get(n);s&&(de("ComponentProvider","Removing Datastore"),hT.delete(n),s.terminate())})(this),Promise.resolve()}}function OP(t,e,n,s={}){t=li(t,Md);const a=ml(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(h1(`https://${d}`),f1("Firestore",!0)),l.host!==bA&&l.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!La(m,u)&&(t._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=un.MOCK_USER;else{g=QI(s.mockUserToken,t._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(x)}t._authCredentials=new HM(new aS(g,v))}}class bl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,Rt._jsonSchema))return new Rt(e,s||null,new ve(at.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Bt("string",Rt._jsonSchemaVersion),referencePath:Bt("string")};class Pr extends bl{constructor(e,n,s){super(e,n,n0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ve(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function Ti(t,e,...n){if(t=xt(t),oS("collection","path",e),t instanceof Md){const s=at.fromString(e,...n);return Aw(s),new Pr(t,null,s)}{if(!(t instanceof Rt||t instanceof Pr))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return Aw(s),new Pr(t.firestore,null,s)}}function rt(t,e,...n){if(t=xt(t),arguments.length===1&&(e=Xy.newId()),oS("doc","path",e),t instanceof Md){const s=at.fromString(e,...n);return Sw(s),new Rt(t,null,new ve(s))}{if(!(t instanceof Rt||t instanceof Pr))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return Sw(s),new Rt(t.firestore,t instanceof Pr?t.converter:null,new ve(s))}}const mT="AsyncQueue";class pT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JS(this,"async_queue_retry"),this._c=()=>{const s=sg();s&&de(mT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;de(mT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",gT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=p0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:gT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Qr extends Md{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new pT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pT(e),this._firestoreClient=void 0,await e}}}function LP(t,e){const n=typeof t=="object"?t:g1(),s=typeof t=="string"?t:Qf,a=Ly(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=$I("firestore");l&&OP(a,...l)}return a}function Vd(t){if(t._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UP(t),t._firestoreClient}function UP(t){const e=t._freezeSettings(),n=(function(a,l,u,d){return new cV(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(on.fromBase64String(e))}catch(n){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Bt("string",si._jsonSchemaVersion),bytes:Bt("string")};class Eu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class x0{constructor(e){this._methodName=e}}class ns{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(vu(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:Bt("string",ns._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class is{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new is(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:Bt("string",is._jsonSchemaVersion),vectorValues:Bt("object")};const BP=/^__.*__$/;class zP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class wA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class b0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new b0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TA(this.Ac)&&BP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Id(e)}Cc(e,n,s,a=!1){return new b0({Ac:e,methodName:n,Dc:s,path:rn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new FP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w0(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);T0("Data must be an object, but it was:",u,s);const d=AA(s,u);let m,g;if(l.merge)m=new Bn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const T=ny(e,x,n);if(!u.contains(T))throw new he(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);CA(v,T)||v.push(T)}m=new Bn(v),g=u.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,g=u.fieldTransforms;return new zP(new Rn(d),m,g)}class jd extends x0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function EA(t,e,n,s){const a=t.Cc(1,e,n);T0("Data must be an object, but it was:",a,s);const l=[],u=Rn.empty();$r(s,((m,g)=>{const v=E0(e,m,n);g=xt(g);const x=a.yc(v);if(g instanceof jd)l.push(v);else{const T=Au(g,x);T!=null&&(l.push(v),u.set(v,T))}}));const d=new Bn(l);return new wA(u,d,a.fieldTransforms)}function SA(t,e,n,s,a,l){const u=t.Cc(1,e,n),d=[ny(e,s,n)],m=[a];if(l.length%2!=0)throw new he(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(ny(e,l[T])),m.push(l[T+1]);const g=[],v=Rn.empty();for(let T=d.length-1;T>=0;--T)if(!CA(g,d[T])){const C=d[T];let I=m[T];I=xt(I);const P=u.yc(C);if(I instanceof jd)g.push(C);else{const M=Au(I,P);M!=null&&(g.push(C),v.set(C,M))}}const x=new Bn(g);return new wA(v,x,u.fieldTransforms)}function HP(t,e,n,s=!1){return Au(n,t.Cc(s?4:3,e))}function Au(t,e){if(RA(t=xt(t)))return T0("Unsupported field value:",e,t),AA(t,e);if(t instanceof x0)return(function(s,a){if(!TA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=Au(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ct.fromDate(s);return{timestampValue:td(a.serializer,l)}}if(s instanceof ct){const l=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(a.serializer,l)}}if(s instanceof ns)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof si)return{bytesValue:zS(a.serializer,s._byteString)};if(s instanceof Rt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:a0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof is)return(function(u,d){return{mapValue:{fields:{[gS]:{stringValue:yS},[Xf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return i0(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${xd(s)}`)})(t,e)}function AA(t,e){const n={};return uS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((s,a)=>{const l=Au(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function RA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof ns||t instanceof si||t instanceof Rt||t instanceof x0||t instanceof is)}function T0(t,e,n){if(!RA(n)||!lS(n)){const s=xd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function ny(t,e,n){if((e=xt(e))instanceof Eu)return e._internalPath;if(typeof e=="string")return E0(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const qP=new RegExp("[~\\*/\\[\\]]");function E0(t,e,n){if(e.search(qP)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new he(ie.INVALID_ARGUMENT,d+t+m)}function CA(t,e){return t.some((n=>n.isEqual(e)))}class NA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(S0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GP extends NA{data(){return super.data()}}function S0(t,e){return typeof e=="string"?E0(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}function KP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A0{}class $P extends A0{}function Nr(t,e,...n){let s=[];e instanceof A0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof R0)).length,d=l.filter((m=>m instanceof Pd)).length;if(u>1||u>0&&d>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Pd extends $P{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pd(e,n,s)}_apply(e){const n=this._parse(e);return IA(e._query,n),new bl(e.firestore,e.converter,Gg(e._query,n))}_parse(e){const n=Su(e.firestore);return(function(l,u,d,m,g,v,x){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){vT(x,v);const I=[];for(const P of x)I.push(yT(m,l,P));T={arrayValue:{values:I}}}else T=yT(m,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||vT(x,v),T=HP(d,u,x,v==="in"||v==="not-in");return Ut.create(g,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ei(t,e,n){const s=e,a=S0("where",t);return Pd._create(a,s,n)}class R0 extends A0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)IA(u,m),u=Gg(u,m)})(e._query,n),new bl(e.firestore,e.converter,Gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yT(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SS(e)&&n.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vw(t,new ve(s))}if(n instanceof Rt)return Vw(t,n._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(n)}.`)}function vT(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YP{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $r(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Xf].arrayValue?.values?.map((s=>At(s.doubleValue)));return new is(n)}convertGeoPoint(e){return new ns(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Td(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Qe($S(s),9688,{name:e});const a=new tu(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(n)||Us(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function C0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends NA{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(S0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:Bt("string",ja._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Vf extends ja{data(e={}){return super.data(e)}}class Wo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vf(this._firestore,this._userDataWriter,s.key,s,new Lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Lc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Lc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:QP(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function an(t){t=li(t,Rt);const e=li(t.firestore,Qr);return jP(Vd(e),t._key).then((n=>JP(e,t,n)))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:Bt("string",Wo._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class DA extends YP{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Ir(t){t=li(t,bl);const e=li(t.firestore,Qr),n=Vd(e),s=new DA(e);return KP(t._query),PP(n,t._query).then((a=>new Wo(e,s,t,a)))}function Jo(t,e,n){t=li(t,Rt);const s=li(t.firestore,Qr),a=C0(t.converter,e,n);return Ru(s,[w0(Su(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,vn.none())])}function XP(t,e,n,...s){t=li(t,Rt);const a=li(t.firestore,Qr),l=Su(a);let u;return u=typeof(e=xt(e))=="string"||e instanceof Eu?SA(l,"updateDoc",t._key,e,n,s):EA(l,"updateDoc",t._key,e),Ru(a,[u.toMutation(t._key,vn.exists(!0))])}function WP(t){return Ru(li(t.firestore,Qr),[new Cd(t._key,vn.none())])}function ag(t,e){const n=li(t.firestore,Qr),s=rt(t),a=C0(t.converter,e);return Ru(n,[w0(Su(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,vn.exists(!1))]).then((()=>s))}function Ru(t,e){return(function(s,a){const l=new js;return s.asyncQueue.enqueueAndForget((async()=>TP(await VP(s),a,l))),l.promise})(Vd(t),e)}function JP(t,e,n){const s=n.docs.get(e._key),a=new DA(t);return new ja(t,a,e._key,s,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}class ZP{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,n,s){this._verifyNotCommitted();const a=og(e,this._firestore),l=C0(a.converter,n,s),u=w0(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,vn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=og(e,this._firestore);let u;return u=typeof(n=xt(n))=="string"||n instanceof Eu?SA(this._dataReader,"WriteBatch.update",l._key,n,s,a):EA(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=og(e,this._firestore);return this._mutations=this._mutations.concat(new Cd(n._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function og(t,e){if((t=xt(t)).firestore!==e)throw new he(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function kA(t){return Vd(t=li(t,Qr)),new ZP(t,(e=>Ru(t,e)))}(function(e,n=!0){(function(a){yl=a})(pl),el(new Ua("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Qr(new qM(s.getProvider("auth-internal")),new $M(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Vr(bw,ww,e),Vr(bw,ww,"esm2020")})();var eO="firebase",tO="12.7.0";Vr(eO,tO,"app");const nO={apiKey:"AIzaSyBaGcQdywx3EHrWuo7KAa4ed4oXOMvsFYM",authDomain:"nfl-bracket-b3140.firebaseapp.com",projectId:"nfl-bracket-b3140",storageBucket:"nfl-bracket-b3140.firebasestorage.app",messagingSenderId:"965277224800",appId:"1:965277224800:web:83afd415384e97b6d51805"};let lg,ni,Me;try{lg=p1(nO),ni=BM(lg),Me=LP(lg)}catch(t){console.error("Firebase initialization error:",t),console.warn("Please configure Firebase credentials in .env file")}const MA=k.createContext(),cs=()=>k.useContext(MA),cg="drewpdewitt@gmail.com".split(",").map(t=>t.trim())||[],iO=({children:t})=>{const[e,n]=k.useState(null),[s,a]=k.useState(!0),[l,u]=k.useState(null),[d,m]=k.useState(!1),[g,v]=k.useState(null),[x,T]=k.useState(!1);k.useEffect(()=>{if(!ni){u("Firebase not configured. Please add .env file with Firebase credentials."),a(!1);return}return Ck(ni,async U=>{if(n(U),m(U?cg.includes(U.email):!1),U){const Z=await an(rt(Me,"users",U.uid));if(Z.exists()){const J=Z.data();v(J.username),T(!J.hasSeenTutorial)}else v(U.displayName||U.email.split("@")[0]),T(!0)}else v(null),T(!1);a(!1)})},[]);const C=(B,U)=>{if(!ni)throw new Error("Firebase not configured");return Tk(ni,B,U)},I=async(B,U,Z)=>{if(!ni)throw new Error("Firebase not configured");const J=await wk(ni,B,U);await Sk(J.user,{displayName:Z});const ee=cg.includes(B);return await Jo(rt(Me,"users",J.user.uid),{username:Z,email:B,isAdmin:ee,createdAt:new Date,emailVerified:!1,hasSeenTutorial:!1}),await z1(J.user),J},P=async()=>{if(!ni)throw new Error("Firebase not configured");const B=new Is,U=await Qk(ni,B),Z=await an(rt(Me,"users",U.user.uid)),J=cg.includes(U.user.email);return Z.exists()||await Jo(rt(Me,"users",U.user.uid),{username:U.user.displayName||U.user.email.split("@")[0],email:U.user.email,isAdmin:J,createdAt:new Date,hasSeenTutorial:!1}),U},M=()=>{if(!ni)throw new Error("Firebase not configured");return Nk(ni)};if(l)return y.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:" Configuration Required"}),y.jsx("p",{className:"text-gray-700 mb-4",children:l}),y.jsxs("div",{className:"bg-gray-100 p-4 rounded text-sm",children:[y.jsx("p",{className:"font-semibold mb-2",children:"Quick Setup:"}),y.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[y.jsx("li",{children:"Create Firebase project at console.firebase.google.com"}),y.jsx("li",{children:"Enable Authentication (Email/Password)"}),y.jsx("li",{children:"Create Firestore database"}),y.jsx("li",{children:"Copy .env.example to .env"}),y.jsx("li",{children:"Add your Firebase credentials to .env"}),y.jsx("li",{children:"Restart dev server"})]})]})]})});const L=async()=>{e&&(await Jo(rt(Me,"users",e.uid),{hasSeenTutorial:!0},{merge:!0}),T(!1))};return y.jsx(MA.Provider,{value:{user:e,login:C,signup:I,loginWithGoogle:P,logout:M,loading:s,isAdmin:d,username:g,isFirstLogin:x,markTutorialSeen:L},children:t})};const sO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),_T=t=>{const e=rO(t);return e.charAt(0).toUpperCase()+e.slice(1)},VA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),aO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lO=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>k.createElement("svg",{ref:m,...oO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:VA("lucide",a),...!l&&!aO(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,v])=>k.createElement(g,v)),...Array.isArray(l)?l:[l]]));const it=(t,e)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(lO,{ref:l,iconNode:e,className:VA(`lucide-${sO(_T(t))}`,`lucide-${t}`,s),...a}));return n.displayName=_T(t),n};const cO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Or=it("arrow-left",cO);const uO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ug=it("arrow-right",uO);const hO=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],fO=it("award",hO);const dO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mO=it("calendar",dO);const pO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jA=it("chart-column",pO);const gO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yO=it("check",gO);const vO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_O=it("chevron-left",vO);const xO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bO=it("chevron-right",xO);const wO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ad=it("circle-alert",wO);const TO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xT=it("circle-check-big",TO);const EO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SO=it("circle-question-mark",EO);const AO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RO=it("eye",AO);const CO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],NO=it("lock-open",CO);const IO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hg=it("lock",IO);const DO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kO=it("log-out",DO);const MO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],PA=it("mail",MO);const VO=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],jO=it("medal",VO);const PO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bT=it("plus",PO);const OO=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],LO=it("radio",OO);const UO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],BO=it("refresh-cw",UO);const zO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],FO=it("save",zO);const HO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OA=it("settings",HO);const qO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],iy=it("share-2",qO);const GO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],LA=it("trash-2",GO);const KO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ll=it("trophy",KO);const $O=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],YO=it("user",$O);const QO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sy=it("users",QO);const XO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WO=it("x",XO);function JO(){const[t,e]=k.useState(!0),[n,s]=k.useState(""),[a,l]=k.useState(""),[u,d]=k.useState(""),[m,g]=k.useState(""),[v,x]=k.useState(""),[T,C]=k.useState(!1),{login:I,signup:P,loginWithGoogle:M}=cs(),L=os(),U=Ni().state?.from||"/rooms",Z=E=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E),J=async E=>{if(E.preventDefault(),x(""),C(!1),!t){if(!Z(n)){x("Please enter a valid email address");return}if(a!==u){x("Passwords do not match");return}if(a.length<6){x("Password must be at least 6 characters");return}}try{t?(await I(n,a),L(U,{replace:!0})):(await P(n,a,m),C(!0))}catch(S){x(S.message)}},ee=async()=>{x("");try{await M(),L(U,{replace:!0})}catch(E){x(E.message)}};return y.jsxs("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),y.jsxs("div",{className:"relative z-10 bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[y.jsx("div",{className:"flex items-center justify-center mb-6",children:y.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:y.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[14px] flex items-center justify-center text-white text-2xl font-black italic",children:"NFL"})})}),y.jsx("h1",{className:"text-3xl font-black text-center mb-2 text-white uppercase tracking-tight",children:"Mixin it up Family Bracket"}),y.jsx("p",{className:"text-center text-slate-400 mb-6 text-sm",children:t?"Sign in to continue":"Create your account"}),T?y.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-6 text-center",children:[y.jsx(ad,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-bold text-green-400 mb-2",children:"Verification Email Sent!"}),y.jsx("p",{className:"text-slate-300 mb-4",children:"Please check your email and click the verification link to activate your account. After verifying, sign in to continue."}),y.jsx("button",{onClick:()=>{C(!1),e(!0)},className:"text-green-400 font-semibold hover:underline",children:"Back to Sign In"}),U!=="/rooms"&&y.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"You'll be redirected to join the room after signing in."})]}):y.jsxs(y.Fragment,{children:[y.jsxs("form",{onSubmit:J,className:"space-y-4",children:[!t&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Username"}),y.jsx("input",{type:"text",value:m,onChange:E=>g(E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",value:n,onChange:E=>s(E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),y.jsx("input",{type:"password",value:a,onChange:E=>l(E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),!t&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Confirm Password"}),y.jsx("input",{type:"password",value:u,onChange:E=>d(E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),v&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",children:[y.jsx(ad,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),y.jsx("p",{className:"text-red-400 text-sm",children:v})]}),y.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition font-bold uppercase tracking-wide",children:t?"Sign In":"Sign Up"})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-slate-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-slate-900/60 text-slate-400",children:"Or continue with"})})]}),y.jsxs("button",{onClick:ee,className:"w-full flex items-center justify-center gap-3 bg-white/10 border border-white/20 text-white py-3 rounded-lg hover:bg-white/20 transition font-semibold",children:[y.jsx(PA,{className:"w-5 h-5"}),"Google"]}),y.jsxs("p",{className:"text-center mt-4 text-sm text-slate-400",children:[t?"Don't have an account? ":"Already have an account? ",y.jsx("button",{onClick:()=>e(!t),className:"text-blue-400 font-semibold hover:underline",children:t?"Sign Up":"Sign In"})]})]})]})]})}function ZO({isOpen:t,onClose:e}){const[n,s]=k.useState(0);if(k.useEffect(()=>{t&&s(0)},[t]),!t)return null;const a=[{title:"Welcome to NFL Bracket!",icon:ll,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300 text-lg",children:"Compete with friends by predicting NFL playoff game winners. The more accurate your predictions, the more points you earn!"}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50",children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-3 text-lg",children:"Quick Overview:"}),y.jsxs("ul",{className:"space-y-2 text-slate-300",children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Join or create a room with friends"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Pick winners for each playoff game"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Submit your bracket before games start"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Earn points for correct predictions"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Compete on the leaderboard!"})]})]})]})]})},{title:"Joining a Room",icon:sy,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Rooms let you compete with specific groups of friends. Each room has a unique 6-character code."}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"To Join a Room:"}),y.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[y.jsx("li",{children:"Get a room code from a friend"}),y.jsx("li",{children:'Enter the code in the "Join Room" box'}),y.jsx("li",{children:'Click "Join" to enter the room'}),y.jsx("li",{children:"You'll be taken to the bracket page automatically"})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[y.jsx("div",{className:"text-center mb-2",children:y.jsx("input",{type:"text",value:"ABC123",readOnly:!0,className:"w-48 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white text-center font-bold tracking-wider"})}),y.jsx("p",{className:"text-slate-400 text-sm text-center",children:"Example room code"})]})]})]})},{title:"Sharing a Room",icon:iy,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Invite friends to your room by sharing the room code or link."}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"How to Share:"}),y.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[y.jsx("li",{children:'Find your room in "My Rooms"'}),y.jsx("li",{children:"Click the green share button"}),y.jsx("li",{children:"Send the link or code to friends"})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-green-500/20 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-3 py-1 rounded-lg",children:y.jsx("span",{className:"text-white font-bold tracking-wider",children:"ABC123"})}),y.jsx("span",{className:"text-white font-semibold",children:"Room ABC123"})]}),y.jsx("button",{className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400",children:y.jsx(iy,{className:"w-4 h-4"})})]})]})]})},{title:"Filling Out Your Bracket",icon:xT,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Pick the winner for each playoff matchup. Your picks automatically advance through the rounds."}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"How to Pick:"}),y.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[y.jsx("li",{children:"Click on a team to select them as the winner"}),y.jsx("li",{children:"Your pick will highlight in gold"}),y.jsx("li",{children:"Winners automatically advance to the next round"}),y.jsx("li",{children:"Continue until you've picked a Super Bowl champion"})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[y.jsx("p",{className:"text-slate-400 text-xs mb-3 text-center",children:"Example Matchup:"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 border-2 border-yellow-600/50 rounded-lg cursor-pointer",children:[y.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold",children:"KC"}),y.jsx("span",{className:"text-white font-semibold flex-grow",children:"Kansas City Chiefs"}),y.jsx("span",{className:"text-yellow-600/90 font-bold",children:"#1"})]}),y.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg cursor-pointer opacity-60",children:[y.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold",children:"BUF"}),y.jsx("span",{className:"text-white font-semibold flex-grow",children:"Buffalo Bills"}),y.jsx("span",{className:"text-slate-400 font-bold",children:"#2"})]})]}),y.jsx("p",{className:"text-slate-400 text-xs mt-3 text-center",children:"Click a team to select them"})]})]})]})},{title:"Submitting Your Bracket",icon:xT,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Once you've made all your picks, submit your bracket to lock it in."}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[y.jsxs("h4",{className:"text-red-400 font-bold mb-2 flex items-center gap-2",children:[y.jsx("span",{children:""})," Important:"]}),y.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[y.jsx("li",{children:" You must complete ALL picks before submitting"}),y.jsx("li",{children:" Once submitted, your bracket is LOCKED"}),y.jsx("li",{children:" You cannot change picks after submission"}),y.jsx("li",{children:" Submit before the first playoff game starts!"})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"To Submit:"}),y.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[y.jsx("li",{children:"Complete all matchup picks"}),y.jsx("li",{children:"Review your selections"}),y.jsx("li",{children:'Click "Submit Bracket" at the top'}),y.jsx("li",{children:"Confirm your submission"})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-green-500/20 text-center",children:[y.jsx("button",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg",children:"Submit Bracket"}),y.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"Click when ready to lock in picks"})]})]})]})},{title:"Point System",icon:ll,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Earn points for each correct prediction. Later rounds are worth more points!"}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-3",children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-3 text-center",children:"Points Per Round:"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[y.jsx("span",{className:"text-white font-semibold",children:"Wild Card Round"}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"1 pt"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[y.jsx("span",{className:"text-white font-semibold",children:"Divisional Round"}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"2 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[y.jsx("span",{className:"text-white font-semibold",children:"Conference Championship"}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"3 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 rounded-lg border-2 border-yellow-600/50",children:[y.jsx("span",{className:"text-white font-bold",children:"Super Bowl"}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-2xl",children:"5 pts"})]})]}),y.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mt-4",children:y.jsxs("p",{className:"text-blue-300 text-sm text-center",children:[y.jsx("strong",{children:"Maximum possible score: 23 points"}),y.jsx("br",{}),"(6 Wild Card + 4 Divisional + 2 Conference + 1 Super Bowl)"]})})]})]})},{title:"Viewing the Leaderboard",icon:jA,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Track your performance and see how you stack up against friends!"}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"Leaderboard Features:"}),y.jsxs("ul",{className:"space-y-2 text-slate-300",children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Found at the top of the bracket page"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"See all participants ranked by points"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"View correct picks (green) and incorrect picks (red)"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Updates automatically as games finish"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Only visible after you submit your bracket"})]})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[y.jsx("p",{className:"text-slate-400 text-xs mb-3 text-center",children:"Example Leaderboard:"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-600/10 border border-yellow-600/30 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-yellow-600/90 font-bold text-lg",children:"1."}),y.jsx("span",{className:"text-white font-semibold",children:"John"})]}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-lg",children:"15 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-slate-400 font-bold",children:"2."}),y.jsx("span",{className:"text-white font-semibold",children:"Sarah"})]}),y.jsx("span",{className:"text-slate-300 font-bold",children:"12 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-slate-400 font-bold",children:"3."}),y.jsx("span",{className:"text-white font-semibold",children:"Mike"})]}),y.jsx("span",{className:"text-slate-300 font-bold",children:"10 pts"})]})]})]})]}),y.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[y.jsx("h4",{className:"text-blue-300 font-bold mb-2",children:" Pro Tip:"}),y.jsx("p",{className:"text-blue-200 text-sm",children:"Game results are tracked in real-time on the bracket page. You can see which games have been completed and who won as the playoffs progress!"})]}),y.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:y.jsx("p",{className:"text-green-300 text-center font-semibold",children:" Good luck and may the best bracket win! "})})]})}],l=a[n],u=l.icon;return y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 border-b border-white/10 p-6 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg",children:y.jsx(u,{className:"w-6 h-6 text-white"})}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:l.title})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition text-slate-400 hover:text-white",children:y.jsx(WO,{className:"w-6 h-6"})})]}),y.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-200px)]",children:l.content}),y.jsxs("div",{className:"bg-slate-800/50 border-t border-white/10 p-4 sm:p-6 flex items-center justify-between gap-2",children:[y.jsxs("button",{onClick:()=>s(d=>Math.max(0,d-1)),disabled:n===0,className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white text-sm sm:text-base disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-700 transition flex-shrink-0",children:[y.jsx(_O,{className:"w-4 h-4"}),y.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),y.jsx("div",{className:"flex gap-2 items-center flex-shrink-0",children:a.map((d,m)=>y.jsx("button",{onClick:()=>s(m),className:`h-2 rounded-full transition-all duration-300 ${m===n?"bg-yellow-600/90 w-8":"bg-slate-600 hover:bg-slate-500 w-2"}`},m))}),n===a.length-1?y.jsx("button",{onClick:e,className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 rounded-lg text-white text-sm sm:text-base font-semibold hover:from-yellow-600/90 hover:to-yellow-700/90 transition shadow-lg flex-shrink-0",children:"Get Started!"}):y.jsxs("button",{onClick:()=>s(d=>Math.min(a.length-1,d+1)),className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 rounded-lg text-white text-sm sm:text-base font-semibold hover:from-yellow-600/90 hover:to-yellow-700/90 transition shadow-lg flex-shrink-0",children:[y.jsx("span",{className:"hidden sm:inline",children:"Next"}),y.jsx(bO,{className:"w-4 h-4"})]})]})]})})}function e3(){const[t,e]=k.useState(""),[n,s]=k.useState([]),[a,l]=k.useState(!1),{user:u,logout:d,isAdmin:m,username:g,isFirstLogin:v,markTutorialSeen:x}=cs(),T=os(),[C]=MI();k.useEffect(()=>{I(),v&&l(!0);const E=C.get("join");E&&(e(E.toUpperCase()),setTimeout(()=>{U(E.toUpperCase())},100))},[u,C,v]);const I=async()=>{const E=Nr(Ti(Me,"userRooms"),Ei("userId","==",u.uid)),S=await Ir(E),N=[];for(const j of S.docs){const V=j.data(),H=await an(rt(Me,"rooms",V.roomId));H.exists()&&N.push({id:j.id,...V,isCreator:H.data().createdBy===u.uid})}s(N)},P=E=>{const S=`${window.location.origin}/rooms?join=${E}`;navigator.share?navigator.share({title:"Join my NFL Bracket Room",text:`Join my NFL playoff bracket room with code: ${E}`,url:S}).catch(()=>{M(S,E)}):M(S,E)},M=(E,S)=>{navigator.clipboard.writeText(E).then(()=>{alert(`Room link copied! Share this link or use code: ${S}`)}).catch(()=>{alert(`Share this link: ${E}

Or use room code: ${S}`)})},L=async()=>{const E=Math.random().toString(36).substring(2,8).toUpperCase(),S=await ag(Ti(Me,"rooms"),{code:E,createdAt:new Date,createdBy:u.uid});await ag(Ti(Me,"userRooms"),{userId:u.uid,roomId:S.id,roomCode:E}),T(`/bracket/${S.id}`)},B=async E=>{E.preventDefault(),await U(t)},U=async E=>{const S=Nr(Ti(Me,"rooms"),Ei("code","==",E.toUpperCase())),N=await Ir(S);if(N.empty)alert("Room not found. Please check the code and try again.");else{const j=N.docs[0].id,V=Nr(Ti(Me,"userRooms"),Ei("userId","==",u.uid),Ei("roomId","==",j));(await Ir(V)).empty&&await ag(Ti(Me,"userRooms"),{userId:u.uid,roomId:j,roomCode:E.toUpperCase()}),T(`/bracket/${j}`)}},Z=async(E,S)=>{if(window.confirm(`Are you sure you want to delete room ${S}? This will delete all brackets in this room and cannot be undone.`))try{console.log("Starting room deletion for:",E),console.log("Fetching brackets...");const N=Nr(Ti(Me,"brackets"),Ei("roomId","==",E)),j=await Ir(N);console.log("Found brackets:",j.docs.length),console.log("Fetching userRooms...");const V=Nr(Ti(Me,"userRooms"),Ei("roomId","==",E)),H=await Ir(V);console.log("Found userRooms:",H.docs.length);const D=kA(Me);console.log("Adding brackets to batch delete..."),j.docs.forEach(Ne=>{D.delete(Ne.ref)}),console.log("Adding userRooms to batch delete..."),H.docs.forEach(Ne=>{D.delete(Ne.ref)}),console.log("Adding room to batch delete..."),D.delete(rt(Me,"rooms",E)),console.log("Committing batch..."),await D.commit(),console.log("Room deleted successfully!"),alert("Room deleted successfully!"),I()}catch(N){console.error("Full error object:",N),console.error("Error code:",N.code),console.error("Error message:",N.message),alert(`Error deleting room: ${N.message}

Check console for details.`)}},J=()=>{l(!1),x()},ee=n.length===0;return y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),y.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),y.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),y.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),y.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 sm:mb-12",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px] transition-transform duration-500",children:y.jsx("div",{className:"bg-[#020617] w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] sm:text-[14px] font-black italic",children:"NFL"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl sm:text-4xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),y.jsxs("p",{className:"text-blue-200 text-xs sm:text-sm",children:["Welcome back, ",g||"User"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[y.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-1 sm:gap-2 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 text-blue-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-blue-500/30 transition-all duration-300 shadow-lg hover:shadow-blue-500/20 text-sm sm:text-base",title:"How to Use",children:[y.jsx(SO,{className:"w-4 h-4"})," ",y.jsx("span",{className:"hidden sm:inline",children:"Rules & Help"}),y.jsx("span",{className:"sm:hidden",children:"Help"})]}),m&&y.jsxs("button",{onClick:()=>T("/admin/playoff-config"),className:"flex items-center gap-1 sm:gap-2 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 text-blue-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-blue-500/30 transition-all duration-300 shadow-lg hover:shadow-blue-500/20 text-sm sm:text-base",children:[y.jsx(OA,{className:"w-4 h-4"})," ",y.jsx("span",{className:"hidden sm:inline",children:"Playoff Config"})]}),y.jsxs("button",{onClick:d,className:"flex items-center gap-1 sm:gap-2 bg-red-500/20 backdrop-blur-sm border border-red-400/30 text-red-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-red-500/30 transition-all duration-300 shadow-lg hover:shadow-red-500/20 text-sm sm:text-base",children:[y.jsx(kO,{className:"w-4 h-4"})," ",y.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),ee?y.jsx("div",{className:"max-w-2xl mx-auto",children:y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-3xl p-12 shadow-2xl",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 rounded-2xl mb-6 shadow-lg shadow-yellow-600/10",children:y.jsx(sy,{className:"w-10 h-10 text-white"})}),y.jsx("h2",{className:"text-4xl font-bold text-white mb-3",children:"Join a Room"}),y.jsx("p",{className:"text-slate-300 text-lg",children:"Enter a room code to get started with your bracket predictions"})]}),y.jsxs("form",{onSubmit:B,className:"space-y-6",children:[y.jsx("div",{children:y.jsx("input",{type:"text",value:t,onChange:E=>e(E.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-6 py-5 bg-slate-800/50 backdrop-blur-sm border-2 border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center text-2xl font-bold tracking-widest focus:ring-4 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all duration-300",maxLength:"6",required:!0})}),y.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-5 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-bold text-lg shadow-xl shadow-yellow-600/10 hover:shadow-2xl hover:scale-105 flex items-center justify-center gap-3",children:["Join Room ",y.jsx(ug,{className:"w-5 h-5"})]})]}),m&&y.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[y.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Or create a new room as admin"}),y.jsxs("button",{onClick:L,className:"w-full bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 text-white py-4 rounded-xl hover:bg-slate-700/50 transition-all duration-300 font-semibold flex items-center justify-center gap-2",children:[y.jsx(bT,{className:"w-5 h-5"})," Create New Room"]})]})]})}):y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:y.jsx(sy,{className:"w-6 h-6 text-white"})}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Join Room"})]}),y.jsxs("form",{onSubmit:B,className:"space-y-4",children:[y.jsx("input",{type:"text",value:t,onChange:E=>e(E.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center font-bold tracking-wider focus:ring-2 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all",maxLength:"6",required:!0}),y.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl flex items-center justify-center gap-2",children:["Join ",y.jsx(ug,{className:"w-4 h-4"})]})]})]}),m&&y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:y.jsx(bT,{className:"w-6 h-6 text-white"})}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Room"})]}),y.jsx("p",{className:"text-slate-300 mb-6",children:"Start a new bracket room and share the code with friends"}),y.jsx("button",{onClick:L,className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl",children:"Create New Room"})]})]}),y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-4 sm:p-8 shadow-xl",children:[y.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-center gap-3",children:[y.jsx(ll,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600/90"}),"My Rooms"]}),y.jsx("div",{className:"grid gap-3 sm:gap-4",children:n.map(E=>y.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-4 sm:p-6 bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl hover:bg-slate-800/50 transition-all duration-300 hover:shadow-lg",children:[y.jsxs("button",{onClick:()=>T(`/bracket/${E.roomId}`),className:"flex items-center gap-3 sm:gap-4 flex-grow text-left w-full sm:w-auto",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-3 sm:px-4 py-1 sm:py-2 rounded-lg shadow-lg shadow-yellow-600/10",children:y.jsx("span",{className:"text-white font-bold text-base sm:text-lg tracking-wider",children:E.roomCode})}),y.jsxs("span",{className:"text-white font-semibold text-base sm:text-lg",children:["Room ",E.roomCode]})]}),y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto justify-end",children:[y.jsx("button",{onClick:S=>{S.stopPropagation(),P(E.roomCode)},className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition text-green-400",title:"Share Room",children:y.jsx(iy,{className:"w-4 h-4"})}),m&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:S=>{S.stopPropagation(),T(`/admin/brackets/${E.roomId}`)},className:"p-2 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition text-blue-400",title:"View Submitted Brackets (Admin)",children:y.jsx(RO,{className:"w-4 h-4"})}),y.jsx("button",{onClick:S=>{S.stopPropagation(),Z(E.roomId,E.roomCode)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Room (Admin)",children:y.jsx(LA,{className:"w-4 h-4"})})]}),y.jsx(ug,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600/70 hidden sm:block"})]})]},E.id))})]})]})]}),y.jsx(ZO,{isOpen:a,onClose:J}),y.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const pf="https://site.api.espn.com/apis/site/v2/sports/football/nfl/scoreboard?seasontype=3",t3=async()=>{try{const t=await Promise.all([fetch(`${pf}&week=1`).then(e=>e.json()),fetch(`${pf}&week=2`).then(e=>e.json()),fetch(`${pf}&week=3`).then(e=>e.json()),fetch(`${pf}&week=4`).then(e=>e.json())]);return{wildCard:gf(t[0],"wc",1),divisional:gf(t[1],"div",2),conference:gf(t[2],"conf",3),superBowl:gf(t[3],"sb",4)}}catch(t){return console.error("Error fetching playoff games:",t),null}},gf=(t,e,n)=>{const s=t?.events||[],a=[],l=[];if(s.forEach((u,d)=>{const m=u.competitions?.[0];if(!m)return;const g=m.competitors||[],v=g.find(M=>M.homeAway==="home"),x=g.find(M=>M.homeAway==="away"),T=m.status,C=v?.team?.id==="-1"||x?.team?.id==="-1";let I="UNKNOWN";n===4?I="SB":!C&&v?.team?.id&&(I=UA(v.team.id));const P={id:`${I.toLowerCase()}-${e}-${I==="AFC"?a.length:l.length}`,espnId:u.id,team1:C?null:yf(v,!0),team2:C?null:yf(x,!1),status:T?.type?.description||"Scheduled",statusDetail:T?.type?.shortDetail||"Game Not Started",isCompleted:T?.type?.completed||!1,isInProgress:T?.type?.state==="in",winner:wT(v,x,T),conference:I,date:u.date,isTBD:C,homeScore:C?null:parseInt(v?.score)||0,awayScore:C?null:parseInt(x?.score)||0};if(I==="AFC")a.push(P);else if(I==="NFC")l.push(P);else if(I==="SB")return[P]}),n===4&&s.length>0){const u=s[0],d=u.competitions?.[0],m=d?.competitors||[],g=m.find(C=>C.homeAway==="home"),v=m.find(C=>C.homeAway==="away"),x=d?.status,T=g?.team?.id==="-1"||v?.team?.id==="-1";return[{id:"super-bowl",espnId:u.id,team1:T?null:yf(g,!0),team2:T?null:yf(v,!1),status:x?.type?.description||"Scheduled",statusDetail:x?.type?.shortDetail||"Game Not Started",isCompleted:x?.type?.completed||!1,isInProgress:x?.type?.state==="in",winner:wT(g,v,x),conference:"SB",date:u.date,isTBD:T,homeScore:T?null:parseInt(g?.score)||0,awayScore:T?null:parseInt(v?.score)||0}]}return[...a,...l]},yf=(t,e)=>{if(!t||t.id==="-1")return null;const n=t.team;return{id:n.id,name:n.name||n.displayName,city:n.location,abbreviation:n.abbreviation,displayName:n.displayName,score:parseInt(t.score)||0,seed:n3(t),conference:UA(n.id),color:i3(n.abbreviation),isHome:e}},wT=(t,e,n)=>{if(!n?.type?.completed)return null;const s=parseInt(t?.score)||0,a=parseInt(e?.score)||0;return s>a?t?.team?.id:a>s?e?.team?.id:null},n3=t=>t.curatedRank?.current||t.rank||parseInt(t.team?.displayName?.match(/\((\d+)\)/)?.[1])||null,UA=t=>["1","2","3","4","5","6","7","8","9","10","11","12","33","34"].includes(String(t))?"AFC":"NFC",i3=t=>({KC:"#E31837",BUF:"#00338D",BAL:"#241773",HOU:"#03202F",PIT:"#FFB612",LAC:"#0080C6",DEN:"#FB4F14",MIA:"#008E97",CIN:"#FB4F14",CLE:"#311D00",LV:"#000000",IND:"#002C5F",TEN:"#0C2340",JAX:"#006778",NE:"#002244",DET:"#0076B6",PHI:"#004C54",LAR:"#003594",TB:"#D50A0A",MIN:"#4F2683",WAS:"#5A1414",GB:"#203731",SF:"#AA0000",DAL:"#041E42",SEA:"#002244",ATL:"#A71930",NO:"#D3BC8D",CAR:"#0085CA",ARI:"#97233F",CHI:"#0B162A",NYG:"#0B2265",NYJ:"#125740"})[t]||"#1e293b",N0=k.createContext({});function I0(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const D0=typeof window<"u",BA=D0?k.useLayoutEffect:k.useEffect,Od=k.createContext(null);function k0(t,e){t.indexOf(e)===-1&&t.push(e)}function M0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const zs=(t,e,n)=>n>e?e:n<t?t:n;let V0=()=>{};const Fs={},zA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function FA(t){return typeof t=="object"&&t!==null}const HA=t=>/^0[^.\s]+$/u.test(t);function j0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ai=t=>t,s3=(t,e)=>n=>e(t(n)),Cu=(...t)=>t.reduce(s3),ru=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class P0{constructor(){this.subscriptions=[]}add(e){return k0(this.subscriptions,e),()=>M0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ss=t=>t*1e3,ri=t=>t/1e3;function qA(t,e){return e?t*(1e3/e):0}const GA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,r3=1e-7,a3=12;function o3(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=GA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>r3&&++d<a3);return u}function Nu(t,e,n,s){if(t===e&&n===s)return ai;const a=l=>o3(l,0,1,t,n);return l=>l===0||l===1?l:GA(a(l),e,s)}const KA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$A=t=>e=>1-t(1-e),YA=Nu(.33,1.53,.69,.99),O0=$A(YA),QA=KA(O0),XA=t=>(t*=2)<1?.5*O0(t):.5*(2-Math.pow(2,-10*(t-1))),L0=t=>1-Math.sin(Math.acos(t)),WA=$A(L0),JA=KA(L0),l3=Nu(.42,0,1,1),c3=Nu(0,0,.58,1),ZA=Nu(.42,0,.58,1),u3=t=>Array.isArray(t)&&typeof t[0]!="number",eR=t=>Array.isArray(t)&&typeof t[0]=="number",h3={linear:ai,easeIn:l3,easeInOut:ZA,easeOut:c3,circIn:L0,circInOut:JA,circOut:WA,backIn:O0,backInOut:QA,backOut:YA,anticipate:XA},f3=t=>typeof t=="string",TT=t=>{if(eR(t)){V0(t.length===4);const[e,n,s,a]=t;return Nu(e,n,s,a)}else if(f3(t))return h3[t];return t},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function d3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(g.schedule(v),t()),v(d)}const g={schedule:(v,x=!1,T=!1)=>{const I=T&&a?n:s;return x&&u.add(v),I.has(v)||I.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const m3=40;function tR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=vf.reduce((U,Z)=>(U[Z]=d3(l),U),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:x,preRender:T,render:C,postRender:I}=u,P=()=>{const U=Fs.useManualTiming?a.timestamp:performance.now();n=!1,Fs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(U-a.timestamp,m3),1)),a.timestamp=U,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),v.process(a),x.process(a),T.process(a),C.process(a),I.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(P))},M=()=>{n=!0,s=!0,a.isProcessing||t(P)};return{schedule:vf.reduce((U,Z)=>{const J=u[Z];return U[Z]=(ee,E=!1,S=!1)=>(n||M(),J.schedule(ee,E,S)),U},{}),cancel:U=>{for(let Z=0;Z<vf.length;Z++)u[vf[Z]].cancel(U)},state:a,steps:u}}const{schedule:dt,cancel:qr,state:nn,steps:fg}=tR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let jf;function p3(){jf=void 0}const Cn={now:()=>(jf===void 0&&Cn.set(nn.isProcessing||Fs.useManualTiming?nn.timestamp:performance.now()),jf),set:t=>{jf=t,queueMicrotask(p3)}},nR=t=>e=>typeof e=="string"&&e.startsWith(t),iR=nR("--"),g3=nR("var(--"),U0=t=>g3(t)?y3.test(t.split("/*")[0].trim()):!1,y3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},au={...wl,transform:t=>zs(0,1,t)},_f={...wl,default:1},Kc=t=>Math.round(t*1e5)/1e5,B0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v3(t){return t==null}const _3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,z0=(t,e)=>n=>!!(typeof n=="string"&&_3.test(n)&&n.startsWith(t)||e&&!v3(n)&&Object.prototype.hasOwnProperty.call(n,e)),sR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(B0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},x3=t=>zs(0,255,t),dg={...wl,transform:t=>Math.round(x3(t))},Ma={test:z0("rgb","red"),parse:sR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+dg.transform(t)+", "+dg.transform(e)+", "+dg.transform(n)+", "+Kc(au.transform(s))+")"};function b3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ry={test:z0("#"),parse:b3,transform:Ma.transform},Iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sr=Iu("deg"),rs=Iu("%"),we=Iu("px"),w3=Iu("vh"),T3=Iu("vw"),ET={...rs,parse:t=>rs.parse(t)/100,transform:t=>rs.transform(t*100)},Fo={test:z0("hsl","hue"),parse:sR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+rs.transform(Kc(e))+", "+rs.transform(Kc(n))+", "+Kc(au.transform(s))+")"},Lt={test:t=>Ma.test(t)||ry.test(t)||Fo.test(t),parse:t=>Ma.test(t)?Ma.parse(t):Fo.test(t)?Fo.parse(t):ry.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ma.transform(t):Fo.transform(t),getAnimatableNone:t=>{const e=Lt.parse(t);return e.alpha=0,Lt.transform(e)}},E3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function S3(t){return isNaN(t)&&typeof t=="string"&&(t.match(B0)?.length||0)+(t.match(E3)?.length||0)>0}const rR="number",aR="color",A3="var",R3="var(",ST="${}",C3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ou(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(C3,m=>(Lt.test(m)?(s.color.push(l),a.push(aR),n.push(Lt.parse(m))):m.startsWith(R3)?(s.var.push(l),a.push(A3),n.push(m)):(s.number.push(l),a.push(rR),n.push(parseFloat(m))),++l,ST)).split(ST);return{values:n,split:d,indexes:s,types:a}}function oR(t){return ou(t).values}function lR(t){const{split:e,types:n}=ou(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===rR?l+=Kc(a[u]):d===aR?l+=Lt.transform(a[u]):l+=a[u]}return l}}const N3=t=>typeof t=="number"?0:Lt.test(t)?Lt.getAnimatableNone(t):t;function I3(t){const e=oR(t);return lR(t)(e.map(N3))}const Gr={test:S3,parse:oR,createTransformer:lR,getAnimatableNone:I3};function mg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function D3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=mg(m,d,t+1/3),l=mg(m,d,t),u=mg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function od(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,pg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},k3=[ry,Ma,Fo],M3=t=>k3.find(e=>e.test(t));function AT(t){const e=M3(t);if(!e)return!1;let n=e.parse(t);return e===Fo&&(n=D3(n)),n}const RT=(t,e)=>{const n=AT(t),s=AT(e);if(!n||!s)return od(t,e);const a={...n};return l=>(a.red=pg(n.red,s.red,l),a.green=pg(n.green,s.green,l),a.blue=pg(n.blue,s.blue,l),a.alpha=pt(n.alpha,s.alpha,l),Ma.transform(a))},ay=new Set(["none","hidden"]);function V3(t,e){return ay.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function j3(t,e){return n=>pt(t,e,n)}function F0(t){return typeof t=="number"?j3:typeof t=="string"?U0(t)?od:Lt.test(t)?RT:L3:Array.isArray(t)?cR:typeof t=="object"?Lt.test(t)?RT:P3:od}function cR(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>F0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function P3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=F0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function O3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const L3=(t,e)=>{const n=Gr.createTransformer(e),s=ou(t),a=ou(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ay.has(t)&&!a.values.length||ay.has(e)&&!s.values.length?V3(t,e):Cu(cR(O3(s,a),a.values),n):od(t,e)};function uR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):F0(t)(t,e)}const U3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>qr(e),now:()=>nn.isProcessing?nn.timestamp:Cn.now()}},hR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ld=2e4;function H0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ld;)e+=n,s=t.next(e);return e>=ld?1/0:e}function B3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(H0(s),ld);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ri(a)}}const z3=5;function fR(t,e,n){const s=Math.max(e-z3,0);return qA(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gg=.001;function F3({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,u=1-e;u=zs(_t.minDamping,_t.maxDamping,u),t=zs(_t.minDuration,_t.maxDuration,ri(t)),u<1?(a=g=>{const v=g*u,x=v*t,T=v-n,C=oy(g,u),I=Math.exp(-x);return gg-T/C*I},l=g=>{const x=g*u*t,T=x*n+n,C=Math.pow(u,2)*Math.pow(g,2)*t,I=Math.exp(-x),P=oy(Math.pow(g,2),u);return(-a(g)+gg>0?-1:1)*((T-C)*I)/P}):(a=g=>{const v=Math.exp(-g*t),x=(g-n)*t+1;return-gg+v*x},l=g=>{const v=Math.exp(-g*t),x=(n-g)*(t*t);return v*x});const d=5/t,m=q3(a,l,d);if(t=ss(t),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const H3=12;function q3(t,e,n){let s=n;for(let a=1;a<H3;a++)s=s-t(s)/e(s);return s}function oy(t,e){return t*Math.sqrt(1-e*e)}const G3=["duration","bounce"],K3=["stiffness","damping","mass"];function CT(t,e){return e.some(n=>t[n]!==void 0)}function $3(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!CT(t,K3)&&CT(t,G3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*zs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=F3(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function cd(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:x,velocity:T,isResolvedFromDuration:C}=$3({...n,velocity:-ri(n.velocity||0)}),I=T||0,P=g/(2*Math.sqrt(m*v)),M=u-l,L=ri(Math.sqrt(m/v)),B=Math.abs(M)<5;s||(s=B?_t.restSpeed.granular:_t.restSpeed.default),a||(a=B?_t.restDelta.granular:_t.restDelta.default);let U;if(P<1){const J=oy(L,P);U=ee=>{const E=Math.exp(-P*L*ee);return u-E*((I+P*L*M)/J*Math.sin(J*ee)+M*Math.cos(J*ee))}}else if(P===1)U=J=>u-Math.exp(-L*J)*(M+(I+L*M)*J);else{const J=L*Math.sqrt(P*P-1);U=ee=>{const E=Math.exp(-P*L*ee),S=Math.min(J*ee,300);return u-E*((I+P*L*M)*Math.sinh(S)+J*M*Math.cosh(S))/J}}const Z={calculatedDuration:C&&x||null,next:J=>{const ee=U(J);if(C)d.done=J>=x;else{let E=J===0?I:0;P<1&&(E=J===0?ss(I):fR(U,J,ee));const S=Math.abs(E)<=s,N=Math.abs(u-ee)<=a;d.done=S&&N}return d.value=d.done?u:ee,d},toString:()=>{const J=Math.min(H0(Z),ld),ee=hR(E=>Z.next(J*E).value,J,30);return J+"ms "+ee},toTransition:()=>{}};return Z}cd.applyToOptions=t=>{const e=B3(t,100,cd);return t.ease=e.ease,t.duration=ss(e.duration),t.type="keyframes",t};function ly({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:g=.5,restSpeed:v}){const x=t[0],T={done:!1,value:x},C=S=>d!==void 0&&S<d||m!==void 0&&S>m,I=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let P=n*e;const M=x+P,L=u===void 0?M:u(M);L!==M&&(P=L-x);const B=S=>-P*Math.exp(-S/s),U=S=>L+B(S),Z=S=>{const N=B(S),j=U(S);T.done=Math.abs(N)<=g,T.value=T.done?L:j};let J,ee;const E=S=>{C(T.value)&&(J=S,ee=cd({keyframes:[T.value,I(T.value)],velocity:fR(U,S,T.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return E(0),{calculatedDuration:null,next:S=>{let N=!1;return!ee&&J===void 0&&(N=!0,Z(S),E(S)),J!==void 0&&S>=J?ee.next(S-J):(!N&&Z(S),T)}}}function Y3(t,e,n){const s=[],a=n||Fs.mix||uR,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ai:e;d=Cu(m,d)}s.push(d)}return s}function Q3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(V0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Y3(e,s,a),m=d.length,g=v=>{if(u&&v<t[0])return e[0];let x=0;if(m>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const T=ru(t[x],t[x+1],v);return d[x](T)};return n?v=>g(zs(t[0],t[l-1],v)):g}function X3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ru(0,e,s);t.push(pt(n,1,a))}}function W3(t){const e=[0];return X3(e,t.length-1),e}function J3(t,e){return t.map(n=>n*e)}function Z3(t,e){return t.map(()=>e||ZA).splice(0,t.length-1)}function $c({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=u3(s)?s.map(TT):TT(s),l={done:!1,value:e[0]},u=J3(n&&n.length===e.length?n:W3(e),t),d=Q3(u,e,{ease:Array.isArray(a)?a:Z3(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const e6=t=>t!==null;function q0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(e6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const t6={decay:ly,inertia:ly,tween:$c,keyframes:$c,spring:cd};function dR(t){typeof t.type=="string"&&(t.type=t6[t.type])}class G0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const n6=t=>t/100;class K0 extends G0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;dR(e);const{type:n=$c,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||$c;m!==$c&&typeof d[0]!="number"&&(this.mixKeyframes=Cu(n6,uR(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=H0(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:x,repeatType:T,repeatDelay:C,type:I,onUpdate:P,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-g*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let U=this.currentTime,Z=s;if(x){const S=Math.min(this.currentTime,a)/d;let N=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&N--,N=Math.min(N,x+1),N%2&&(T==="reverse"?(j=1-j,C&&(j-=C/d)):T==="mirror"&&(Z=u)),U=zs(0,1,j)*d}const J=B?{done:!1,value:v[0]}:Z.next(U);l&&(J.value=l(J.value));let{done:ee}=J;!B&&m!==null&&(ee=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return E&&I!==ly&&(J.value=q0(v,this.options,M,this.speed)),P&&P(J.value),E&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(this.currentTime)}set time(e){e=ss(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=U3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function i6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Va=t=>t*180/Math.PI,cy=t=>{const e=Va(Math.atan2(t[1],t[0]));return uy(e)},s6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cy,rotateZ:cy,skewX:t=>Va(Math.atan(t[1])),skewY:t=>Va(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},uy=t=>(t=t%360,t<0&&(t+=360),t),NT=cy,IT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),DT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),r6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:IT,scaleY:DT,scale:t=>(IT(t)+DT(t))/2,rotateX:t=>uy(Va(Math.atan2(t[6],t[5]))),rotateY:t=>uy(Va(Math.atan2(-t[2],t[0]))),rotateZ:NT,rotate:NT,skewX:t=>Va(Math.atan(t[4])),skewY:t=>Va(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hy(t){return t.includes("scale")?1:0}function fy(t,e){if(!t||t==="none")return hy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=r6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=s6,a=d}if(!a)return hy(e);const l=s[e],u=a[1].split(",").map(o6);return typeof l=="function"?l(u):u[l]}const a6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fy(n,e)};function o6(t){return parseFloat(t.trim())}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],El=new Set(Tl),kT=t=>t===wl||t===we,l6=new Set(["x","y","z"]),c6=Tl.filter(t=>!l6.has(t));function u6(t){const e=[];return c6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fy(e,"x"),y:(t,{transform:e})=>fy(e,"y")};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const Oa=new Set;let dy=!1,my=!1,py=!1;function mR(){if(my){const t=Array.from(Oa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=u6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}my=!1,dy=!1,Oa.forEach(t=>t.complete(py)),Oa.clear()}function pR(){Oa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(my=!0)})}function h6(){py=!0,pR(),mR(),py=!1}class $0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Oa.add(this),dy||(dy=!0,dt.read(pR),dt.resolveKeyframes(mR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}i6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Oa.delete(this)}cancel(){this.state==="scheduled"&&(Oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const f6=t=>t.startsWith("--");function d6(t,e,n){f6(e)?t.style.setProperty(e,n):t.style[e]=n}const m6=j0(()=>window.ScrollTimeline!==void 0),p6={};function g6(t,e){const n=j0(t);return()=>p6[e]??n()}const gR=g6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,MT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uc([0,.65,.55,1]),circOut:Uc([.55,0,1,.45]),backIn:Uc([.31,.01,.66,-.59]),backOut:Uc([.33,1.53,.69,.99])};function yR(t,e){if(t)return typeof t=="function"?gR()?hR(t,e):"ease-out":eR(t)?Uc(t):Array.isArray(t)?t.map(n=>yR(n,e)||MT.easeOut):MT[t]}function y6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const x=yR(d,a);Array.isArray(x)&&(v.easing=x);const T={delay:s,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),t.animate(v,T)}function vR(t){return typeof t=="function"&&"applyToOptions"in t}function v6({type:t,...e}){return vR(t)&&gR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class _6 extends G0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,V0(typeof e.type!="string");const g=v6(e);this.animation=y6(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=q0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):d6(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&m6()?(this.animation.timeline=e,ai):n(this)}}const _R={anticipate:XA,backInOut:QA,circInOut:JA};function x6(t){return t in _R}function b6(t){typeof t.ease=="string"&&x6(t.ease)&&(t.ease=_R[t.ease])}const VT=10;class w6 extends _6{constructor(e){b6(e),dR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new K0({...u,autoplay:!1}),m=ss(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-VT).value,d.sample(m).value,VT),d.stop()}}const jT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gr.test(t)||t==="0")&&!t.startsWith("url("));function T6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function E6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=jT(a,e),d=jT(l,e);return!u||!d?!1:T6(t)||(n==="spring"||vR(n))&&s}function gy(t){t.duration=0,t.type="keyframes"}const S6=new Set(["opacity","clipPath","filter","transform"]),A6=j0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function R6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return A6()&&n&&S6.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const C6=40;class N6 extends G0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:g,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:v,...x},C=v?.KeyframeResolver||$0;this.keyframeResolver=new C(d,(I,P,M)=>this.onKeyframesResolved(I,P,T,!M),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Cn.now(),E6(e,l,u,d)||((Fs.instantAnimations||!m)&&v?.(q0(e,s,n)),e[0]=e[e.length-1],gy(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>C6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!g&&R6(T)?new w6({...T,element:T.motionValue.owner.current}):new K0(T);C.finished.then(()=>this.notifyFinished()).catch(ai),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),h6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const I6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function D6(t){const e=I6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function xR(t,e,n=1){const[s,a]=D6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return zA(u)?parseFloat(u):u}return U0(a)?xR(a,e,n+1):a}function Y0(t,e){return t?.[e]??t?.default??t}const bR=new Set(["width","height","top","left","right","bottom",...Tl]),k6={test:t=>t==="auto",parse:t=>t},wR=t=>e=>e.test(t),TR=[wl,we,rs,Sr,T3,w3,k6],PT=t=>TR.find(wR(t));function M6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||HA(t):!0}const V6=new Set(["brightness","contrast","saturate","opacity"]);function j6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(B0)||[];if(!s)return t;const a=n.replace(s,"");let l=V6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const P6=/\b([a-z-]*)\(.*?\)/gu,yy={...Gr,getAnimatableNone:t=>{const e=t.match(P6);return e?e.map(j6).join(" "):t}},OT={...wl,transform:Math.round},O6={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:Sr,skewX:Sr,skewY:Sr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:au,originX:ET,originY:ET,originZ:we},Q0={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...O6,zIndex:OT,fillOpacity:au,strokeOpacity:au,numOctaves:OT},L6={...Q0,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:yy,WebkitFilter:yy},ER=t=>L6[t];function SR(t,e){let n=ER(t);return n!==yy&&(n=Gr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const U6=new Set(["auto","none","0"]);function B6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!U6.has(l)&&ou(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=SR(n,a)}class z6 extends $0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),U0(g))){const v=xR(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!bR.has(s)||e.length!==2)return;const[a,l]=e,u=PT(a),d=PT(l);if(u!==d)if(kT(u)&&kT(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Pa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||M6(e[a]))&&s.push(a);s.length&&B6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Pa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function F6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const AR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function RR(t){return FA(t)&&"offsetHeight"in t}const LT=30,H6=t=>!isNaN(parseFloat(t));class q6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=H6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new P0);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>LT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LT);return qA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cl(t,e){return new q6(t,e)}const{schedule:X0}=tR(queueMicrotask,!1),wi={x:!1,y:!1};function CR(){return wi.x||wi.y}function G6(t){return t==="x"||t==="y"?wi[t]?null:(wi[t]=!0,()=>{wi[t]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function NR(t,e){const n=F6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function UT(t){return!(t.pointerType==="touch"||CR())}function K6(t,e,n={}){const[s,a,l]=NR(t,n),u=d=>{if(!UT(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const v=x=>{UT(x)&&(g(x),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const IR=(t,e)=>e?t===e?!0:IR(t,e.parentElement):!1,W0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Y6(t){return $6.has(t.tagName)||t.tabIndex!==-1}const Pf=new WeakSet;function BT(t){return e=>{e.key==="Enter"&&t(e)}}function yg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Q6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=BT(()=>{if(Pf.has(n))return;yg(n,"down");const a=BT(()=>{yg(n,"up")}),l=()=>yg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function zT(t){return W0(t)&&!CR()}function X6(t,e,n={}){const[s,a,l]=NR(t,n),u=d=>{const m=d.currentTarget;if(!zT(d))return;Pf.add(m);const g=e(m,d),v=(C,I)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",T),Pf.has(m)&&Pf.delete(m),zT(C)&&typeof g=="function"&&g(C,{success:I})},x=C=>{v(C,m===window||m===document||n.useGlobalTarget||IR(m,C.target))},T=C=>{v(C,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),RR(d)&&(d.addEventListener("focus",g=>Q6(g,a)),!Y6(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function DR(t){return FA(t)&&"ownerSVGElement"in t}function W6(t){return DR(t)&&t.tagName==="svg"}const fn=t=>!!(t&&t.getVelocity),J6=[...TR,Lt,Gr],Z6=t=>J6.find(wR(t)),J0=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function FT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function e5(...t){return e=>{let n=!1;const s=t.map(a=>{const l=FT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():FT(t[a],null)}}}}function t5(...t){return k.useCallback(e5(...t),t)}class n5 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=RR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function i5({children:t,isPresent:e,anchorX:n,root:s}){const a=k.useId(),l=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=k.useContext(J0),m=t5(l,t?.ref);return k.useInsertionEffect(()=>{const{width:g,height:v,top:x,left:T,right:C}=u.current;if(e||!l.current||!g||!v)return;const I=n==="left"?`left: ${T}`:`right: ${C}`;l.current.dataset.motionPopId=a;const P=document.createElement("style");d&&(P.nonce=d);const M=s??document.head;return M.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${I}px !important;
            top: ${x}px !important;
          }
        `),()=>{M.contains(P)&&M.removeChild(P)}},[e]),y.jsx(n5,{isPresent:e,childRef:l,sizeRef:u,children:k.cloneElement(t,{ref:m})})}const s5=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:m})=>{const g=I0(r5),v=k.useId();let x=!0,T=k.useMemo(()=>(x=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:C=>{g.set(C,!0);for(const I of g.values())if(!I)return;s&&s()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,s]);return l&&x&&(T={...T}),k.useMemo(()=>{g.forEach((C,I)=>g.set(I,!1))},[n]),k.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=y.jsx(i5,{isPresent:n,anchorX:d,root:m,children:t})),y.jsx(Od.Provider,{value:T,children:t})};function r5(){return new Map}function kR(t=!0){const e=k.useContext(Od);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const u=k.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const xf=t=>t.key||"";function HT(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const MR=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[g,v]=kR(u),x=k.useMemo(()=>HT(t),[t]),T=u&&!g?[]:x.map(xf),C=k.useRef(!0),I=k.useRef(x),P=I0(()=>new Map),[M,L]=k.useState(x),[B,U]=k.useState(x);BA(()=>{C.current=!1,I.current=x;for(let ee=0;ee<B.length;ee++){const E=xf(B[ee]);T.includes(E)?P.delete(E):P.get(E)!==!0&&P.set(E,!1)}},[B,T.length,T.join("-")]);const Z=[];if(x!==M){let ee=[...x];for(let E=0;E<B.length;E++){const S=B[E],N=xf(S);T.includes(N)||(ee.splice(E,0,S),Z.push(S))}return l==="wait"&&Z.length&&(ee=Z),U(HT(ee)),L(x),null}const{forceRender:J}=k.useContext(N0);return y.jsx(y.Fragment,{children:B.map(ee=>{const E=xf(ee),S=u&&!g?!1:x===B||T.includes(E),N=()=>{if(P.has(E))P.set(E,!0);else return;let j=!0;P.forEach(V=>{V||(j=!1)}),j&&(J?.(),U(I.current),u&&v?.(),s&&s())};return y.jsx(s5,{isPresent:S,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:S?void 0:N,anchorX:d,children:ee},E)})})},VR=k.createContext({strict:!1}),qT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const t in qT)ul[t]={isEnabled:e=>qT[t].some(n=>!!e[n])};function a5(t){for(const e in t)ul[e]={...ul[e],...t[e]}}const o5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ud(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||o5.has(t)}let jR=t=>!ud(t);function l5(t){typeof t=="function"&&(jR=e=>e.startsWith("on")?!ud(e):t(e))}try{l5(require("@emotion/is-prop-valid").default)}catch{}function c5(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(jR(a)||n===!0&&ud(a)||!e&&!ud(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Ld=k.createContext({});function Ud(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function lu(t){return typeof t=="string"||Array.isArray(t)}const Z0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ev=["initial",...Z0];function Bd(t){return Ud(t.animate)||ev.some(e=>lu(t[e]))}function PR(t){return!!(Bd(t)||t.variants)}function u5(t,e){if(Bd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||lu(n)?n:void 0,animate:lu(s)?s:void 0}}return t.inherit!==!1?e:{}}function h5(t){const{initial:e,animate:n}=u5(t,k.useContext(Ld));return k.useMemo(()=>({initial:e,animate:n}),[GT(e),GT(n)])}function GT(t){return Array.isArray(t)?t.join(" "):t}function KT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=KT(t,e.target.x),s=KT(t,e.target.y);return`${n}% ${s}%`}},f5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Gr.parse(t);if(a.length>5)return s;const l=Gr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const g=pt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},vy={borderRadius:{...kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kc,borderTopRightRadius:kc,borderBottomLeftRadius:kc,borderBottomRightRadius:kc,boxShadow:f5};function OR(t,{layout:e,layoutId:n}){return El.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vy[t]||t==="opacity")}const d5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m5=Tl.length;function p5(t,e,n){let s="",a=!0;for(let l=0;l<m5;l++){const u=Tl[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=AR(d,Q0[u]);if(!m){a=!1;const v=d5[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function tv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const g=e[m];if(El.has(m)){u=!0;continue}else if(iR(m)){a[m]=g;continue}else{const v=AR(g,Q0[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=p5(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LR(t,e,n){for(const s in e)!fn(e[s])&&!OR(s,n)&&(t[s]=e[s])}function g5({transformTemplate:t},e){return k.useMemo(()=>{const n=nv();return tv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function y5(t,e){const n=t.style||{},s={};return LR(s,n,t),Object.assign(s,g5(t,e)),s}function v5(t,e){const n={},s=y5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const _5={offset:"stroke-dashoffset",array:"stroke-dasharray"},x5={offset:"strokeDashoffset",array:"strokeDasharray"};function b5(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?_5:x5;t[l.offset]=we.transform(-s);const u=we.transform(e),d=we.transform(n);t[l.array]=`${u} ${d}`}function UR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,g,v){if(tv(t,d,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:T}=t;x.transform&&(T.transform=x.transform,delete x.transform),(T.transform||x.transformOrigin)&&(T.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),a!==void 0&&b5(x,a,l,u,!1)}const BR=()=>({...nv(),attrs:{}}),zR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function w5(t,e,n,s){const a=k.useMemo(()=>{const l=BR();return UR(l,e,zR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};LR(l,t.style,t),a.style={...l,...a.style}}return a}const T5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iv(t){return typeof t!="string"||t.includes("-")?!1:!!(T5.indexOf(t)>-1||/[A-Z]/u.test(t))}function E5(t,e,n,{latestValues:s},a,l=!1){const d=(iv(t)?w5:v5)(e,s,a,t),m=c5(e,typeof t=="string",l),g=t!==k.Fragment?{...m,...d,ref:n}:{},{children:v}=e,x=k.useMemo(()=>fn(v)?v.get():v,[v]);return k.createElement(t,{...g,children:x})}function $T(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function sv(t,e,n,s){if(typeof e=="function"){const[a,l]=$T(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=$T(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Of(t){return fn(t)?t.get():t}function S5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:A5(n,s,a,t),renderState:e()}}function A5(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Of(l[T]);let{initial:u,animate:d}=t;const m=Bd(t),g=PR(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const x=v?d:u;if(x&&typeof x!="boolean"&&!Ud(x)){const T=Array.isArray(x)?x:[x];for(let C=0;C<T.length;C++){const I=sv(t,T[C]);if(I){const{transitionEnd:P,transition:M,...L}=I;for(const B in L){let U=L[B];if(Array.isArray(U)){const Z=v?U.length-1:0;U=U[Z]}U!==null&&(a[B]=U)}for(const B in P)a[B]=P[B]}}}return a}const FR=t=>(e,n)=>{const s=k.useContext(Ld),a=k.useContext(Od),l=()=>S5(t,e,s,a);return n?l():I0(l)};function rv(t,e,n){const{style:s}=t,a={};for(const l in s)(fn(s[l])||e.style&&fn(e.style[l])||OR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const R5=FR({scrapeMotionValuesFromProps:rv,createRenderState:nv});function HR(t,e,n){const s=rv(t,e,n);for(const a in t)if(fn(t[a])||fn(e[a])){const l=Tl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const C5=FR({scrapeMotionValuesFromProps:HR,createRenderState:BR}),N5=Symbol.for("motionComponentSymbol");function Ho(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function I5(t,e,n){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ho(n)&&(n.current=s))},[e])}const av=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D5="framerAppearId",qR="data-"+av(D5),GR=k.createContext({});function k5(t,e,n,s,a){const{visualElement:l}=k.useContext(Ld),u=k.useContext(VR),d=k.useContext(Od),m=k.useContext(J0).reducedMotion,g=k.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,x=k.useContext(GR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&M5(g.current,n,a,x);const T=k.useRef(!1);k.useInsertionEffect(()=>{v&&T.current&&v.update(n,d)});const C=n[qR],I=k.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return BA(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),I.current&&v.animationState&&v.animationState.animateChanges())}),k.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),I.current=!1),v.enteringChildren=void 0)}),v}function M5(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:KR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&Ho(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function KR(t){if(t)return t.options.allowProjection!==!1?t.projection:KR(t.parent)}function vg(t,{forwardMotionProps:e=!1}={},n,s){n&&a5(n);const a=iv(t)?C5:R5;function l(d,m){let g;const v={...k.useContext(J0),...d,layoutId:V5(d)},{isStatic:x}=v,T=h5(d),C=a(d,x);if(!x&&D0){j5();const I=P5(v);g=I.MeasureLayout,T.visualElement=k5(t,C,v,s,I.ProjectionNode)}return y.jsxs(Ld.Provider,{value:T,children:[g&&T.visualElement?y.jsx(g,{visualElement:T.visualElement,...v}):null,E5(t,d,I5(C,T.visualElement,m),C,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=k.forwardRef(l);return u[N5]=t,u}function V5({layoutId:t}){const e=k.useContext(N0).id;return e&&t!==void 0?e+"-"+t:t}function j5(t,e){k.useContext(VR).strict}function P5(t){const{drag:e,layout:n}=ul;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function O5(t,e){if(typeof Proxy>"u")return vg;const n=new Map,s=(l,u)=>vg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,vg(u,void 0,t,e)),n.get(u))})}function $R({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function L5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function U5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function _g(t){return t===void 0||t===1}function _y({scale:t,scaleX:e,scaleY:n}){return!_g(t)||!_g(e)||!_g(n)}function Ia(t){return _y(t)||YR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function YR(t){return YT(t.x)||YT(t.y)}function YT(t){return t&&t!=="0%"}function hd(t,e,n){const s=t-n,a=e*s;return n+a}function QT(t,e,n,s,a){return a!==void 0&&(t=hd(t,a,s)),hd(t,n,s)+e}function xy(t,e=0,n=1,s,a){t.min=QT(t.min,e,n,s,a),t.max=QT(t.max,e,n,s,a)}function QR(t,{x:e,y:n}){xy(t.x,e.translate,e.scale,e.originPoint),xy(t.y,n.translate,n.scale,n.originPoint)}const XT=.999999999999,WT=1.0000000000001;function B5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Go(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,QR(t,u)),s&&Ia(l.latestValues)&&Go(t,l.latestValues))}e.x<WT&&e.x>XT&&(e.x=1),e.y<WT&&e.y>XT&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function JT(t,e,n,s,a=.5){const l=pt(t.min,t.max,a);xy(t,e,n,l,s)}function Go(t,e){JT(t.x,e.x,e.scaleX,e.scale,e.originX),JT(t.y,e.y,e.scaleY,e.scale,e.originY)}function XR(t,e){return $R(U5(t.getBoundingClientRect(),e))}function z5(t,e,n){const s=XR(t,n),{scroll:a}=e;return a&&(qo(s.x,a.offset.x),qo(s.y,a.offset.y)),s}const ZT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:ZT(),y:ZT()}),eE=()=>({min:0,max:0}),qt=()=>({x:eE(),y:eE()}),by={current:null},WR={current:!1};function F5(){if(WR.current=!0,!!D0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>by.current=t.matches;t.addEventListener("change",e),e()}else by.current=!1}const H5=new WeakMap;function q5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(fn(a))t.addValue(s,a);else if(fn(l))t.addValue(s,cl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,cl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const tE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Cn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Bd(n),this.isVariantNode=PR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in x){const C=x[T];m[T]!==void 0&&fn(C)&&C.set(m[T])}}mount(e){this.current=e,H5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),WR.current||F5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:by.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=El.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ul){const n=ul[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<tE.length;s++){const a=tE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=q5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=cl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(zA(s)||HA(s))?s=parseFloat(s):!Z6(s)&&Gr.test(n)&&(s=SR(e,n)),this.setBaseTarget(e,fn(s)?s.get():s)),fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=sv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!fn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new P0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){X0.render(this.render)}}class JR extends G5{constructor(){super(...arguments),this.KeyframeResolver=z6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function K5(t){return window.getComputedStyle(t)}class $5 extends JR{constructor(){super(...arguments),this.type="html",this.renderInstance=ZR}readValueFromInstance(e,n){if(El.has(n))return this.projection?.isProjecting?hy(n):a6(e,n);{const s=K5(e),a=(iR(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XR(e,n)}build(e,n,s){tv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return rv(e,n,s)}}const eC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y5(t,e,n,s){ZR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(eC.has(a)?a:av(a),e.attrs[a])}class Q5 extends JR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(El.has(n)){const s=ER(n);return s&&s.default||0}return n=eC.has(n)?n:av(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return HR(e,n,s)}build(e,n,s){UR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){Y5(e,n,s,a)}mount(e){this.isSVGTag=zR(e.tagName),super.mount(e)}}const X5=(t,e)=>iv(t)?new Q5(e):new $5(e,{allowProjection:t!==k.Fragment});function Zo(t,e,n){const s=t.getProps();return sv(s,e,n!==void 0?n:s.custom,t)}const wy=t=>Array.isArray(t);function W5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cl(n))}function J5(t){return wy(t)?t[t.length-1]||0:t}function Z5(t,e){const n=Zo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=J5(l[u]);W5(t,u,d)}}function eL(t){return!!(fn(t)&&t.add)}function Ty(t,e){const n=t.getValue("willChange");if(eL(n))return n.add(e);if(!n&&Fs.WillChange){const s=new Fs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function tC(t){return t.props[qR]}const tL=t=>t!==null;function nL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(tL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const iL={type:"spring",stiffness:500,damping:25,restSpeed:10},sL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rL={type:"keyframes",duration:.8},aL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oL=(t,{keyframes:e})=>e.length>2?rL:El.has(t)?t.startsWith("scale")?sL(e[1]):iL:aL;function lL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const ov=(t,e,n,s={},a,l)=>u=>{const d=Y0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-ss(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};lL(d)||Object.assign(v,oL(t,v)),v.duration&&(v.duration=ss(v.duration)),v.repeatDelay&&(v.repeatDelay=ss(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(gy(v),v.delay===0&&(x=!0)),(Fs.instantAnimations||Fs.skipAnimations)&&(x=!0,gy(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const T=nL(v.keyframes,d);if(T!==void 0){dt.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new K0(v):new N6(v)};function cL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function nC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const x=t.getValue(v,t.latestValues[v]??null),T=d[v];if(T===void 0||g&&cL(g,v))continue;const C={delay:n,...Y0(l||{},v)},I=x.get();if(I!==void 0&&!x.isAnimating&&!Array.isArray(T)&&T===I&&!C.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const L=tC(t);if(L){const B=window.MotionHandoffAnimation(L,v,dt);B!==null&&(C.startTime=B,P=!0)}}Ty(t,v),x.start(ov(v,x,T,t.shouldReduceMotion&&bR.has(v)?{type:!1}:C,t,P));const M=x.animation;M&&m.push(M)}return u&&Promise.all(m).then(()=>{dt.update(()=>{u&&Z5(t,u)})}),m}function iC(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}function Ey(t,e,n={}){const s=Zo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(nC(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=a;return uL(t,e,m,g,v,x,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function uL(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Ey(m,e,{...u,delay:n+(typeof s=="function"?0:s)+iC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function hL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Ey(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Ey(t,e,n);else{const a=typeof e=="function"?Zo(t,e,n.custom):e;s=Promise.all(nC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function sC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const fL=ev.length;function rC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fL;n++){const s=ev[n],a=t.props[s];(lu(a)||a===!1)&&(e[s]=a)}return e}const dL=[...Z0].reverse(),mL=Z0.length;function pL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>hL(t,n,s)))}function gL(t){let e=pL(t),n=nE(),s=!0;const a=m=>(g,v)=>{const x=Zo(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:T,transitionEnd:C,...I}=x;g={...g,...I,...C}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,v=rC(t.parent)||{},x=[],T=new Set;let C={},I=1/0;for(let M=0;M<mL;M++){const L=dL[M],B=n[L],U=g[L]!==void 0?g[L]:v[L],Z=lu(U),J=L===m?B.isActive:null;J===!1&&(I=M);let ee=U===v[L]&&U!==g[L]&&Z;if(ee&&s&&t.manuallyAnimateOnMount&&(ee=!1),B.protectedKeys={...C},!B.isActive&&J===null||!U&&!B.prevProp||Ud(U)||typeof U=="boolean")continue;const E=yL(B.prevProp,U);let S=E||L===m&&B.isActive&&!ee&&Z||M>I&&Z,N=!1;const j=Array.isArray(U)?U:[U];let V=j.reduce(a(L),{});J===!1&&(V={});const{prevResolvedValues:H={}}=B,D={...H,...V},Ne=oe=>{S=!0,T.has(oe)&&(N=!0,T.delete(oe)),B.needsAnimating[oe]=!0;const fe=t.getValue(oe);fe&&(fe.liveStyle=!1)};for(const oe in D){const fe=V[oe],Ie=H[oe];if(C.hasOwnProperty(oe))continue;let Pe=!1;wy(fe)&&wy(Ie)?Pe=!sC(fe,Ie):Pe=fe!==Ie,Pe?fe!=null?Ne(oe):T.add(oe):fe!==void 0&&T.has(oe)?Ne(oe):B.protectedKeys[oe]=!0}B.prevProp=U,B.prevResolvedValues=V,B.isActive&&(C={...C,...V}),s&&t.blockInitialAnimation&&(S=!1);const le=ee&&E;S&&(!le||N)&&x.push(...j.map(oe=>{const fe={type:L};if(typeof oe=="string"&&s&&!le&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ie}=t,Pe=Zo(Ie,oe);if(Ie.enteringChildren&&Pe){const{delayChildren:F}=Pe.transition||{};fe.delay=iC(Ie.enteringChildren,t,F)}}return{animation:oe,options:fe}}))}if(T.size){const M={};if(typeof g.initial!="boolean"){const L=Zo(t,Array.isArray(g.initial)?g.initial[0]:g.initial);L&&L.transition&&(M.transition=L.transition)}T.forEach(L=>{const B=t.getBaseTarget(L),U=t.getValue(L);U&&(U.liveStyle=!0),M[L]=B??null}),x.push({animation:M})}let P=!!x.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(x):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(m,g)),n[m].isActive=g;const v=u(m);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=nE()}}}function yL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sC(e,t):!1}function Ca(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nE(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class Xr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vL extends Xr{constructor(e){super(e),e.animationState||(e.animationState=gL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ud(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let _L=0;class xL extends Xr{constructor(){super(...arguments),this.id=_L++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bL={animation:{Feature:vL},exit:{Feature:xL}};function cu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Du(t){return{point:{x:t.pageX,y:t.pageY}}}const wL=t=>e=>W0(e)&&t(e,Du(e));function Yc(t,e,n,s){return cu(t,e,wL(n),s)}const aC=1e-4,TL=1-aC,EL=1+aC,oC=.01,SL=0-oC,AL=0+oC;function yn(t){return t.max-t.min}function RL(t,e,n){return Math.abs(t-e)<=n}function iE(t,e,n,s=.5){t.origin=s,t.originPoint=pt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=TL&&t.scale<=EL||isNaN(t.scale))&&(t.scale=1),(t.translate>=SL&&t.translate<=AL||isNaN(t.translate))&&(t.translate=0)}function Qc(t,e,n,s){iE(t.x,e.x,n.x,s?s.originX:void 0),iE(t.y,e.y,n.y,s?s.originY:void 0)}function sE(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function CL(t,e,n){sE(t.x,e.x,n.x),sE(t.y,e.y,n.y)}function rE(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function fd(t,e,n){rE(t.x,e.x,n.x),rE(t.y,e.y,n.y)}function ii(t){return[t("x"),t("y")]}const lC=({current:t})=>t?t.ownerDocument.defaultView:null,aE=(t,e)=>Math.abs(t-e);function NL(t,e){const n=aE(t.x,e.x),s=aE(t.y,e.y);return Math.sqrt(n**2+s**2)}class cC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=bg(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,I=NL(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!I)return;const{point:P}=T,{timestamp:M}=nn;this.history.push({...P,timestamp:M});const{onStart:L,onMove:B}=this.handlers;C||(L&&L(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=xg(C,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:I,onSessionEnd:P,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=bg(T.type==="pointercancel"?this.lastMoveEventInfo:xg(C,this.transformPagePoint),this.history);this.startEvent&&I&&I(T,L),P&&P(T,L)},!W0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const d=Du(e),m=xg(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=nn;this.history=[{...g,timestamp:v}];const{onSessionStart:x}=n;x&&x(e,bg(m,this.history)),this.removeListeners=Cu(Yc(this.contextWindow,"pointermove",this.handlePointerMove),Yc(this.contextWindow,"pointerup",this.handlePointerUp),Yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function xg(t,e){return e?{point:e(t.point)}:t}function oE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bg({point:t},e){return{point:t,delta:oE(t,uC(e)),offset:oE(t,IL(e)),velocity:DL(e,.1)}}function IL(t){return t[0]}function uC(t){return t[t.length-1]}function DL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=uC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ss(e)));)n--;if(!s)return{x:0,y:0};const l=ri(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function kL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?pt(n,t,s.max):Math.min(t,n)),t}function lE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ML(t,{top:e,left:n,bottom:s,right:a}){return{x:lE(t.x,n,a),y:lE(t.y,e,s)}}function cE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function VL(t,e){return{x:cE(t.x,e.x),y:cE(t.y,e.y)}}function jL(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=ru(e.min,e.max-s,t.min):s>a&&(n=ru(t.min,t.max-a,e.min)),zs(0,1,n)}function PL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sy=.35;function OL(t=Sy){return t===!1?t=0:t===!0&&(t=Sy),{x:uE(t,"left","right"),y:uE(t,"top","bottom")}}function uE(t,e,n){return{min:hE(t,e),max:hE(t,n)}}function hE(t,e){return typeof t=="number"?t:t[e]||0}const LL=new WeakMap;class UL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Du(x).point)},u=(x,T)=>{const{drag:C,dragPropagation:I,onDragStart:P}=this.getProps();if(C&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G6(C),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(L=>{let B=this.getAxisMotionValue(L).get()||0;if(rs.test(B)){const{projection:U}=this.visualElement;if(U&&U.layout){const Z=U.layout.layoutBox[L];Z&&(B=yn(Z)*(parseFloat(B)/100))}}this.originPoint[L]=B}),P&&dt.postRender(()=>P(x,T)),Ty(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T;const{dragPropagation:C,dragDirectionLock:I,onDirectionLock:P,onDrag:M}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:L}=T;if(I&&this.currentDirection===null){this.currentDirection=BL(L),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",T.point,L),this.updateAxis("y",T.point,L),this.visualElement.render(),M&&M(x,T)},m=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T,this.stop(x,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ii(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new cC(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:lC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&dt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!bf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=kL(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ho(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=ML(s.layoutBox,e):this.constraints=!1,this.elastic=OL(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ii(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=PL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ho(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=z5(s,a.root,this.visualElement.getTransformPagePoint());let u=VL(a.layout.layoutBox,l);if(n){const d=n(L5(u));this.hasMutatedConstraints=!!d,d&&(u=$R(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ii(v=>{if(!bf(v,n,this.currentDirection))return;let x=m&&m[v]||{};u&&(x={min:0,max:0});const T=a?200:1e6,C=a?40:1e7,I={type:"inertia",velocity:s?e[v]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,I)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ty(this.visualElement,e),s.start(ov(e,s,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:s}=this.getProps();if(!bf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-pt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ho(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=jL({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ii(u=>{if(!bf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];d.set(pt(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;LL.set(this.visualElement,this);const e=this.visualElement.current,n=Yc(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Ho(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const u=cu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ii(v=>{const x=this.getAxisMotionValue(v);x&&(this.originPoint[v]+=m[v].translate,x.set(x.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Sy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zL extends Xr{constructor(e){super(e),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new UL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const fE=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class FL extends Xr{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(e){this.session=new cC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:fE(e),onStart:fE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let wg=!1;class HL extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),wg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,wg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),X0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;wg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hC(t){const[e,n]=kR(),s=k.useContext(N0);return y.jsx(HL,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(GR),isPresent:e,safeToRemove:n})}function qL(t,e,n){const s=fn(t)?t:cl(t);return s.start(ov("",s,e,n)),s.animation}const GL=(t,e)=>t.depth-e.depth;class KL{constructor(){this.children=[],this.isDirty=!1}add(e){k0(this.children,e),this.isDirty=!0}remove(e){M0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GL),this.isDirty=!1,this.children.forEach(e)}}function $L(t,e){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(qr(s),t(l-e))};return dt.setup(s,!0),()=>qr(s)}const fC=["TopLeft","TopRight","BottomLeft","BottomRight"],YL=fC.length,dE=t=>typeof t=="string"?parseFloat(t):t,mE=t=>typeof t=="number"||we.test(t);function QL(t,e,n,s,a,l){a?(t.opacity=pt(0,n.opacity??1,XL(s)),t.opacityExit=pt(e.opacity??1,0,WL(s))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,s));for(let u=0;u<YL;u++){const d=`border${fC[u]}Radius`;let m=pE(e,d),g=pE(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||mE(m)===mE(g)?(t[d]=Math.max(pt(dE(m),dE(g),s),0),(rs.test(g)||rs.test(m))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,s))}function pE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XL=dC(0,.5,WA),WL=dC(.5,.95,ai);function dC(t,e,n){return s=>s<t?0:s>e?1:n(ru(t,e,s))}function gE(t,e){t.min=e.min,t.max=e.max}function bi(t,e){gE(t.x,e.x),gE(t.y,e.y)}function yE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vE(t,e,n,s,a){return t-=e,t=hd(t,1/n,s),a!==void 0&&(t=hd(t,1/a,s)),t}function JL(t,e=0,n=1,s=.5,a,l=t,u=t){if(rs.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=pt(l.min,l.max,s);t===l&&(d-=e),t.min=vE(t.min,e,n,d,a),t.max=vE(t.max,e,n,d,a)}function _E(t,e,[n,s,a],l,u){JL(t,e[n],e[s],e[a],e.scale,l,u)}const ZL=["x","scaleX","originX"],e9=["y","scaleY","originY"];function xE(t,e,n,s){_E(t.x,e,ZL,n?n.x:void 0,s?s.x:void 0),_E(t.y,e,e9,n?n.y:void 0,s?s.y:void 0)}function bE(t){return t.translate===0&&t.scale===1}function mC(t){return bE(t.x)&&bE(t.y)}function wE(t,e){return t.min===e.min&&t.max===e.max}function t9(t,e){return wE(t.x,e.x)&&wE(t.y,e.y)}function TE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pC(t,e){return TE(t.x,e.x)&&TE(t.y,e.y)}function EE(t){return yn(t.x)/yn(t.y)}function SE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class n9{constructor(){this.members=[]}add(e){k0(this.members,e),e.scheduleRender()}remove(e){if(M0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:x,rotateY:T,skewX:C,skewY:I}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),x&&(s+=`rotateX(${x}deg) `),T&&(s+=`rotateY(${T}deg) `),C&&(s+=`skewX(${C}deg) `),I&&(s+=`skewY(${I}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Tg=["","X","Y","Z"],s9=1e3;let r9=0;function Eg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function gC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&gC(s)}function yC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=r9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(l9),this.nodes.forEach(f9),this.nodes.forEach(d9),this.nodes.forEach(c9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new KL)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new P0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=DR(u)&&!W6(u),this.instance=u;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,x=0;const T=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{x=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==x&&(x=C,this.root.updateBlockedByResize=!0,v&&v(),v=$L(T,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(CE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||v9,{onLayoutAnimationStart:P,onLayoutAnimationComplete:M}=g.getProps(),L=!this.targetLayout||!pC(this.targetLayout,C),B=!x&&T;if(this.options.layoutRoot||this.resumeFrom||B||x&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...Y0(I,"layout"),onPlay:P,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(v,B)}else x||CE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(RE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(h9),this.nodes.forEach(a9),this.nodes.forEach(o9)):this.nodes.forEach(RE),this.clearAllSnapshots();const d=Cn.now();nn.delta=zs(0,1e3/60,d-nn.timestamp),nn.timestamp=d,nn.isProcessing=!0,fg.update.process(nn),fg.preRender.process(nn),fg.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,X0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u9),this.sharedNodes.forEach(p9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!mC(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||Ia(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),_9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return qt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(x9))){const{scroll:g}=this.root;g&&(qo(d.x,g.offset.x),qo(d.y,g.offset.y))}return d}removeElementScroll(u){const d=qt();if(bi(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&bi(d,u),qo(d.x,v.offset.x),qo(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const m=qt();bi(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Go(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ia(v.latestValues)&&Go(m,v.latestValues)}return Ia(this.latestValues)&&Go(m,this.latestValues),m}removeTransform(u){const d=qt();bi(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Ia(g.latestValues))continue;_y(g.latestValues)&&g.updateSnapshot();const v=qt(),x=g.measurePageBox();bi(v,x),xE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Ia(this.latestValues)&&xE(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=nn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),QR(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_y(this.parent.latestValues)||YR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),fd(this.relativeTargetOrigin,d,m),bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;bi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,T=this.treeScale.y;B5(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=qt());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yE(this.prevProjectionDelta.x,this.projectionDelta.x),yE(this.prevProjectionDelta.y,this.projectionDelta.y)),Qc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==T||!SE(this.projectionDelta.x,this.prevProjectionDelta.x)||!SE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(u,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},x=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=qt(),C=m?m.source:void 0,I=this.layout?this.layout.source:void 0,P=C!==I,M=this.getStack(),L=!M||M.members.length<=1,B=!!(P&&!L&&this.options.crossfade===!0&&!this.path.some(y9));this.animationProgress=0;let U;this.mixTargetDelta=Z=>{const J=Z/1e3;NE(x.x,u.x,J),NE(x.y,u.y,J),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fd(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g9(this.relativeTarget,this.relativeTargetOrigin,T,J),U&&t9(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=qt()),bi(U,this.relativeTarget)),P&&(this.animationValues=v,QL(v,g,this.latestValues,J,B,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cl(0)),this.currentAnimation=qL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=u;if(!(!d||!m||!g)){if(this!==u&&this.layout&&g&&vC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||qt();const x=yn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+x;const T=yn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}bi(d,m),Go(d,v),Qc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new n9),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Eg("z",u,g,this.animationValues);for(let v=0;v<Tg.length;v++)Eg(`rotate${Tg[v]}`,u,g,this.animationValues),Eg(`skew${Tg[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Of(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Of(d?.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=i9(this.projectionDeltaWithTransform,this.treeScale,v);m&&(x=m(v,x)),u.transform=x;const{x:T,y:C}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in vy){if(v[I]===void 0)continue;const{correct:P,applyTo:M,isCSSVariable:L}=vy[I],B=x==="none"?v[I]:P(v[I],g);if(M){const U=M.length;for(let Z=0;Z<U;Z++)u[M[Z]]=B}else L?this.options.visualElement.renderState.vars[I]=B:u[I]=B}this.options.layoutId&&(u.pointerEvents=g===this?Of(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(AE),this.root.sharedNodes.clear()}}}function a9(t){t.updateLayout()}function o9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ii(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],T=yn(x);x.min=n[v].min,x.max=x.min+T}):vC(a,e.layoutBox,n)&&ii(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],T=yn(n[v]);x.max=x.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=Ko();Qc(u,n,e.layoutBox);const d=Ko();l?Qc(d,t.applyTransform(s,!0),e.measuredBox):Qc(d,n,e.layoutBox);const m=!mC(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:T}=v;if(x&&T){const C=qt();fd(C,e.layoutBox,x.layoutBox);const I=qt();fd(I,n,T.layoutBox),pC(C,I)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=C,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function l9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u9(t){t.clearSnapshot()}function AE(t){t.clearMeasurements()}function RE(t){t.isLayoutDirty=!1}function h9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function f9(t){t.resolveTargetDelta()}function d9(t){t.calcProjection()}function m9(t){t.resetSkewAndRotation()}function p9(t){t.removeLeadSnapshot()}function NE(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function IE(t,e,n,s){t.min=pt(e.min,n.min,s),t.max=pt(e.max,n.max,s)}function g9(t,e,n,s){IE(t.x,e.x,n.x,s),IE(t.y,e.y,n.y,s)}function y9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const v9={duration:.45,ease:[.4,0,.1,1]},DE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kE=DE("applewebkit/")&&!DE("chrome/")?Math.round:ai;function ME(t){t.min=kE(t.min),t.max=kE(t.max)}function _9(t){ME(t.x),ME(t.y)}function vC(t,e,n){return t==="position"||t==="preserve-aspect"&&!RL(EE(e),EE(n),.2)}function x9(t){return t!==t.root&&t.scroll?.wasRoot}const b9=yC({attachResizeListener:(t,e)=>cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sg={current:void 0},_C=yC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sg.current){const t=new b9({});t.mount(window),t.setOptions({layoutScroll:!0}),Sg.current=t}return Sg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w9={pan:{Feature:FL},drag:{Feature:zL,ProjectionNode:_C,MeasureLayout:hC}};function VE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,Du(e)))}class T9 extends Xr{mount(){const{current:e}=this.node;e&&(this.unmount=K6(e,(n,s)=>(VE(this.node,s,"Start"),a=>VE(this.node,a,"End"))))}unmount(){}}class E9 extends Xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cu(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,Du(e)))}class S9 extends Xr{mount(){const{current:e}=this.node;e&&(this.unmount=X6(e,(n,s)=>(jE(this.node,s,"Start"),(a,{success:l})=>jE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ay=new WeakMap,Ag=new WeakMap,A9=t=>{const e=Ay.get(t.target);e&&e(t)},R9=t=>{t.forEach(A9)};function C9({root:t,...e}){const n=t||document;Ag.has(n)||Ag.set(n,{});const s=Ag.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(R9,{root:t,...e})),s[a]}function N9(t,e,n){const s=C9(e);return Ay.set(t,n),s.observe(t),()=>{Ay.delete(t),s.unobserve(t)}}const I9={some:0,all:1};class D9 extends Xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:I9[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),T=g?v:x;T&&T(m)};return N9(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(k9(e,n))&&this.startObserver()}unmount(){}}function k9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const M9={inView:{Feature:D9},tap:{Feature:S9},focus:{Feature:E9},hover:{Feature:T9}},V9={layout:{ProjectionNode:_C,MeasureLayout:hC}},j9={...bL,...M9,...w9,...V9},Ln=O5(j9,X5);function St({matchup:t,onPickWinner:e,isLocked:n=!1}){const{team1:s,team2:a,winner:l,result:u,statusDetail:d,homeScore:m,awayScore:g,isInProgress:v,isCompleted:x}=t,T=()=>!s||!a?"Game Not Started":x&&m!==null&&g!==null?`Final: ${s.isHome?m:g} - ${s.isHome?g:m}`:v&&m!==null&&g!==null?`Live: ${s.isHome?m:g} - ${s.isHome?g:m}`:d||"Game Not Started",C=(I,P)=>{if(!I)return y.jsx("div",{className:`h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-${P?"b":"t"}-xl border-x border-slate-800/40 ${P?"border-b":"border-t"}`,children:y.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})});const M=l?.id===I.id,L=l&&l.id!==I.id,B=!n&&I,U=u&&l?.id===u,Z=u&&l&&l.id!==u;return y.jsxs(Ln.button,{whileHover:B?{backgroundColor:"rgba(30, 41, 59, 0.9)",x:2}:{},whileTap:B?{scale:.98}:{},onClick:()=>B&&e(t.id,I),disabled:!B,className:`w-full h-9 lg:h-11 px-3 lg:px-4 flex items-center justify-between transition-all relative overflow-hidden
          ${P?"rounded-b-xl":"rounded-t-xl"} 
          ${M&&U?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":M&&Z?"bg-red-900/40 ring-1 ring-inset ring-red-400/50":M?"bg-slate-800/80 ring-1 ring-inset ring-blue-400/30":"bg-slate-900/60"} 
          ${L?"opacity-20 grayscale":"opacity-100"}
          ${B?"cursor-pointer":"cursor-not-allowed"}
          border-x border-slate-800/50 ${P?"border-b":"border-t"}`,children:[M&&y.jsx(Ln.div,{layoutId:`winner-glow-${t.id}`,className:`absolute inset-0 pointer-events-none ${U?"bg-gradient-to-r from-green-500/20 to-transparent":Z?"bg-gradient-to-r from-red-500/20 to-transparent":"bg-gradient-to-r from-blue-500/10 to-transparent"}`}),y.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 z-10",children:[y.jsx("div",{className:"w-5 h-5 lg:w-6 lg:h-6 rounded flex items-center justify-center font-bold text-[9px] lg:text-[10px] text-white shadow-lg border border-white/10",style:{backgroundColor:I.color},children:I.seed}),y.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[y.jsx("span",{className:"text-[7px] lg:text-[8px] text-slate-500 font-bold uppercase tracking-wider",children:I.city}),y.jsx("span",{className:"font-bold text-[11px] lg:text-[13px] text-slate-100 uppercase tracking-tight",children:I.name})]})]}),y.jsx(MR,{children:M&&y.jsx(Ln.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:U?"text-green-400":Z?"text-red-400":"text-blue-400",children:y.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 lg:w-4 lg:h-4",children:y.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})};return y.jsxs("div",{className:`w-40 lg:w-48 flex-shrink-0 relative group transition-all duration-500 ${!s||!a?"opacity-50":"opacity-100"}`,children:[y.jsx("div",{className:"text-center mb-1",children:y.jsx("span",{className:`text-[8px] lg:text-[9px] font-bold uppercase tracking-wider ${x?"text-green-400":v?"text-yellow-400":"text-slate-500"}`,children:T()})}),y.jsxs("div",{className:"shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm",children:[C(s,!1),C(a,!0)]})]})}const Ry="/assets/super_bowl_lx-logo_brandlogos.net_3b9vb-STySwuiF.png";function P9(){const{roomId:t}=md(),{user:e,isAdmin:n}=cs(),s=os(),[a,l]=k.useState(null),[u,d]=k.useState(null),[m,g]=k.useState(!0),[v,x]=k.useState(null),[T,C]=k.useState({});k.useEffect(()=>{I();const le=setInterval(()=>{I()},3e4);return()=>clearInterval(le)},[t,e]);const I=async()=>{const le=await t3();le&&l(le),await L(),await M(),await P(),g(!1)},P=async()=>{const le=await an(rt(Me,"gameResults",t));le.exists()&&C(le.data().results||{})},M=async()=>{const le=await an(rt(Me,"rooms",t));le.exists()&&x(le.data().createdBy)},L=async()=>{const le=rt(Me,"brackets",`${t}_${e.uid}`),G=await an(le);G.exists()&&d(G.data())},B=async(le,G=!1)=>{const oe=rt(Me,"brackets",`${t}_${e.uid}`),fe={userId:e.uid,roomId:t,picks:le,submitted:G,submittedAt:G?new Date:null};await Jo(oe,fe),d(fe)},U=(le,G)=>{if(u?.submitted)return;const oe={...u?.picks||{},[le]:G.id};B(oe,!1)},Z=async()=>{if(!u?.picks||Object.keys(u.picks).length===0){alert("Please make at least one pick before submitting");return}await B(u.picks,!0)},J=async()=>{if(window.confirm("Are you sure you want to reset ALL brackets in this room? This cannot be undone."))try{const le=Nr(Ti(Me,"brackets"),Ei("roomId","==",t)),G=await Ir(le);if(G.empty){alert("No brackets to reset.");return}const oe=kA(Me);G.docs.forEach(fe=>{oe.delete(fe.ref)}),await oe.commit(),d(null),alert(`Successfully reset ${G.docs.length} bracket(s)!`),window.location.reload()}catch(le){console.error("Error resetting brackets:",le),alert(`Error resetting brackets: ${le.message}`)}};if(m||!a)return y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading bracket..."})});const ee=u?.submitted===!0,E=v===e.uid,S=a.wildCard.filter(le=>le.conference==="AFC"),N=a.wildCard.filter(le=>le.conference==="NFC"),j=a.divisional.filter(le=>le.conference==="AFC"),V=a.divisional.filter(le=>le.conference==="NFC"),H=a.conference.find(le=>le.conference==="AFC"),D=a.conference.find(le=>le.conference==="NFC"),Ne=a.superBowl[0]||{team1:null,team2:null,winner:null};return y.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100 relative selection:bg-blue-500/30",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),y.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between px-3 lg:px-10 py-3 lg:h-[70px] bg-slate-950/60 backdrop-blur-xl border-b border-white/5 z-50",children:[y.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-5",children:[y.jsx("button",{onClick:()=>s("/rooms"),className:"text-slate-400 hover:text-white transition p-2 lg:p-0",children:y.jsx(Or,{className:"w-7 h-7 lg:w-6 lg:h-6"})}),y.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:y.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] lg:text-[14px] font-black italic",children:"NFL"})}),y.jsxs("div",{className:"hidden sm:block",children:[y.jsx("h1",{className:"text-lg lg:text-2xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),y.jsx("p",{className:"text-[8px] lg:text-[10px] text-slate-500 font-bold uppercase tracking-[0.4em] mt-1 opacity-60",children:"Professional Playoff Simulator"})]})]}),y.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-6",children:[y.jsxs("button",{onClick:()=>s(`/leaderboard/${t}`),className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-yellow-600/20 border border-yellow-600/30 text-yellow-400 rounded-lg hover:bg-yellow-600/30 transition",children:[y.jsx(jA,{className:"w-6 h-6 lg:w-4 lg:h-4"}),y.jsx("span",{className:"text-[9px] lg:text-xs font-bold uppercase tracking-wider",children:"Board"})]}),n&&y.jsxs("button",{onClick:()=>s(`/game-results/${t}`),className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg hover:bg-blue-500/30 transition text-xs font-bold uppercase tracking-wider",children:[y.jsx(OA,{className:"w-4 h-4"})," Game Results"]}),y.jsxs("div",{className:"hidden lg:flex items-center space-x-8 text-[11px] font-bold uppercase tracking-[0.2em] text-slate-500",children:[y.jsxs("div",{className:"flex items-center space-x-2.5",children:[y.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-600 shadow-lg shadow-red-600/30"}),y.jsx("span",{children:"AFC Bracket"})]}),y.jsxs("div",{className:"flex items-center space-x-2.5",children:[y.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-600 shadow-lg shadow-blue-600/30"}),y.jsx("span",{children:"NFC Bracket"})]})]}),n&&E&&y.jsxs(Ln.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:J,className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-500/30 text-red-400 rounded-lg hover:bg-red-500/30 transition text-xs font-bold uppercase tracking-wider",children:[y.jsx(NO,{className:"w-4 h-4"})," Reset All Brackets"]}),!ee&&u?.picks&&Object.keys(u.picks).length>0&&y.jsxs(Ln.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Z,className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-6 py-2 lg:py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-xl",children:[y.jsx(hg,{className:"w-6 h-6 lg:w-4 lg:h-4"}),y.jsx("span",{className:"text-[9px] lg:text-sm",children:"Submit"})]}),ee&&y.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400 font-bold",children:[y.jsx(hg,{className:"w-6 h-6 lg:w-4 lg:h-4"}),y.jsx("span",{className:"text-[9px] lg:text-xs uppercase",children:"Done"})]})]})]}),y.jsxs("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 relative overflow-x-auto",children:[y.jsxs("div",{className:"hidden lg:flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-90 lg:scale-95 xl:scale-100",children:[y.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[y.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),S.map(le=>y.jsx(St,{matchup:le,onPickWinner:U,isLocked:ee},le.id)),y.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[y.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),y.jsxs("div",{className:"text-left overflow-hidden",children:[y.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),y.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:"TBD"})]})]})]}),y.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),j.map(le=>y.jsx(St,{matchup:le,onPickWinner:U,isLocked:ee},le.id))]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),y.jsx(St,{matchup:H,onPickWinner:U,isLocked:ee})]})]}),y.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6 relative",children:[y.jsxs("div",{className:"relative w-28 h-28 lg:w-36 lg:h-36 flex items-center justify-center mb-2",children:[y.jsx(Ln.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),y.jsx("img",{src:Ry,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80 drop-shadow-[0_0_15px_rgba(202,138,4,0.3)]"})]}),y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/20 via-blue-500/20 to-red-600/20 rounded-2xl blur opacity-30 group-hover:opacity-70 transition duration-1000"}),y.jsx(St,{matchup:Ne,onPickWinner:U,isLocked:ee})]}),y.jsx("div",{className:"h-[80px] lg:h-[100px] mt-4 lg:mt-6 flex flex-col items-center justify-center",children:y.jsx(MR,{mode:"wait",children:Ne.winner?y.jsxs(Ln.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"text-center relative",children:[y.jsx(Ln.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1,repeat:1/0,repeatDelay:2},className:"text-amber-500 font-black text-[10px] lg:text-[12px] uppercase tracking-[0.8em] mb-2",children:"Super Bowl Winner"}),y.jsx("div",{className:"text-3xl lg:text-5xl xl:text-6xl font-black text-white italic tracking-tighter uppercase drop-shadow-[0_0_30px_rgba(255,255,255,0.4)] leading-none",children:Ne.winner.name}),y.jsx(Ln.div,{initial:{width:0},animate:{width:120},className:"h-[2px] lg:h-[3px] bg-gradient-to-r from-transparent via-amber-500 to-transparent mx-auto mt-4 lg:mt-6 rounded-full shadow-[0_0_20px_rgba(245,158,11,0.8)]"})]},"celebration"):y.jsxs(Ln.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center opacity-40",children:[y.jsx("div",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase tracking-[0.8em] italic",children:"Pick Your Champion"}),y.jsx("div",{className:"w-24 lg:w-32 h-[1px] bg-slate-800 mt-3 lg:mt-4"})]},"placeholder")})})]}),y.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[y.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),N.map(le=>y.jsx(St,{matchup:le,onPickWinner:U,isLocked:ee},le.id)),y.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[y.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),y.jsxs("div",{className:"text-left overflow-hidden",children:[y.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),y.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:"TBD"})]})]})]}),y.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),V.map(le=>y.jsx(St,{matchup:le,onPickWinner:U,isLocked:ee},le.id))]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),y.jsx(St,{matchup:D,onPickWinner:U,isLocked:ee})]})]})]}),y.jsx("div",{className:"lg:hidden w-full",children:y.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-10 pb-20",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Wild Card Round"}),y.jsx("p",{className:"text-sm text-slate-400",children:"First Round of Playoffs"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:y.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),y.jsx("div",{className:"space-y-4",children:S.map(le=>y.jsx(St,{matchup:le,onPickWinner:U,isLocked:ee},le.id))})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:y.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),y.jsx("div",{className:"space-y-4",children:N.map(le=>y.jsx(St,{matchup:le,onPickWinner:U,isLocked:ee},le.id))})]})]})]}),y.jsxs("div",{className:"flex items-center justify-center py-4",children:[y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),y.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Divisional Round"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Top seeds enter the bracket"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:y.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),y.jsx("div",{className:"space-y-4",children:j.map(le=>y.jsx(St,{matchup:le,onPickWinner:U,isLocked:ee},le.id))}),y.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-500/30 flex items-center justify-center",children:y.jsx("span",{className:"font-black text-sm text-red-500",children:"1"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-red-500/80 font-bold uppercase",children:"First Round Bye"}),y.jsx("div",{className:"text-base font-black text-white uppercase",children:"TBD"})]})]})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:y.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),y.jsx("div",{className:"space-y-4",children:V.map(le=>y.jsx(St,{matchup:le,onPickWinner:U,isLocked:ee},le.id))}),y.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/30 flex items-center justify-center",children:y.jsx("span",{className:"font-black text-sm text-blue-500",children:"1"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-blue-500/80 font-bold uppercase",children:"First Round Bye"}),y.jsx("div",{className:"text-base font-black text-white uppercase",children:"TBD"})]})]})})]})]})]}),y.jsxs("div",{className:"flex items-center justify-center py-4",children:[y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),y.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Conference Championships"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Battle for Super Bowl berth"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-6 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:y.jsx("span",{className:"text-sm font-black text-red-500 uppercase tracking-wider",children:"AFC Championship"})})}),y.jsx(St,{matchup:H,onPickWinner:U,isLocked:ee}),H.winner&&y.jsxs("div",{className:"mt-4 text-center p-4 bg-red-500/10 rounded-lg border border-red-500/30",children:[y.jsx("div",{className:"text-xs text-red-500 font-bold uppercase mb-1",children:"AFC Champion"}),y.jsx("div",{className:"text-xl font-black text-white",children:H.winner.name})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-6 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:y.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-wider",children:"NFC Championship"})})}),y.jsx(St,{matchup:D,onPickWinner:U,isLocked:ee}),D.winner&&y.jsxs("div",{className:"mt-4 text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/30",children:[y.jsx("div",{className:"text-xs text-blue-500 font-bold uppercase mb-1",children:"NFC Champion"}),y.jsx("div",{className:"text-xl font-black text-white",children:D.winner.name})]})]})]})]}),y.jsxs("div",{className:"flex items-center justify-center py-4",children:[y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"}),y.jsx("div",{className:"mx-6 text-yellow-600 text-2xl",children:""}),y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-4",children:[y.jsx(Ln.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),y.jsx("img",{src:Ry,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})]}),y.jsx("h2",{className:"text-4xl font-black text-yellow-500 uppercase mb-2",children:"Super Bowl LX"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Championship Game"})]}),y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx(St,{matchup:Ne,onPickWinner:U,isLocked:ee}),Ne.winner&&y.jsxs(Ln.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-8 text-center p-8 bg-gradient-to-b from-yellow-500/20 to-yellow-600/10 rounded-2xl border-2 border-yellow-500/40",children:[y.jsx(ll,{className:"w-20 h-20 text-yellow-500 mx-auto mb-4"}),y.jsx("div",{className:"text-yellow-500 font-black text-sm uppercase tracking-widest mb-2",children:"Super Bowl Champion"}),y.jsx("div",{className:"text-4xl font-black text-white italic uppercase",children:Ne.winner.name})]})]})]}),!ee&&u?.picks&&Object.keys(u.picks).length>0&&y.jsx("div",{className:"mt-8 pb-8",children:y.jsxs(Ln.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Z,className:"w-full max-w-md mx-auto flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-2xl text-lg",children:[y.jsx(hg,{className:"w-5 h-5"}),"Submit Bracket"]})})]})})]}),y.jsx("footer",{className:"h-[50px] flex items-center justify-center px-10 bg-slate-950/40 border-t border-white/5 text-[9px] font-bold text-slate-500 uppercase tracking-widest relative z-50",children:y.jsxs("div",{className:"flex items-center space-x-12 opacity-40",children:[y.jsx("span",{children:"NFL Re-seeding Active: #1 hosts highest numeric seed"}),y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-800"}),y.jsx("span",{children:"Predict Super Bowl LX Live"})]})})]})}const PE=[{id:1,name:"Chiefs",city:"Kansas City",seed:1,conference:"AFC",color:"#E31837"},{id:2,name:"Bills",city:"Buffalo",seed:2,conference:"AFC",color:"#00338D"},{id:3,name:"Ravens",city:"Baltimore",seed:3,conference:"AFC",color:"#241773"},{id:4,name:"Texans",city:"Houston",seed:4,conference:"AFC",color:"#03202F"},{id:5,name:"Steelers",city:"Pittsburgh",seed:5,conference:"AFC",color:"#FFB612"},{id:6,name:"Chargers",city:"Los Angeles",seed:6,conference:"AFC",color:"#0080C6"},{id:7,name:"Broncos",city:"Denver",seed:7,conference:"AFC",color:"#FB4F14"},{id:8,name:"Lions",city:"Detroit",seed:1,conference:"NFC",color:"#0076B6"},{id:9,name:"Eagles",city:"Philadelphia",seed:2,conference:"NFC",color:"#004C54"},{id:10,name:"Rams",city:"Los Angeles",seed:3,conference:"NFC",color:"#003594"},{id:11,name:"Buccaneers",city:"Tampa Bay",seed:4,conference:"NFC",color:"#D50A0A"},{id:12,name:"Vikings",city:"Minnesota",seed:5,conference:"NFC",color:"#4F2683"},{id:13,name:"Commanders",city:"Washington",seed:6,conference:"NFC",color:"#5A1414"},{id:14,name:"Packers",city:"Green Bay",seed:7,conference:"NFC",color:"#203731"}],xC=async()=>{try{const t=await an(rt(Me,"config","playoffs"));if(t.exists()){const e=t.data(),n=e.afcTeams||[],s=e.nfcTeams||[],a=[...n,...s].filter(Boolean);if(a.length===14)return a}return PE}catch(t){return console.error("Error fetching playoff teams:",t),PE}};function O9(){const{roomId:t}=md(),{isAdmin:e}=cs(),n=os(),[s,a]=k.useState([]),[l,u]=k.useState(null),[d,m]=k.useState([]),[g,v]=k.useState(!0),[x,T]=k.useState("");k.useEffect(()=>{if(!e){n("/rooms");return}C()},[t,e]);const C=async()=>{const M=await xC();m(M);const L=await an(rt(Me,"rooms",t));L.exists()&&T(L.data().code);const B=Nr(Ti(Me,"brackets"),Ei("roomId","==",t),Ei("submitted","==",!0)),U=await Ir(B),Z=await Promise.all(U.docs.map(async J=>{const ee=J.data(),E=await an(rt(Me,"users",ee.userId)),S=E.exists()?E.data():{};return{id:J.id,...ee,username:S.username||S.email||"Unknown User"}}));a(Z.sort((J,ee)=>ee.submittedAt?.toDate()-J.submittedAt?.toDate())),v(!1)},I=async(M,L)=>{if(window.confirm(`Are you sure you want to delete ${L}'s bracket? This cannot be undone.`))try{await WP(rt(Me,"brackets",M)),a(s.filter(B=>B.id!==M)),alert("Bracket deleted successfully!")}catch(B){console.error("Error deleting bracket:",B),alert(`Error deleting bracket: ${B.message}`)}},P=M=>{const L=d.filter(G=>G.conference==="AFC"),B=d.filter(G=>G.conference==="NFC"),U=G=>d.find(oe=>oe.id===G),Z=G=>M.picks?.[G]?U(M.picks[G]):null,J=[{id:"afc-wc-0",team1:L[1],team2:L[6],winner:Z("afc-wc-0")},{id:"afc-wc-1",team1:L[2],team2:L[5],winner:Z("afc-wc-1")},{id:"afc-wc-2",team1:L[3],team2:L[4],winner:Z("afc-wc-2")}],ee=[{id:"nfc-wc-0",team1:B[1],team2:B[6],winner:Z("nfc-wc-0")},{id:"nfc-wc-1",team1:B[2],team2:B[5],winner:Z("nfc-wc-1")},{id:"nfc-wc-2",team1:B[3],team2:B[4],winner:Z("nfc-wc-2")}],E=J.map(G=>G.winner).filter(Boolean).sort((G,oe)=>G.seed-oe.seed),S=ee.map(G=>G.winner).filter(Boolean).sort((G,oe)=>G.seed-oe.seed),N=[{id:"afc-div-0",team1:L[0],team2:E[2]||null,winner:Z("afc-div-0")},{id:"afc-div-1",team1:E[0]||null,team2:E[1]||null,winner:Z("afc-div-1")}],j=[{id:"nfc-div-0",team1:B[0],team2:S[2]||null,winner:Z("nfc-div-0")},{id:"nfc-div-1",team1:S[0]||null,team2:S[1]||null,winner:Z("nfc-div-1")}],V=N.map(G=>G.winner).filter(Boolean),H=j.map(G=>G.winner).filter(Boolean),D={id:"afc-conf",team1:V[0]||null,team2:V[1]||null,winner:Z("afc-conf")},Ne={id:"nfc-conf",team1:H[0]||null,team2:H[1]||null,winner:Z("nfc-conf")},le={id:"super-bowl",team1:D.winner||null,team2:Ne.winner||null,winner:Z("super-bowl")};return y.jsxs("div",{className:"flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-75 lg:scale-85 xl:scale-90",children:[y.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[y.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),J.map(G=>y.jsx(St,{matchup:G,isLocked:!0},G.id)),y.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[y.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),y.jsxs("div",{className:"text-left overflow-hidden",children:[y.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),y.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:L[0]?.name})]})]})]}),y.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),N.map(G=>y.jsx(St,{matchup:G,isLocked:!0},G.id))]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),y.jsx(St,{matchup:D,isLocked:!0})]})]}),y.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6",children:[y.jsx("div",{className:"relative w-24 h-24 lg:w-32 lg:h-32 flex items-center justify-center mb-2",children:y.jsx("img",{src:Ry,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})}),y.jsx(St,{matchup:le,isLocked:!0}),le.winner&&y.jsxs("div",{className:"mt-4 text-center",children:[y.jsx("div",{className:"text-amber-500 font-black text-[10px] uppercase tracking-widest mb-1",children:"Super Bowl Winner"}),y.jsx("div",{className:"text-2xl lg:text-4xl font-black text-white italic uppercase",children:le.winner.name})]})]}),y.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[y.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),ee.map(G=>y.jsx(St,{matchup:G,isLocked:!0},G.id)),y.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[y.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),y.jsxs("div",{className:"text-left overflow-hidden",children:[y.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),y.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:B[0]?.name})]})]})]}),y.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),j.map(G=>y.jsx(St,{matchup:G,isLocked:!0},G.id))]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),y.jsx(St,{matchup:Ne,isLocked:!0})]})]})]})};return g?y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading brackets..."})}):l?y.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100",children:[y.jsx("header",{className:"h-[70px] flex items-center justify-between px-10 bg-slate-950/60 backdrop-blur-xl border-b border-white/5",children:y.jsxs("div",{className:"flex items-center space-x-5",children:[y.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white transition",children:y.jsx(Or,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-black uppercase tracking-tighter text-white",children:[l.username,"'s Bracket"]}),y.jsxs("p",{className:"text-xs text-slate-500",children:["Submitted ",l.submittedAt?.toDate().toLocaleString()]})]})]})}),y.jsx("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 overflow-x-auto",children:P(l)})]}):y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:y.jsx(Or,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Submitted Brackets"}),y.jsxs("p",{className:"text-slate-400",children:["Room: ",x]})]})]}),s.length===0?y.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:y.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):y.jsx("div",{className:"grid gap-4",children:s.map(M=>y.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:bg-slate-800/50 transition-all",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("button",{onClick:()=>u(M),className:"flex items-center gap-4 flex-grow text-left",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl",children:y.jsx(YO,{className:"w-6 h-6 text-white"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white",children:M.username}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",children:[y.jsx(mO,{className:"w-4 h-4"}),y.jsxs("span",{children:["Submitted ",M.submittedAt?.toDate().toLocaleString()]})]})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:L=>{L.stopPropagation(),I(M.id,M.username)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Bracket",children:y.jsx(LA,{className:"w-4 h-4"})}),y.jsx(Or,{className:"w-5 h-5 text-yellow-600/70 rotate-180"})]})]})},M.id))})]})]})}const wf={wc:1,div:2,conf:3,"super-bowl":5};function L9(){const{roomId:t}=md(),{user:e}=cs(),n=os(),[s,a]=k.useState([]),[l,u]=k.useState(""),[d,m]=k.useState(!0),[g,v]=k.useState({}),[x,T]=k.useState(!1);k.useEffect(()=>{C()},[t]);const C=async()=>{try{const P=await an(rt(Me,"brackets",`${t}_${e.uid}`)),M=P.exists()&&P.data().submitted===!0;T(M);const L=await an(rt(Me,"rooms",t));L.exists()&&u(L.data().code);const B=await an(rt(Me,"gameResults",t)),U=B.exists()?B.data().results||{}:{};v(U);const Z=Nr(Ti(Me,"brackets"),Ei("roomId","==",t),Ei("submitted","==",!0)),J=await Ir(Z),ee=await Promise.all(J.docs.map(async E=>{const S=E.data(),N=await an(rt(Me,"users",S.userId)),j=N.exists()?N.data():{},V=I(S.picks,U);return{userId:S.userId,username:j.username||j.email||"Unknown User",points:V,submittedAt:S.submittedAt}}));ee.sort((E,S)=>S.points-E.points),a(ee)}catch(P){console.error("Error loading leaderboard:",P)}finally{m(!1)}},I=(P,M)=>{let L=0;return Object.entries(P).forEach(([B,U])=>{M[B]===U&&(B.includes("wc")?L+=wf.wc:B.includes("div")?L+=wf.div:B.includes("conf")?L+=wf.conf:B==="super-bowl"&&(L+=wf["super-bowl"]))}),L};return d?y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading leaderboard..."})}):x?y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:y.jsx(Or,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white flex items-center gap-3",children:[y.jsx(ll,{className:"w-10 h-10 text-yellow-600/90"}),"Leaderboard"]}),y.jsxs("p",{className:"text-slate-400",children:["Room: ",l]})]})]}),s.length===0?y.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:y.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):y.jsx("div",{className:"space-y-3",children:s.map((P,M)=>{const L=P.userId===e.uid,B=M+1;return y.jsx("div",{className:`bg-slate-900/40 backdrop-blur-xl border rounded-xl p-6 transition-all ${L?"border-yellow-600/50 bg-yellow-600/5":"border-white/10 hover:bg-slate-800/50"}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl ${B===1?"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white":B===2?"bg-gradient-to-br from-slate-300 to-slate-400 text-slate-900":B===3?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-slate-800 text-slate-400"}`,children:B===1?y.jsx(ll,{className:"w-6 h-6"}):B===2?y.jsx(jO,{className:"w-6 h-6"}):B===3?y.jsx(fO,{className:"w-6 h-6"}):B}),y.jsxs("div",{children:[y.jsxs("h3",{className:`text-xl font-bold ${L?"text-yellow-500":"text-white"}`,children:[P.username," ",L&&"(You)"]}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Submitted ",P.submittedAt?.toDate().toLocaleDateString()]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-3xl font-black text-yellow-600/90",children:P.points}),y.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Points"})]})]})},P.userId)})}),y.jsxs("div",{className:"mt-8 bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Point System"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"1"}),y.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Wild Card"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"2"}),y.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Divisional"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"3"}),y.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Conference"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"5"}),y.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Super Bowl"})]})]})]})]})]}):y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:y.jsx(Or,{className:"w-6 h-6"})}),y.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Leaderboard"})]}),y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-yellow-600/30 rounded-2xl p-12 text-center",children:[y.jsx(ad,{className:"w-16 h-16 text-yellow-600/90 mx-auto mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Submit Your Bracket First"}),y.jsx("p",{className:"text-slate-300 mb-6",children:"You must submit your bracket before viewing the leaderboard."}),y.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"px-6 py-3 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition font-bold uppercase tracking-wider",children:"Go to Bracket"})]})]})]})}const U9="https://site.api.espn.com/apis/site/v2/sports/football/nfl",B9=async()=>{try{return(await(await fetch(`${U9}/scoreboard`)).json()).events||[]}catch(t){return console.error("Error fetching NFL scoreboard:",t),[]}},z9=(t,e)=>{const n={},s={};return t.forEach(a=>{const l=a.competitions?.[0];if(!l)return;const u=l.competitors,d=l.status,m=d.type.completed,g=d.type.state==="in",v=u.find(P=>P.homeAway==="home"),x=u.find(P=>P.homeAway==="away");if(!v||!x)return;const T=OE(e,v.team.displayName),C=OE(e,x.team.displayName);if(!T||!C)return;const I=F9(T,C);if(I&&(s[I]={homeTeam:{id:T.id,name:T.name,score:parseInt(v.score)||0},awayTeam:{id:C.id,name:C.name,score:parseInt(x.score)||0},status:d.type.description,isCompleted:m,isInProgress:g,period:d.period||0,clock:d.displayClock||""},m)){const P=parseInt(v.score)||0,M=parseInt(x.score)||0,L=P>M?T.id:C.id;n[I]=L}}),{gameResults:n,liveScores:s}},OE=(t,e)=>{let n=t.find(s=>e.includes(s.city)&&e.includes(s.name));return n||(n=t.find(s=>e.includes(s.name))),n},F9=(t,e)=>{const n=[t.seed,e.seed].sort((a,l)=>a-l),s=t.conference.toLowerCase();return n[0]===2&&n[1]===7?`${s}-wc-0`:n[0]===3&&n[1]===6?`${s}-wc-1`:n[0]===4&&n[1]===5?`${s}-wc-2`:null},H9=async(t,e,n)=>{const s=await B9(),{gameResults:a,liveScores:l}=z9(s,e);return{gameResults:a,liveScores:l}};function q9(){const{roomId:t}=md(),{isAdmin:e}=cs(),n=os(),[s,a]=k.useState([]),[l,u]=k.useState({}),[d,m]=k.useState({}),[g,v]=k.useState(""),[x,T]=k.useState(!0),[C,I]=k.useState(!1);k.useEffect(()=>{if(!e){n("/rooms");return}P();const E=setInterval(()=>{M()},3e4);return()=>clearInterval(E)},[t,e]);const P=async()=>{const E=await xC();a(E);const S=await an(rt(Me,"rooms",t));S.exists()&&v(S.data().code);const N=await an(rt(Me,"gameResults",t));N.exists()&&u(N.data().results||{}),T(!1),M(E)},M=async(E=s)=>{I(!0);try{const{gameResults:S,liveScores:N}=await H9(t,E,l);if(m(N),Object.keys(S).length>0){const j={...l,...S};await L(j)}}catch(S){console.error("Error syncing games:",S)}finally{I(!1)}},L=async E=>{await Jo(rt(Me,"gameResults",t),{results:E}),u(E)},B=(E,S)=>{const N={...l,[E]:S};L(N)},U=E=>{const S={...l};delete S[E],L(S)},Z=(E,S,N,j)=>{const V=l[E],H=d[E];return y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:j}),H?.isInProgress&&y.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-500 font-bold",children:[y.jsx(LO,{className:"w-3 h-3 animate-pulse"}),"LIVE - Q",H.period," ",H.clock]}),H?.isCompleted&&y.jsx("div",{className:"text-xs text-green-500 font-bold",children:"FINAL"})]}),y.jsx("div",{className:"space-y-2",children:[S,N].map(D=>D&&y.jsxs("button",{onClick:()=>V===D.id?U(E):B(E,D.id),className:`w-full p-3 rounded-lg border-2 transition-all flex items-center justify-between ${V===D.id?"border-green-500 bg-green-500/20":V&&V!==D.id?"border-red-500/50 bg-red-500/10 opacity-50":"border-slate-700 hover:border-slate-600"}`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 flex items-center justify-center text-xs font-bold text-white",children:D.seed}),y.jsx("span",{className:"font-bold text-white",children:D.name})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[H&&y.jsx("span",{className:"text-xl font-black text-white",children:H.homeTeam.id===D.id?H.homeTeam.score:H.awayTeam.score}),V===D.id&&y.jsx(yO,{className:"w-5 h-5 text-green-500"})]})]},D.id))})]})};if(x)return y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading..."})});const J=s.filter(E=>E.conference==="AFC"),ee=s.filter(E=>E.conference==="NFC");return y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:y.jsx(Or,{className:"w-6 h-6"})}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Game Results"}),y.jsxs("p",{className:"text-slate-400",children:["Room: ",g," - Click to manually set winners"]})]}),y.jsxs("button",{onClick:()=>M(),disabled:C,className:"flex items-center gap-2 px-6 py-3 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-xl hover:bg-blue-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[y.jsx(BO,{className:`w-5 h-5 ${C?"animate-spin":""}`}),C?"Syncing...":"Sync Live Scores"]})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),y.jsxs("div",{className:"space-y-3",children:[Z("afc-wc-0",J[1],J[6],`#${J[1]?.seed} vs #${J[6]?.seed}`),Z("afc-wc-1",J[2],J[5],`#${J[2]?.seed} vs #${J[5]?.seed}`),Z("afc-wc-2",J[3],J[4],`#${J[3]?.seed} vs #${J[4]?.seed}`)]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),y.jsxs("div",{className:"space-y-3",children:[Z("afc-div-0",J[0],null,`#1 ${J[0]?.name} vs Winner`),Z("afc-div-1",null,null,"Winner vs Winner")]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),Z("afc-conf",null,null,"AFC Championship")]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),y.jsxs("div",{className:"space-y-3",children:[Z("nfc-wc-0",ee[1],ee[6],`#${ee[1]?.seed} vs #${ee[6]?.seed}`),Z("nfc-wc-1",ee[2],ee[5],`#${ee[2]?.seed} vs #${ee[5]?.seed}`),Z("nfc-wc-2",ee[3],ee[4],`#${ee[3]?.seed} vs #${ee[4]?.seed}`)]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),y.jsxs("div",{className:"space-y-3",children:[Z("nfc-div-0",ee[0],null,`#1 ${ee[0]?.name} vs Winner`),Z("nfc-div-1",null,null,"Winner vs Winner")]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),Z("nfc-conf",null,null,"NFC Championship")]})]})]}),y.jsxs("div",{className:"mt-8 max-w-md mx-auto",children:[y.jsx("h2",{className:"text-2xl font-black text-yellow-600/90 uppercase tracking-wider mb-4 text-center",children:"Super Bowl LX"}),Z("super-bowl",null,null,"Championship Game")]})]})]})}const LE=[{id:"chiefs",name:"Chiefs",city:"Kansas City",conference:"AFC",color:"#E31837"},{id:"bills",name:"Bills",city:"Buffalo",conference:"AFC",color:"#00338D"},{id:"ravens",name:"Ravens",city:"Baltimore",conference:"AFC",color:"#241773"},{id:"texans",name:"Texans",city:"Houston",conference:"AFC",color:"#03202F"},{id:"steelers",name:"Steelers",city:"Pittsburgh",conference:"AFC",color:"#FFB612"},{id:"chargers",name:"Chargers",city:"Los Angeles",conference:"AFC",color:"#0080C6"},{id:"broncos",name:"Broncos",city:"Denver",conference:"AFC",color:"#FB4F14"},{id:"eagles",name:"Eagles",city:"Philadelphia",conference:"NFC",color:"#004C54"},{id:"lions",name:"Lions",city:"Detroit",conference:"NFC",color:"#0076B6"},{id:"rams",name:"Rams",city:"Los Angeles",conference:"NFC",color:"#003594"},{id:"buccaneers",name:"Buccaneers",city:"Tampa Bay",conference:"NFC",color:"#D50A0A"},{id:"vikings",name:"Vikings",city:"Minnesota",conference:"NFC",color:"#4F2683"},{id:"packers",name:"Packers",city:"Green Bay",conference:"NFC",color:"#203731"},{id:"commanders",name:"Commanders",city:"Washington",conference:"NFC",color:"#5A1414"}];function G9(){const{isAdmin:t}=cs(),e=os(),[n,s]=k.useState(Array(7).fill(null)),[a,l]=k.useState(Array(7).fill(null)),[u,d]=k.useState(!0),[m,g]=k.useState(!1);k.useEffect(()=>{if(!t){e("/rooms");return}v()},[t]);const v=async()=>{const I=await an(rt(Me,"config","playoffs"));if(I.exists()){const P=I.data();s(P.afcTeams||Array(7).fill(null)),l(P.nfcTeams||Array(7).fill(null))}d(!1)},x=async()=>{g(!0);try{await Jo(rt(Me,"config","playoffs"),{afcTeams:n,nfcTeams:a,updatedAt:new Date}),alert("Playoff configuration saved!")}catch(I){console.error("Error saving config:",I),alert("Error saving configuration")}finally{g(!1)}},T=(I,P,M)=>{const L=LE.find(U=>U.id===M);if(!L)return;const B={...L,seed:P+1};if(I==="AFC"){const U=[...n];U[P]=B,s(U)}else{const U=[...a];U[P]=B,l(U)}},C=(I,P)=>{const M=I==="AFC"?n:a,L=M[P],B=LE.filter(U=>U.conference===I&&!M.some(Z=>Z?.id===U.id));return y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[y.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:["Seed #",P+1]}),y.jsxs("select",{value:L?.id||"",onChange:U=>T(I,P,U.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-white font-bold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[y.jsx("option",{value:"",children:"Select Team"}),B.map(U=>y.jsxs("option",{value:U.id,children:[U.city," ",U.name]},U.id)),L&&y.jsxs("option",{value:L.id,children:[L.city," ",L.name]})]})]})};return u?y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>e("/rooms"),className:"text-slate-400 hover:text-white transition",children:y.jsx(Or,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Playoff Configuration"}),y.jsx("p",{className:"text-slate-400",children:"Set the 14 playoff teams and their seeds"})]})]}),y.jsxs("button",{onClick:x,disabled:m,className:"flex items-center gap-2 px-6 py-3 bg-green-500/20 border border-green-500/30 text-green-400 rounded-xl hover:bg-green-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[y.jsx(FO,{className:"w-5 h-5"}),m?"Saving...":"Save Configuration"]})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC Playoff Teams"}),[0,1,2,3,4,5,6].map(I=>C("AFC",I))]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC Playoff Teams"}),[0,1,2,3,4,5,6].map(I=>C("NFC",I))]})]})]})]})}function K9(){const{user:t,logout:e}=cs(),[n,s]=k.useState(!1),[a,l]=k.useState(""),u=async()=>{s(!0),l("");try{await z1(ni.currentUser),l("Verification email sent! Please check your inbox.")}catch{l("Error sending email. Please try again later.")}s(!1)};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-900 via-red-800 to-orange-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[y.jsx("div",{className:"flex items-center justify-center mb-6",children:y.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:y.jsx(PA,{className:"w-12 h-12 text-orange-600"})})}),y.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-gray-800",children:"Verify Your Email"}),y.jsxs("p",{className:"text-center text-gray-600 mb-6",children:["We sent a verification link to ",y.jsx("span",{className:"font-semibold",children:t?.email})]}),y.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx(ad,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),y.jsxs("div",{className:"text-sm text-blue-800",children:[y.jsx("p",{className:"font-semibold mb-1",children:"Check your email"}),y.jsx("p",{children:"Click the verification link in the email to activate your account. You may need to check your spam folder."})]})]})}),a&&y.jsx("div",{className:`border rounded-lg p-3 mb-4 ${a.includes("sent")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:y.jsx("p",{className:"text-sm",children:a})}),y.jsx("button",{onClick:u,disabled:n,className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold mb-3 disabled:opacity-50",children:n?"Sending...":"Resend Verification Email"}),y.jsx("button",{onClick:e,className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Sign Out"})]})})}function $9(){const{user:t,isAdmin:e}=cs();return k.useEffect(()=>{(async()=>{if(t)try{const s=await an(rt(Me,"users",t.uid));if(s.exists()){const a=s.data();console.log("Current user data:",a),console.log("isAdmin from context:",e),e&&!a.isAdmin&&(console.log("Setting admin status in Firestore..."),await XP(rt(Me,"users",t.uid),{isAdmin:!0}),console.log("Admin status updated! Please refresh the page."),alert("Admin status has been set. Please refresh the page."))}else console.log("User document does not exist in Firestore")}catch(s){console.error("Error checking admin status:",s)}})()},[t,e]),null}function Oo({children:t}){const{user:e,loading:n}=cs(),s=Ni();return n?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."}):e?e.emailVerified?y.jsxs(y.Fragment,{children:[y.jsx($9,{}),t]}):y.jsx(K9,{}):y.jsx(ZE,{to:"/login",state:{from:s.pathname+s.search},replace:!0})}function Y9(){return y.jsx(iO,{children:y.jsx(CI,{children:y.jsxs(iI,{children:[y.jsx(Ns,{path:"/login",element:y.jsx(JO,{})}),y.jsx(Ns,{path:"/rooms",element:y.jsx(Oo,{children:y.jsx(e3,{})})}),y.jsx(Ns,{path:"/bracket/:roomId",element:y.jsx(Oo,{children:y.jsx(P9,{})})}),y.jsx(Ns,{path:"/admin/brackets/:roomId",element:y.jsx(Oo,{children:y.jsx(O9,{})})}),y.jsx(Ns,{path:"/leaderboard/:roomId",element:y.jsx(Oo,{children:y.jsx(L9,{})})}),y.jsx(Ns,{path:"/game-results/:roomId",element:y.jsx(Oo,{children:y.jsx(q9,{})})}),y.jsx(Ns,{path:"/admin/playoff-config",element:y.jsx(Oo,{children:y.jsx(G9,{})})}),y.jsx(Ns,{path:"/",element:y.jsx(ZE,{to:"/rooms"})})]})})})}aN.createRoot(document.getElementById("root")).render(y.jsx(k.StrictMode,{children:y.jsx(Y9,{})}));
