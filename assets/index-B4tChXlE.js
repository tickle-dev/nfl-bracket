(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var zp={exports:{}},Nc={};var kb;function J2(){if(kb)return Nc;kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Nc.Fragment=e,Nc.jsx=n,Nc.jsxs=n,Nc}var Mb;function Z2(){return Mb||(Mb=1,zp.exports=J2()),zp.exports}var y=Z2(),Fp={exports:{}},Ie={};var Vb;function eN(){if(Vb)return Ie;Vb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function R(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function L(U,te,ue){this.props=U,this.context=te,this.refs=j,this.updater=ue||k}L.prototype.isReactComponent={},L.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=L.prototype;function z(U,te,ue){this.props=U,this.context=te,this.refs=j,this.updater=ue||k}var J=z.prototype=new B;J.constructor=z,P(J,L.prototype),J.isPureReactComponent=!0;var ee=Array.isArray;function le(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(U,te,ue){var fe=ue.ref;return{$$typeof:t,type:U,key:te,ref:fe!==void 0?fe:null,props:ue}}function V(U,te){return N(U.type,te,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function F(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return te[ue]})}var D=/\/+/g;function Re(U,te){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):te.toString(36)}function Me(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(le,le):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function G(U,te,ue,fe,Ee){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var oe=!1;if(U===null)oe=!0;else switch(Te){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(U.$$typeof){case t:case e:oe=!0;break;case v:return oe=U._init,G(oe(U._payload),te,ue,fe,Ee)}}if(oe)return Ee=Ee(U),oe=fe===""?"."+Re(U,0):fe,ee(Ee)?(ue="",oe!=null&&(ue=oe.replace(D,"$&/")+"/"),G(Ee,te,ue,"",function(Ft){return Ft})):Ee!=null&&(I(Ee)&&(Ee=V(Ee,ue+(Ee.key==null||U&&U.key===Ee.key?"":(""+Ee.key).replace(D,"$&/")+"/")+oe)),te.push(Ee)),1;oe=0;var xe=fe===""?".":fe+":";if(ee(U))for(var ye=0;ye<U.length;ye++)fe=U[ye],Te=xe+Re(fe,ye),oe+=G(fe,te,ue,Te,Ee);else if(ye=R(U),typeof ye=="function")for(U=ye.call(U),ye=0;!(fe=U.next()).done;)fe=fe.value,Te=xe+Re(fe,ye++),oe+=G(fe,te,ue,Te,Ee);else if(Te==="object"){if(typeof U.then=="function")return G(Me(U),te,ue,fe,Ee);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return oe}function re(U,te,ue){if(U==null)return U;var fe=[],Ee=0;return G(U,fe,"","",function(Te){return te.call(ue,Te,Ee++)}),fe}function de(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ke={map:re,forEach:function(U,te,ue){re(U,function(){te.apply(this,arguments)},ue)},count:function(U){var te=0;return re(U,function(){te++}),te},toArray:function(U){return re(U,function(te){return te})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ie.Activity=x,Ie.Children=ke,Ie.Component=L,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=z,Ie.StrictMode=s,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},Ie.cache=function(U){return function(){return U.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(U,te,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=P({},U.props),Ee=U.key;if(te!=null)for(Te in te.key!==void 0&&(Ee=""+te.key),te)!S.call(te,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&te.ref===void 0||(fe[Te]=te[Te]);var Te=arguments.length-2;if(Te===1)fe.children=ue;else if(1<Te){for(var oe=Array(Te),xe=0;xe<Te;xe++)oe[xe]=arguments[xe+2];fe.children=oe}return N(U.type,Ee,fe)},Ie.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ie.createElement=function(U,te,ue){var fe,Ee={},Te=null;if(te!=null)for(fe in te.key!==void 0&&(Te=""+te.key),te)S.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=te[fe]);var oe=arguments.length-2;if(oe===1)Ee.children=ue;else if(1<oe){for(var xe=Array(oe),ye=0;ye<oe;ye++)xe[ye]=arguments[ye+2];Ee.children=xe}if(U&&U.defaultProps)for(fe in oe=U.defaultProps,oe)Ee[fe]===void 0&&(Ee[fe]=oe[fe]);return N(U,Te,Ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(U){return{$$typeof:d,render:U}},Ie.isValidElement=I,Ie.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:de}},Ie.memo=function(U,te){return{$$typeof:g,type:U,compare:te===void 0?null:te}},Ie.startTransition=function(U){var te=A.T,ue={};A.T=ue;try{var fe=U(),Ee=A.S;Ee!==null&&Ee(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(le,Ae)}catch(Te){Ae(Te)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),A.T=te}},Ie.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ie.use=function(U){return A.H.use(U)},Ie.useActionState=function(U,te,ue){return A.H.useActionState(U,te,ue)},Ie.useCallback=function(U,te){return A.H.useCallback(U,te)},Ie.useContext=function(U){return A.H.useContext(U)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(U,te){return A.H.useDeferredValue(U,te)},Ie.useEffect=function(U,te){return A.H.useEffect(U,te)},Ie.useEffectEvent=function(U){return A.H.useEffectEvent(U)},Ie.useId=function(){return A.H.useId()},Ie.useImperativeHandle=function(U,te,ue){return A.H.useImperativeHandle(U,te,ue)},Ie.useInsertionEffect=function(U,te){return A.H.useInsertionEffect(U,te)},Ie.useLayoutEffect=function(U,te){return A.H.useLayoutEffect(U,te)},Ie.useMemo=function(U,te){return A.H.useMemo(U,te)},Ie.useOptimistic=function(U,te){return A.H.useOptimistic(U,te)},Ie.useReducer=function(U,te,ue){return A.H.useReducer(U,te,ue)},Ie.useRef=function(U){return A.H.useRef(U)},Ie.useState=function(U){return A.H.useState(U)},Ie.useSyncExternalStore=function(U,te,ue){return A.H.useSyncExternalStore(U,te,ue)},Ie.useTransition=function(){return A.H.useTransition()},Ie.version="19.2.3",Ie}var jb;function Dy(){return jb||(jb=1,Fp.exports=eN()),Fp.exports}var M=Dy(),Hp={exports:{}},Ic={},qp={exports:{}},Gp={};var Pb;function tN(){return Pb||(Pb=1,(function(t){function e(G,re){var de=G.length;G.push(re);e:for(;0<de;){var Ae=de-1>>>1,ke=G[Ae];if(0<a(ke,re))G[Ae]=re,G[de]=ke,de=Ae;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var re=G[0],de=G.pop();if(de!==re){G[0]=de;e:for(var Ae=0,ke=G.length,U=ke>>>1;Ae<U;){var te=2*(Ae+1)-1,ue=G[te],fe=te+1,Ee=G[fe];if(0>a(ue,de))fe<ke&&0>a(Ee,ue)?(G[Ae]=Ee,G[fe]=de,Ae=fe):(G[Ae]=ue,G[te]=de,Ae=te);else if(fe<ke&&0>a(Ee,de))G[Ae]=Ee,G[fe]=de,Ae=fe;else break e}}return re}function a(G,re){var de=G.sortIndex-re.sortIndex;return de!==0?de:G.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],g=[],v=1,x=null,T=3,R=!1,k=!1,P=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function J(G){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=G)s(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(g)}}function ee(G){if(P=!1,J(G),!k)if(n(m)!==null)k=!0,le||(le=!0,F());else{var re=n(g);re!==null&&Me(ee,re.startTime-G)}}var le=!1,A=-1,S=5,N=-1;function V(){return j?!0:!(t.unstable_now()-N<S)}function I(){if(j=!1,le){var G=t.unstable_now();N=G;var re=!0;try{e:{k=!1,P&&(P=!1,B(A),A=-1),R=!0;var de=T;try{t:{for(J(G),x=n(m);x!==null&&!(x.expirationTime>G&&V());){var Ae=x.callback;if(typeof Ae=="function"){x.callback=null,T=x.priorityLevel;var ke=Ae(x.expirationTime<=G);if(G=t.unstable_now(),typeof ke=="function"){x.callback=ke,J(G),re=!0;break t}x===n(m)&&s(m),J(G)}else s(m);x=n(m)}if(x!==null)re=!0;else{var U=n(g);U!==null&&Me(ee,U.startTime-G),re=!1}}break e}finally{x=null,T=de,R=!1}re=void 0}}finally{re?F():le=!1}}}var F;if(typeof z=="function")F=function(){z(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Re=D.port2;D.port1.onmessage=I,F=function(){Re.postMessage(null)}}else F=function(){L(I,0)};function Me(G,re){A=L(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(G){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var de=T;T=re;try{return G()}finally{T=de}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=T;T=G;try{return re()}finally{T=de}},t.unstable_scheduleCallback=function(G,re,de){var Ae=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ae+de:Ae):de=Ae,G){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,G={id:v++,callback:re,priorityLevel:G,startTime:de,expirationTime:ke,sortIndex:-1},de>Ae?(G.sortIndex=de,e(g,G),n(m)===null&&G===n(g)&&(P?(B(A),A=-1):P=!0,Me(ee,de-Ae))):(G.sortIndex=ke,e(m,G),k||R||(k=!0,le||(le=!0,F()))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var re=T;return function(){var de=T;T=re;try{return G.apply(this,arguments)}finally{T=de}}}})(Gp)),Gp}var Ob;function nN(){return Ob||(Ob=1,qp.exports=tN()),qp.exports}var Kp={exports:{}},un={};var Lb;function iN(){if(Lb)return un;Lb=1;var t=Dy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},un.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},un.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},un.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},un.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:R}):v==="script"&&s.d.X(m,{crossOrigin:x,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},un.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},un.requestFormReset=function(m){s.d.r(m)},un.unstable_batchedUpdates=function(m,g){return m(g)},un.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},un.useFormStatus=function(){return u.H.useHostTransitionStatus()},un.version="19.2.3",un}var Ub;function sN(){if(Ub)return Kp.exports;Ub=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=iN(),Kp.exports}var Bb;function rN(){if(Bb)return Ic;Bb=1;var t=nN(),e=Dy(),n=sN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===c)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var b=!1,E=f.child;E;){if(E===o){b=!0,o=f,c=p;break}if(E===c){b=!0,c=f,o=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===o){b=!0,o=p,c=f;break}if(E===c){b=!0,c=p,o=f;break}E=E.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),z=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case L:return"Profiler";case j:return"StrictMode";case ee:return"Suspense";case le:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case z:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case J:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return r=i.displayName||null,r!==null?r:Re(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return Re(i(r))}catch{}}return null}var Me=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ae=[],ke=-1;function U(i){return{current:i}}function te(i){0>ke||(i.current=Ae[ke],Ae[ke]=null,ke--)}function ue(i,r){ke++,Ae[ke]=i.current,i.current=r}var fe=U(null),Ee=U(null),Te=U(null),oe=U(null);function xe(i,r){switch(ue(Te,r),ue(Ee,i),ue(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?tb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=tb(r),i=nb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(fe),ue(fe,i)}function ye(){te(fe),te(Ee),te(Te)}function Ft(i){i.memoizedState!==null&&ue(oe,i);var r=fe.current,o=nb(r,i.type);r!==o&&(ue(Ee,i),ue(fe,o))}function ji(i){Ee.current===i&&(te(fe),te(Ee)),oe.current===i&&(te(oe),Sc._currentValue=de)}var Kn,Ys;function cn(i){if(Kn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Kn=r&&r[1]||"",Ys=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+i+Ys}var ta=!1;function na(i,r){if(!i||ta)return"";ta=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Q=W}Reflect.construct(i,[],se)}else{try{se.call()}catch(W){Q=W}i.call(se.prototype)}}else{try{throw Error()}catch(W){Q=W}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],E=p[1];if(b&&E){var O=b.split(`
`),Y=E.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===Y.length)for(c=O.length-1,f=Y.length-1;1<=c&&0<=f&&O[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==Y[f]){var Z=`
`+O[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=f);break}}}finally{ta=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?cn(o):""}function Al(i,r){switch(i.tag){case 26:case 27:case 5:return cn(i.type);case 16:return cn("Lazy");case 13:return i.child!==r&&r!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return na(i.type,!1);case 11:return na(i.type.render,!1);case 1:return na(i.type,!0);case 31:return cn("Activity");default:return""}}function Cl(i){try{var r="",o=null;do r+=Al(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Nt=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,Qs=t.unstable_cancelCallback,Hd=t.unstable_shouldYield,ku=t.unstable_requestPaint,gn=t.unstable_now,ia=t.unstable_getCurrentPriorityLevel,Rl=t.unstable_ImmediatePriority,Nl=t.unstable_UserBlockingPriority,Xs=t.unstable_NormalPriority,qd=t.unstable_LowPriority,Mu=t.unstable_IdlePriority,Vu=t.log,ju=t.unstable_setDisableYieldValue,fi=null,Wt=null;function $n(i){if(typeof Vu=="function"&&ju(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(fi,i)}catch{}}var wt=Math.clz32?Math.clz32:Ou,Pu=Math.log,Xa=Math.LN2;function Ou(i){return i>>>=0,i===0?32:31-(Pu(i)/Xa|0)|0}var Pi=256,sa=262144,It=4194304;function Oi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Li(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~p,c!==0?f=Oi(c):(b&=E,b!==0?f=Oi(b):o||(o=E&~i,o!==0&&(f=Oi(o))))):(E=c&~p,E!==0?f=Oi(E):b!==0?f=Oi(b):o||(o=c&~i,o!==0&&(f=Oi(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function di(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Gd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var i=It;return It<<=1,(It&62914560)===0&&(It=4194304),i}function Ui(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ra(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kd(i,r,o,c,f,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,O=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-wt(o),se=1<<Z;E[Z]=0,O[Z]=-1;var Q=Y[Z];if(Q!==null)for(Y[Z]=null,Z=0;Z<Q.length;Z++){var W=Q[Z];W!==null&&(W.lane&=-536870913)}o&=~se}c!==0&&aa(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~r))}function aa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-wt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Il(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-wt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Dl(i,r){var o=r&-r;return o=(o&42)!==0?1:oa(o),(o&(i.suspendedLanes|r))!==0?0:o}function oa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ps(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Uu(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:Sb(i.type))}function mi(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var pi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+pi,$t="__reactProps$"+pi,Bi="__reactContainer$"+pi,Wa="__reactEvents$"+pi,$d="__reactListeners$"+pi,Bu="__reactHandles$"+pi,zu="__reactResources$"+pi,zi="__reactMarker$"+pi;function Ja(i){delete i[Dt],delete i[$t],delete i[Wa],delete i[$d],delete i[Bu]}function Fi(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Bi]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=cb(i);i!==null;){if(o=i[Dt])return o;i=cb(i)}return r}i=o,o=i.parentNode}return null}function Yn(i){if(i=i[Dt]||i[Bi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function kn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Hi(i){var r=i[zu];return r||(r=i[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function kt(i){i[zi]=!0}var kl=new Set,Ml={};function qi(i,r){Gi(i,r),Gi(i+"Capture",r)}function Gi(i,r){for(Ml[i]=r,i=0;i<r.length;i++)kl.add(r[i])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},Pl={};function Fu(i){return Nt.call(Pl,i)?!0:Nt.call(jl,i)?!1:Vl.test(i)?Pl[i]=!0:(jl[i]=!0,!1)}function Za(i,r,o){if(Fu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Mn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Mt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Yt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ws(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ol(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ze(i){if(!i._valueTracker){var r=Ws(i)?"checked":"value";i._valueTracker=Ol(i,r,""+i[r])}}function la(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Ws(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ca=/[\n"\\]/g;function bn(i){return i.replace(ca,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function eo(i,r,o,c,f,p,b,E){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Yt(r)):i.value!==""+Yt(r)&&(i.value=""+Yt(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Ll(i,b,Yt(r)):o!=null?Ll(i,b,Yt(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Yt(E):i.removeAttribute("name")}function Hu(i,r,o,c,f,p,b,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Ze(i);return}o=o!=null?""+Yt(o):"",r=r!=null?""+Yt(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Ze(i)}function Ll(i,r,o){r==="number"&&Ki(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Js(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Yt(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function qu(i,r,o){if(r!=null&&(r=""+Yt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Yt(o):""}function Zs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Me(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Yt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Ze(i)}function wn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Gu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Bl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Ul(i,f,c)}else for(var p in r)r.hasOwnProperty(p)&&Ul(i,p,r[p])}function to(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(i){return er.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gi(){}var zl=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var tr=null,$i=null;function ua(i){var r=Yn(i);if(r&&(i=r.stateNode)){var o=i[$t]||null;e:switch(i=r.stateNode,r.type){case"input":if(eo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[$t]||null;if(!f)throw Error(s(90));eo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&la(c)}break e;case"textarea":qu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Js(i,!!o.multiple,r,!1)}}}var io=!1;function nr(i,r,o){if(io)return i(r,o);io=!0;try{var c=i(r);return c}finally{if(io=!1,(tr!==null||$i!==null)&&(Uh(),tr&&(r=tr,i=$i,$i=tr=null,ua(r),i)))for(r=0;r<i.length;r++)ua(i[r])}}function yi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[$t]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Xn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ha=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ha=!1}var Yi=null,Fl=null,fa=null;function Hl(){if(fa)return fa;var i,r=Fl,o=r.length,c,f="value"in Yi?Yi.value:Yi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===f[p-c];c++);return fa=f.slice(i,1<c?1-c:void 0)}function da(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function gs(){return!0}function vi(){return!1}function Jt(i){function r(o,c,f,p,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?gs:vi,this.isPropagationStopped=vi,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),r}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=Jt(ys),ir=x({},ys,{view:0,detail:0}),ql=Jt(ir),sr,so,Xi,ro=x({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xi&&(Xi&&i.type==="mousemove"?(sr=i.screenX-Xi.screenX,so=i.screenY-Xi.screenY):so=sr=0,Xi=i),sr)},movementY:function(i){return"movementY"in i?i.movementY:so}}),Gl=Jt(ro),ma=x({},ro,{dataTransfer:0}),$u=Jt(ma),Yu=x({},ir,{relatedTarget:0}),pa=Jt(Yu),Kl=x({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Jt(Kl),ao=x({},ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xu=Jt(ao),Wu=x({},ys,{data:0}),Wi=Jt(Wu),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=eh[i])?!!r[i]:!1}function rr(){return th}var yn=x({},ir,{key:function(i){if(i.key){var r=Ju[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=da(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(i){return i.type==="keypress"?da(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?da(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nh=Jt(yn),ih=x({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=Jt(ih),h=x({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),_=Jt(h),w=x({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Jt(w),K=x({},ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Jt(K),ce=x({},ys,{newState:0,oldState:0}),Ve=Jt(ce),Tt=[9,13,27,32],Qe=Xn&&"CompositionEvent"in window,ft=null;Xn&&"documentMode"in document&&(ft=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!ft,Ji=Xn&&(!Qe||ft&&8<ft&&11>=ft),_i=" ",xi=!1;function ga(i,r){switch(i){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lo=!1;function wR(i,r){switch(i){case"compositionend":return oo(r);case"keypress":return r.which!==32?null:(xi=!0,_i);case"textInput":return i=r.data,i===_i&&xi?null:i;default:return null}}function TR(i,r){if(lo)return i==="compositionend"||!Qe&&ga(i,r)?(i=Hl(),fa=Fl=Yi=null,lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ji&&r.locale!=="ko"?null:r.data;default:return null}}var ER={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ER[i.type]:r==="textarea"}function dv(i,r,o,c){tr?$i?$i.push(c):$i=[c]:tr=c,r=Kh(r,"onChange"),0<r.length&&(o=new Qi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var $l=null,Yl=null;function SR(i){Qx(i,0)}function sh(i){var r=kn(i);if(la(r))return i}function mv(i,r){if(i==="change")return r}var pv=!1;if(Xn){var Yd;if(Xn){var Qd="oninput"in document;if(!Qd){var gv=document.createElement("div");gv.setAttribute("oninput","return;"),Qd=typeof gv.oninput=="function"}Yd=Qd}else Yd=!1;pv=Yd&&(!document.documentMode||9<document.documentMode)}function yv(){$l&&($l.detachEvent("onpropertychange",vv),Yl=$l=null)}function vv(i){if(i.propertyName==="value"&&sh(Yl)){var r=[];dv(r,Yl,i,Qn(i)),nr(SR,r)}}function AR(i,r,o){i==="focusin"?(yv(),$l=r,Yl=o,$l.attachEvent("onpropertychange",vv)):i==="focusout"&&yv()}function CR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sh(Yl)}function RR(i,r){if(i==="click")return sh(r)}function NR(i,r){if(i==="input"||i==="change")return sh(r)}function IR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Vn=typeof Object.is=="function"?Object.is:IR;function Ql(i,r){if(Vn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Nt.call(r,f)||!Vn(i[f],r[f]))return!1}return!0}function _v(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xv(i,r){var o=_v(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_v(o)}}function bv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?bv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function wv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ki(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ki(i.document)}return r}function Xd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var DR=Xn&&"documentMode"in document&&11>=document.documentMode,co=null,Wd=null,Xl=null,Jd=!1;function Tv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jd||co==null||co!==Ki(c)||(c=co,"selectionStart"in c&&Xd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xl&&Ql(Xl,c)||(Xl=c,c=Kh(Wd,"onSelect"),0<c.length&&(r=new Qi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=co)))}function ya(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var uo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Zd={},Ev={};Xn&&(Ev=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function va(i){if(Zd[i])return Zd[i];if(!uo[i])return i;var r=uo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ev)return Zd[i]=r[o];return i}var Sv=va("animationend"),Av=va("animationiteration"),Cv=va("animationstart"),kR=va("transitionrun"),MR=va("transitionstart"),VR=va("transitioncancel"),Rv=va("transitionend"),Nv=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function bi(i,r){Nv.set(i,r),qi(r,[i])}var rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Jn=[],ho=0,tm=0;function ah(){for(var i=ho,r=tm=ho=0;r<i;){var o=Jn[r];Jn[r++]=null;var c=Jn[r];Jn[r++]=null;var f=Jn[r];Jn[r++]=null;var p=Jn[r];if(Jn[r++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}p!==0&&Iv(o,f,p)}}function oh(i,r,o,c){Jn[ho++]=i,Jn[ho++]=r,Jn[ho++]=o,Jn[ho++]=c,tm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function nm(i,r,o,c){return oh(i,r,o,c),lh(i)}function _a(i,r){return oh(i,null,null,r),lh(i)}function Iv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-wt(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),p):null}function lh(i){if(50<vc)throw vc=0,hp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var fo={};function jR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,r,o,c){return new jR(i,r,o,c)}function im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _s(i,r){var o=i.alternate;return o===null?(o=jn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Dv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ch(i,r,o,c,f,p){var b=0;if(c=i,typeof i=="function")im(i)&&(b=1);else if(typeof i=="string")b=B2(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=jn(31,o,r,f),i.elementType=N,i.lanes=p,i;case P:return xa(o.children,f,p,r);case j:b=8,f|=24;break;case L:return i=jn(12,o,r,f|2),i.elementType=L,i.lanes=p,i;case ee:return i=jn(13,o,r,f),i.elementType=ee,i.lanes=p,i;case le:return i=jn(19,o,r,f),i.elementType=le,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:b=10;break e;case B:b=9;break e;case J:b=11;break e;case A:b=14;break e;case S:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=jn(b,o,r,f),r.elementType=i,r.type=c,r.lanes=p,r}function xa(i,r,o,c){return i=jn(7,i,c,r),i.lanes=o,i}function sm(i,r,o){return i=jn(6,i,null,r),i.lanes=o,i}function kv(i){var r=jn(18,null,null,0);return r.stateNode=i,r}function rm(i,r,o){return r=jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Mv=new WeakMap;function Zn(i,r){if(typeof i=="object"&&i!==null){var o=Mv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Cl(r)},Mv.set(i,r),r)}return{value:i,source:r,stack:Cl(r)}}var mo=[],po=0,uh=null,Wl=0,ei=[],ti=0,ar=null,Zi=1,es="";function xs(i,r){mo[po++]=Wl,mo[po++]=uh,uh=i,Wl=r}function Vv(i,r,o){ei[ti++]=Zi,ei[ti++]=es,ei[ti++]=ar,ar=i;var c=Zi;i=es;var f=32-wt(c)-1;c&=~(1<<f),o+=1;var p=32-wt(r)+f;if(30<p){var b=f-f%5;p=(c&(1<<b)-1).toString(32),c>>=b,f-=b,Zi=1<<32-wt(r)+f|o<<f|c,es=p+i}else Zi=1<<p|o<<f|c,es=i}function am(i){i.return!==null&&(xs(i,1),Vv(i,1,0))}function om(i){for(;i===uh;)uh=mo[--po],mo[po]=null,Wl=mo[--po],mo[po]=null;for(;i===ar;)ar=ei[--ti],ei[ti]=null,es=ei[--ti],ei[ti]=null,Zi=ei[--ti],ei[ti]=null}function jv(i,r){ei[ti++]=Zi,ei[ti++]=es,ei[ti++]=ar,Zi=r.id,es=r.overflow,ar=i}var Zt=null,ct=null,Ge=!1,or=null,ni=!1,lm=Error(s(519));function lr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Zn(r,i)),lm}function Pv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Dt]=i,r[$t]=c,o){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(o=0;o<xc.length;o++)Ue(xc[o],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),Hu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Zs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Zx(r.textContent,o)?(c.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),c.onScroll!=null&&Ue("scroll",r),c.onScrollEnd!=null&&Ue("scrollend",r),c.onClick!=null&&(r.onclick=gi),r=!0):r=!1,r||lr(i,!0)}function Ov(i){for(Zt=i.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Zt=Zt.return}}function go(i){if(i!==Zt)return!1;if(!Ge)return Ov(i),Ge=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ap(i.type,i.memoizedProps)),o=!o),o&&ct&&lr(i),Ov(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=lb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=lb(i)}else r===27?(r=ct,wr(i.type)?(i=Dp,Dp=null,ct=i):ct=r):ct=Zt?si(i.stateNode.nextSibling):null;return!0}function ba(){ct=Zt=null,Ge=!1}function cm(){var i=or;return i!==null&&(An===null?An=i:An.push.apply(An,i),or=null),i}function Jl(i){or===null?or=[i]:or.push(i)}var um=U(null),wa=null,bs=null;function cr(i,r,o){ue(um,r._currentValue),r._currentValue=o}function ws(i){i._currentValue=um.current,te(um)}function hm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function fm(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var O=0;O<r.length;O++)if(E.context===r[O]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),hm(p.return,o,i),c||(b=null);break e}p=E.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),hm(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function yo(i,r,o,c){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var E=f.type;Vn(f.pendingProps.value,b.value)||(i!==null?i.push(E):i=[E])}}else if(f===oe.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Sc):i=[Sc])}f=f.return}i!==null&&fm(r,i,o,c),r.flags|=262144}function hh(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){wa=i,bs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function en(i){return Lv(wa,i)}function fh(i,r){return wa===null&&Ta(i),Lv(i,r)}function Lv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},bs===null){if(i===null)throw Error(s(308));bs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else bs=bs.next=r;return o}var PR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},OR=t.unstable_scheduleCallback,LR=t.unstable_NormalPriority,Vt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new PR,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&OR(LR,function(){i.controller.abort()})}var ec=null,mm=0,vo=0,_o=null;function UR(i,r){if(ec===null){var o=ec=[];mm=0,vo=yp(),_o={status:"pending",value:void 0,then:function(c){o.push(c)}}}return mm++,r.then(Uv,Uv),r}function Uv(){if(--mm===0&&ec!==null){_o!==null&&(_o.status="fulfilled");var i=ec;ec=null,vo=0,_o=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function BR(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Bv=G.S;G.S=function(i,r){Tx=gn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&UR(i,r),Bv!==null&&Bv(i,r)};var Ea=U(null);function pm(){var i=Ea.current;return i!==null?i:at.pooledCache}function dh(i,r){r===null?ue(Ea,Ea.current):ue(Ea,r.pool)}function zv(){var i=pm();return i===null?null:{parent:Vt._currentValue,pool:i}}var xo=Error(s(460)),gm=Error(s(474)),mh=Error(s(542)),ph={then:function(){}};function Fv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(gi,gi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gv(i),i;default:if(typeof r.status=="string")r.then(gi,gi);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gv(i),i}throw Aa=r,xo}}function Sa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,xo):o}}var Aa=null;function qv(){if(Aa===null)throw Error(s(459));var i=Aa;return Aa=null,i}function Gv(i){if(i===xo||i===mh)throw Error(s(483))}var bo=null,tc=0;function gh(i){var r=tc;return tc+=1,bo===null&&(bo=[]),Hv(bo,i,r)}function nc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function yh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Kv(i){function r(q,H){if(i){var $=q.deletions;$===null?(q.deletions=[H],q.flags|=16):$.push(H)}}function o(q,H){if(!i)return null;for(;H!==null;)r(q,H),H=H.sibling;return null}function c(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function f(q,H){return q=_s(q,H),q.index=0,q.sibling=null,q}function p(q,H,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<H?(q.flags|=67108866,H):$):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function E(q,H,$,ne){return H===null||H.tag!==6?(H=sm($,q.mode,ne),H.return=q,H):(H=f(H,$),H.return=q,H)}function O(q,H,$,ne){var ve=$.type;return ve===P?Z(q,H,$.props.children,ne,$.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&Sa(ve)===H.type)?(H=f(H,$.props),nc(H,$),H.return=q,H):(H=ch($.type,$.key,$.props,null,q.mode,ne),nc(H,$),H.return=q,H)}function Y(q,H,$,ne){return H===null||H.tag!==4||H.stateNode.containerInfo!==$.containerInfo||H.stateNode.implementation!==$.implementation?(H=rm($,q.mode,ne),H.return=q,H):(H=f(H,$.children||[]),H.return=q,H)}function Z(q,H,$,ne,ve){return H===null||H.tag!==7?(H=xa($,q.mode,ne,ve),H.return=q,H):(H=f(H,$),H.return=q,H)}function se(q,H,$){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=sm(""+H,q.mode,$),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return $=ch(H.type,H.key,H.props,null,q.mode,$),nc($,H),$.return=q,$;case k:return H=rm(H,q.mode,$),H.return=q,H;case S:return H=Sa(H),se(q,H,$)}if(Me(H)||F(H))return H=xa(H,q.mode,$,null),H.return=q,H;if(typeof H.then=="function")return se(q,gh(H),$);if(H.$$typeof===z)return se(q,fh(q,H),$);yh(q,H)}return null}function Q(q,H,$,ne){var ve=H!==null?H.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:E(q,H,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return $.key===ve?O(q,H,$,ne):null;case k:return $.key===ve?Y(q,H,$,ne):null;case S:return $=Sa($),Q(q,H,$,ne)}if(Me($)||F($))return ve!==null?null:Z(q,H,$,ne,null);if(typeof $.then=="function")return Q(q,H,gh($),ne);if($.$$typeof===z)return Q(q,H,fh(q,$),ne);yh(q,$)}return null}function W(q,H,$,ne,ve){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get($)||null,E(H,q,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case R:return q=q.get(ne.key===null?$:ne.key)||null,O(H,q,ne,ve);case k:return q=q.get(ne.key===null?$:ne.key)||null,Y(H,q,ne,ve);case S:return ne=Sa(ne),W(q,H,$,ne,ve)}if(Me(ne)||F(ne))return q=q.get($)||null,Z(H,q,ne,ve,null);if(typeof ne.then=="function")return W(q,H,$,gh(ne),ve);if(ne.$$typeof===z)return W(q,H,$,fh(H,ne),ve);yh(H,ne)}return null}function pe(q,H,$,ne){for(var ve=null,$e=null,ge=H,Pe=H=0,ze=null;ge!==null&&Pe<$.length;Pe++){ge.index>Pe?(ze=ge,ge=null):ze=ge.sibling;var Ye=Q(q,ge,$[Pe],ne);if(Ye===null){ge===null&&(ge=ze);break}i&&ge&&Ye.alternate===null&&r(q,ge),H=p(Ye,H,Pe),$e===null?ve=Ye:$e.sibling=Ye,$e=Ye,ge=ze}if(Pe===$.length)return o(q,ge),Ge&&xs(q,Pe),ve;if(ge===null){for(;Pe<$.length;Pe++)ge=se(q,$[Pe],ne),ge!==null&&(H=p(ge,H,Pe),$e===null?ve=ge:$e.sibling=ge,$e=ge);return Ge&&xs(q,Pe),ve}for(ge=c(ge);Pe<$.length;Pe++)ze=W(ge,q,Pe,$[Pe],ne),ze!==null&&(i&&ze.alternate!==null&&ge.delete(ze.key===null?Pe:ze.key),H=p(ze,H,Pe),$e===null?ve=ze:$e.sibling=ze,$e=ze);return i&&ge.forEach(function(Cr){return r(q,Cr)}),Ge&&xs(q,Pe),ve}function we(q,H,$,ne){if($==null)throw Error(s(151));for(var ve=null,$e=null,ge=H,Pe=H=0,ze=null,Ye=$.next();ge!==null&&!Ye.done;Pe++,Ye=$.next()){ge.index>Pe?(ze=ge,ge=null):ze=ge.sibling;var Cr=Q(q,ge,Ye.value,ne);if(Cr===null){ge===null&&(ge=ze);break}i&&ge&&Cr.alternate===null&&r(q,ge),H=p(Cr,H,Pe),$e===null?ve=Cr:$e.sibling=Cr,$e=Cr,ge=ze}if(Ye.done)return o(q,ge),Ge&&xs(q,Pe),ve;if(ge===null){for(;!Ye.done;Pe++,Ye=$.next())Ye=se(q,Ye.value,ne),Ye!==null&&(H=p(Ye,H,Pe),$e===null?ve=Ye:$e.sibling=Ye,$e=Ye);return Ge&&xs(q,Pe),ve}for(ge=c(ge);!Ye.done;Pe++,Ye=$.next())Ye=W(ge,q,Pe,Ye.value,ne),Ye!==null&&(i&&Ye.alternate!==null&&ge.delete(Ye.key===null?Pe:Ye.key),H=p(Ye,H,Pe),$e===null?ve=Ye:$e.sibling=Ye,$e=Ye);return i&&ge.forEach(function(W2){return r(q,W2)}),Ge&&xs(q,Pe),ve}function rt(q,H,$,ne){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case R:e:{for(var ve=$.key;H!==null;){if(H.key===ve){if(ve=$.type,ve===P){if(H.tag===7){o(q,H.sibling),ne=f(H,$.props.children),ne.return=q,q=ne;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&Sa(ve)===H.type){o(q,H.sibling),ne=f(H,$.props),nc(ne,$),ne.return=q,q=ne;break e}o(q,H);break}else r(q,H);H=H.sibling}$.type===P?(ne=xa($.props.children,q.mode,ne,$.key),ne.return=q,q=ne):(ne=ch($.type,$.key,$.props,null,q.mode,ne),nc(ne,$),ne.return=q,q=ne)}return b(q);case k:e:{for(ve=$.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===$.containerInfo&&H.stateNode.implementation===$.implementation){o(q,H.sibling),ne=f(H,$.children||[]),ne.return=q,q=ne;break e}else{o(q,H);break}else r(q,H);H=H.sibling}ne=rm($,q.mode,ne),ne.return=q,q=ne}return b(q);case S:return $=Sa($),rt(q,H,$,ne)}if(Me($))return pe(q,H,$,ne);if(F($)){if(ve=F($),typeof ve!="function")throw Error(s(150));return $=ve.call($),we(q,H,$,ne)}if(typeof $.then=="function")return rt(q,H,gh($),ne);if($.$$typeof===z)return rt(q,H,fh(q,$),ne);yh(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,H!==null&&H.tag===6?(o(q,H.sibling),ne=f(H,$),ne.return=q,q=ne):(o(q,H),ne=sm($,q.mode,ne),ne.return=q,q=ne),b(q)):o(q,H)}return function(q,H,$,ne){try{tc=0;var ve=rt(q,H,$,ne);return bo=null,ve}catch(ge){if(ge===xo||ge===mh)throw ge;var $e=jn(29,ge,null,q.mode);return $e.lanes=ne,$e.return=q,$e}}}var Ca=Kv(!0),$v=Kv(!1),ur=!1;function ym(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=lh(i),Iv(i,null,o),r}return oh(i,c,r,o),lh(i)}function ic(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Il(i,o)}}function _m(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var xm=!1;function sc(){if(xm){var i=_o;if(i!==null)throw i}}function rc(i,r,o,c){xm=!1;var f=i.updateQueue;ur=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,Y=O.next;O.next=null,b===null?p=Y:b.next=Y,b=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==b&&(E===null?Z.firstBaseUpdate=Y:E.next=Y,Z.lastBaseUpdate=O))}if(p!==null){var se=f.baseState;b=0,Z=Y=O=null,E=p;do{var Q=E.lane&-536870913,W=Q!==E.lane;if(W?(Be&Q)===Q:(c&Q)===Q){Q!==0&&Q===vo&&(xm=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=i,we=E;Q=r;var rt=o;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){se=pe.call(rt,se,Q);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,Q=typeof pe=="function"?pe.call(rt,se,Q):pe,Q==null)break e;se=x({},se,Q);break e;case 2:ur=!0}}Q=E.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(Y=Z=W,O=se):Z=Z.next=W,b|=Q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;W=E,E=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(O=se),f.baseState=O,f.firstBaseUpdate=Y,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),yr|=b,i.lanes=b,i.memoizedState=se}}function Yv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Qv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yv(o[i],r)}var wo=U(null),vh=U(0);function Xv(i,r){i=Ds,ue(vh,i),ue(wo,r),Ds=i|r.baseLanes}function bm(){ue(vh,Ds),ue(wo,wo.current)}function wm(){Ds=vh.current,te(wo),te(vh)}var Pn=U(null),ii=null;function dr(i){var r=i.alternate;ue(Et,Et.current&1),ue(Pn,i),ii===null&&(r===null||wo.current!==null||r.memoizedState!==null)&&(ii=i)}function Tm(i){ue(Et,Et.current),ue(Pn,i),ii===null&&(ii=i)}function Wv(i){i.tag===22?(ue(Et,Et.current),ue(Pn,i),ii===null&&(ii=i)):mr()}function mr(){ue(Et,Et.current),ue(Pn,Pn.current)}function On(i){te(Pn),ii===i&&(ii=null),te(Et)}var Et=U(0);function _h(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Np(o)||Ip(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ts=0,je=null,it=null,jt=null,xh=!1,To=!1,Ra=!1,bh=0,ac=0,Eo=null,zR=0;function _t(){throw Error(s(321))}function Em(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Vn(i[o],r[o]))return!1;return!0}function Sm(i,r,o,c,f,p){return Ts=p,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=i===null||i.memoizedState===null?V_:Bm,Ra=!1,p=o(c,f),Ra=!1,To&&(p=Zv(r,o,c,f)),Jv(i),p}function Jv(i){G.H=cc;var r=it!==null&&it.next!==null;if(Ts=0,jt=it=je=null,xh=!1,ac=0,Eo=null,r)throw Error(s(300));i===null||Pt||(i=i.dependencies,i!==null&&hh(i)&&(Pt=!0))}function Zv(i,r,o,c){je=i;var f=0;do{if(To&&(Eo=null),ac=0,To=!1,25<=f)throw Error(s(301));if(f+=1,jt=it=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=j_,p=r(o,c)}while(To);return p}function FR(){var i=G.H,r=i.useState()[0];return r=typeof r.then=="function"?oc(r):r,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(je.flags|=1024),r}function Am(){var i=bh!==0;return bh=0,i}function Cm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Rm(i){if(xh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xh=!1}Ts=0,jt=it=je=null,To=!1,ac=bh=0,Eo=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?je.memoizedState=jt=i:jt=jt.next=i,jt}function St(){if(it===null){var i=je.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var r=jt===null?je.memoizedState:jt.next;if(r!==null)jt=r,it=i;else{if(i===null)throw je.alternate===null?Error(s(467)):Error(s(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},jt===null?je.memoizedState=jt=i:jt=jt.next=i}return jt}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(i){var r=ac;return ac+=1,Eo===null&&(Eo=[]),i=Hv(Eo,i,r),r=je,(jt===null?r.memoizedState:jt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?V_:Bm),i}function Th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return oc(i);if(i.$$typeof===z)return en(i)}throw Error(s(438,String(i)))}function Nm(i){var r=null,o=je.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wh(),je.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=V;return r.index++,o}function Es(i,r){return typeof r=="function"?r(i):r}function Eh(i){var r=St();return Im(r,it,i)}function Im(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}r.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var E=b=null,O=null,Y=r,Z=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Be&se)===se:(Ts&se)===se){var Q=Y.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===vo&&(Z=!0);else if((Ts&Q)===Q){Y=Y.next,Q===vo&&(Z=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(E=O=se,b=p):O=O.next=se,je.lanes|=Q,yr|=Q;se=Y.action,Ra&&o(p,se),p=Y.hasEagerState?Y.eagerState:o(p,se)}else Q={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(E=O=Q,b=p):O=O.next=Q,je.lanes|=se,yr|=se;Y=Y.next}while(Y!==null&&Y!==r);if(O===null?b=p:O.next=E,!Vn(p,i.memoizedState)&&(Pt=!0,Z&&(o=_o,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=O,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Dm(i){var r=St(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=i(p,b.action),b=b.next;while(b!==f);Vn(p,r.memoizedState)||(Pt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function e_(i,r,o){var c=je,f=St(),p=Ge;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Vn((it||f).memoizedState,o);if(b&&(f.memoizedState=o,Pt=!0),f=f.queue,Vm(i_.bind(null,c,f,i),[i]),f.getSnapshot!==r||b||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,So(9,{destroy:void 0},n_.bind(null,c,f,o,r),null),at===null)throw Error(s(349));p||(Ts&127)!==0||t_(c,r,o)}return o}function t_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=je.updateQueue,r===null?(r=wh(),je.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function n_(i,r,o,c){r.value=o,r.getSnapshot=c,s_(r)&&r_(i)}function i_(i,r,o){return o(function(){s_(r)&&r_(i)})}function s_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Vn(i,o)}catch{return!0}}function r_(i){var r=_a(i,2);r!==null&&Cn(r,i,2)}function km(i){var r=vn();if(typeof i=="function"){var o=i;if(i=o(),Ra){$n(!0);try{o()}finally{$n(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:i},r}function a_(i,r,o,c){return i.baseState=o,Im(i,it,typeof c=="function"?c:Es)}function HR(i,r,o,c,f){if(Ch(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};G.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,o_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function o_(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var p=G.T,b={};G.T=b;try{var E=o(f,c),O=G.S;O!==null&&O(b,E),l_(i,r,E)}catch(Y){Mm(i,r,Y)}finally{p!==null&&b.types!==null&&(p.types=b.types),G.T=p}}else try{p=o(f,c),l_(i,r,p)}catch(Y){Mm(i,r,Y)}}function l_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){c_(i,r,c)},function(c){return Mm(i,r,c)}):c_(i,r,o)}function c_(i,r,o){r.status="fulfilled",r.value=o,u_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,o_(i,o)))}function Mm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,u_(r),r=r.next;while(r!==c)}i.action=null}function u_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function h_(i,r){return r}function f_(i,r){if(Ge){var o=at.formState;if(o!==null){e:{var c=je;if(Ge){if(ct){t:{for(var f=ct,p=ni;f.nodeType!==8;){if(!p){f=null;break t}if(f=si(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ct=si(f.nextSibling),c=f.data==="F!";break e}}lr(c)}c=!1}c&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h_,lastRenderedState:r},o.queue=c,o=D_.bind(null,je,c),c.dispatch=o,c=km(!1),p=Um.bind(null,je,!1,c.queue),c=vn(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=HR.bind(null,je,f,p,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function d_(i){var r=St();return m_(r,it,i)}function m_(i,r,o){if(r=Im(i,r,h_)[0],i=Eh(Es)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=oc(r)}catch(b){throw b===xo?mh:b}else c=r;r=St();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(je.flags|=2048,So(9,{destroy:void 0},qR.bind(null,f,o),null)),[c,p,i]}function qR(i,r){i.action=r}function p_(i){var r=St(),o=it;if(o!==null)return m_(r,o,i);St(),r=r.memoizedState,o=St();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function So(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=je.updateQueue,r===null&&(r=wh(),je.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function g_(){return St().memoizedState}function Sh(i,r,o,c){var f=vn();je.flags|=i,f.memoizedState=So(1|r,{destroy:void 0},o,c===void 0?null:c)}function Ah(i,r,o,c){var f=St();c=c===void 0?null:c;var p=f.memoizedState.inst;it!==null&&c!==null&&Em(c,it.memoizedState.deps)?f.memoizedState=So(r,p,o,c):(je.flags|=i,f.memoizedState=So(1|r,p,o,c))}function y_(i,r){Sh(8390656,8,i,r)}function Vm(i,r){Ah(2048,8,i,r)}function GR(i){je.flags|=4;var r=je.updateQueue;if(r===null)r=wh(),je.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function v_(i){var r=St().memoizedState;return GR({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function __(i,r){return Ah(4,2,i,r)}function x_(i,r){return Ah(4,4,i,r)}function b_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function w_(i,r,o){o=o!=null?o.concat([i]):null,Ah(4,4,b_.bind(null,r,i),o)}function jm(){}function T_(i,r){var o=St();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Em(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function E_(i,r){var o=St();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Em(r,c[1]))return c[0];if(c=i(),Ra){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[c,r],c}function Pm(i,r,o){return o===void 0||(Ts&1073741824)!==0&&(Be&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Sx(),je.lanes|=i,yr|=i,o)}function S_(i,r,o,c){return Vn(o,r)?o:wo.current!==null?(i=Pm(i,o,c),Vn(i,r)||(Pt=!0),i):(Ts&42)===0||(Ts&1073741824)!==0&&(Be&261930)===0?(Pt=!0,i.memoizedState=o):(i=Sx(),je.lanes|=i,yr|=i,r)}function A_(i,r,o,c,f){var p=re.p;re.p=p!==0&&8>p?p:8;var b=G.T,E={};G.T=E,Um(i,!1,r,o);try{var O=f(),Y=G.S;if(Y!==null&&Y(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=BR(O,c);lc(i,r,Z,Bn(i))}else lc(i,r,c,Bn(i))}catch(se){lc(i,r,{then:function(){},status:"rejected",reason:se},Bn())}finally{re.p=p,b!==null&&E.types!==null&&(b.types=E.types),G.T=b}}function KR(){}function Om(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=C_(i).queue;A_(i,f,r,de,o===null?KR:function(){return R_(i),o(c)})}function C_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function R_(i){var r=C_(i);r.next===null&&(r=i.alternate.memoizedState),lc(i,r.next.queue,{},Bn())}function Lm(){return en(Sc)}function N_(){return St().memoizedState}function I_(){return St().memoizedState}function $R(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Bn();i=hr(o);var c=fr(r,i,o);c!==null&&(Cn(c,r,o),ic(c,r,o)),r={cache:dm()},i.payload=r;return}r=r.return}}function YR(i,r,o){var c=Bn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ch(i)?k_(r,o):(o=nm(i,r,o,c),o!==null&&(Cn(o,i,c),M_(o,r,c)))}function D_(i,r,o){var c=Bn();lc(i,r,o,c)}function lc(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ch(i))k_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,E=p(b,o);if(f.hasEagerState=!0,f.eagerState=E,Vn(E,b))return oh(i,r,f,0),at===null&&ah(),!1}catch{}if(o=nm(i,r,f,c),o!==null)return Cn(o,i,c),M_(o,r,c),!0}return!1}function Um(i,r,o,c){if(c={lane:2,revertLane:yp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ch(i)){if(r)throw Error(s(479))}else r=nm(i,o,c,2),r!==null&&Cn(r,i,2)}function Ch(i){var r=i.alternate;return i===je||r!==null&&r===je}function k_(i,r){To=xh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function M_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Il(i,o)}}var cc={readContext:en,use:Th,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};cc.useEffectEvent=_t;var V_={readContext:en,use:Th,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:en,useEffect:y_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Sh(4194308,4,b_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Sh(4194308,4,i,r)},useInsertionEffect:function(i,r){Sh(4,2,i,r)},useMemo:function(i,r){var o=vn();r=r===void 0?null:r;var c=i();if(Ra){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=vn();if(o!==void 0){var f=o(r);if(Ra){$n(!0);try{o(r)}finally{$n(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=YR.bind(null,je,i),[c.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:function(i){i=km(i);var r=i.queue,o=D_.bind(null,je,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:jm,useDeferredValue:function(i,r){var o=vn();return Pm(o,i,r)},useTransition:function(){var i=km(!1);return i=A_.bind(null,je,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=je,f=vn();if(Ge){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),at===null)throw Error(s(349));(Be&127)!==0||t_(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,y_(i_.bind(null,c,p,i),[i]),c.flags|=2048,So(9,{destroy:void 0},n_.bind(null,c,p,o,r),null),o},useId:function(){var i=vn(),r=at.identifierPrefix;if(Ge){var o=es,c=Zi;o=(c&~(1<<32-wt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=bh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=zR++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Lm,useFormState:f_,useActionState:f_,useOptimistic:function(i){var r=vn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Um.bind(null,je,!0,o),o.dispatch=r,[i,r]},useMemoCache:Nm,useCacheRefresh:function(){return vn().memoizedState=$R.bind(null,je)},useEffectEvent:function(i){var r=vn(),o={impl:i};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Bm={readContext:en,use:Th,useCallback:T_,useContext:en,useEffect:Vm,useImperativeHandle:w_,useInsertionEffect:__,useLayoutEffect:x_,useMemo:E_,useReducer:Eh,useRef:g_,useState:function(){return Eh(Es)},useDebugValue:jm,useDeferredValue:function(i,r){var o=St();return S_(o,it.memoizedState,i,r)},useTransition:function(){var i=Eh(Es)[0],r=St().memoizedState;return[typeof i=="boolean"?i:oc(i),r]},useSyncExternalStore:e_,useId:N_,useHostTransitionStatus:Lm,useFormState:d_,useActionState:d_,useOptimistic:function(i,r){var o=St();return a_(o,it,i,r)},useMemoCache:Nm,useCacheRefresh:I_};Bm.useEffectEvent=v_;var j_={readContext:en,use:Th,useCallback:T_,useContext:en,useEffect:Vm,useImperativeHandle:w_,useInsertionEffect:__,useLayoutEffect:x_,useMemo:E_,useReducer:Dm,useRef:g_,useState:function(){return Dm(Es)},useDebugValue:jm,useDeferredValue:function(i,r){var o=St();return it===null?Pm(o,i,r):S_(o,it.memoizedState,i,r)},useTransition:function(){var i=Dm(Es)[0],r=St().memoizedState;return[typeof i=="boolean"?i:oc(i),r]},useSyncExternalStore:e_,useId:N_,useHostTransitionStatus:Lm,useFormState:p_,useActionState:p_,useOptimistic:function(i,r){var o=St();return it!==null?a_(o,it,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:I_};j_.useEffectEvent=v_;function zm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:x({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Fm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Bn(),f=hr(c);f.payload=r,o!=null&&(f.callback=o),r=fr(i,f,c),r!==null&&(Cn(r,i,c),ic(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Bn(),f=hr(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=fr(i,f,c),r!==null&&(Cn(r,i,c),ic(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Bn(),c=hr(o);c.tag=2,r!=null&&(c.callback=r),r=fr(i,c,o),r!==null&&(Cn(r,i,o),ic(r,i,o))}};function P_(i,r,o,c,f,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,b):r.prototype&&r.prototype.isPureReactComponent?!Ql(o,c)||!Ql(f,p):!0}function O_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Fm.enqueueReplaceState(r,r.state,null)}function Na(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=x({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function L_(i){rh(i)}function U_(i){console.error(i)}function B_(i){rh(i)}function Rh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function z_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hm(i,r,o){return o=hr(o),o.tag=3,o.payload={element:null},o.callback=function(){Rh(i,r)},o}function F_(i){return i=hr(i),i.tag=3,i}function H_(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){z_(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){z_(r,o,c),typeof f!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function QR(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&yo(r,o,f,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return ii===null?Bh():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===ph?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),mp(i,c,f)),!1;case 22:return o.flags|=65536,c===ph?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),mp(i,c,f)),!1}throw Error(s(435,o.tag))}return mp(i,c,f),Bh(),!1}if(Ge)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==lm&&(i=Error(s(422),{cause:c}),Jl(Zn(i,o)))):(c!==lm&&(r=Error(s(423),{cause:c}),Jl(Zn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Zn(c,o),f=Hm(i.stateNode,c,f),_m(i,f),xt!==4&&(xt=2)),!1;var p=Error(s(520),{cause:c});if(p=Zn(p,o),yc===null?yc=[p]:yc.push(p),xt!==4&&(xt=2),r===null)return!0;c=Zn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Hm(o.stateNode,c,i),_m(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(vr===null||!vr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=F_(f),H_(f,i,o,c),_m(o,f),!1}o=o.return}while(o!==null);return!1}var qm=Error(s(461)),Pt=!1;function tn(i,r,o,c){r.child=i===null?$v(r,null,o,c):Ca(r,i.child,o,c)}function q_(i,r,o,c,f){o=o.render;var p=r.ref;if("ref"in c){var b={};for(var E in c)E!=="ref"&&(b[E]=c[E])}else b=c;return Ta(r),c=Sm(i,r,o,b,p,f),E=Am(),i!==null&&!Pt?(Cm(i,r,f),Ss(i,r,f)):(Ge&&E&&am(r),r.flags|=1,tn(i,r,c,f),r.child)}function G_(i,r,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!im(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,K_(i,r,p,c,f)):(i=ch(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Jm(i,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(b,c)&&i.ref===r.ref)return Ss(i,r,f)}return r.flags|=1,i=_s(p,c),i.ref=r.ref,i.return=r,r.child=i}function K_(i,r,o,c,f){if(i!==null){var p=i.memoizedProps;if(Ql(p,c)&&i.ref===r.ref)if(Pt=!1,r.pendingProps=c=p,Jm(i,f))(i.flags&131072)!==0&&(Pt=!0);else return r.lanes=i.lanes,Ss(i,r,f)}return Gm(i,r,o,c,f)}function $_(i,r,o,c){var f=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,r.child=null;return Y_(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&dh(r,p!==null?p.cachePool:null),p!==null?Xv(r,p):bm(),Wv(r);else return c=r.lanes=536870912,Y_(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(dh(r,p.cachePool),Xv(r,p),mr(),r.memoizedState=null):(i!==null&&dh(r,null),bm(),mr());return tn(i,r,f,o),r.child}function uc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Y_(i,r,o,c,f){var p=pm();return p=p===null?null:{parent:Vt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&dh(r,null),bm(),Wv(r),i!==null&&yo(i,r,c,!0),r.childLanes=f,null}function Nh(i,r){return r=Dh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Q_(i,r,o){return Ca(r,i.child,null,o),i=Nh(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function XR(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ge){if(c.mode==="hidden")return i=Nh(r,c),r.lanes=536870912,uc(null,i);if(Tm(r),(i=ct)?(i=ob(i,ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ar!==null?{id:Zi,overflow:es}:null,retryLane:536870912,hydrationErrors:null},o=kv(i),o.return=r,r.child=o,Zt=r,ct=null)):i=null,i===null)throw lr(r);return r.lanes=536870912,null}return Nh(r,c)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(Tm(r),f)if(r.flags&256)r.flags&=-257,r=Q_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pt||yo(i,r,o,!1),f=(o&i.childLanes)!==0,Pt||f){if(c=at,c!==null&&(b=Dl(c,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,_a(i,b),Cn(c,i,b),qm;Bh(),r=Q_(i,r,o)}else i=p.treeContext,ct=si(b.nextSibling),Zt=r,Ge=!0,or=null,ni=!1,i!==null&&jv(r,i),r=Nh(r,c),r.flags|=4096;return r}return i=_s(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ih(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Gm(i,r,o,c,f){return Ta(r),o=Sm(i,r,o,c,void 0,f),c=Am(),i!==null&&!Pt?(Cm(i,r,f),Ss(i,r,f)):(Ge&&c&&am(r),r.flags|=1,tn(i,r,o,f),r.child)}function X_(i,r,o,c,f,p){return Ta(r),r.updateQueue=null,o=Zv(r,c,o,f),Jv(i),c=Am(),i!==null&&!Pt?(Cm(i,r,p),Ss(i,r,p)):(Ge&&c&&am(r),r.flags|=1,tn(i,r,o,p),r.child)}function W_(i,r,o,c,f){if(Ta(r),r.stateNode===null){var p=fo,b=o.contextType;typeof b=="object"&&b!==null&&(p=en(b)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Fm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},ym(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?en(b):fo,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(zm(r,o,b,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Fm.enqueueReplaceState(p,p.state,null),rc(r,c,p,f),sc(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var E=r.memoizedProps,O=Na(o,E);p.props=O;var Y=p.context,Z=o.contextType;b=fo,typeof Z=="object"&&Z!==null&&(b=en(Z));var se=o.getDerivedStateFromProps;Z=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||Y!==b)&&O_(r,p,c,b),ur=!1;var Q=r.memoizedState;p.state=Q,rc(r,c,p,f),sc(),Y=r.memoizedState,E||Q!==Y||ur?(typeof se=="function"&&(zm(r,o,se,c),Y=r.memoizedState),(O=ur||P_(r,o,O,c,Q,Y,b))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),p.props=c,p.state=Y,p.context=b,c=O):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,vm(i,r),b=r.memoizedProps,Z=Na(o,b),p.props=Z,se=r.pendingProps,Q=p.context,Y=o.contextType,O=fo,typeof Y=="object"&&Y!==null&&(O=en(Y)),E=o.getDerivedStateFromProps,(Y=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==se||Q!==O)&&O_(r,p,c,O),ur=!1,Q=r.memoizedState,p.state=Q,rc(r,c,p,f),sc();var W=r.memoizedState;b!==se||Q!==W||ur||i!==null&&i.dependencies!==null&&hh(i.dependencies)?(typeof E=="function"&&(zm(r,o,E,c),W=r.memoizedState),(Z=ur||P_(r,o,Z,c,Q,W,O)||i!==null&&i.dependencies!==null&&hh(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,W,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,W,O)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),p.props=c,p.state=W,p.context=O,c=Z):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Ih(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Ca(r,i.child,null,f),r.child=Ca(r,null,o,f)):tn(i,r,o,f),r.memoizedState=p.state,i=r.child):i=Ss(i,r,f),i}function J_(i,r,o,c){return ba(),r.flags|=256,tn(i,r,o,c),r.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $m(i){return{baseLanes:i,cachePool:zv()}}function Ym(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Un),i}function Z_(i,r,o){var c=r.pendingProps,f=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(Et.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ge){if(f?dr(r):mr(),(i=ct)?(i=ob(i,ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ar!==null?{id:Zi,overflow:es}:null,retryLane:536870912,hydrationErrors:null},o=kv(i),o.return=r,r.child=o,Zt=r,ct=null)):i=null,i===null)throw lr(r);return Ip(i)?r.lanes=32:r.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(mr(),f=r.mode,E=Dh({mode:"hidden",children:E},f),c=xa(c,f,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,c=r.child,c.memoizedState=$m(o),c.childLanes=Ym(i,b,o),r.memoizedState=Km,uc(null,c)):(dr(r),Qm(r,E))}var O=i.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(p)r.flags&256?(dr(r),r.flags&=-257,r=Xm(i,r,o)):r.memoizedState!==null?(mr(),r.child=i.child,r.flags|=128,r=null):(mr(),E=c.fallback,f=r.mode,c=Dh({mode:"visible",children:c.children},f),E=xa(E,f,o,null),E.flags|=2,c.return=r,E.return=r,c.sibling=E,r.child=c,Ca(r,i.child,null,o),c=r.child,c.memoizedState=$m(o),c.childLanes=Ym(i,b,o),r.memoizedState=Km,r=uc(null,c));else if(dr(r),Ip(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(s(419)),c.stack="",c.digest=b,Jl({value:c,source:null,stack:null}),r=Xm(i,r,o)}else if(Pt||yo(i,r,o,!1),b=(o&i.childLanes)!==0,Pt||b){if(b=at,b!==null&&(c=Dl(b,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,_a(i,c),Cn(b,i,c),qm;Np(E)||Bh(),r=Xm(i,r,o)}else Np(E)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,ct=si(E.nextSibling),Zt=r,Ge=!0,or=null,ni=!1,i!==null&&jv(r,i),r=Qm(r,c.children),r.flags|=4096);return r}return f?(mr(),E=c.fallback,f=r.mode,O=i.child,Y=O.sibling,c=_s(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Y!==null?E=_s(Y,E):(E=xa(E,f,o,null),E.flags|=2),E.return=r,c.return=r,c.sibling=E,r.child=c,uc(null,c),c=r.child,E=i.child.memoizedState,E===null?E=$m(o):(f=E.cachePool,f!==null?(O=Vt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=zv(),E={baseLanes:E.baseLanes|o,cachePool:f}),c.memoizedState=E,c.childLanes=Ym(i,b,o),r.memoizedState=Km,uc(i.child,c)):(dr(r),o=i.child,i=o.sibling,o=_s(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Qm(i,r){return r=Dh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Dh(i,r){return i=jn(22,i,null,r),i.lanes=0,i}function Xm(i,r,o){return Ca(r,i.child,null,o),i=Qm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function ex(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),hm(i.return,r,o)}function Wm(i,r,o,c,f,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=f,b.treeForkCount=p)}function tx(i,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var b=Et.current,E=(b&2)!==0;if(E?(b=b&1|2,r.flags|=128):b&=1,ue(Et,b),tn(i,r,c,o),c=Ge?Wl:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ex(i,o,r);else if(i.tag===19)ex(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&_h(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Wm(r,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&_h(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Wm(r,!0,o,null,p,c);break;case"together":Wm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ss(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),yr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(yo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=_s(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=_s(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Jm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&hh(i)))}function WR(i,r,o){switch(r.tag){case 3:xe(r,r.stateNode.containerInfo),cr(r,Vt,i.memoizedState.cache),ba();break;case 27:case 5:Ft(r);break;case 4:xe(r,r.stateNode.containerInfo);break;case 10:cr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Tm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(dr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Z_(i,r,o):(dr(r),i=Ss(i,r,o),i!==null?i.sibling:null);dr(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(yo(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return tx(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Et,Et.current),c)break;return null;case 22:return r.lanes=0,$_(i,r,o,r.pendingProps);case 24:cr(r,Vt,i.memoizedState.cache)}return Ss(i,r,o)}function nx(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Jm(i,o)&&(r.flags&128)===0)return Pt=!1,WR(i,r,o);Pt=(i.flags&131072)!==0}else Pt=!1,Ge&&(r.flags&1048576)!==0&&Vv(r,Wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Sa(r.elementType),r.type=i,typeof i=="function")im(i)?(c=Na(i,c),r.tag=1,r=W_(null,r,i,c,o)):(r.tag=0,r=Gm(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===J){r.tag=11,r=q_(null,r,i,c,o);break e}else if(f===A){r.tag=14,r=G_(null,r,i,c,o);break e}}throw r=Re(i)||i,Error(s(306,r,""))}}return r;case 0:return Gm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=Na(c,r.pendingProps),W_(i,r,c,f,o);case 3:e:{if(xe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;f=p.element,vm(i,r),rc(r,c,null,o);var b=r.memoizedState;if(c=b.cache,cr(r,Vt,c),c!==p.cache&&fm(r,[Vt],o,!0),sc(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=J_(i,r,c,o);break e}else if(c!==f){f=Zn(Error(s(424)),r),Jl(f),r=J_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ct=si(i.firstChild),Zt=r,Ge=!0,or=null,ni=!0,o=$v(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ba(),c===f){r=Ss(i,r,o);break e}tn(i,r,c,o)}r=r.child}return r;case 26:return Ih(i,r),i===null?(o=db(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ge||(o=r.type,i=r.pendingProps,c=$h(Te.current).createElement(o),c[Dt]=r,c[$t]=i,nn(c,o,i),kt(c),r.stateNode=c):r.memoizedState=db(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ft(r),i===null&&Ge&&(c=r.stateNode=ub(r.type,r.pendingProps,Te.current),Zt=r,ni=!0,f=ct,wr(r.type)?(Dp=f,ct=si(c.firstChild)):ct=f),tn(i,r,r.pendingProps.children,o),Ih(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ge&&((f=c=ct)&&(c=C2(c,r.type,r.pendingProps,ni),c!==null?(r.stateNode=c,Zt=r,ct=si(c.firstChild),ni=!1,f=!0):f=!1),f||lr(r)),Ft(r),f=r.type,p=r.pendingProps,b=i!==null?i.memoizedProps:null,c=p.children,Ap(f,p)?c=null:b!==null&&Ap(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Sm(i,r,FR,null,null,o),Sc._currentValue=f),Ih(i,r),tn(i,r,c,o),r.child;case 6:return i===null&&Ge&&((i=o=ct)&&(o=R2(o,r.pendingProps,ni),o!==null?(r.stateNode=o,Zt=r,ct=null,i=!0):i=!1),i||lr(r)),null;case 13:return Z_(i,r,o);case 4:return xe(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ca(r,null,c,o):tn(i,r,c,o),r.child;case 11:return q_(i,r,r.type,r.pendingProps,o);case 7:return tn(i,r,r.pendingProps,o),r.child;case 8:return tn(i,r,r.pendingProps.children,o),r.child;case 12:return tn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,cr(r,r.type,c.value),tn(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,Ta(r),f=en(f),c=c(f),r.flags|=1,tn(i,r,c,o),r.child;case 14:return G_(i,r,r.type,r.pendingProps,o);case 15:return K_(i,r,r.type,r.pendingProps,o);case 19:return tx(i,r,o);case 31:return XR(i,r,o);case 22:return $_(i,r,o,r.pendingProps);case 24:return Ta(r),c=en(Vt),i===null?(f=pm(),f===null&&(f=at,p=dm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:c,cache:f},ym(r),cr(r,Vt,f)):((i.lanes&o)!==0&&(vm(i,r),rc(r,null,null,o),sc()),f=i.memoizedState,p=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),cr(r,Vt,c)):(c=p.cache,cr(r,Vt,c),c!==f.cache&&fm(r,[Vt],o,!0))),tn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function As(i){i.flags|=4}function Zm(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Nx())i.flags|=8192;else throw Aa=ph,gm}else i.flags&=-16777217}function ix(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vb(r))if(Nx())i.flags|=8192;else throw Aa=ph,gm}function kh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Lu():536870912,i.lanes|=r,No|=r)}function hc(i,r){if(!Ge)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ut(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function JR(i,r,o){var c=r.pendingProps;switch(om(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ws(Vt),ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(go(r)?As(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cm())),ut(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(As(r),p!==null?(ut(r),ix(r,p)):(ut(r),Zm(r,f,null,c,o))):p?p!==i.memoizedState?(As(r),ut(r),ix(r,p)):(ut(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&As(r),ut(r),Zm(r,f,i,c,o)),null;case 27:if(ji(r),o=Te.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&As(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ut(r),null}i=fe.current,go(r)?Pv(r):(i=ub(f,c,o),r.stateNode=i,As(r))}return ut(r),null;case 5:if(ji(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&As(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(p=fe.current,go(r))Pv(r);else{var b=$h(Te.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}p[Dt]=r,p[$t]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(nn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&As(r)}}return ut(r),Zm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&As(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Te.current,go(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Zx(i.nodeValue,o)),i||lr(r,!0)}else i=$h(i).createTextNode(c),i[Dt]=r,r.stateNode=i}return ut(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=go(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Dt]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),i=!1}else o=cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ut(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=go(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Dt]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),kh(r,r.updateQueue),ut(r),null);case 4:return ye(),i===null&&bp(r.stateNode.containerInfo),ut(r),null;case 10:return ws(r.type),ut(r),null;case 19:if(te(Et),c=r.memoizedState,c===null)return ut(r),null;if(f=(r.flags&128)!==0,p=c.rendering,p===null)if(f)hc(c,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=_h(i),p!==null){for(r.flags|=128,hc(c,!1),i=p.updateQueue,r.updateQueue=i,kh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Dv(o,i),o=o.sibling;return ue(Et,Et.current&1|2),Ge&&xs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&gn()>Oh&&(r.flags|=128,f=!0,hc(c,!1),r.lanes=4194304)}else{if(!f)if(i=_h(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,kh(r,i),hc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Ge)return ut(r),null}else 2*gn()-c.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,f=!0,hc(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=gn(),i.sibling=null,o=Et.current,ue(Et,f?o&1|2:o&1),Ge&&xs(r,c.treeForkCount),i):(ut(r),null);case 22:case 23:return On(r),wm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&kh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&te(Ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ws(Vt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ZR(i,r){switch(om(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ws(Vt),ye(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ji(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(Et),null;case 4:return ye(),null;case 10:return ws(r.type),null;case 22:case 23:return On(r),wm(),i!==null&&te(Ea),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ws(Vt),null;case 25:return null;default:return null}}function sx(i,r){switch(om(r),r.tag){case 3:ws(Vt),ye();break;case 26:case 27:case 5:ji(r);break;case 4:ye();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:te(Et);break;case 10:ws(r.type);break;case 22:case 23:On(r),wm(),i!==null&&te(Ea);break;case 24:ws(Vt)}}function fc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==f)}}catch(E){tt(r,r.return,E)}}function pr(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var b=c.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,f=r;var O=o,Y=E;try{Y()}catch(Z){tt(f,O,Z)}}}c=c.next}while(c!==p)}}catch(Z){tt(r,r.return,Z)}}function rx(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Qv(r,o)}catch(c){tt(i,i.return,c)}}}function ax(i,r,o){o.props=Na(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){tt(i,r,c)}}function dc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){tt(i,r,f)}}function ts(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){tt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(i,r,f)}else o.current=null}function ox(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){tt(i,i.return,f)}}function ep(i,r,o){try{var c=i.stateNode;b2(c,i.type,o,r),c[$t]=r}catch(f){tt(i,i.return,f)}}function lx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&wr(i.type)||i.tag===4}function tp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&wr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function np(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=gi));else if(c!==4&&(c===27&&wr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(np(i,r,o),i=i.sibling;i!==null;)np(i,r,o),i=i.sibling}function Mh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&wr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Mh(i,r,o),i=i.sibling;i!==null;)Mh(i,r,o),i=i.sibling}function cx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);nn(r,c,o),r[Dt]=i,r[$t]=o}catch(p){tt(i,i.return,p)}}var Cs=!1,Ot=!1,ip=!1,ux=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function e2(i,r){if(i=i.containerInfo,Ep=ef,i=wv(i),Xd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,E=-1,O=-1,Y=0,Z=0,se=i,Q=null;t:for(;;){for(var W;se!==o||f!==0&&se.nodeType!==3||(E=b+f),se!==p||c!==0&&se.nodeType!==3||(O=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(W=se.firstChild)!==null;)Q=se,se=W;for(;;){if(se===i)break t;if(Q===o&&++Y===f&&(E=b),Q===p&&++Z===c&&(O=b),(W=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=W}o=E===-1||O===-1?null:{start:E,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sp={focusedElem:i,selectionRange:o},ef=!1,Qt=r;Qt!==null;)if(r=Qt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Qt=i;else for(;Qt!==null;){switch(r=Qt,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var pe=Na(o.type,f);i=c.getSnapshotBeforeUpdate(pe,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(we){tt(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Rp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Qt=i;break}Qt=r.return}}function hx(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ns(i,o),c&4&&fc(5,o);break;case 1:if(Ns(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){tt(o,o.return,b)}else{var f=Na(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(o,o.return,b)}}c&64&&rx(o),c&512&&dc(o,o.return);break;case 3:if(Ns(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Qv(i,r)}catch(b){tt(o,o.return,b)}}break;case 27:r===null&&c&4&&cx(o);case 26:case 5:Ns(i,o),r===null&&c&4&&ox(o),c&512&&dc(o,o.return);break;case 12:Ns(i,o);break;case 31:Ns(i,o),c&4&&mx(i,o);break;case 13:Ns(i,o),c&4&&px(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=c2.bind(null,o),N2(i,o))));break;case 22:if(c=o.memoizedState!==null||Cs,!c){r=r!==null&&r.memoizedState!==null||Ot,f=Cs;var p=Ot;Cs=c,(Ot=r)&&!p?Is(i,o,(o.subtreeFlags&8772)!==0):Ns(i,o),Cs=f,Ot=p}break;case 30:break;default:Ns(i,o)}}function fx(i){var r=i.alternate;r!==null&&(i.alternate=null,fx(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ja(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dt=null,Tn=!1;function Rs(i,r,o){for(o=o.child;o!==null;)dx(i,r,o),o=o.sibling}function dx(i,r,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 26:Ot||ts(o,r),Rs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||ts(o,r);var c=dt,f=Tn;wr(o.type)&&(dt=o.stateNode,Tn=!1),Rs(i,r,o),wc(o.stateNode),dt=c,Tn=f;break;case 5:Ot||ts(o,r);case 6:if(c=dt,f=Tn,dt=null,Rs(i,r,o),dt=c,Tn=f,dt!==null)if(Tn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(p){tt(o,r,p)}else try{dt.removeChild(o.stateNode)}catch(p){tt(o,r,p)}break;case 18:dt!==null&&(Tn?(i=dt,rb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Oo(i)):rb(dt,o.stateNode));break;case 4:c=dt,f=Tn,dt=o.stateNode.containerInfo,Tn=!0,Rs(i,r,o),dt=c,Tn=f;break;case 0:case 11:case 14:case 15:pr(2,o,r),Ot||pr(4,o,r),Rs(i,r,o);break;case 1:Ot||(ts(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ax(o,r,c)),Rs(i,r,o);break;case 21:Rs(i,r,o);break;case 22:Ot=(c=Ot)||o.memoizedState!==null,Rs(i,r,o),Ot=c;break;default:Rs(i,r,o)}}function mx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oo(i)}catch(o){tt(r,r.return,o)}}}function px(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oo(i)}catch(o){tt(r,r.return,o)}}function t2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ux),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ux),r;default:throw Error(s(435,i.tag))}}function Vh(i,r){var o=t2(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=u2.bind(null,i,c);c.then(f,f)}})}function En(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,b=r,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(wr(E.type)){dt=E.stateNode,Tn=!1;break e}break;case 5:dt=E.stateNode,Tn=!1;break e;case 3:case 4:dt=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(dt===null)throw Error(s(160));dx(p,b,f),dt=null,Tn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)gx(r,i),r=r.sibling}var wi=null;function gx(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(r,i),Sn(i),c&4&&(pr(3,i,i.return),fc(3,i),pr(5,i,i.return));break;case 1:En(r,i),Sn(i),c&512&&(Ot||o===null||ts(o,o.return)),c&64&&Cs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=wi;if(En(r,i),Sn(i),c&512&&(Ot||o===null||ts(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[zi]||p[Dt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),nn(p,c,o),p[Dt]=i,kt(p),c=p;break e;case"link":var b=gb("link","href",f).get(c+(o.href||""));if(b){for(var E=0;E<b.length;E++)if(p=b[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(E,1);break t}}p=f.createElement(c),nn(p,c,o),f.head.appendChild(p);break;case"meta":if(b=gb("meta","content",f).get(c+(o.content||""))){for(E=0;E<b.length;E++)if(p=b[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(E,1);break t}}p=f.createElement(c),nn(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[Dt]=i,kt(p),c=p}i.stateNode=c}else yb(f,i.type,i.stateNode);else i.stateNode=pb(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?yb(f,i.type,i.stateNode):pb(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ep(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(r,i),Sn(i),c&512&&(Ot||o===null||ts(o,o.return)),o!==null&&c&4&&ep(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(r,i),Sn(i),c&512&&(Ot||o===null||ts(o,o.return)),i.flags&32){f=i.stateNode;try{wn(f,"")}catch(pe){tt(i,i.return,pe)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,ep(i,f,o!==null?o.memoizedProps:f)),c&1024&&(ip=!0);break;case 6:if(En(r,i),Sn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){tt(i,i.return,pe)}}break;case 3:if(Xh=null,f=wi,wi=Yh(r.containerInfo),En(r,i),wi=f,Sn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(r.containerInfo)}catch(pe){tt(i,i.return,pe)}ip&&(ip=!1,yx(i));break;case 4:c=wi,wi=Yh(i.stateNode.containerInfo),En(r,i),Sn(i),wi=c;break;case 12:En(r,i),Sn(i);break;case 31:En(r,i),Sn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vh(i,c)));break;case 13:En(r,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ph=gn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vh(i,c)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,Y=Cs,Z=Ot;if(Cs=Y||f,Ot=Z||O,En(r,i),Ot=Z,Cs=Y,Sn(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||Cs||Ot||Ia(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(p=O.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=O.stateNode;var se=O.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pe){tt(O,O.return,pe)}}}else if(r.tag===18){if(o===null){O=r;try{var W=O.stateNode;f?ab(W,!0):ab(O.stateNode,!1)}catch(pe){tt(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Vh(i,o))));break;case 19:En(r,i),Sn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vh(i,c)));break;case 30:break;case 21:break;default:En(r,i),Sn(i)}}function Sn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(lx(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=tp(i);Mh(i,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(wn(b,""),o.flags&=-33);var E=tp(i);Mh(i,E,b);break;case 3:case 4:var O=o.stateNode.containerInfo,Y=tp(i);np(i,Y,O);break;default:throw Error(s(161))}}catch(Z){tt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function yx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;yx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ns(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)hx(i,r.alternate,r),r=r.sibling}function Ia(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:pr(4,r,r.return),Ia(r);break;case 1:ts(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ax(r,r.return,o),Ia(r);break;case 27:wc(r.stateNode);case 26:case 5:ts(r,r.return),Ia(r);break;case 22:r.memoizedState===null&&Ia(r);break;case 30:Ia(r);break;default:Ia(r)}i=i.sibling}}function Is(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:Is(f,p,o),fc(4,p);break;case 1:if(Is(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){tt(c,c.return,Y)}if(c=p,f=c.updateQueue,f!==null){var E=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Yv(O[f],E)}catch(Y){tt(c,c.return,Y)}}o&&b&64&&rx(p),dc(p,p.return);break;case 27:cx(p);case 26:case 5:Is(f,p,o),o&&c===null&&b&4&&ox(p),dc(p,p.return);break;case 12:Is(f,p,o);break;case 31:Is(f,p,o),o&&b&4&&mx(f,p);break;case 13:Is(f,p,o),o&&b&4&&px(f,p);break;case 22:p.memoizedState===null&&Is(f,p,o),dc(p,p.return);break;case 30:break;default:Is(f,p,o)}r=r.sibling}}function sp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zl(o))}function rp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i))}function Ti(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vx(i,r,o,c),r=r.sibling}function vx(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(i,r,o,c),f&2048&&fc(9,r);break;case 1:Ti(i,r,o,c);break;case 3:Ti(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i)));break;case 12:if(f&2048){Ti(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,b=p.id,E=p.onPostCommit;typeof E=="function"&&E(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){tt(r,r.return,O)}}else Ti(i,r,o,c);break;case 31:Ti(i,r,o,c);break;case 13:Ti(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?Ti(i,r,o,c):mc(i,r):p._visibility&2?Ti(i,r,o,c):(p._visibility|=2,Ao(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sp(b,r);break;case 24:Ti(i,r,o,c),f&2048&&rp(r.alternate,r);break;default:Ti(i,r,o,c)}}function Ao(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,b=r,E=o,O=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Ao(p,b,E,O,f),fc(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Ao(p,b,E,O,f):mc(p,b):(Z._visibility|=2,Ao(p,b,E,O,f)),f&&Y&2048&&sp(b.alternate,b);break;case 24:Ao(p,b,E,O,f),f&&Y&2048&&rp(b.alternate,b);break;default:Ao(p,b,E,O,f)}r=r.sibling}}function mc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:mc(o,c),f&2048&&sp(c.alternate,c);break;case 24:mc(o,c),f&2048&&rp(c.alternate,c);break;default:mc(o,c)}r=r.sibling}}var pc=8192;function Co(i,r,o){if(i.subtreeFlags&pc)for(i=i.child;i!==null;)_x(i,r,o),i=i.sibling}function _x(i,r,o){switch(i.tag){case 26:Co(i,r,o),i.flags&pc&&i.memoizedState!==null&&z2(o,wi,i.memoizedState,i.memoizedProps);break;case 5:Co(i,r,o);break;case 3:case 4:var c=wi;wi=Yh(i.stateNode.containerInfo),Co(i,r,o),wi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=pc,pc=16777216,Co(i,r,o),pc=c):Co(i,r,o));break;default:Co(i,r,o)}}function xx(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function gc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Qt=c,wx(c,i)}xx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bx(i),i=i.sibling}function bx(i){switch(i.tag){case 0:case 11:case 15:gc(i),i.flags&2048&&pr(9,i,i.return);break;case 3:gc(i);break;case 12:gc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,jh(i)):gc(i);break;default:gc(i)}}function jh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Qt=c,wx(c,i)}xx(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:pr(8,r,r.return),jh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,jh(r));break;default:jh(r)}i=i.sibling}}function wx(i,r){for(;Qt!==null;){var o=Qt;switch(o.tag){case 0:case 11:case 15:pr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Qt=c;else e:for(o=i;Qt!==null;){c=Qt;var f=c.sibling,p=c.return;if(fx(c),c===o){Qt=null;break e}if(f!==null){f.return=p,Qt=f;break e}Qt=p}}}var n2={getCacheForType:function(i){var r=en(Vt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return en(Vt).controller.signal}},i2=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Le=null,Be=0,et=0,Ln=null,gr=!1,Ro=!1,ap=!1,Ds=0,xt=0,yr=0,Da=0,op=0,Un=0,No=0,yc=null,An=null,lp=!1,Ph=0,Tx=0,Oh=1/0,Lh=null,vr=null,qt=0,_r=null,Io=null,ks=0,cp=0,up=null,Ex=null,vc=0,hp=null;function Bn(){return(Xe&2)!==0&&Be!==0?Be&-Be:G.T!==null?yp():Uu()}function Sx(){if(Un===0)if((Be&536870912)===0||Ge){var i=sa;sa<<=1,(sa&3932160)===0&&(sa=262144),Un=i}else Un=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Un}function Cn(i,r,o){(i===at&&(et===2||et===9)||i.cancelPendingCommit!==null)&&(Do(i,0),xr(i,Be,Un,!1)),ra(i,o),((Xe&2)===0||i!==at)&&(i===at&&((Xe&2)===0&&(Da|=o),xt===4&&xr(i,Be,Un,!1)),ns(i))}function Ax(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||di(i,r),f=c?a2(i,r):dp(i,r,!0),p=c;do{if(f===0){Ro&&!c&&xr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!s2(o)){f=dp(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var E=i;f=yc;var O=E.current.memoizedState.isDehydrated;if(O&&(Do(E,b).flags|=256),b=dp(E,b,!1),b!==2){if(ap&&!O){E.errorRecoveryDisabledLanes|=p,Da|=p,f=4;break e}p=An,An=f,p!==null&&(An===null?An=p:An.push.apply(An,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){Do(i,0),xr(i,r,0,!0);break}e:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:xr(c,r,Un,!gr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ph+300-gn(),10<f)){if(xr(c,r,Un,!gr),Li(c,0,!0)!==0)break e;ks=r,c.timeoutHandle=ib(Cx.bind(null,c,o,An,Lh,lp,r,Un,Da,No,gr,p,"Throttled",-0,0),f);break e}Cx(c,o,An,Lh,lp,r,Un,Da,No,gr,p,null,-0,0)}}break}while(!0);ns(i)}function Cx(i,r,o,c,f,p,b,E,O,Y,Z,se,Q,W){if(i.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},_x(r,p,se);var pe=(p&62914560)===p?Ph-gn():(p&4194048)===p?Tx-gn():0;if(pe=F2(se,pe),pe!==null){ks=p,i.cancelPendingCommit=pe(jx.bind(null,i,r,p,o,c,f,b,E,O,Z,se,null,Q,W)),xr(i,p,b,!Y);return}}jx(i,r,p,o,c,f,b,E,O)}function s2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Vn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xr(i,r,o,c){r&=~op,r&=~Da,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var p=31-wt(f),b=1<<p;c[p]=-1,f&=~b}o!==0&&aa(i,o,r)}function Uh(){return(Xe&6)===0?(_c(0),!1):!0}function fp(){if(Le!==null){if(et===0)var i=Le.return;else i=Le,bs=wa=null,Rm(i),bo=null,tc=0,i=Le;for(;i!==null;)sx(i.alternate,i),i=i.return;Le=null}}function Do(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,E2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ks=0,fp(),at=i,Le=o=_s(i.current,null),Be=r,et=0,Ln=null,gr=!1,Ro=di(i,r),ap=!1,No=Un=op=Da=yr=xt=0,An=yc=null,lp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-wt(c),p=1<<f;r|=i[f],c&=~p}return Ds=r,ah(),o}function Rx(i,r){je=null,G.H=cc,r===xo||r===mh?(r=qv(),et=3):r===gm?(r=qv(),et=4):et=r===qm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Le===null&&(xt=1,Rh(i,Zn(r,i.current)))}function Nx(){var i=Pn.current;return i===null?!0:(Be&4194048)===Be?ii===null:(Be&62914560)===Be||(Be&536870912)!==0?i===ii:!1}function Ix(){var i=G.H;return G.H=cc,i===null?cc:i}function Dx(){var i=G.A;return G.A=n2,i}function Bh(){xt=4,gr||(Be&4194048)!==Be&&Pn.current!==null||(Ro=!0),(yr&134217727)===0&&(Da&134217727)===0||at===null||xr(at,Be,Un,!1)}function dp(i,r,o){var c=Xe;Xe|=2;var f=Ix(),p=Dx();(at!==i||Be!==r)&&(Lh=null,Do(i,r)),r=!1;var b=xt;e:do try{if(et!==0&&Le!==null){var E=Le,O=Ln;switch(et){case 8:fp(),b=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var Y=et;if(et=0,Ln=null,ko(i,E,O,Y),o&&Ro){b=0;break e}break;default:Y=et,et=0,Ln=null,ko(i,E,O,Y)}}r2(),b=xt;break}catch(Z){Rx(i,Z)}while(!0);return r&&i.shellSuspendCounter++,bs=wa=null,Xe=c,G.H=f,G.A=p,Le===null&&(at=null,Be=0,ah()),b}function r2(){for(;Le!==null;)kx(Le)}function a2(i,r){var o=Xe;Xe|=2;var c=Ix(),f=Dx();at!==i||Be!==r?(Lh=null,Oh=gn()+500,Do(i,r)):Ro=di(i,r);e:do try{if(et!==0&&Le!==null){r=Le;var p=Ln;t:switch(et){case 1:et=0,Ln=null,ko(i,r,p,1);break;case 2:case 9:if(Fv(p)){et=0,Ln=null,Mx(r);break}r=function(){et!==2&&et!==9||at!==i||(et=7),ns(i)},p.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Fv(p)?(et=0,Ln=null,Mx(r)):(et=0,Ln=null,ko(i,r,p,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var E=Le;if(b?vb(b):E.stateNode.complete){et=0,Ln=null;var O=E.sibling;if(O!==null)Le=O;else{var Y=E.return;Y!==null?(Le=Y,zh(Y)):Le=null}break t}}et=0,Ln=null,ko(i,r,p,5);break;case 6:et=0,Ln=null,ko(i,r,p,6);break;case 8:fp(),xt=6;break e;default:throw Error(s(462))}}o2();break}catch(Z){Rx(i,Z)}while(!0);return bs=wa=null,G.H=c,G.A=f,Xe=o,Le!==null?0:(at=null,Be=0,ah(),xt)}function o2(){for(;Le!==null&&!Hd();)kx(Le)}function kx(i){var r=nx(i.alternate,i,Ds);i.memoizedProps=i.pendingProps,r===null?zh(i):Le=r}function Mx(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=X_(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=X_(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Rm(r);default:sx(o,r),r=Le=Dv(r,Ds),r=nx(o,r,Ds)}i.memoizedProps=i.pendingProps,r===null?zh(i):Le=r}function ko(i,r,o,c){bs=wa=null,Rm(r),bo=null,tc=0;var f=r.return;try{if(QR(i,f,r,o,Be)){xt=1,Rh(i,Zn(o,i.current)),Le=null;return}}catch(p){if(f!==null)throw Le=f,p;xt=1,Rh(i,Zn(o,i.current)),Le=null;return}r.flags&32768?(Ge||c===1?i=!0:Ro||(Be&536870912)!==0?i=!1:(gr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vx(r,i)):zh(r)}function zh(i){var r=i;do{if((r.flags&32768)!==0){Vx(r,gr);return}i=r.return;var o=JR(r.alternate,r,Ds);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=i}while(r!==null);xt===0&&(xt=5)}function Vx(i,r){do{var o=ZR(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);xt=6,Le=null}function jx(i,r,o,c,f,p,b,E,O){i.cancelPendingCommit=null;do Fh();while(qt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=tm,Kd(i,o,p,b,E,O),i===at&&(Le=at=null,Be=0),Io=r,_r=i,ks=o,cp=p,up=f,Ex=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,h2(Xs,function(){return Bx(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,f=re.p,re.p=2,b=Xe,Xe|=4;try{e2(i,r,o)}finally{Xe=b,re.p=f,G.T=c}}qt=1,Px(),Ox(),Lx()}}function Px(){if(qt===1){qt=0;var i=_r,r=Io,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var c=re.p;re.p=2;var f=Xe;Xe|=4;try{gx(r,i);var p=Sp,b=wv(i.containerInfo),E=p.focusedElem,O=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&bv(E.ownerDocument.documentElement,E)){if(O!==null&&Xd(E)){var Y=O.start,Z=O.end;if(Z===void 0&&(Z=Y),"selectionStart"in E)E.selectionStart=Y,E.selectionEnd=Math.min(Z,E.value.length);else{var se=E.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),pe=E.textContent.length,we=Math.min(O.start,pe),rt=O.end===void 0?we:Math.min(O.end,pe);!W.extend&&we>rt&&(b=rt,rt=we,we=b);var q=xv(E,we),H=xv(E,rt);if(q&&H&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==H.node||W.focusOffset!==H.offset)){var $=se.createRange();$.setStart(q.node,q.offset),W.removeAllRanges(),we>rt?(W.addRange($),W.extend(H.node,H.offset)):($.setEnd(H.node,H.offset),W.addRange($))}}}}for(se=[],W=E;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var ne=se[E];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ef=!!Ep,Sp=Ep=null}finally{Xe=f,re.p=c,G.T=o}}i.current=r,qt=2}}function Ox(){if(qt===2){qt=0;var i=_r,r=Io,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var c=re.p;re.p=2;var f=Xe;Xe|=4;try{hx(i,r.alternate,r)}finally{Xe=f,re.p=c,G.T=o}}qt=3}}function Lx(){if(qt===4||qt===3){qt=0,ku();var i=_r,r=Io,o=ks,c=Ex;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Io=_r=null,Ux(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(vr=null),ps(o),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(fi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=G.T,f=re.p,re.p=2,G.T=null;try{for(var p=i.onRecoverableError,b=0;b<c.length;b++){var E=c[b];p(E.value,{componentStack:E.stack})}}finally{G.T=r,re.p=f}}(ks&3)!==0&&Fh(),ns(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===hp?vc++:(vc=0,hp=i):vc=0,_c(0)}}function Ux(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Zl(r)))}function Fh(){return Px(),Ox(),Lx(),Bx()}function Bx(){if(qt!==5)return!1;var i=_r,r=cp;cp=0;var o=ps(ks),c=G.T,f=re.p;try{re.p=32>o?32:o,G.T=null,o=up,up=null;var p=_r,b=ks;if(qt=0,Io=_r=null,ks=0,(Xe&6)!==0)throw Error(s(331));var E=Xe;if(Xe|=4,bx(p.current),vx(p,p.current,b,o),Xe=E,_c(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(fi,p)}catch{}return!0}finally{re.p=f,G.T=c,Ux(i,r)}}function zx(i,r,o){r=Zn(o,r),r=Hm(i.stateNode,r,2),i=fr(i,r,2),i!==null&&(ra(i,2),ns(i))}function tt(i,r,o){if(i.tag===3)zx(i,i,o);else for(;r!==null;){if(r.tag===3){zx(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(vr===null||!vr.has(c))){i=Zn(o,i),o=F_(2),c=fr(r,o,2),c!==null&&(H_(o,c,r,i),ra(c,2),ns(c));break}}r=r.return}}function mp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new i2;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(ap=!0,f.add(o),i=l2.bind(null,i,r,o),r.then(i,i))}function l2(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,at===i&&(Be&o)===o&&(xt===4||xt===3&&(Be&62914560)===Be&&300>gn()-Ph?(Xe&2)===0&&Do(i,0):op|=o,No===Be&&(No=0)),ns(i)}function Fx(i,r){r===0&&(r=Lu()),i=_a(i,r),i!==null&&(ra(i,r),ns(i))}function c2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Fx(i,o)}function u2(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Fx(i,o)}function h2(i,r){return Ht(i,r)}var Hh=null,Mo=null,pp=!1,qh=!1,gp=!1,br=0;function ns(i){i!==Mo&&i.next===null&&(Mo===null?Hh=Mo=i:Mo=Mo.next=i),qh=!0,pp||(pp=!0,d2())}function _c(i,r){if(!gp&&qh){gp=!0;do for(var o=!1,c=Hh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var b=c.suspendedLanes,E=c.pingedLanes;p=(1<<31-wt(42|i)+1)-1,p&=f&~(b&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Kx(c,p))}else p=Be,p=Li(c,c===at?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||di(c,p)||(o=!0,Kx(c,p));c=c.next}while(o);gp=!1}}function f2(){Hx()}function Hx(){qh=pp=!1;var i=0;br!==0&&T2()&&(i=br);for(var r=gn(),o=null,c=Hh;c!==null;){var f=c.next,p=qx(c,r);p===0?(c.next=null,o===null?Hh=f:o.next=f,f===null&&(Mo=o)):(o=c,(i!==0||(p&3)!==0)&&(qh=!0)),c=f}qt!==0&&qt!==5||_c(i),br!==0&&(br=0)}function qx(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-wt(p),E=1<<b,O=f[b];O===-1?((E&o)===0||(E&c)!==0)&&(f[b]=Gd(E,r)):O<=r&&(i.expiredLanes|=E),p&=~E}if(r=at,o=Be,o=Li(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(et===2||et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Qs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||di(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Qs(c),ps(o)){case 2:case 8:o=Nl;break;case 32:o=Xs;break;case 268435456:o=Mu;break;default:o=Xs}return c=Gx.bind(null,i),o=Ht(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Qs(c),i.callbackPriority=2,i.callbackNode=null,2}function Gx(i,r){if(qt!==0&&qt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Fh()&&i.callbackNode!==o)return null;var c=Be;return c=Li(i,i===at?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Ax(i,c,r),qx(i,gn()),i.callbackNode!=null&&i.callbackNode===o?Gx.bind(null,i):null)}function Kx(i,r){if(Fh())return null;Ax(i,r,!0)}function d2(){S2(function(){(Xe&6)!==0?Ht(Rl,f2):Hx()})}function yp(){if(br===0){var i=vo;i===0&&(i=Pi,Pi<<=1,(Pi&261888)===0&&(Pi=256)),br=i}return br}function $x(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:no(""+i)}function Yx(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function m2(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var p=$x((f[$t]||null).action),b=c.submitter;b&&(r=(r=b[$t]||null)?$x(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var E=new Qi("action","action",null,c,f);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(br!==0){var O=b?Yx(f,b):new FormData(f);Om(o,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(E.preventDefault(),O=b?Yx(f,b):new FormData(f),Om(o,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var vp=0;vp<em.length;vp++){var _p=em[vp],p2=_p.toLowerCase(),g2=_p[0].toUpperCase()+_p.slice(1);bi(p2,"on"+g2)}bi(Sv,"onAnimationEnd"),bi(Av,"onAnimationIteration"),bi(Cv,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(kR,"onTransitionRun"),bi(MR,"onTransitionStart"),bi(VR,"onTransitionCancel"),bi(Rv,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function Qx(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var b=c.length-1;0<=b;b--){var E=c[b],O=E.instance,Y=E.currentTarget;if(E=E.listener,O!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=Y;try{p(f)}catch(Z){rh(Z)}f.currentTarget=null,p=O}else for(b=0;b<c.length;b++){if(E=c[b],O=E.instance,Y=E.currentTarget,E=E.listener,O!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=Y;try{p(f)}catch(Z){rh(Z)}f.currentTarget=null,p=O}}}}function Ue(i,r){var o=r[Wa];o===void 0&&(o=r[Wa]=new Set);var c=i+"__bubble";o.has(c)||(Xx(r,i,2,!1),o.add(c))}function xp(i,r,o){var c=0;r&&(c|=4),Xx(o,i,c,r)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function bp(i){if(!i[Gh]){i[Gh]=!0,kl.forEach(function(o){o!=="selectionchange"&&(y2.has(o)||xp(o,!1,i),xp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Gh]||(r[Gh]=!0,xp("selectionchange",!1,r))}}function Xx(i,r,o,c){switch(Sb(r)){case 2:var f=G2;break;case 8:f=K2;break;default:f=Pp}o=f.bind(null,r,o,i),f=void 0,!ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function wp(i,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===f)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;E!==null;){if(b=Fi(E),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){c=p=b;continue e}E=E.parentNode}}c=c.return}nr(function(){var Y=p,Z=Qn(o),se=[];e:{var Q=Nv.get(i);if(Q!==void 0){var W=Qi,pe=i;switch(i){case"keypress":if(da(o)===0)break e;case"keydown":case"keyup":W=nh;break;case"focusin":pe="focus",W=pa;break;case"focusout":pe="blur",W=pa;break;case"beforeblur":case"afterblur":W=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case Sv:case Av:case Cv:W=Qu;break;case Rv:W=C;break;case"scroll":case"scrollend":W=ql;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=vs;break;case"toggle":case"beforetoggle":W=Ve}var we=(r&4)!==0,rt=!we&&(i==="scroll"||i==="scrollend"),q=we?Q!==null?Q+"Capture":null:Q;we=[];for(var H=Y,$;H!==null;){var ne=H;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||q===null||(ne=yi(H,q),ne!=null&&we.push(bc(H,ne,$))),rt)break;H=H.return}0<we.length&&(Q=new W(Q,pe,null,o,Z),se.push({event:Q,listeners:we}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==zl&&(pe=o.relatedTarget||o.fromElement)&&(Fi(pe)||pe[Bi]))break e;if((W||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(pe=o.relatedTarget||o.toElement,W=Y,pe=pe?Fi(pe):null,pe!==null&&(rt=l(pe),we=pe.tag,pe!==rt||we!==5&&we!==27&&we!==6)&&(pe=null)):(W=null,pe=Y),W!==pe)){if(we=Gl,ne="onMouseLeave",q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(we=vs,ne="onPointerLeave",q="onPointerEnter",H="pointer"),rt=W==null?Q:kn(W),$=pe==null?Q:kn(pe),Q=new we(ne,H+"leave",W,o,Z),Q.target=rt,Q.relatedTarget=$,ne=null,Fi(Z)===Y&&(we=new we(q,H+"enter",pe,o,Z),we.target=$,we.relatedTarget=rt,ne=we),rt=ne,W&&pe)t:{for(we=v2,q=W,H=pe,$=0,ne=q;ne;ne=we(ne))$++;ne=0;for(var ve=H;ve;ve=we(ve))ne++;for(;0<$-ne;)q=we(q),$--;for(;0<ne-$;)H=we(H),ne--;for(;$--;){if(q===H||H!==null&&q===H.alternate){we=q;break t}q=we(q),H=we(H)}we=null}else we=null;W!==null&&Wx(se,Q,W,we,!1),pe!==null&&rt!==null&&Wx(se,rt,pe,we,!0)}}e:{if(Q=Y?kn(Y):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var $e=mv;else if(fv(Q))if(pv)$e=NR;else{$e=CR;var ge=AR}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&to(Y.elementType)&&($e=mv):$e=RR;if($e&&($e=$e(i,Y))){dv(se,$e,o,Z);break e}ge&&ge(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ll(Q,"number",Q.value)}switch(ge=Y?kn(Y):window,i){case"focusin":(fv(ge)||ge.contentEditable==="true")&&(co=ge,Wd=Y,Xl=null);break;case"focusout":Xl=Wd=co=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,Tv(se,o,Z);break;case"selectionchange":if(DR)break;case"keydown":case"keyup":Tv(se,o,Z)}var Pe;if(Qe)e:{switch(i){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else lo?ga(i,o)&&(ze="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ze="onCompositionStart");ze&&(Ji&&o.locale!=="ko"&&(lo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&lo&&(Pe=Hl()):(Yi=Z,Fl="value"in Yi?Yi.value:Yi.textContent,lo=!0)),ge=Kh(Y,ze),0<ge.length&&(ze=new Wi(ze,i,null,o,Z),se.push({event:ze,listeners:ge}),Pe?ze.data=Pe:(Pe=oo(o),Pe!==null&&(ze.data=Pe)))),(Pe=Wn?wR(i,o):TR(i,o))&&(ze=Kh(Y,"onBeforeInput"),0<ze.length&&(ge=new Wi("onBeforeInput","beforeinput",null,o,Z),se.push({event:ge,listeners:ze}),ge.data=Pe)),m2(se,i,Y,o,Z)}Qx(se,r)})}function bc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Kh(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=yi(i,o),f!=null&&c.unshift(bc(i,f,p)),f=yi(i,r),f!=null&&c.push(bc(i,f,p))),i.tag===3)return c;i=i.return}return[]}function v2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Wx(i,r,o,c,f){for(var p=r._reactName,b=[];o!==null&&o!==c;){var E=o,O=E.alternate,Y=E.stateNode;if(E=E.tag,O!==null&&O===c)break;E!==5&&E!==26&&E!==27||Y===null||(O=Y,f?(Y=yi(o,p),Y!=null&&b.unshift(bc(o,Y,O))):f||(Y=yi(o,p),Y!=null&&b.push(bc(o,Y,O)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var _2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function Jx(i){return(typeof i=="string"?i:""+i).replace(_2,`
`).replace(x2,"")}function Zx(i,r){return r=Jx(r),Jx(i)===r}function st(i,r,o,c,f,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||wn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&wn(i,""+c);break;case"className":Mn(i,"class",c);break;case"tabIndex":Mn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(i,o,c);break;case"style":Bl(i,c,p);break;case"data":if(r!=="object"){Mn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=no(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&st(i,r,"name",f.name,f,null),st(i,r,"formEncType",f.formEncType,f,null),st(i,r,"formMethod",f.formMethod,f,null),st(i,r,"formTarget",f.formTarget,f,null)):(st(i,r,"encType",f.encType,f,null),st(i,r,"method",f.method,f,null),st(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=no(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=gi);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=no(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),Za(i,"popover",c);break;case"xlinkActuate":Mt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Za(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ku.get(o)||o,Za(i,o,c))}}function Tp(i,r,o,c,f,p){switch(o){case"style":Bl(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?wn(i,c):(typeof c=="number"||typeof c=="bigint")&&wn(i,""+c);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"onClick":c!=null&&(i.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[$t]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Za(i,o,c)}}}function nn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,p,b,o,null)}}f&&st(i,r,"srcSet",o.srcSet,o,null),c&&st(i,r,"src",o.src,o,null);return;case"input":Ue("invalid",i);var E=p=b=f=null,O=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":f=Z;break;case"type":b=Z;break;case"checked":O=Z;break;case"defaultChecked":Y=Z;break;case"value":p=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:st(i,r,c,Z,o,null)}}Hu(i,p,E,O,Y,b,f,!1);return;case"select":Ue("invalid",i),c=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":b=E;break;case"multiple":c=E;default:st(i,r,f,E,o,null)}r=p,o=b,i.multiple=!!c,r!=null?Js(i,!!c,r,!1):o!=null&&Js(i,!!c,o,!0);return;case"textarea":Ue("invalid",i),p=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(E=o[b],E!=null))switch(b){case"value":c=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:st(i,r,b,E,o,null)}Zs(i,c,f,p);return;case"option":for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null)&&(O==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":st(i,r,O,c,o,null));return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(c=0;c<xc.length;c++)Ue(xc[c],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,Y,c,o,null)}return;default:if(to(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Tp(i,r,Z,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&st(i,r,E,c,o,null))}function b2(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,E=null,O=null,Y=null,Z=null;for(W in o){var se=o[W];if(o.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=se;default:c.hasOwnProperty(W)||st(i,r,W,null,c,se)}}for(var Q in c){var W=c[Q];if(se=o[Q],c.hasOwnProperty(Q)&&(W!=null||se!=null))switch(Q){case"type":p=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":Z=W;break;case"value":b=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==se&&st(i,r,Q,W,c,se)}}eo(i,b,E,O,Y,Z,p,f);return;case"select":W=b=E=Q=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(p)||st(i,r,p,null,c,O)}for(f in c)if(p=c[f],O=o[f],c.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":Q=p;break;case"defaultValue":E=p;break;case"multiple":b=p;default:p!==O&&st(i,r,f,p,c,O)}r=E,o=b,c=W,Q!=null?Js(i,!!o,Q,!1):!!c!=!!o&&(r!=null?Js(i,!!o,r,!0):Js(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(i,r,E,null,c,f)}for(b in c)if(f=c[b],p=o[b],c.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":Q=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&st(i,r,b,f,c,p)}qu(i,Q,W);return;case"option":for(var pe in o)Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?i.selected=!1:st(i,r,pe,null,c,Q));for(O in c)Q=c[O],W=o[O],c.hasOwnProperty(O)&&Q!==W&&(Q!=null||W!=null)&&(O==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":st(i,r,O,Q,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!c.hasOwnProperty(we)&&st(i,r,we,null,c,Q);for(Y in c)if(Q=c[Y],W=o[Y],c.hasOwnProperty(Y)&&Q!==W&&(Q!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:st(i,r,Y,Q,c,W)}return;default:if(to(r)){for(var rt in o)Q=o[rt],o.hasOwnProperty(rt)&&Q!==void 0&&!c.hasOwnProperty(rt)&&Tp(i,r,rt,void 0,c,Q);for(Z in c)Q=c[Z],W=o[Z],!c.hasOwnProperty(Z)||Q===W||Q===void 0&&W===void 0||Tp(i,r,Z,Q,c,W);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!c.hasOwnProperty(q)&&st(i,r,q,null,c,Q);for(se in c)Q=c[se],W=o[se],!c.hasOwnProperty(se)||Q===W||Q==null&&W==null||st(i,r,se,Q,c,W)}function eb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,b=f.initiatorType,E=f.duration;if(p&&E&&eb(b)){for(b=0,E=f.responseEnd,c+=1;c<o.length;c++){var O=o[c],Y=O.startTime;if(Y>E)break;var Z=O.transferSize,se=O.initiatorType;Z&&eb(se)&&(O=O.responseEnd,b+=Z*(O<E?1:(E-Y)/(O-Y)))}if(--c,r+=8*(p+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ep=null,Sp=null;function $h(i){return i.nodeType===9?i:i.ownerDocument}function tb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ap(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cp=null;function T2(){var i=window.event;return i&&i.type==="popstate"?i===Cp?!1:(Cp=i,!0):(Cp=null,!1)}var ib=typeof setTimeout=="function"?setTimeout:void 0,E2=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(i){return sb.resolve(null).then(i).catch(A2)}:ib;function A2(i){setTimeout(function(){throw i})}function wr(i){return i==="head"}function rb(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),Oo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")wc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,wc(o);for(var p=o.firstChild;p;){var b=p.nextSibling,E=p.nodeName;p[zi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&wc(i.ownerDocument.body);o=f}while(o);Oo(r)}function ab(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Rp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rp(o),Ja(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function C2(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[zi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=si(i.nextSibling),i===null)break}return null}function R2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=si(i.nextSibling),i===null))return null;return i}function ob(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=si(i.nextSibling),i===null))return null;return i}function Np(i){return i.data==="$?"||i.data==="$~"}function Ip(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function N2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function si(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Dp=null;function lb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return si(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function cb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function ub(i,r,o){switch(r=$h(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function wc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ja(i)}var ri=new Map,hb=new Set;function Yh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ms=re.d;re.d={f:I2,r:D2,D:k2,C:M2,L:V2,m:j2,X:O2,S:P2,M:L2};function I2(){var i=Ms.f(),r=Uh();return i||r}function D2(i){var r=Yn(i);r!==null&&r.tag===5&&r.type==="form"?R_(r):Ms.r(i)}var Vo=typeof document>"u"?null:document;function fb(i,r,o){var c=Vo;if(c&&typeof r=="string"&&r){var f=bn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),hb.has(f)||(hb.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),nn(r,"link",i),kt(r),c.head.appendChild(r)))}}function k2(i){Ms.D(i),fb("dns-prefetch",i,null)}function M2(i,r){Ms.C(i,r),fb("preconnect",i,r)}function V2(i,r,o){Ms.L(i,r,o);var c=Vo;if(c&&i&&r){var f='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+bn(o.imageSizes)+'"]')):f+='[href="'+bn(i)+'"]';var p=f;switch(r){case"style":p=jo(i);break;case"script":p=Po(i)}ri.has(p)||(i=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ri.set(p,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(Tc(p))||r==="script"&&c.querySelector(Ec(p))||(r=c.createElement("link"),nn(r,"link",i),kt(r),c.head.appendChild(r)))}}function j2(i,r){Ms.m(i,r);var o=Vo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Po(i)}if(!ri.has(p)&&(i=x({rel:"modulepreload",href:i},r),ri.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ec(p)))return}c=o.createElement("link"),nn(c,"link",i),kt(c),o.head.appendChild(c)}}}function P2(i,r,o){Ms.S(i,r,o);var c=Vo;if(c&&i){var f=Hi(c).hoistableStyles,p=jo(i);r=r||"default";var b=f.get(p);if(!b){var E={loading:0,preload:null};if(b=c.querySelector(Tc(p)))E.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ri.get(p))&&kp(i,o);var O=b=c.createElement("link");kt(O),nn(O,"link",i),O._p=new Promise(function(Y,Z){O.onload=Y,O.onerror=Z}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Qh(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:E},f.set(p,b)}}}function O2(i,r){Ms.X(i,r);var o=Vo;if(o&&i){var c=Hi(o).hoistableScripts,f=Po(i),p=c.get(f);p||(p=o.querySelector(Ec(f)),p||(i=x({src:i,async:!0},r),(r=ri.get(f))&&Mp(i,r),p=o.createElement("script"),kt(p),nn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function L2(i,r){Ms.M(i,r);var o=Vo;if(o&&i){var c=Hi(o).hoistableScripts,f=Po(i),p=c.get(f);p||(p=o.querySelector(Ec(f)),p||(i=x({src:i,async:!0,type:"module"},r),(r=ri.get(f))&&Mp(i,r),p=o.createElement("script"),kt(p),nn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function db(i,r,o,c){var f=(f=Te.current)?Yh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=jo(o.href),o=Hi(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=jo(o.href);var p=Hi(f).hoistableStyles,b=p.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=f.querySelector(Tc(i)))&&!p._p&&(b.instance=p,b.state.loading=5),ri.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ri.set(i,o),p||U2(f,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(o),o=Hi(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jo(i){return'href="'+bn(i)+'"'}function Tc(i){return'link[rel="stylesheet"]['+i+"]"}function mb(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function U2(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),nn(r,"link",o),kt(r),i.head.appendChild(r))}function Po(i){return'[src="'+bn(i)+'"]'}function Ec(i){return"script[async]"+i}function pb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return r.instance=c,kt(c),c;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),kt(c),nn(c,"style",f),Qh(c,o.precedence,i),r.instance=c;case"stylesheet":f=jo(o.href);var p=i.querySelector(Tc(f));if(p)return r.state.loading|=4,r.instance=p,kt(p),p;c=mb(o),(f=ri.get(f))&&kp(c,f),p=(i.ownerDocument||i).createElement("link"),kt(p);var b=p;return b._p=new Promise(function(E,O){b.onload=E,b.onerror=O}),nn(p,"link",c),r.state.loading|=4,Qh(p,o.precedence,i),r.instance=p;case"script":return p=Po(o.src),(f=i.querySelector(Ec(p)))?(r.instance=f,kt(f),f):(c=o,(f=ri.get(p))&&(c=x({},o),Mp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),kt(f),nn(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Qh(c,o.precedence,i));return r.instance}function Qh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,b=0;b<c.length;b++){var E=c[b];if(E.dataset.precedence===r)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Mp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Xh=null;function gb(i,r,o){if(Xh===null){var c=new Map,f=Xh=new Map;f.set(o,c)}else f=Xh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[zi]||p[Dt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=i+b;var E=c.get(b);E?E.push(p):c.set(b,[p])}}return c}function yb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function B2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function z2(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=jo(c.href),p=r.querySelector(Tc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Wh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,kt(p);return}p=r.ownerDocument||r,c=mb(c),(f=ri.get(f))&&kp(c,f),p=p.createElement("link"),kt(p);var b=p;b._p=new Promise(function(E,O){b.onload=E,b.onerror=O}),nn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Wh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Vp=0;function F2(i,r){return i.stylesheets&&i.count===0&&Zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Vp===0&&(Vp=62500*w2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Vp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jh=null;function Zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jh=new Map,r.forEach(H2,i),Jh=null,Wh.call(i))}function H2(i,r){if(!(r.state.loading&4)){var o=Jh.get(i);if(o)var c=o.get(null);else{o=new Map,Jh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=r.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,f),o.set(b,f),this.count++,c=Wh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Sc={$$typeof:z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function q2(i,r,o,c,f,p,b,E,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function _b(i,r,o,c,f,p,b,E,O,Y,Z,se){return i=new q2(i,r,o,b,O,Y,Z,se,E),r=1,p===!0&&(r|=24),p=jn(3,null,null,r),i.current=p,p.stateNode=i,r=dm(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},ym(p),i}function xb(i){return i?(i=fo,i):fo}function bb(i,r,o,c,f,p){f=xb(f),c.context===null?c.context=f:c.pendingContext=f,c=hr(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=fr(i,c,r),o!==null&&(Cn(o,i,r),ic(o,i,r))}function wb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function jp(i,r){wb(i,r),(i=i.alternate)&&wb(i,r)}function Tb(i){if(i.tag===13||i.tag===31){var r=_a(i,67108864);r!==null&&Cn(r,i,67108864),jp(i,67108864)}}function Eb(i){if(i.tag===13||i.tag===31){var r=Bn();r=oa(r);var o=_a(i,r);o!==null&&Cn(o,i,r),jp(i,r)}}var ef=!0;function G2(i,r,o,c){var f=G.T;G.T=null;var p=re.p;try{re.p=2,Pp(i,r,o,c)}finally{re.p=p,G.T=f}}function K2(i,r,o,c){var f=G.T;G.T=null;var p=re.p;try{re.p=8,Pp(i,r,o,c)}finally{re.p=p,G.T=f}}function Pp(i,r,o,c){if(ef){var f=Op(c);if(f===null)wp(i,r,c,tf,o),Ab(i,c);else if(Y2(f,i,r,o,c))c.stopPropagation();else if(Ab(i,c),r&4&&-1<$2.indexOf(i)){for(;f!==null;){var p=Yn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Oi(p.pendingLanes);if(b!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var O=1<<31-wt(b);E.entanglements[1]|=O,b&=~O}ns(p),(Xe&6)===0&&(Oh=gn()+500,_c(0))}}break;case 31:case 13:E=_a(p,2),E!==null&&Cn(E,p,2),Uh(),jp(p,2)}if(p=Op(c),p===null&&wp(i,r,c,tf,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else wp(i,r,c,null,o)}}function Op(i){return i=Qn(i),Lp(i)}var tf=null;function Lp(i){if(tf=null,i=Fi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return tf=i,null}function Sb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case Rl:return 2;case Nl:return 8;case Xs:case qd:return 32;case Mu:return 268435456;default:return 32}default:return 32}}var Up=!1,Tr=null,Er=null,Sr=null,Ac=new Map,Cc=new Map,Ar=[],$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(i,r){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Ac.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(r.pointerId)}}function Rc(i,r,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Yn(r),r!==null&&Tb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Y2(i,r,o,c,f){switch(r){case"focusin":return Tr=Rc(Tr,i,r,o,c,f),!0;case"dragenter":return Er=Rc(Er,i,r,o,c,f),!0;case"mouseover":return Sr=Rc(Sr,i,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return Ac.set(p,Rc(Ac.get(p)||null,i,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Cc.set(p,Rc(Cc.get(p)||null,i,r,o,c,f)),!0}return!1}function Cb(i){var r=Fi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,mi(i.priority,function(){Eb(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,mi(i.priority,function(){Eb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Op(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);zl=c,o.target.dispatchEvent(c),zl=null}else return r=Yn(o),r!==null&&Tb(r),i.blockedOn=o,!1;r.shift()}return!0}function Rb(i,r,o){nf(i)&&o.delete(r)}function Q2(){Up=!1,Tr!==null&&nf(Tr)&&(Tr=null),Er!==null&&nf(Er)&&(Er=null),Sr!==null&&nf(Sr)&&(Sr=null),Ac.forEach(Rb),Cc.forEach(Rb)}function sf(i,r){i.blockedOn===r&&(i.blockedOn=null,Up||(Up=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Q2)))}var rf=null;function Nb(i){rf!==i&&(rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rf===i&&(rf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(Lp(c||o)===null)continue;break}var p=Yn(o);p!==null&&(i.splice(r,3),r-=3,Om(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Oo(i){function r(O){return sf(O,i)}Tr!==null&&sf(Tr,i),Er!==null&&sf(Er,i),Sr!==null&&sf(Sr,i),Ac.forEach(r),Cc.forEach(r);for(var o=0;o<Ar.length;o++){var c=Ar[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ar.length&&(o=Ar[0],o.blockedOn===null);)Cb(o),o.blockedOn===null&&Ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],b=f[$t]||null;if(typeof p=="function")b||Nb(o);else if(b){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[$t]||null)E=b.formAction;else if(Lp(f)!==null)continue}else E=b.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),Nb(o)}}}function Ib(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bp(i){this._internalRoot=i}af.prototype.render=Bp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Bn();bb(o,c,i,r,null,null)},af.prototype.unmount=Bp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;bb(i.current,2,null,i,null,null),Uh(),r[Bi]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var r=Uu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ar.length&&r!==0&&r<Ar[o].priority;o++);Ar.splice(o,0,i),o===0&&Cb(i)}};var Db=e.version;if(Db!=="19.2.3")throw Error(s(527,Db,"19.2.3"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var X2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{fi=of.inject(X2),Wt=of}catch{}}return Ic.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=L_,p=U_,b=B_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=_b(i,1,!1,null,null,o,c,null,f,p,b,Ib),i[Bi]=r.current,bp(i),new Bp(r)},Ic.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",p=L_,b=U_,E=B_,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=_b(i,1,!0,r,o??null,c,f,O,p,b,E,Ib),r.context=xb(null),o=r.current,c=Bn(),c=oa(c),f=hr(c),f.callback=null,fr(o,f,c),o=c,r.current.lanes=o,ra(r,o),ns(r),i[Bi]=r.current,bp(i),new af(r)},Ic.version="19.2.3",Ic}var zb;function aN(){if(zb)return Hp.exports;zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hp.exports=rN(),Hp.exports}var oN=aN();var Fb="popstate";function lN(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return Ng("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xc(a)}return uN(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cN(){return Math.random().toString(36).substring(2,10)}function Hb(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||s||cN()}}function Xc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function uN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function x(){d="POP";let j=v(),L=j==null?null:j-g;g=j,m&&m({action:d,location:P.location,delta:L})}function T(j,L){d="PUSH";let B=Ng(P.location,j,L);g=v()+1;let z=Hb(B,g),J=P.createHref(B);try{u.pushState(z,"",J)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(J)}l&&m&&m({action:d,location:P.location,delta:1})}function R(j,L){d="REPLACE";let B=Ng(P.location,j,L);g=v();let z=Hb(B,g),J=P.createHref(B);u.replaceState(z,"",J),l&&m&&m({action:d,location:P.location,delta:0})}function k(j){return hN(j)}let P={get action(){return d},get location(){return t(a,u)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Fb,x),m=j,()=>{a.removeEventListener(Fb,x),m=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let L=k(j);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:R,go(j){return u.go(j)}};return P}function hN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function zE(t,e,n="/"){return fN(t,e,n,!1)}function fN(t,e,n,s){let a=typeof e=="string"?fl(e):e,l=Bs(a.pathname||"/",n);if(l==null)return null;let u=FE(t);dN(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let g=EN(l);d=wN(u[m],g,s)}return d}function FE(t,e=[],n=[],s="",a=!1){let l=(u,d,m=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;pt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let x=Os([s,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),FE(u.children,e,T,x,m)),!(u.path==null&&!u.index)&&e.push({path:x,score:xN(x,u.index),routesMeta:T})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of HE(u.path))l(u,d,!0,m)}),e}function HE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=HE(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function dN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var mN=/^:[\w-]+$/,pN=3,gN=2,yN=1,vN=10,_N=-2,qb=t=>t==="*";function xN(t,e){let n=t.split("/"),s=n.length;return n.some(qb)&&(s+=_N),e&&(s+=gN),n.filter(a=>!qb(a)).reduce((a,l)=>a+(mN.test(l)?pN:l===""?yN:vN),s)}function bN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function wN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!x&&g&&n&&!s[s.length-1].route.index&&(x=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:Os([l,x.pathname]),pathnameBase:RN(Os([l,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(l=Os([l,x.pathnameBase]))}return u}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=TN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:x},T)=>{if(v==="*"){let k=d[T]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const R=d[T];return x&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function TN(t,e=!1,n=!0){qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function EN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SN=t=>qE.test(t);function AN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?fl(t):t,l;if(n)if(SN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Gb(n.substring(1),"/"):l=Gb(n,e)}else l=e;return{pathname:l,search:NN(s),hash:IN(a)}}function Gb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function $p(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ky(t){let e=CN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function My(t,e,n,s=!1){let a;typeof t=="string"?a=fl(t):(a={...t},pt(!a.pathname||!a.pathname.includes("?"),$p("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),$p("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),$p("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),x-=1;a.pathname=T.join("/")}d=x>=0?e[x]:"/"}let m=AN(a,d),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Os=t=>t.join("/").replace(/\/\/+/g,"/"),RN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,DN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function kN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function MN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KE(t,e){let n=t;if(typeof n!="string"||!qE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(GE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Bs(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var VN=["GET",...$E];new Set(VN);var dl=M.createContext(null);dl.displayName="DataRouter";var pd=M.createContext(null);pd.displayName="DataRouterState";var jN=M.createContext(!1),YE=M.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var PN=M.createContext(new Map);PN.displayName="Fetchers";var ON=M.createContext(null);ON.displayName="Await";var Gn=M.createContext(null);Gn.displayName="Navigation";var uu=M.createContext(null);uu.displayName="Location";var Di=M.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var Vy=M.createContext(null);Vy.displayName="RouteError";var QE="REACT_ROUTER_ERROR",LN="REDIRECT",UN="ROUTE_ERROR_RESPONSE";function BN(t){if(t.startsWith(`${QE}:${LN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function zN(t){if(t.startsWith(`${QE}:${UN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new DN(e.status,e.statusText,e.data)}catch{}}function FN(t,{relative:e}={}){pt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Gn),{hash:a,pathname:l,search:u}=hu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Os([n,l])),s.createHref({pathname:d,search:u,hash:a})}function ml(){return M.useContext(uu)!=null}function ki(){return pt(ml(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(uu).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(t){M.useContext(Gn).static||M.useLayoutEffect(t)}function Mi(){let{isDataRoute:t}=M.useContext(Di);return t?tI():HN()}function HN(){pt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(dl),{basename:e,navigator:n}=M.useContext(Gn),{matches:s}=M.useContext(Di),{pathname:a}=ki(),l=JSON.stringify(ky(s)),u=M.useRef(!1);return WE(()=>{u.current=!0}),M.useCallback((m,g={})=>{if(qn(u.current,XE),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=My(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Os([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}M.createContext(null);function gd(){let{matches:t}=M.useContext(Di),e=t[t.length-1];return e?e.params:{}}function hu(t,{relative:e}={}){let{matches:n}=M.useContext(Di),{pathname:s}=ki(),a=JSON.stringify(ky(n));return M.useMemo(()=>My(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function qN(t,e){return JE(t,e)}function JE(t,e,n,s,a){pt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(Gn),{matches:u}=M.useContext(Di),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let B=x&&x.path||"";e1(g,!x||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=ki(),R;if(e){let B=typeof e=="string"?fl(e):e;pt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=T;let k=R.pathname||"/",P=k;if(v!=="/"){let B=v.replace(/^\//,"").split("/");P="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=zE(t,{pathname:P});qn(x||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),qn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=QN(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Os([v,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Os([v,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,s,a);return e&&L?M.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},L):L}function GN(){let t=eI(),e=kN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,u)}var KN=M.createElement(GN,null),ZE=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=zN(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(Di.Provider,{value:this.props.routeContext},M.createElement(Vy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement($N,{error:t},e):e}};ZE.contextType=jN;var Yp=new WeakMap;function $N({children:t,error:e}){let{basename:n}=M.useContext(Gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=BN(e.digest);if(s){let a=Yp.get(e);if(a)throw a;let l=KE(s.location,n);if(GE&&!Yp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Yp.set(e,u),u}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function YN({routeContext:t,match:e,children:n}){let s=M.useContext(dl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Di.Provider,{value:t},n)}function QN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);pt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=v),x.route.id){let{loaderData:T,errors:R}=n,k=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!R||R[x.route.id]===void 0);if(x.route.lazy||k){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(v,x)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:MN(n.matches),errorInfo:x})}:void 0;return l.reduceRight((v,x,T)=>{let R,k=!1,P=null,j=null;n&&(R=u&&x.route.id?u[x.route.id]:void 0,P=x.route.errorElement||KN,d&&(m<0&&T===0?(e1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):m===T&&(k=!0,j=x.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,T+1)),B=()=>{let z;return R?z=P:k?z=j:x.route.Component?z=M.createElement(x.route.Component,null):x.route.element?z=x.route.element:z=v,M.createElement(YN,{match:x,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:z})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?M.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:P,error:R,children:B(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:g}):B()},null)}function jy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XN(t){let e=M.useContext(dl);return pt(e,jy(t)),e}function WN(t){let e=M.useContext(pd);return pt(e,jy(t)),e}function JN(t){let e=M.useContext(Di);return pt(e,jy(t)),e}function Py(t){let e=JN(t),n=e.matches[e.matches.length-1];return pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZN(){return Py("useRouteId")}function eI(){let t=M.useContext(Vy),e=WN("useRouteError"),n=Py("useRouteError");return t!==void 0?t:e.errors?.[n]}function tI(){let{router:t}=XN("useNavigate"),e=Py("useNavigate"),n=M.useRef(!1);return WE(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{qn(n.current,XE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Kb={};function e1(t,e,n){!e&&!Kb[t]&&(Kb[t]=!0,qn(!1,n))}M.memo(nI);function nI({routes:t,future:e,state:n,onError:s}){return JE(t,void 0,n,s,e)}function t1({to:t,replace:e,state:n,relative:s}){pt(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(Gn);qn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(Di),{pathname:u}=ki(),d=Mi(),m=My(t,ky(l),u,s==="path"),g=JSON.stringify(m);return M.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function is(t){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){pt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=fl(n));let{pathname:g="/",search:v="",hash:x="",state:T=null,key:R="default"}=n,k=M.useMemo(()=>{let P=Bs(g,d);return P==null?null:{location:{pathname:P,search:v,hash:x,state:T,key:R},navigationType:s}},[d,g,v,x,T,R,s]);return qn(k!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:M.createElement(Gn.Provider,{value:m},M.createElement(uu.Provider,{children:e,value:k}))}function sI({children:t,location:e}){return qN(Ig(t),e)}function Ig(t,e=[]){let n=[];return M.Children.forEach(t,(s,a)=>{if(!M.isValidElement(s))return;let l=[...e,a];if(s.type===M.Fragment){n.push.apply(n,Ig(s.props.children,l));return}pt(s.type===is,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Ig(s.props.children,l)),n.push(u)}),n}var Tf="get",Ef="application/x-www-form-urlencoded";function yd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function rI(t){return yd(t)&&t.tagName.toLowerCase()==="button"}function aI(t){return yd(t)&&t.tagName.toLowerCase()==="form"}function oI(t){return yd(t)&&t.tagName.toLowerCase()==="input"}function lI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cI(t,e){return t.button===0&&(!e||e==="_self")&&!lI(t)}function Dg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function uI(t,e){let n=Dg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var lf=null;function hI(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var fI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(t){return t!=null&&!fI.has(t)?(qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function dI(t,e){let n,s,a,l,u;if(aI(t)){let d=t.getAttribute("action");s=d?Bs(d,e):null,n=t.getAttribute("method")||Tf,a=Qp(t.getAttribute("enctype"))||Ef,l=new FormData(t)}else if(rI(t)||oI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Bs(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Tf,a=Qp(t.getAttribute("formenctype"))||Qp(d.getAttribute("enctype"))||Ef,l=new FormData(d,t),!hI()){let{name:g,type:v,value:x}=t;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,x)}}else{if(yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tf,s=null,a=Ef,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Bs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function pI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await pI(l,n);return u.links?u.links():[]}return[]}));return bI(s.flat(1).filter(gI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $b(t,e,n,s,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>u(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function vI(t,e,{includeHydrateFallback:n}={}){return _I(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function _I(t){return[...new Set(t)]}function xI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function bI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(xI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function n1(){let t=M.useContext(dl);return Oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wI(){let t=M.useContext(pd);return Oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ly=M.createContext(void 0);Ly.displayName="FrameworkContext";function i1(){let t=M.useContext(Ly);return Oy(t,"You must render this element inside a <HydratedRouter> element"),t}function TI(t,e){let n=M.useContext(Ly),[s,a]=M.useState(!1),[l,u]=M.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,T=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=L=>{L.forEach(B=>{u(B.isIntersecting)})},j=new IntersectionObserver(P,{threshold:.5});return T.current&&j.observe(T.current),()=>{j.disconnect()}}},[t]),M.useEffect(()=>{if(s){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[s]);let R=()=>{a(!0)},k=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Dc(d,R),onBlur:Dc(m,k),onMouseEnter:Dc(g,R),onMouseLeave:Dc(v,k),onTouchStart:Dc(x,R)}]:[!1,T,{}]}function Dc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function EI({page:t,...e}){let{router:n}=n1(),s=M.useMemo(()=>zE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?M.createElement(AI,{page:t,matches:s,...e}):null}function SI(t){let{manifest:e,routeModules:n}=i1(),[s,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return yI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function AI({page:t,matches:e,...n}){let s=ki(),{manifest:a,routeModules:l}=i1(),{basename:u}=n1(),{loaderData:d,matches:m}=wI(),g=M.useMemo(()=>$b(t,e,m,a,s,"data"),[t,e,m,a,s]),v=M.useMemo(()=>$b(t,e,m,a,s,"assets"),[t,e,m,a,s]),x=M.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,P=!1;if(e.forEach(L=>{let B=a.routes[L.route.id];!B||!B.hasLoader||(!g.some(z=>z.route.id===L.route.id)&&L.route.id in d&&l[L.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:k.add(L.route.id))}),k.size===0)return[];let j=mI(t,u,"data");return P&&k.size>0&&j.searchParams.set("_routes",e.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[j.pathname+j.search]},[u,d,s,a,g,e,t,l]),T=M.useMemo(()=>vI(v,a),[v,a]),R=SI(v);return M.createElement(M.Fragment,null,x.map(k=>M.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),T.map(k=>M.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),R.map(({key:k,link:P})=>M.createElement("link",{key:k,nonce:n.nonce,...P})))}function CI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RI&&(window.__reactRouterVersion="7.11.0")}catch{}function NI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=M.useRef();a.current==null&&(a.current=lN({window:s,v5Compat:!0}));let l=a.current,[u,d]=M.useState({action:l.action,location:l.location}),m=M.useCallback(g=>{n===!1?d(g):M.startTransition(()=>d(g))},[n]);return M.useLayoutEffect(()=>l.listen(m),[l,m]),M.createElement(iI,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r1=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T,...R},k){let{basename:P,unstable_useTransitions:j}=M.useContext(Gn),L=typeof g=="string"&&s1.test(g),B=KE(g,P);g=B.to;let z=FN(g,{relative:a}),[J,ee,le]=TI(s,R),A=MI(g,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:T,unstable_useTransitions:j});function S(V){e&&e(V),V.defaultPrevented||A(V)}let N=M.createElement("a",{...R,...le,href:B.absoluteURL||z,onClick:B.isExternal||l?e:S,ref:CI(k,ee),target:m,"data-discover":!L&&n==="render"?"true":void 0});return J&&!L?M.createElement(M.Fragment,null,N,M.createElement(EI,{page:z})):N});r1.displayName="Link";var II=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...g},v){let x=hu(u,{relative:g.relative}),T=ki(),R=M.useContext(pd),{navigator:k,basename:P}=M.useContext(Gn),j=R!=null&&LI(x)&&d===!0,L=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,B=T.pathname,z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(B=B.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&P&&(z=Bs(z,P)||z);const J=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ee=B===L||!a&&B.startsWith(L)&&B.charAt(J)==="/",le=z!=null&&(z===L||!a&&z.startsWith(L)&&z.charAt(L.length)==="/"),A={isActive:ee,isPending:le,isTransitioning:j},S=ee?e:void 0,N;typeof s=="function"?N=s(A):N=[s,ee?"active":null,le?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(A):l;return M.createElement(r1,{...g,"aria-current":S,className:N,ref:v,style:V,to:u,viewTransition:d},typeof m=="function"?m(A):m)});II.displayName="NavLink";var DI=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Tf,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T,...R},k)=>{let{unstable_useTransitions:P}=M.useContext(Gn),j=PI(),L=OI(d,{relative:g}),B=u.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&s1.test(d),J=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,A=le?.getAttribute("formmethod")||u,S=()=>j(le||ee.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:T});P&&n!==!1?M.startTransition(()=>S()):S()};return M.createElement("form",{ref:k,method:B,action:L,onSubmit:s?m:J,...R,"data-discover":!z&&t==="render"?"true":void 0})});DI.displayName="Form";function kI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(t){let e=M.useContext(dl);return pt(e,kI(t)),e}function MI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=Mi(),v=ki(),x=hu(t,{relative:l});return M.useCallback(T=>{if(cI(T,e)){T.preventDefault();let R=n!==void 0?n:Xc(v)===Xc(x),k=()=>g(t,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?M.startTransition(()=>k()):k()}},[v,g,x,n,s,e,t,a,l,u,d,m])}function Uy(t){qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Dg(t)),n=M.useRef(!1),s=ki(),a=M.useMemo(()=>uI(s.search,n.current?null:e.current),[s.search]),l=Mi(),u=M.useCallback((d,m)=>{const g=Dg(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+g,m)},[l,a]);return[a,u]}var VI=0,jI=()=>`__${String(++VI)}__`;function PI(){let{router:t}=a1("useSubmit"),{basename:e}=M.useContext(Gn),n=ZN(),s=t.fetch,a=t.navigate;return M.useCallback(async(l,u={})=>{let{action:d,method:m,encType:g,formData:v,body:x}=dI(l,e);if(u.navigate===!1){let T=u.fetcherKey||jI();await s(T,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function OI(t,{relative:e}={}){let{basename:n}=M.useContext(Gn),s=M.useContext(Di);pt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...hu(t||".",{relative:e})},u=ki();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Os([n,l.pathname])),Xc(l)}function LI(t,{relative:e}={}){let n=M.useContext(YE);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=a1("useViewTransitionState"),a=hu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Bs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Bs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uf(a.pathname,u)!=null||Uf(a.pathname,l)!=null}const UI=()=>{};var Yb={};const o1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},BI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,x=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,R=g&63;m||(R=64,u||(T=64)),s.push(n[v],n[x],n[T],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||x==null)throw new zI;const T=l<<2|d>>4;if(s.push(T),g!==64){const R=d<<4&240|g>>2;if(s.push(R),x!==64){const k=g<<6&192|x;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FI=function(t){const e=o1(t);return l1.encodeByteArray(e,!0)},Bf=function(t){return FI(t).replace(/\./g,"")},c1=function(t){try{return l1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qI=()=>HI().__FIREBASE_DEFAULTS__,GI=()=>{if(typeof process>"u"||typeof Yb>"u")return;const t=Yb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c1(t[1]);return e&&JSON.parse(e)},vd=()=>{try{return UI()||qI()||GI()||KI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u1=t=>vd()?.emulatorHosts?.[t],$I=t=>{const e=u1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},h1=()=>vd()?.config,f1=t=>vd()?.[`_${t}`];class YI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d1(t){return(await fetch(t,{credentials:"include"})).ok}function QI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bf(JSON.stringify(n)),Bf(JSON.stringify(u)),""].join(".")}const Bc={};function XI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function WI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qb=!1;function m1(t,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||Bc[t]===e||Bc[t]||Qb)return;Bc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=XI().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Qb=!0,u()},T}function v(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=WI(s),R=n("text"),k=document.getElementById(R)||document.createElement("span"),P=n("learnmore"),j=document.getElementById(P)||document.createElement("a"),L=n("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;d(z),v(j,P);const J=g();m(B,L),z.append(B,k,j,J),document.body.appendChild(z)}l?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function ZI(){const t=vd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iD(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sD(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rD(){try{return typeof indexedDB=="object"}catch{return!1}}function aD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const oD="FirebaseError";class $s extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oD,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?lD(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new $s(a,d,s)}}function lD(t,e){return t.replace(cD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const cD=/\{\$([^}]+)}/g;function uD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Xb(l)&&Xb(u)){if(!Fa(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Xb(t){return t!==null&&typeof t=="object"}function du(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hD(t,e){const n=new fD(t,e);return n.subscribe.bind(n)}class fD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Xp),a.error===void 0&&(a.error=Xp),a.complete===void 0&&(a.complete=Xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xp(){}function yt(t){return t&&t._delegate?t._delegate:t}class Ha{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ma="[DEFAULT]";class mD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pD(t){return t===Ma?void 0:t}function gD(t){return t.instantiationMode==="EAGER"}class yD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const vD={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},_D=Fe.INFO,xD={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},bD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=xD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=_D,this._logHandler=bD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const wD=(t,e)=>e.some(n=>t instanceof n);let Wb,Jb;function TD(){return Wb||(Wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ED(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,kg=new WeakMap,g1=new WeakMap,Wp=new WeakMap,zy=new WeakMap;function SD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Pr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,t)}).catch(()=>{}),zy.set(e,t),e}function AD(t){if(kg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});kg.set(t,e)}let Mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CD(t){Mg=t(Mg)}function RD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Jp(this),e,...n);return g1.set(s,e.sort?e.sort():[e]),Pr(s)}:ED().includes(t)?function(...e){return t.apply(Jp(this),e),Pr(p1.get(this))}:function(...e){return Pr(t.apply(Jp(this),e))}}function ND(t){return typeof t=="function"?RD(t):(t instanceof IDBTransaction&&AD(t),wD(t,TD())?new Proxy(t,Mg):t)}function Pr(t){if(t instanceof IDBRequest)return SD(t);if(Wp.has(t))return Wp.get(t);const e=ND(t);return e!==t&&(Wp.set(t,e),zy.set(e,t)),e}const Jp=t=>zy.get(t);function ID(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Pr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Pr(u.result),m.oldVersion,m.newVersion,Pr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const DD=["get","getKey","getAll","getAllKeys","count"],kD=["put","add","delete","clear"],Zp=new Map;function Zb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=kD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||DD.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Zp.set(e,l),l}CD(t=>({...t,get:(e,n,s)=>Zb(e,n)||t.get(e,n,s),has:(e,n)=>!!Zb(e,n)||t.has(e,n)}));class MD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VD(t){return t.getComponent()?.type==="VERSION"}const Vg="@firebase/app",ew="0.14.6";const zs=new By("@firebase/app"),jD="@firebase/app-compat",PD="@firebase/analytics-compat",OD="@firebase/analytics",LD="@firebase/app-check-compat",UD="@firebase/app-check",BD="@firebase/auth",zD="@firebase/auth-compat",FD="@firebase/database",HD="@firebase/data-connect",qD="@firebase/database-compat",GD="@firebase/functions",KD="@firebase/functions-compat",$D="@firebase/installations",YD="@firebase/installations-compat",QD="@firebase/messaging",XD="@firebase/messaging-compat",WD="@firebase/performance",JD="@firebase/performance-compat",ZD="@firebase/remote-config",e4="@firebase/remote-config-compat",t4="@firebase/storage",n4="@firebase/storage-compat",i4="@firebase/firestore",s4="@firebase/ai",r4="@firebase/firestore-compat",a4="firebase",o4="12.6.0";const jg="[DEFAULT]",l4={[Vg]:"fire-core",[jD]:"fire-core-compat",[OD]:"fire-analytics",[PD]:"fire-analytics-compat",[UD]:"fire-app-check",[LD]:"fire-app-check-compat",[BD]:"fire-auth",[zD]:"fire-auth-compat",[FD]:"fire-rtdb",[HD]:"fire-data-connect",[qD]:"fire-rtdb-compat",[GD]:"fire-fn",[KD]:"fire-fn-compat",[$D]:"fire-iid",[YD]:"fire-iid-compat",[QD]:"fire-fcm",[XD]:"fire-fcm-compat",[WD]:"fire-perf",[JD]:"fire-perf-compat",[ZD]:"fire-rc",[e4]:"fire-rc-compat",[t4]:"fire-gcs",[n4]:"fire-gcs-compat",[i4]:"fire-fst",[r4]:"fire-fst-compat",[s4]:"fire-vertex","fire-js":"fire-js",[a4]:"fire-js-all"};const zf=new Map,c4=new Map,Pg=new Map;function tw(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tl(t){const e=t.name;if(Pg.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of zf.values())tw(n,t);for(const n of c4.values())tw(n,t);return!0}function Fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}const u4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new fu("app","Firebase",u4);class h4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const gl=o4;function y1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:jg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Or.create("bad-app-name",{appName:String(a)});if(n||(n=h1()),!n)throw Or.create("no-options");const l=zf.get(a);if(l){if(Fa(n,l.options)&&Fa(s,l.config))return l;throw Or.create("duplicate-app",{appName:a})}const u=new yD(a);for(const m of Pg.values())u.addComponent(m);const d=new h4(n,s,u);return zf.set(a,d),d}function v1(t=jg){const e=zf.get(t);if(!e&&t===jg&&h1())return y1();if(!e)throw Or.create("no-app",{appName:t});return e}function Lr(t,e,n){let s=l4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(u.join(" "));return}tl(new Ha(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const f4="firebase-heartbeat-database",d4=1,Wc="firebase-heartbeat-store";let eg=null;function _1(){return eg||(eg=ID(f4,d4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),eg}async function m4(t){try{const n=(await _1()).transaction(Wc),s=await n.objectStore(Wc).get(x1(t));return await n.done,s}catch(e){if(e instanceof $s)zs.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function nw(t,e){try{const s=(await _1()).transaction(Wc,"readwrite");await s.objectStore(Wc).put(e,x1(t)),await s.done}catch(n){if(n instanceof $s)zs.warn(n.message);else{const s=Or.create("idb-set",{originalErrorMessage:n?.message});zs.warn(s.message)}}}function x1(t){return`${t.name}!${t.options.appId}`}const p4=1024,g4=30;class y4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>g4){const a=x4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iw(),{heartbeatsToSend:n,unsentEntries:s}=v4(this._heartbeatsCache.heartbeats),a=Bf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return zs.warn(e),""}}}function iw(){return new Date().toISOString().substring(0,10)}function v4(t,e=p4){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),sw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rD()?aD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sw(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}function x4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function b4(t){tl(new Ha("platform-logger",e=>new MD(e),"PRIVATE")),tl(new Ha("heartbeat",e=>new y4(e),"PRIVATE")),Lr(Vg,ew,t),Lr(Vg,ew,"esm2020"),Lr("fire-js","")}b4("");function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w4=b1,w1=new fu("auth","Firebase",b1());const Ff=new By("@firebase/auth");function T4(t,...e){Ff.logLevel<=Fe.WARN&&Ff.warn(`Auth (${gl}): ${t}`,...e)}function Sf(t,...e){Ff.logLevel<=Fe.ERROR&&Ff.error(`Auth (${gl}): ${t}`,...e)}function ui(t,...e){throw qy(t,...e)}function Ni(t,...e){return qy(t,...e)}function Hy(t,e,n){const s={...w4(),[e]:n};return new fu("auth","Firebase",s).create(e,{appName:t.name})}function Ls(t){return Hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function E4(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ui(t,"argument-error"),Hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return w1.create(t,...e)}function be(t,e,...n){if(!t)throw qy(e,...n)}function js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Fs(t,e){t||js(e)}function Og(){return typeof self<"u"&&self.location?.href||""}function S4(){return rw()==="http:"||rw()==="https:"}function rw(){return typeof self<"u"&&self.location?.protocol||null}function A4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S4()||tD()||"connection"in navigator)?navigator.onLine:!0}function C4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=JI()||nD()}get(){return A4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gy(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class T1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I4=new mu(3e4,6e4);function ds(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vi(t,e,n,s,a={}){return E1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=du({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return eD()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&pl(t.emulatorConfig.host)&&(g.credentials="include"),T1.fetch()(await S1(t,t.config.apiHost,n,d),g)})}async function E1(t,e,n){t._canInitEmulator=!1;const s={...R4,...e};try{const a=new k4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw cf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw cf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw cf(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Hy(t,v,g);ui(t,v)}}catch(a){if(a instanceof $s)throw a;ui(t,"network-request-failed",{message:String(a)})}}async function pu(t,e,n,s,a={}){const l=await Vi(t,e,n,s,a);return"mfaPendingCredential"in l&&ui(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function S1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Gy(t.config,a):`${t.config.apiScheme}://${a}`;return N4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function D4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),I4.get())})}}function cf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ni(t,e,s);return a.customData._tokenResponse=n,a}function aw(t){return t!==void 0&&t.enterprise!==void 0}class M4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V4(t,e){return Vi(t,"GET","/v2/recaptchaConfig",ds(t,e))}async function j4(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function Hf(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(t,e=!1){const n=yt(t),s=await n.getIdToken(e),a=Ky(s);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:zc(tg(a.auth_time)),issuedAtTime:zc(tg(a.iat)),expirationTime:zc(tg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function tg(t){return Number(t)*1e3}function Ky(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=c1(n);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ow(t){const e=Ky(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof $s&&O4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function O4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class L4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qf(t){const e=t.auth,n=await t.getIdToken(),s=await nl(t,Hf(e,{idToken:n}));be(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?A1(a.providerUserInfo):[],u=B4(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function U4(t){const e=yt(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function A1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function z4(t,e){const n=await E1(t,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await S1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&pl(t.emulatorConfig.host)&&(m.credentials="include"),T1.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F4(t,e){return Vi(t,"POST","/v2/accounts:revokeToken",ds(t,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await z4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Yo;return s&&(be(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return js("not implemented")}}function Rr(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new L4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P4(this,e)}reload(){return U4(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await nl(this,j4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:R,providerData:k,stsTokenManager:P}=n;be(x&&P,e,"internal-error");const j=Yo.fromJSON(this.name,P);be(typeof x=="string",e,"internal-error"),Rr(s,e.name),Rr(a,e.name),be(typeof T=="boolean",e,"internal-error"),be(typeof R=="boolean",e,"internal-error"),Rr(l,e.name),Rr(u,e.name),Rr(d,e.name),Rr(m,e.name),Rr(g,e.name),Rr(v,e.name);const L=new Ri({uid:x,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(L.providerData=k.map(B=>({...B}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,s=!1){const a=new Yo;a.updateFromServerResponse(n);const l=new Ri({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await qf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?A1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new Yo;d.updateFromIdToken(s);const m=new Ri({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const lw=new Map;function Ps(t){Fs(t instanceof Function,"Expected a class definition");let e=lw.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lw.set(t,e),e)}class C1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C1.type="NONE";const cw=C1;function Af(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hf(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qo(Ps(cw),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ps(cw);const u=Af(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(u);if(v){let x;if(typeof v=="string"){const T=await Hf(e,{idToken:v}).catch(()=>{});if(!T)break;x=await Ri._fromGetAccountInfoResponse(e,T,v)}else x=Ri._fromJSON(e,v);g!==l&&(d=x),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Qo(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Qo(l,e,s))}}function uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(V1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(k1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function R1(t=pn()){return/firefox\//i.test(t)}function N1(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(t=pn()){return/crios\//i.test(t)}function D1(t=pn()){return/iemobile/i.test(t)}function k1(t=pn()){return/android/i.test(t)}function M1(t=pn()){return/blackberry/i.test(t)}function V1(t=pn()){return/webos/i.test(t)}function $y(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H4(t=pn()){return $y(t)&&!!window.navigator?.standalone}function q4(){return iD()&&document.documentMode===10}function j1(t=pn()){return $y(t)||k1(t)||V1(t)||M1(t)||/windows phone/i.test(t)||D1(t)}function P1(t,e=[]){let n;switch(t){case"Browser":n=uw(pn());break;case"Worker":n=`${uw(pn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gl}/${s}`}class G4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function K4(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",ds(t,e))}const $4=6;class Y4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Q4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hw(this),this.idTokenSubscription=new hw(this),this.beforeStateQueue=new G4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hf(this,{idToken:e}),s=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Ls(this));const n=e?yt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K4(this),n=new Y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await F4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&T4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xr(t){return yt(t)}class hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=hD(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X4(t){_d=t}function O1(t){return _d.loadJS(t)}function W4(){return _d.recaptchaEnterpriseScript}function J4(){return _d.gapiScript}function Z4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ek{constructor(){this.enterprise=new tk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nk="recaptcha-enterprise",L1="NO_RECAPTCHA";class ik{constructor(e){this.type=nk,this.auth=Xr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{V4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new M4(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;aw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(L1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ek().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&aw(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=W4();m.length!==0&&(m+=d),O1(m).then(()=>{a(d,l,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function fw(t,e,n,s=!1,a=!1){const l=new ik(t);let u;if(a)u=L1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ug(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await fw(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await fw(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function sk(t,e){const n=Fy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fa(l,e??{}))return a;ui(a,"already-initialized")}return n.initialize({options:e})}function rk(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function ak(t,e,n){const s=Xr(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=U1(e),{host:u,port:d}=ok(e),m=d===null?"":`:${d}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Fa(g,s.config.emulator)&&Fa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,pl(u)?(d1(`${l}//${u}${m}`),m1("Auth",!0)):lk()}function U1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ok(t){const e=U1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:dw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:dw(u)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Yy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,n){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function ck(t,e){return Vi(t,"POST","/v1/accounts:signUp",e)}async function uk(t,e){return Vi(t,"POST","/v1/accounts:update",ds(t,e))}async function hk(t,e){return pu(t,"POST","/v1/accounts:signInWithPassword",ds(t,e))}async function fk(t,e){return Vi(t,"POST","/v1/accounts:sendOobCode",ds(t,e))}async function dk(t,e){return fk(t,e)}async function mk(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}async function pk(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}class Jc extends Yy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,n,"signInWithPassword",hk);case"emailLink":return mk(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,s,"signUpPassword",ck);case"emailLink":return pk(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xo(t,e){return pu(t,"POST","/v1/accounts:signInWithIdp",ds(t,e))}const gk="http://localhost";class qa extends Yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new qa(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:gk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}function yk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vk(t){const e=Mc(Vc(t)).link,n=e?Mc(Vc(e)).deep_link_id:null,s=Mc(Vc(t)).deep_link_id;return(s?Mc(Vc(s)).link:null)||s||n||e||t}class Qy{constructor(e){const n=Mc(Vc(e)),s=n.apiKey??null,a=n.oobCode??null,l=yk(n.mode??null);be(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=vk(e);try{return new Qy(n)}catch{return null}}}class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Qy.parseLink(n);return be(s,"argument-error"),Jc._fromEmailAndCode(e,s.code,s.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Xy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ir extends gu{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";class Vs extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Vs.credential(n,s)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";class Dr extends gu{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";class kr extends gu{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";async function _k(t,e){return pu(t,"POST","/v1/accounts:signUp",ds(t,e))}class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ri._fromIdTokenResponse(e,s,a),u=mw(s);return new Ga({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=mw(s);return new Ga({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Gf extends $s{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Gf(e,n,s,a)}}function B1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,l,e,s):l})}async function xk(t,e,n=!1){const s=await nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ga._forOperation(t,"link",s)}async function bk(t,e,n=!1){const{auth:s}=t;if(Fn(s.app))return Promise.reject(Ls(s));const a="reauthenticate";try{const l=await nl(t,B1(s,a,e,t),n);be(l.idToken,s,"internal-error");const u=Ky(l.idToken);be(u,s,"internal-error");const{sub:d}=u;return be(t.uid===d,s,"user-mismatch"),Ga._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),l}}async function z1(t,e,n=!1){if(Fn(t.app))return Promise.reject(Ls(t));const s="signIn",a=await B1(t,s,e),l=await Ga._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function wk(t,e){return z1(Xr(t),e)}function Tk(t,e,n){be(n.url?.length>0,t,"invalid-continue-uri"),be(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),be(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(be(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(be(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function F1(t){const e=Xr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ek(t,e){await uk(yt(t),{oobCode:e})}async function Sk(t,e,n){if(Fn(t.app))return Promise.reject(Ls(t));const s=Xr(t),u=await Ug(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_k).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&F1(t),m}),d=await Ga._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function Ak(t,e,n){return Fn(t.app)?Promise.reject(Ls(t)):wk(yt(t),yl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&F1(t),s})}async function H1(t,e){const n=yt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Tk(n.auth,a,e);const{email:l}=await dk(n.auth,a);l!==t.email&&await t.reload()}async function Ck(t,e){return Vi(t,"POST","/v1/accounts:update",e)}async function Rk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=yt(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await nl(s,Ck(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function Nk(t,e,n,s){return yt(t).onIdTokenChanged(e,n,s)}function Ik(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function Dk(t,e,n,s){return yt(t).onAuthStateChanged(e,n,s)}function kk(t){return yt(t).signOut()}const Kf="__sak";class q1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mk=1e3,Vk=10;class G1 extends q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);q4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Vk):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Mk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}G1.type="LOCAL";const jk=G1;class K1 extends q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}K1.type="SESSION";const $1=K1;function Pk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new xd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async g=>g(n.origin,l)),m=await Pk(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];function Wy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Ok{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const g=Wy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(x){const T=x;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function rs(){return window}function Lk(t){rs().location.href=t}function Y1(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function Uk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bk(){return navigator?.serviceWorker?.controller||null}function zk(){return Y1()?self:null}const Q1="firebaseLocalStorageDb",Fk=1,$f="firebaseLocalStorage",X1="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function Hk(){const t=indexedDB.deleteDatabase(Q1);return new yu(t).toPromise()}function Bg(){const t=indexedDB.open(Q1,Fk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore($f,{keyPath:X1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains($f)?e(s):(s.close(),await Hk(),e(await Bg()))})})}async function pw(t,e,n){const s=bd(t,!0).put({[X1]:e,value:n});return new yu(s).toPromise()}async function qk(t,e){const n=bd(t,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function gw(t,e){const n=bd(t,!0).delete(e);return new yu(n).toPromise()}const Gk=800,Kk=3;class W1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Kk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(zk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Uk(),!this.activeServiceWorker)return;this.sender=new Ok(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await pw(e,Kf,"1"),await gw(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>qk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bd(a,!1).getAll();return new yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W1.type="LOCAL";const $k=W1;new mu(3e4,6e4);function J1(t,e){return e?Ps(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Jy extends Yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yk(t){return z1(t.auth,new Jy(t),t.bypassAuthState)}function Qk(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),bk(n,new Jy(t),t.bypassAuthState)}async function Xk(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),xk(n,new Jy(t),t.bypassAuthState)}class Z1{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yk;case"linkViaPopup":case"linkViaRedirect":return Xk;case"reauthViaPopup":case"reauthViaRedirect":return Qk;default:ui(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wk=new mu(2e3,1e4);async function Jk(t,e,n){if(Fn(t.app))return Promise.reject(Ni(t,"operation-not-supported-in-this-environment"));const s=Xr(t);E4(t,e,Xy);const a=J1(s,n);return new ja(s,"signInViaPopup",e,a).executeNotNull()}class ja extends Z1{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wk.get())};e()}}ja.currentPopupAction=null;const Zk="pendingRedirect",Cf=new Map;class eM extends Z1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const s=await tM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tM(t,e){const n=sM(e),s=iM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function nM(t,e){Cf.set(t._key(),e)}function iM(t){return Ps(t._redirectPersistence)}function sM(t){return Af(Zk,t.config.apiKey,t.name)}async function rM(t,e,n=!1){if(Fn(t.app))return Promise.reject(Ls(t));const s=Xr(t),a=J1(s,e),u=await new eM(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const aM=600*1e3;class oM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aM&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function lM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eS(t);default:return!1}}async function cM(t,e={}){return Vi(t,"GET","/v1/projects",e)}const uM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hM=/^https?/;async function fM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cM(t);for(const n of e)try{if(dM(n))return}catch{}ui(t,"unauthorized-domain")}function dM(t){const e=Og(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!hM.test(n))return!1;if(uM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const mM=new mu(3e4,6e4);function vw(){const t=rs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pM(t){return new Promise((e,n)=>{function s(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),n(Ni(t,"network-request-failed"))},timeout:mM.get()})}if(rs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(rs().gapi?.load)s();else{const a=Z4("iframefcb");return rs()[a]=()=>{gapi.load?s():n(Ni(t,"network-request-failed"))},O1(`${J4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function gM(t){return Rf=Rf||pM(t),Rf}const yM=new mu(5e3,15e3),vM="__/auth/iframe",_M="emulator/auth/iframe",xM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wM(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gy(e,_M):`https://${t.config.authDomain}/${vM}`,s={apiKey:e.apiKey,appName:t.name,v:gl},a=bM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${du(s).slice(1)}`}async function TM(t){const e=await gM(t),n=rs().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:wM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ni(t,"network-request-failed"),d=rs().setTimeout(()=>{l(u)},yM.get());function m(){rs().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const EM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SM=500,AM=600,CM="_blank",RM="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NM(t,e,n,s=SM,a=AM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...EM,width:s.toString(),height:a.toString(),top:l,left:u},g=pn().toLowerCase();n&&(d=I1(g)?CM:n),R1(g)&&(e=e||RM,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[R,k])=>`${T}${R}=${k},`,"");if(H4(g)&&d!=="_self")return IM(e||"",d),new _w(null);const x=window.open(e||"",d,v);be(x,t,"popup-blocked");try{x.focus()}catch{}return new _w(x)}function IM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const DM="__/auth/handler",kM="emulator/auth/handler",MM=encodeURIComponent("fac");async function xw(t,e,n,s,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:gl,eventId:a};if(e instanceof Xy){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",uD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof gu){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),g=m?`#${MM}=${encodeURIComponent(m)}`:"";return`${VM(t)}?${du(d).slice(1)}${g}`}function VM({config:t}){return t.emulator?Gy(t,kM):`https://${t.authDomain}/${DM}`}const ng="webStorageSupport";class jM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$1,this._completeRedirectFn=rM,this._overrideRedirectResult=nM}async _openPopup(e,n,s,a){Fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await xw(e,n,s,Og(),a);return NM(e,l,Wy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await xw(e,n,s,Og(),a);return Lk(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Fs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await TM(e),s=new oM(e);return n.register("authEvent",a=>(be(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},a=>{const l=a?.[0]?.[ng];l!==void 0&&n(!!l),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j1()||N1()||$y()}}const PM=jM;var bw="@firebase/auth",ww="1.12.0";class OM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UM(t){tl(new Ha("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P1(t)},g=new Q4(s,a,l,m);return rk(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),tl(new Ha("auth-internal",e=>{const n=Xr(e.getProvider("auth").getImmediate());return(s=>new OM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(bw,ww,LM(t)),Lr(bw,ww,"esm2020")}const BM=300,zM=f1("authIdTokenMaxAge")||BM;let Tw=null;const FM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zM)return;const a=n?.token;Tw!==a&&(Tw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function HM(t=v1()){const e=Fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sk(t,{popupRedirectResolver:PM,persistence:[$k,jk,$1]}),s=f1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=FM(l.toString());Ik(n,u,()=>u(n.currentUser)),Nk(n,d=>u(d))}}const a=u1("auth");return a&&ak(n,`http://${a}`),n}function qM(){return document.getElementsByTagName("head")?.[0]??document}X4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ni("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",qM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UM("Browser");var Ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ur,tS;(function(){var t;function e(A,S){function N(){}N.prototype=S.prototype,A.F=S.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(V,I,F){for(var D=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)D[Re-2]=arguments[Re];return S.prototype[I].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,S,N){N||(N=0);const V=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)V[I]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(I=0;I<16;++I)V[I]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=A.g[0],N=A.g[1],I=A.g[2];let F=A.g[3],D;D=S+(F^N&(I^F))+V[0]+3614090360&4294967295,S=N+(D<<7&4294967295|D>>>25),D=F+(I^S&(N^I))+V[1]+3905402710&4294967295,F=S+(D<<12&4294967295|D>>>20),D=I+(N^F&(S^N))+V[2]+606105819&4294967295,I=F+(D<<17&4294967295|D>>>15),D=N+(S^I&(F^S))+V[3]+3250441966&4294967295,N=I+(D<<22&4294967295|D>>>10),D=S+(F^N&(I^F))+V[4]+4118548399&4294967295,S=N+(D<<7&4294967295|D>>>25),D=F+(I^S&(N^I))+V[5]+1200080426&4294967295,F=S+(D<<12&4294967295|D>>>20),D=I+(N^F&(S^N))+V[6]+2821735955&4294967295,I=F+(D<<17&4294967295|D>>>15),D=N+(S^I&(F^S))+V[7]+4249261313&4294967295,N=I+(D<<22&4294967295|D>>>10),D=S+(F^N&(I^F))+V[8]+1770035416&4294967295,S=N+(D<<7&4294967295|D>>>25),D=F+(I^S&(N^I))+V[9]+2336552879&4294967295,F=S+(D<<12&4294967295|D>>>20),D=I+(N^F&(S^N))+V[10]+4294925233&4294967295,I=F+(D<<17&4294967295|D>>>15),D=N+(S^I&(F^S))+V[11]+2304563134&4294967295,N=I+(D<<22&4294967295|D>>>10),D=S+(F^N&(I^F))+V[12]+1804603682&4294967295,S=N+(D<<7&4294967295|D>>>25),D=F+(I^S&(N^I))+V[13]+4254626195&4294967295,F=S+(D<<12&4294967295|D>>>20),D=I+(N^F&(S^N))+V[14]+2792965006&4294967295,I=F+(D<<17&4294967295|D>>>15),D=N+(S^I&(F^S))+V[15]+1236535329&4294967295,N=I+(D<<22&4294967295|D>>>10),D=S+(I^F&(N^I))+V[1]+4129170786&4294967295,S=N+(D<<5&4294967295|D>>>27),D=F+(N^I&(S^N))+V[6]+3225465664&4294967295,F=S+(D<<9&4294967295|D>>>23),D=I+(S^N&(F^S))+V[11]+643717713&4294967295,I=F+(D<<14&4294967295|D>>>18),D=N+(F^S&(I^F))+V[0]+3921069994&4294967295,N=I+(D<<20&4294967295|D>>>12),D=S+(I^F&(N^I))+V[5]+3593408605&4294967295,S=N+(D<<5&4294967295|D>>>27),D=F+(N^I&(S^N))+V[10]+38016083&4294967295,F=S+(D<<9&4294967295|D>>>23),D=I+(S^N&(F^S))+V[15]+3634488961&4294967295,I=F+(D<<14&4294967295|D>>>18),D=N+(F^S&(I^F))+V[4]+3889429448&4294967295,N=I+(D<<20&4294967295|D>>>12),D=S+(I^F&(N^I))+V[9]+568446438&4294967295,S=N+(D<<5&4294967295|D>>>27),D=F+(N^I&(S^N))+V[14]+3275163606&4294967295,F=S+(D<<9&4294967295|D>>>23),D=I+(S^N&(F^S))+V[3]+4107603335&4294967295,I=F+(D<<14&4294967295|D>>>18),D=N+(F^S&(I^F))+V[8]+1163531501&4294967295,N=I+(D<<20&4294967295|D>>>12),D=S+(I^F&(N^I))+V[13]+2850285829&4294967295,S=N+(D<<5&4294967295|D>>>27),D=F+(N^I&(S^N))+V[2]+4243563512&4294967295,F=S+(D<<9&4294967295|D>>>23),D=I+(S^N&(F^S))+V[7]+1735328473&4294967295,I=F+(D<<14&4294967295|D>>>18),D=N+(F^S&(I^F))+V[12]+2368359562&4294967295,N=I+(D<<20&4294967295|D>>>12),D=S+(N^I^F)+V[5]+4294588738&4294967295,S=N+(D<<4&4294967295|D>>>28),D=F+(S^N^I)+V[8]+2272392833&4294967295,F=S+(D<<11&4294967295|D>>>21),D=I+(F^S^N)+V[11]+1839030562&4294967295,I=F+(D<<16&4294967295|D>>>16),D=N+(I^F^S)+V[14]+4259657740&4294967295,N=I+(D<<23&4294967295|D>>>9),D=S+(N^I^F)+V[1]+2763975236&4294967295,S=N+(D<<4&4294967295|D>>>28),D=F+(S^N^I)+V[4]+1272893353&4294967295,F=S+(D<<11&4294967295|D>>>21),D=I+(F^S^N)+V[7]+4139469664&4294967295,I=F+(D<<16&4294967295|D>>>16),D=N+(I^F^S)+V[10]+3200236656&4294967295,N=I+(D<<23&4294967295|D>>>9),D=S+(N^I^F)+V[13]+681279174&4294967295,S=N+(D<<4&4294967295|D>>>28),D=F+(S^N^I)+V[0]+3936430074&4294967295,F=S+(D<<11&4294967295|D>>>21),D=I+(F^S^N)+V[3]+3572445317&4294967295,I=F+(D<<16&4294967295|D>>>16),D=N+(I^F^S)+V[6]+76029189&4294967295,N=I+(D<<23&4294967295|D>>>9),D=S+(N^I^F)+V[9]+3654602809&4294967295,S=N+(D<<4&4294967295|D>>>28),D=F+(S^N^I)+V[12]+3873151461&4294967295,F=S+(D<<11&4294967295|D>>>21),D=I+(F^S^N)+V[15]+530742520&4294967295,I=F+(D<<16&4294967295|D>>>16),D=N+(I^F^S)+V[2]+3299628645&4294967295,N=I+(D<<23&4294967295|D>>>9),D=S+(I^(N|~F))+V[0]+4096336452&4294967295,S=N+(D<<6&4294967295|D>>>26),D=F+(N^(S|~I))+V[7]+1126891415&4294967295,F=S+(D<<10&4294967295|D>>>22),D=I+(S^(F|~N))+V[14]+2878612391&4294967295,I=F+(D<<15&4294967295|D>>>17),D=N+(F^(I|~S))+V[5]+4237533241&4294967295,N=I+(D<<21&4294967295|D>>>11),D=S+(I^(N|~F))+V[12]+1700485571&4294967295,S=N+(D<<6&4294967295|D>>>26),D=F+(N^(S|~I))+V[3]+2399980690&4294967295,F=S+(D<<10&4294967295|D>>>22),D=I+(S^(F|~N))+V[10]+4293915773&4294967295,I=F+(D<<15&4294967295|D>>>17),D=N+(F^(I|~S))+V[1]+2240044497&4294967295,N=I+(D<<21&4294967295|D>>>11),D=S+(I^(N|~F))+V[8]+1873313359&4294967295,S=N+(D<<6&4294967295|D>>>26),D=F+(N^(S|~I))+V[15]+4264355552&4294967295,F=S+(D<<10&4294967295|D>>>22),D=I+(S^(F|~N))+V[6]+2734768916&4294967295,I=F+(D<<15&4294967295|D>>>17),D=N+(F^(I|~S))+V[13]+1309151649&4294967295,N=I+(D<<21&4294967295|D>>>11),D=S+(I^(N|~F))+V[4]+4149444226&4294967295,S=N+(D<<6&4294967295|D>>>26),D=F+(N^(S|~I))+V[11]+3174756917&4294967295,F=S+(D<<10&4294967295|D>>>22),D=I+(S^(F|~N))+V[2]+718787259&4294967295,I=F+(D<<15&4294967295|D>>>17),D=N+(F^(I|~S))+V[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+F&4294967295}s.prototype.v=function(A,S){S===void 0&&(S=A.length);const N=S-this.blockSize,V=this.C;let I=this.h,F=0;for(;F<S;){if(I==0)for(;F<=N;)a(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<S;)if(V[I++]=A.charCodeAt(F++),I==this.blockSize){a(this,V),I=0;break}}else for(;F<S;)if(V[I++]=A[F++],I==this.blockSize){a(this,V),I=0;break}}this.h=I,this.o+=S},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)A[S++]=this.g[N]>>>V&255;return A};function l(A,S){var N=d;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=S(A)}function u(A,S){this.h=S;const N=[];let V=!0;for(let I=A.length-1;I>=0;I--){const F=A[I]|0;V&&F==S||(N[I]=F,V=!1)}this.g=N}var d={};function m(A){return-128<=A&&A<128?l(A,function(S){return new u([S|0],S<0?-1:0)}):new u([A|0],A<0?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return x;if(A<0)return j(g(-A));const S=[];let N=1;for(let V=0;A>=N;V++)S[V]=A/N|0,N*=4294967296;return new u(S,0)}function v(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return j(v(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(S,8));let V=x;for(let F=0;F<A.length;F+=8){var I=Math.min(8,A.length-F);const D=parseInt(A.substring(F,F+I),S);I<8?(I=g(Math.pow(S,I)),V=V.j(I).add(g(D))):(V=V.j(N),V=V.add(g(D)))}return V}var x=m(0),T=m(1),R=m(16777216);t=u.prototype,t.m=function(){if(P(this))return-j(this).m();let A=0,S=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);A+=(V>=0?V:4294967296+V)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(P(this))return"-"+j(this).toString(A);const S=g(Math.pow(A,6));var N=this;let V="";for(;;){const I=J(N,S).g;N=L(N,I.j(S));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=I,k(N))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function P(A){return A.h==-1}t.l=function(A){return A=L(this,A),P(A)?-1:k(A)?0:1};function j(A){const S=A.g.length,N=[];for(let V=0;V<S;V++)N[V]=~A.g[V];return new u(N,~A.h).add(T)}t.abs=function(){return P(this)?j(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),N=[];let V=0;for(let I=0;I<=S;I++){let F=V+(this.i(I)&65535)+(A.i(I)&65535),D=(F>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);V=D>>>16,F&=65535,D&=65535,N[I]=D<<16|F}return new u(N,N[N.length-1]&-2147483648?-1:0)};function L(A,S){return A.add(j(S))}t.j=function(A){if(k(this)||k(A))return x;if(P(this))return P(A)?j(this).j(j(A)):j(j(this).j(A));if(P(A))return j(this.j(j(A)));if(this.l(R)<0&&A.l(R)<0)return g(this.m()*A.m());const S=this.g.length+A.g.length,N=[];for(var V=0;V<2*S;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<A.g.length;I++){const F=this.i(V)>>>16,D=this.i(V)&65535,Re=A.i(I)>>>16,Me=A.i(I)&65535;N[2*V+2*I]+=D*Me,B(N,2*V+2*I),N[2*V+2*I+1]+=F*Me,B(N,2*V+2*I+1),N[2*V+2*I+1]+=D*Re,B(N,2*V+2*I+1),N[2*V+2*I+2]+=F*Re,B(N,2*V+2*I+2)}for(A=0;A<S;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=S;A<2*S;A++)N[A]=0;return new u(N,0)};function B(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function z(A,S){this.g=A,this.h=S}function J(A,S){if(k(S))throw Error("division by zero");if(k(A))return new z(x,x);if(P(A))return S=J(j(A),S),new z(j(S.g),j(S.h));if(P(S))return S=J(A,j(S)),new z(j(S.g),S.h);if(A.g.length>30){if(P(A)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var N=T,V=S;V.l(A)<=0;)N=ee(N),V=ee(V);var I=le(N,1),F=le(V,1);for(V=le(V,2),N=le(N,2);!k(V);){var D=F.add(V);D.l(A)<=0&&(I=I.add(N),F=D),V=le(V,1),N=le(N,1)}return S=L(A,I.j(S)),new z(I,S)}for(I=x;A.l(S)>=0;){for(N=Math.max(1,Math.floor(A.m()/S.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=g(N),D=F.j(S);P(D)||D.l(A)>0;)N-=V,F=g(N),D=F.j(S);k(F)&&(F=T),I=I.add(F),A=L(A,D)}return new z(I,A)}t.B=function(A){return J(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)&A.i(V);return new u(N,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)|A.i(V);return new u(N,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)^A.i(V);return new u(N,this.h^A.h)};function ee(A){const S=A.g.length+1,N=[];for(let V=0;V<S;V++)N[V]=A.i(V)<<1|A.i(V-1)>>>31;return new u(N,A.h)}function le(A,S){const N=S>>5;S%=32;const V=A.g.length-N,I=[];for(let F=0;F<V;F++)I[F]=S>0?A.i(F+N)>>>S|A.i(F+N+1)<<32-S:A.i(F+N);return new u(I,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,Ur=u}).apply(typeof Ew<"u"?Ew:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nS,jc,iS,Nf,zg,sS,rS,aS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var _=0;_<h.length;++_){var w=h[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var w=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var K=h[C];if(!(K in w))break e;w=w[K]}h=h[h.length-1],C=w[h],_=_(C),_!=C&&_!=null&&e(w,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var w=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&w.push([C,_[C]]);return w}});var l=l||{},u=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,w){return h.call.apply(h.bind,arguments)}function g(h,_,w){return g=m,g.apply(null,arguments)}function v(h,_){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function x(h,_){function w(){}w.prototype=_.prototype,h.Z=_.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(C,K,X){for(var ce=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ce[Ve-2]=arguments[Ve];return _.prototype[K].apply(C,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const _=h.length;if(_>0){const w=Array(_);for(let C=0;C<_;C++)w[C]=h[C];return w}return[]}function k(h,_){for(let C=1;C<arguments.length;C++){const K=arguments[C];var w=typeof K;if(w=w!="object"?w:K?Array.isArray(K)?"array":w:"null",w=="array"||w=="object"&&typeof K.length=="number"){w=h.length||0;const X=K.length||0;h.length=w+X;for(let ce=0;ce<X;ce++)h[w+ce]=K[ce]}else h.push(K)}}class P{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(h){u.setTimeout(()=>{throw h},0)}function L(){var h=A;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,w){const C=z.get();C.set(_,w),this.h?this.h.next=C:this.g=C,this.h=C}}var z=new P(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,le=!1,A=new B,S=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(N)}};function N(){for(var h;h=L();){try{h.h.call(h.g)}catch(w){j(w)}var _=z;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,_),u.removeEventListener("test",w,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Re(h,_){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}x(Re,I),Re.prototype.init=function(h,_){const w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(w=="mouseover"?_=h.fromElement:w=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),G=0;function re(h,_,w,C,K){this.listener=h,this.proxy=null,this.src=_,this.type=w,this.capture=!!C,this.ha=K,this.key=++G,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,_,w){for(const C in h)_.call(w,h[C],C,h)}function ke(h,_){for(const w in h)_.call(void 0,h[w],w,h)}function U(h){const _={};for(const w in h)_[w]=h[w];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,_){let w,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(w in C)h[w]=C[w];for(let X=0;X<te.length;X++)w=te[X],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,_,w,C,K){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ce=Te(h,_,C,K);return ce>-1?(_=h[ce],w||(_.fa=!1)):(_=new re(_,this.src,X,!!C,K),_.fa=w,h.push(_)),_};function Ee(h,_){const w=_.type;if(w in h.g){var C=h.g[w],K=Array.prototype.indexOf.call(C,_,void 0),X;(X=K>=0)&&Array.prototype.splice.call(C,K,1),X&&(de(_),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Te(h,_,w,C){for(let K=0;K<h.length;++K){const X=h[K];if(!X.da&&X.listener==_&&X.capture==!!w&&X.ha==C)return K}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),xe={};function ye(h,_,w,C,K){if(Array.isArray(_)){for(let X=0;X<_.length;X++)ye(h,_[X],w,C,K);return null}return w=Cl(w),h&&h[Me]?h.J(_,w,d(C)?!!C.capture:!1,K):Ft(h,_,w,!1,C,K)}function Ft(h,_,w,C,K,X){if(!_)throw Error("Invalid event type");const ce=d(K)?!!K.capture:!!K;let Ve=na(h);if(Ve||(h[oe]=Ve=new fe(h)),w=Ve.add(_,w,C,ce,X),w.proxy)return w;if(C=ji(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)F||(K=ce),K===void 0&&(K=!1),h.addEventListener(_.toString(),C,K);else if(h.attachEvent)h.attachEvent(cn(_.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ji(){function h(w){return _.call(h.src,h.listener,w)}const _=ta;return h}function Kn(h,_,w,C,K){if(Array.isArray(_))for(var X=0;X<_.length;X++)Kn(h,_[X],w,C,K);else C=d(C)?!!C.capture:!!C,w=Cl(w),h&&h[Me]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],w=Te(_,w,C,K),w>-1&&(de(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=na(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Te(_,w,C,K)),(w=h>-1?_[h]:null)&&Ys(w))}function Ys(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Me])Ee(_.i,h);else{var w=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(w,C,h.capture):_.detachEvent?_.detachEvent(cn(w),C):_.addListener&&_.removeListener&&_.removeListener(C),(w=na(_))?(Ee(w,h),w.h==0&&(w.src=null,_[oe]=null)):de(h)}}}function cn(h){return h in xe?xe[h]:xe[h]="on"+h}function ta(h,_){if(h.da)h=!0;else{_=new Re(_,this);const w=h.listener,C=h.ha||h.src;h.fa&&Ys(h),h=w.call(C,_)}return h}function na(h){return h=h[oe],h instanceof fe?h:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cl(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(_){return h.handleEvent(_)}),h[Al])}function Nt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}x(Nt,V),Nt.prototype[Me]=!0,Nt.prototype.removeEventListener=function(h,_,w,C){Kn(this,h,_,w,C)};function Ht(h,_){var w,C=h.G;if(C)for(w=[];C;C=C.G)w.push(C);if(h=h.M,C=_.type||_,typeof _=="string")_=new I(_,h);else if(_ instanceof I)_.target=_.target||h;else{var K=_;_=new I(C,h),ue(_,K)}K=!0;let X,ce;if(w)for(ce=w.length-1;ce>=0;ce--)X=_.g=w[ce],K=Qs(X,C,!0,_)&&K;if(X=_.g=h,K=Qs(X,C,!0,_)&&K,K=Qs(X,C,!1,_)&&K,w)for(ce=0;ce<w.length;ce++)X=_.g=w[ce],K=Qs(X,C,!1,_)&&K}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const w=h.g[_];for(let C=0;C<w.length;C++)de(w[C]);delete h.g[_],h.h--}}this.G=null},Nt.prototype.J=function(h,_,w,C){return this.i.add(String(h),_,!1,w,C)},Nt.prototype.K=function(h,_,w,C){return this.i.add(String(h),_,!0,w,C)};function Qs(h,_,w,C){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let X=0;X<_.length;++X){const ce=_[X];if(ce&&!ce.da&&ce.capture==w){const Ve=ce.listener,Tt=ce.ha||ce.src;ce.fa&&Ee(h.i,ce),K=Ve.call(Tt,C)!==!1&&K}}return K&&!C.defaultPrevented}function Hd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function ku(h){h.g=Hd(()=>{h.g=null,h.i&&(h.i=!1,ku(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class gn extends V{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(h){V.call(this),this.h=h,this.g={}}x(ia,V);var Rl=[];function Nl(h){Ae(h.g,function(_,w){this.g.hasOwnProperty(w)&&Ys(_)},h),h.g={}}ia.prototype.N=function(){ia.Z.N.call(this),Nl(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=u.JSON.stringify,qd=u.JSON.parse,Mu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Vu(){}function ju(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){I.call(this,"d")}x(Wt,I);function $n(){I.call(this,"c")}x($n,I);var wt={},Pu=null;function Xa(){return Pu=Pu||new Nt}wt.Ia="serverreachability";function Ou(h){I.call(this,wt.Ia,h)}x(Ou,I);function Pi(h){const _=Xa();Ht(_,new Ou(_))}wt.STAT_EVENT="statevent";function sa(h,_){I.call(this,wt.STAT_EVENT,h),this.stat=_}x(sa,I);function It(h){const _=Xa();Ht(_,new sa(_,h))}wt.Ja="timingevent";function Oi(h,_){I.call(this,wt.Ja,h),this.size=_}x(Oi,I);function Li(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Gd(h,_,w,C,K,X){h.info(function(){if(h.g)if(X){var ce="",Ve=X.split("&");for(let Qe=0;Qe<Ve.length;Qe++){var Tt=Ve[Qe].split("=");if(Tt.length>1){const ft=Tt[0];Tt=Tt[1];const Wn=ft.split("_");ce=Wn.length>=2&&Wn[1]=="type"?ce+(ft+"="+Tt+"&"):ce+(ft+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+_+`
`+w+`
`+ce})}function Lu(h,_,w,C,K,X,ce){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+_+`
`+w+`
`+X+" "+ce})}function Ui(h,_,w,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Kd(h,w)+(C?" "+C:"")})}function ra(h,_){h.info(function(){return"TIMEOUT: "+_})}di.prototype.info=function(){};function Kd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var w=X[h];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var K=C[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ce=1;ce<C.length;ce++)C[ce]=""}}}}return Xs(X)}catch{return _}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function oa(){}x(oa,Vu),oa.prototype.g=function(){return new XMLHttpRequest},Dl=new oa;function ps(h){return encodeURIComponent(String(h))}function Uu(h){var _=1;h=h.split(":");const w=[];for(;_>0&&h.length;)w.push(h.shift()),_--;return h.length&&w.push(h.join(":")),w}function mi(h,_,w,C){this.j=h,this.i=_,this.l=w,this.S=C||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Dt={},$t={};function Bi(h,_,w){h.M=1,h.A=la(Mt(_)),h.u=w,h.R=!0,Wa(h,null)}function Wa(h,_){h.F=Date.now(),zi(h),h.B=Mt(h.A);var w=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),to(w.i,"t",C),h.C=0,w=h.j.L,h.h=new pi,h.g=eh(h.j,w?_:null,!h.u),h.P>0&&(h.O=new gn(g(h.Y,h,h.g),h.P)),_=h.V,w=h.g,C=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Rl[0]=K.toString()),K=Rl);for(let X=0;X<K.length;X++){const ce=ye(w,K[X],C||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Pi(),Gd(h.i,h.v,h.B,h.l,h.S,h.u)}mi.prototype.ba=function(h){h=h.target;const _=this.O;_&&vi(h)==3?_.j():this.Y(h)},mi.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=vi(this.g),Tt=this.g.ya(),Qe=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ve!=4||Tt==7||(Tt==8||Qe<=0?Pi(3):Pi(2)),Fi(this);var _=this.g.ca();this.X=_;var w=$d(this);if(this.o=_==200,Lu(this.i,this.v,this.B,this.l,this.S,Ve,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,K=this.g;if((C=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var X=C;break t}}X=null}if(h=X)Ui(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,h);else{this.o=!1,this.m=3,It(12),kn(this),Yn(this);break e}}if(this.R){h=!0;let ft;for(;!this.K&&this.C<w.length;)if(ft=zu(this,w),ft==$t){Ve==4&&(this.m=4,It(14),h=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Dt){this.m=4,It(15),Ui(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Ui(this.i,this.l,ft,null),Hi(this,ft);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||w.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)Ui(this.i,this.l,w,"[Invalid Chunked Response]"),kn(this),Yn(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Kl(ce),ce.P=!0,It(11))}}else Ui(this.i,this.l,w,null),Hi(this,w);Ve==4&&kn(this),this.o&&!this.K&&(Ve==4?Xu(this.j,this):(this.o=!1,zi(this)))}else ys(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),kn(this),Yn(this)}}}catch{}};function $d(h){if(!Bu(h))return h.g.la();const _=Jt(h.g);if(_==="")return"";let w="";const C=_.length,K=vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Yn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<C;X++)h.h.h=!0,w+=h.h.i.decode(_[X],{stream:!(K&&X==C-1)});return _.length=0,h.h.g+=w,h.C=0,h.h.g}function Bu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zu(h,_){var w=h.C,C=_.indexOf(`
`,w);return C==-1?$t:(w=Number(_.substring(w,C)),isNaN(w)?Dt:(C+=1,C+w>_.length?$t:(_=_.slice(C,C+w),h.C=C+w,_)))}mi.prototype.cancel=function(){this.K=!0,kn(this)};function zi(h){h.T=Date.now()+h.H,Ja(h,h.H)}function Ja(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Li(g(h.aa,h),_)}function Fi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}mi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ra(this.i,this.B),this.M!=2&&(Pi(),It(17)),kn(this),this.m=2,Yn(this)):Ja(this,this.T-h)};function Yn(h){h.j.I==0||h.K||Xu(h.j,h)}function kn(h){Fi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Nl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Hi(h,_){try{var w=h.j;if(w.I!=0&&(w.g==h||Gi(w.h,h))){if(!h.L&&Gi(w.h,h)&&w.I==3){try{var C=w.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)ao(w),sr(w);else break e;pa(w),It(18)}}else w.xa=K[1],0<w.xa-w.K&&K[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Li(g(w.Va,w),6e3));qi(w.h)<=1&&w.ta&&(w.ta=void 0)}else Wi(w,11)}else if((h.L||w.g==h)&&ao(w),!D(_))for(K=w.Ba.g.parse(_),_=0;_<K.length;_++){let Qe=K[_];const ft=Qe[0];if(!(ft<=w.K))if(w.K=ft,Qe=Qe[1],w.I==2)if(Qe[0]=="c"){w.M=Qe[1],w.ba=Qe[2];const Wn=Qe[3];Wn!=null&&(w.ka=Wn,w.j.info("VER="+w.ka));const Ji=Qe[4];Ji!=null&&(w.za=Ji,w.j.info("SVER="+w.za));const _i=Qe[5];_i!=null&&typeof _i=="number"&&_i>0&&(C=1.5*_i,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const xi=h.g;if(xi){const ga=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var X=C.h;X.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Vl(X,X.h),X.h=null))}if(C.G){const oo=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(C.wa=oo,Ze(C.J,C.G,oo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var ce=h;if(C.na=Zu(C,C.L?C.ba:null,C.W),ce.L){jl(C.h,ce);var Ve=ce,Tt=C.O;Tt&&(Ve.H=Tt),Ve.D&&(Fi(Ve),zi(Ve)),C.g=ce}else Yu(C);w.i.length>0&&Xi(w)}else Qe[0]!="stop"&&Qe[0]!="close"||Wi(w,7);else w.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Wi(w,7):ql(w):Qe[0]!="noop"&&w.l&&w.l.qa(Qe),w.A=0)}}Pi(4)}catch{}}var kt=class{constructor(h,_){this.g=h,this.map=_}};function kl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qi(h){return h.h?1:h.g?h.g.size:0}function Gi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Vl(h,_){h.g?h.g.add(_):h.h=_}function jl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}kl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const w of h.g.values())_=_.concat(w.G);return _}return R(h.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(h,_){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const C=h[w].indexOf("=");let K,X=null;C>=0?(K=h[w].substring(0,C),X=h[w].substring(C+1)):K=h[w],_(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Mn?(this.l=h.l,Yt(this,h.j),this.o=h.o,this.g=h.g,Ws(this,h.u),this.h=h.h,Ol(this,Ku(h.i)),this.m=h.m):h&&(_=String(h).match(Fu))?(this.l=!1,Yt(this,_[1]||"",!0),this.o=Ki(_[2]||""),this.g=Ki(_[3]||"",!0),Ws(this,_[4]),this.h=Ki(_[5]||"",!0),Ol(this,_[6]||"",!0),this.m=Ki(_[7]||"")):(this.l=!1,this.i=new Zs(null,this.l))}Mn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ca(_,eo,!0),":");var w=this.g;return(w||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ca(_,eo,!0),"@"),h.push(ps(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ca(w,w.charAt(0)=="/"?Ll:Hu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ca(w,qu)),h.join("")},Mn.prototype.resolve=function(h){const _=Mt(this);let w=!!h.j;w?Yt(_,h.j):w=!!h.o,w?_.o=h.o:w=!!h.g,w?_.g=h.g:w=h.u!=null;var C=h.h;if(w)Ws(_,h.u);else if(w=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var K=_.h.lastIndexOf("/");K!=-1&&(C=_.h.slice(0,K+1)+C)}if(K=C,K==".."||K==".")C="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){C=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let ce=0;ce<K.length;){const Ve=K[ce++];Ve=="."?C&&ce==K.length&&X.push(""):Ve==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&ce==K.length&&X.push("")):(X.push(Ve),C=!0)}C=X.join("/")}else C=K}return w?_.h=C:w=h.i.toString()!=="",w?Ol(_,Ku(h.i)):w=!!h.m,w&&(_.m=h.m),_};function Mt(h){return new Mn(h)}function Yt(h,_,w){h.j=w?Ki(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ws(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Ol(h,_,w){_ instanceof Zs?(h.i=_,no(h.i,h.l)):(w||(_=ca(_,Js)),h.i=new Zs(_,h.l))}function Ze(h,_,w){h.i.set(_,w)}function la(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ki(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ca(h,_,w){return typeof h=="string"?(h=encodeURI(h).replace(_,bn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eo=/[#\/\?@]/g,Hu=/[#\?:]/g,Ll=/[#\?]/g,Js=/[#\?@]/g,qu=/#/g;function Zs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function wn(h){h.g||(h.g=new Map,h.h=0,h.i&&Za(h.i,function(_,w){h.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=Zs.prototype,t.add=function(h,_){wn(this),this.i=null,h=er(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(_),this.h+=1,this};function Gu(h,_){wn(h),_=er(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ul(h,_){return wn(h),_=er(h,_),h.g.has(_)}t.forEach=function(h,_){wn(this),this.g.forEach(function(w,C){w.forEach(function(K){h.call(_,K,C,this)},this)},this)};function Bl(h,_){wn(h);let w=[];if(typeof _=="string")Ul(h,_)&&(w=w.concat(h.g.get(er(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)w=w.concat(h[_]);return w}t.set=function(h,_){return wn(this),this.i=null,h=er(this,h),Ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Bl(this,h),h.length>0?String(h[0]):_):_};function to(h,_,w){Gu(h,_),w.length>0&&(h.i=null,h.g.set(er(h,_),R(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var w=_[C];const K=ps(w);w=Bl(this,w);for(let X=0;X<w.length;X++){let ce=K;w[X]!==""&&(ce+="="+ps(w[X])),h.push(ce)}}return this.i=h.join("&")};function Ku(h){const _=new Zs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function er(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function no(h,_){_&&!h.j&&(wn(h),h.i=null,h.g.forEach(function(w,C){const K=C.toLowerCase();C!=K&&(Gu(this,C),to(this,K,w))},h)),h.j=_}function gi(h,_){const w=new di;if(u.Image){const C=new Image;C.onload=v(Qn,w,"TestLoadImage: loaded",!0,_,C),C.onerror=v(Qn,w,"TestLoadImage: error",!1,_,C),C.onabort=v(Qn,w,"TestLoadImage: abort",!1,_,C),C.ontimeout=v(Qn,w,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}function zl(h,_){const w=new di,C=new AbortController,K=setTimeout(()=>{C.abort(),Qn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:C.signal}).then(X=>{clearTimeout(K),X.ok?Qn(w,"TestPingServer: ok",!0,_):Qn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Qn(w,"TestPingServer: error",!1,_)})}function Qn(h,_,w,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(w)}catch{}}function tr(){this.g=new Mu}function $i(h){this.i=h.Sb||null,this.h=h.ab||!1}x($i,Vu),$i.prototype.g=function(){return new ua(this.i,this.h)};function ua(h,_){Nt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ua,Nt),t=ua.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,yi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;io(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function io(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?nr(this):yi(this),this.readyState==3&&io(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,nr(this))},t.Na=function(h){this.g&&(this.response=h,nr(this))},t.ga=function(){this.g&&nr(this)};function nr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=_.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xn(h){let _="";return Ae(h,function(w,C){_+=C,_+=":",_+=w,_+=`\r
`}),_}function ha(h,_,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Xn(w),typeof h=="string"?w!=null&&ps(w):Ze(h,_,w))}function nt(h){Nt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(nt,Nt);var Yi=/^https?$/i,Fl=["POST","PUT"];t=nt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){fa(this,X);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)w.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())w.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Fl,_,void 0)>=0)||C||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of w)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){fa(this,X)}};function fa(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Hl(h),gs(h)}function Hl(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},t.Xa=function(){da(this)};function da(h){if(h.h&&typeof l<"u"){if(h.v&&vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),vi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var C;if(C=X===0){let ce=String(h.D).match(Fu)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),C=!Yi.test(ce?ce.toLowerCase():"")}w=C}if(w)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var K=vi(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Hl(h)}}finally{gs(h)}}}}function gs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,_||Ht(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),qd(_)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ys(h){const _={};h=(h.g&&vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(D(h[C]))continue;var w=Uu(h[C]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=_[K]||[];_[K]=X,X.push(w)}ke(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(h,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||_}function ir(h){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,h),this.Za=Qi("retryDelaySeedMs",1e4,h),this.Ta=Qi("forwardChannelMaxRetries",2,h),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(h&&h.concurrentRequestLimit),this.Ba=new tr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ir.prototype,t.ka=8,t.I=1,t.connect=function(h,_,w,C){It(0),this.W=h,this.H=_||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=Zu(this,null,this.W),Xi(this)};function ql(h){if(so(h),h.I==3){var _=h.V++,w=Mt(h.J);if(Ze(w,"SID",h.M),Ze(w,"RID",_),Ze(w,"TYPE","terminate"),ma(h,w),_=new mi(h,h.j,_),_.M=2,_.A=la(Mt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=_.A,w=!0),w||(_.g=eh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),zi(_)}Ju(h)}function sr(h){h.g&&(Kl(h),h.g.cancel(),h.g=null)}function so(h){sr(h),h.v&&(u.clearTimeout(h.v),h.v=null),ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Xi(h){if(!Ml(h.h)&&!h.m){h.m=!0;var _=h.Ea;ee||S(),le||(ee(),le=!0),A.add(_,h),h.D=0}}function ro(h,_){return qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Li(g(h.Ea,h,_),Wu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new mi(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=$u(this,K,_),w=Mt(this.J),Ze(w,"RID",h),Ze(w,"CVER",22),this.G&&Ze(w,"X-HTTP-Session-Id",this.G),ma(this,w),X&&(this.R?_="headers="+ps(Xn(X))+"&"+_:this.u&&ha(w,this.u,X)),Vl(this.h,K),this.Ra&&Ze(w,"TYPE","init"),this.S?(Ze(w,"$req",_),Ze(w,"SID","null"),K.U=!0,Bi(K,w,null)):Bi(K,w,_),this.I=2}}else this.I==3&&(h?Gl(this,h):this.i.length==0||Ml(this.h)||Gl(this))};function Gl(h,_){var w;_?w=_.l:w=h.V++;const C=Mt(h.J);Ze(C,"SID",h.M),Ze(C,"RID",w),Ze(C,"AID",h.K),ma(h,C),h.u&&h.o&&ha(C,h.u,h.o),w=new mi(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),_&&(h.i=_.G.concat(h.i)),_=$u(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Vl(h.h,w),Bi(w,C,_)}function ma(h,_){h.H&&Ae(h.H,function(w,C){Ze(_,C,w)}),h.l&&Ae({},function(w,C){Ze(_,C,w)})}function $u(h,_,w){w=Math.min(h.i.length,w);const C=h.l?g(h.l.Ka,h.l,h):null;e:{var K=h.i;let Ve=-1;for(;;){const Tt=["count="+w];Ve==-1?w>0?(Ve=K[0].g,Tt.push("ofs="+Ve)):Ve=0:Tt.push("ofs="+Ve);let Qe=!0;for(let ft=0;ft<w;ft++){var X=K[ft].g;const Wn=K[ft].map;if(X-=Ve,X<0)Ve=Math.max(0,K[ft].g-100),Qe=!1;else try{X="req"+X+"_"||"";try{var ce=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Ji,_i]of ce){let xi=_i;d(_i)&&(xi=Xs(_i)),Tt.push(X+Ji+"="+encodeURIComponent(xi))}}catch(Ji){throw Tt.push(X+"type="+encodeURIComponent("_badmap")),Ji}}catch{C&&C(Wn)}}if(Qe){ce=Tt.join("&");break e}}ce=void 0}return h=h.i.splice(0,w),_.G=h,ce}function Yu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ee||S(),le||(ee(),le=!0),A.add(_,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Li(g(h.Da,h),Wu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Li(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),sr(this),Qu(this))};function Kl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Qu(h){h.g=new mi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Mt(h.na);Ze(_,"RID","rpc"),Ze(_,"SID",h.M),Ze(_,"AID",h.K),Ze(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(_,"TO",h.ia),Ze(_,"TYPE","xmlhttp"),ma(h,_),h.u&&h.o&&ha(_,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=la(Mt(_)),w.u=null,w.R=!0,Wa(w,h)}t.Va=function(){this.C!=null&&(this.C=null,sr(this),pa(this),It(19))};function ao(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Xu(h,_){var w=null;if(h.g==_){ao(h),Kl(h),h.g=null;var C=2}else if(Gi(h.h,_))w=_.G,jl(h.h,_),C=1;else return;if(h.I!=0){if(_.o)if(C==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;C=Xa(),Ht(C,new Oi(C,w)),Xi(h)}else Yu(h);else if(K=_.m,K==3||K==0&&_.X>0||!(C==1&&ro(h,_)||C==2&&pa(h)))switch(w&&w.length>0&&(_=h.h,_.i=_.i.concat(w)),K){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function Wu(h,_){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*_}function Wi(h,_){if(h.j.info("Error code "+_),_==2){var w=g(h.bb,h),C=h.Ua;const K=!C;C=new Mn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yt(C,"https"),la(C),K?gi(C.toString(),w):zl(C.toString(),w)}else It(2);h.I=0,h.l&&h.l.pa(_),Ju(h),so(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Ju(h){if(h.I=0,h.ja=[],h.l){const _=Pl(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Zu(h,_,w){var C=w instanceof Mn?Mt(w):new Mn(w);if(C.g!="")_&&(C.g=_+"."+C.g),Ws(C,C.u);else{var K=u.location;C=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const X=new Mn(null);C&&Yt(X,C),_&&(X.g=_),K&&Ws(X,K),w&&(X.h=w),C=X}return w=h.G,_=h.wa,w&&_&&Ze(C,w,_),Ze(C,"VER",h.ka),ma(h,C),C}function eh(h,_,w){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new nt(new $i({ab:w})):new nt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function rr(){}rr.prototype.g=function(h,_){return new yn(h,_)};function yn(h,_){Nt.call(this),this.g=new ir(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new vs(this)}x(yn,Nt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ql(this.g)},yn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Xs(h),h=w);_.i.push(new kt(_.Ya++,h)),_.I==3&&Xi(_)},yn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,yn.Z.N.call(this)};function nh(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const w in _){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}x(nh,Wt);function ih(){$n.call(this),this.status=1}x(ih,$n);function vs(h){this.g=h}x(vs,th),vs.prototype.ra=function(){Ht(this.g,"a")},vs.prototype.qa=function(h){Ht(this.g,new nh(h))},vs.prototype.pa=function(h){Ht(this.g,new ih)},vs.prototype.oa=function(){Ht(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,aS=function(){return new rr},rS=function(){return Xa()},sS=wt,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Nf=aa,Il.COMPLETE="complete",iS=Il,ju.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,jc=ju,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,nS=nt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const Sw="@firebase/firestore",Aw="4.9.3";let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let vl="12.7.0";const Ka=new By("@firebase/firestore");function Uo(){return Ka.logLevel}function me(t,...e){if(Ka.logLevel<=Fe.DEBUG){const n=e.map(Zy);Ka.debug(`Firestore (${vl}): ${t}`,...n)}}function Hs(t,...e){if(Ka.logLevel<=Fe.ERROR){const n=e.map(Zy);Ka.error(`Firestore (${vl}): ${t}`,...n)}}function il(t,...e){if(Ka.logLevel<=Fe.WARN){const n=e.map(Zy);Ka.warn(`Firestore (${vl}): ${t}`,...n)}}function Zy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,oS(t,s,n)}function oS(t,e,n){let s=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Hs(s),new Error(s)}function We(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||oS(e,a,s)}function De(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class KM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $M{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Us,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Us)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new lS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class YM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class e0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=WM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function He(t,e){return t<e?-1:t>e?1:0}function Fg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ig(a)===ig(l)?He(a,l):ig(a)?1:-1}return He(t.length,e.length)}const JM=55296,ZM=57343;function ig(t){const e=t.charCodeAt(0);return e>=JM&&e<=ZM}function sl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Rw="__name__";class ss{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ss.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return He(e.length,n.length)}static compareSegments(e,n){const s=ss.isNumericId(e),a=ss.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ss.extractNumericId(e).compare(ss.extractNumericId(n)):Fg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class lt extends ss{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const eV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends ss{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return eV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new an([Rw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}function cS(t,e,n){if(!n)throw new he(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tV(t,e,n,s){if(e===!0&&s===!0)throw new he(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nw(t){if(!_e.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iw(t){if(_e.isDocumentKey(t))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(t);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!uS(t))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ie.INVALID_ARGUMENT,n);return!0}const Dw=-62135596800,kw=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*kw);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dw)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kw}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:zt("string",ht._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ht(0,0))}static max(){return new Ne(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zc=-1;function nV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new Fr(a,_e.empty(),e)}function iV(t){return new Fr(t.readTime,t.key,Zc)}class Fr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(Ne.min(),_e.empty(),Zc)}static max(){return new Fr(Ne.max(),_e.empty(),Zc)}}function sV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}const rV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _l(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==rV)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{u[g]=v,++d,d===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function oV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}class Td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Td.ce=-1;const t0=-1;function Ed(t){return t==null}function Yf(t){return t===0&&1/t==-1/0}function lV(t){return typeof t=="number"&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const hS="";function cV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mw(e)),e=uV(t.get(n),e);return Mw(e)}function uV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case hS:n+="";break;default:n+=l}}return n}function Mw(t){return t+hS+""}function Vw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new rn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Kt(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dS("Invalid base64 string: "+l):l}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const hV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=hV.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}const mS="server_timestamp",pS="__type__",gS="__previous_value__",yS="__local_write_time__";function n0(t){return(t?.mapValue?.fields||{})[pS]?.stringValue===mS}function Sd(t){const e=t.mapValue.fields[gS];return n0(e)?Sd(e):e}function eu(t){const e=Hr(t.mapValue.fields[yS].timestampValue);return new ht(e.seconds,e.nanos)}class fV{constructor(e,n,s,a,l,u,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Qf="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Qf}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const vS="__type__",dV="__max__",ff={mapValue:{}},_S="__vector__",Xf="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n0(t)?4:pV(t)?9007199254740991:mV(t)?10:11:Se(28295,{value:t})}function fs(t,e){if(t===e)return!0;const n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Hr(a.timestampValue),d=Hr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return qr(a.bytesValue).isEqual(qr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ct(a.doubleValue),d=Ct(l.doubleValue);return u===d?Yf(u)===Yf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Vw(u)!==Vw(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!fs(u[m],d[m])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function nu(t,e){return(t.values||[]).find((n=>fs(n,e)))!==void 0}function rl(t,e){if(t===e)return 0;const n=Gr(t),s=Gr(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Ct(l.integerValue||l.doubleValue),m=Ct(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Pw(t.timestampValue,e.timestampValue);case 4:return Pw(eu(t),eu(e));case 5:return Fg(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=qr(l),m=qr(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=He(d[g],m[g]);if(v!==0)return v}return He(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=He(Ct(l.latitude),Ct(u.latitude));return d!==0?d:He(Ct(l.longitude),Ct(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ow(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},g=d[Xf]?.arrayValue,v=m[Xf]?.arrayValue,x=He(g?.values?.length||0,v?.values?.length||0);return x!==0?x:Ow(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===ff.mapValue&&u===ff.mapValue)return 0;if(l===ff.mapValue)return 1;if(u===ff.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const T=Fg(m[x],v[x]);if(T!==0)return T;const R=rl(d[m[x]],g[v[x]]);if(R!==0)return R}return He(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Hr(t),s=Hr(e),a=He(n.seconds,s.seconds);return a!==0?a:He(n.nanos,s.nanos)}function Ow(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=rl(n[a],s[a]);if(l)return l}return He(n.length,s.length)}function al(t){return Hg(t)}function Hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Hr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Hg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Hg(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function If(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+If(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Wr(s.fields,((l,u)=>{a+=l.length+If(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function Lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function i0(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function Bw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function mV(t){return(t?.mapValue?.fields||{})[vS]?.stringValue===_S}function Fc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return{...t}}function pV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dV}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=an.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=Fc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Df(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Wr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new In(Fc(this.value))}}function xS(t){const e=[];return Wr(t.fields,((n,s)=>{const a=new an([n]);if(Df(s)){const l=xS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Hn(e)}class dn{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ne.min(),Ne.min(),Ne.min(),In.empty(),0)}static newFoundDocument(e,n,s,a){return new dn(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new dn(e,2,n,Ne.min(),Ne.min(),In.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ne.min(),Ne.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function zw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(u.referenceValue),n.key):s=rl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function gV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class bS{}class Bt extends bS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vV(e,n,s):n==="array-contains"?new bV(e,s):n==="in"?new wV(e,s):n==="not-in"?new TV(e,s):n==="array-contains-any"?new EV(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _V(e,s):new xV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ii(e,n)}matches(e){return wS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wS(t){return t.op==="and"}function TS(t){return yV(t)&&wS(t)}function yV(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function Gg(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+al(t.value);if(TS(t))return t.filters.map((e=>Gg(e))).join(",");{const e=t.filters.map((n=>Gg(n))).join(",");return`${t.op}(${e})`}}function ES(t,e){return t instanceof Bt?(function(s,a){return a instanceof Bt&&s.op===a.op&&s.field.isEqual(a.field)&&fs(s.value,a.value)})(t,e):t instanceof Ii?(function(s,a){return a instanceof Ii&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&ES(u,a.filters[d])),!0):!1})(t,e):void Se(19439)}function SS(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${al(n.value)}`})(t):t instanceof Ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(SS).join(" ,")+"}"})(t):"Filter"}class vV extends Bt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class _V extends Bt{constructor(e,n){super(e,"in",n),this.keys=AS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xV extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=AS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AS(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class bV extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i0(n)&&nu(n.arrayValue,this.value)}}class wV extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class TV extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class EV extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class SV{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function Hw(t,e=null,n=[],s=[],a=null,l=null,u=null){return new SV(t,e,n,s,a,l,u)}function s0(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>al(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>al(s))).join(",")),e.Te=n}return e.Te}function r0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ES(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fw(t.startAt,e.startAt)&&Fw(t.endAt,e.endAt)}function Kg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class _u{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AV(t,e,n,s,a,l,u,d){return new _u(t,e,n,s,a,l,u,d)}function a0(t){return new _u(t)}function qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CS(t){return t.collectionGroup!==null}function Hc(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Kt(an.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Jf(l,s))})),n.has(an.keyField().canonicalString())||e.Ie.push(new Jf(an.keyField(),s))}return e.Ie}function as(t){const e=De(t);return e.Ee||(e.Ee=CV(e,Hc(t))),e.Ee}function CV(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jf(a.field,l)}));const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function $g(t,e){const n=t.filters.concat([e]);return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yg(t,e,n){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return r0(as(t),as(e))&&t.limitType===e.limitType}function RS(t){return`${s0(as(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>SS(a))).join(", ")}]`),Ed(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>al(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>al(a))).join(",")),`Target(${s})`})(as(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Hc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const g=zw(u,d,m);return u.inclusive?g<=0:g<0})(s.startAt,Hc(s),a)||s.endAt&&!(function(u,d,m){const g=zw(u,d,m);return u.inclusive?g>=0:g>0})(s.endAt,Hc(s),a))})(t,e)}function RV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NS(t){return(e,n)=>{let s=!1;for(const a of Hc(t)){const l=NV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function NV(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),g=d.data.field(l);return m!==null&&g!==null?rl(m,g):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:t.dir})}}class Ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}const IV=new vt(_e.comparator);function qs(){return IV}const IS=new vt(_e.comparator);function Pc(...t){let e=IS;for(const n of t)e=e.insert(n.key,n);return e}function DS(t){let e=IS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Pa(){return qc()}function kS(){return qc()}function qc(){return new Ya((t=>t.toString()),((t,e)=>t.isEqual(e)))}const DV=new vt(_e.comparator),kV=new Kt(_e.comparator);function qe(...t){let e=kV;for(const n of t)e=e.add(n);return e}const MV=new Kt(He);function VV(){return MV}function o0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function jV(t,e){return lV(e)?MS(e):o0(t,e)}class Rd{constructor(){this._=void 0}}function PV(t,e,n){return t instanceof Zf?(function(a,l){const u={fields:{[pS]:{stringValue:mS},[yS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&n0(l)&&(l=Sd(l)),l&&(u.fields[gS]=l),{mapValue:u}})(n,e):t instanceof iu?jS(t,e):t instanceof su?PS(t,e):(function(a,l){const u=VS(a,l),d=Gw(u)+Gw(a.Ae);return qg(u)&&qg(a.Ae)?MS(d):o0(a.serializer,d)})(t,e)}function OV(t,e,n){return t instanceof iu?jS(t,e):t instanceof su?PS(t,e):n}function VS(t,e){return t instanceof ed?(function(s){return qg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zf extends Rd{}class iu extends Rd{constructor(e){super(),this.elements=e}}function jS(t,e){const n=OS(e);for(const s of t.elements)n.some((a=>fs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Rd{constructor(e){super(),this.elements=e}}function PS(t,e){let n=OS(e);for(const s of t.elements)n=n.filter((a=>!fs(a,s)));return{arrayValue:{values:n}}}class ed extends Rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gw(t){return Ct(t.integerValue||t.doubleValue)}function OS(t){return i0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LV(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof iu&&a instanceof iu||s instanceof su&&a instanceof su?sl(s.elements,a.elements,fs):s instanceof ed&&a instanceof ed?fs(s.Ae,a.Ae):s instanceof Zf&&a instanceof Zf})(t.transform,e.transform)}class UV{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function LS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Id(t.key,xn.none()):new xu(t.key,t.data,xn.none());{const n=t.data,s=In.empty();let a=new Kt(an.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Jr(t.key,s,new Hn(a.toArray()),xn.none())}}function BV(t,e,n){t instanceof xu?(function(a,l,u){const d=a.value.clone(),m=$w(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Jr?(function(a,l,u){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=$w(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(US(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Gc(t,e,n,s){return t instanceof xu?(function(l,u,d,m){if(!kf(l.precondition,u))return d;const g=l.value.clone(),v=Yw(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Jr?(function(l,u,d,m){if(!kf(l.precondition,u))return d;const g=Yw(l.fieldTransforms,m,u),v=u.data;return v.setAll(US(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,s):(function(l,u,d){return kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function zV(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=VS(s.transform,a||null);l!=null&&(n===null&&(n=In.empty()),n.set(s.field,l))}return n||null}function Kw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&sl(s,a,((l,u)=>LV(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends Nd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jr extends Nd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function US(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function $w(t,e,n){const s=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,OV(u,d,n[a]))}return s}function Yw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,PV(l,u,e))}return s}class Id extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FV extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HV{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&BV(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=kS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=LS(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((n,s)=>Kw(n,s)))&&sl(this.baseMutations,e.baseMutations,((n,s)=>Kw(n,s)))}}class l0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return DV})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new l0(e,n,s,a)}}class qV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class GV{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Ke;function KV(t){switch(t){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function BS(t){if(t===void 0)return Hs("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Lt.OK:return ie.OK;case Lt.CANCELLED:return ie.CANCELLED;case Lt.UNKNOWN:return ie.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ie.INTERNAL;case Lt.UNAVAILABLE:return ie.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ie.NOT_FOUND;case Lt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Lt.ABORTED:return ie.ABORTED;case Lt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Lt.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:t})}}(Ke=Lt||(Lt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function $V(){return new TextEncoder}const YV=new Ur([4294967295,4294967295],0);function Qw(t){const e=$V().encode(t),n=new tS;return n.update(e),new Uint8Array(n.digest())}function Xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ur([n,s],0),new Ur([a,l],0)]}class c0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(s<0)throw new Oc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ur.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Ur.fromNumber(s)));return a.compare(YV)===1&&(a=new Ur([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Qw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new c0(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=Qw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dd(Ne.min(),a,new vt(He),qs(),qe())}}class bu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,qe(),qe(),qe())}}class Mf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class zS{constructor(e,n){this.targetId=e,this.Ce=n}}class FS{constructor(e,n,s=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Ww{constructor(){this.ve=0,this.Fe=Jw(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Se(38017,{changeType:l})}})),new bu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Jw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QV{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=df(),this.He=df(),this.Ye=new vt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Kg(l))if(s===0){const u=new _e(l.path);this.et(n,u,dn.newNoDocument(u,Ne.min()))}else We(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=qr(s).toUint8Array()}catch(m){if(m instanceof dS)return il("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new c0(u,a,l)}catch(m){return il(m instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&Kg(d.target)){const m=new _e(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,dn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=qe();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Dd(e,n,this.Ye,this.je,s);return this.je=qs(),this.Je=df(),this.He=df(),this.Ye=new vt(He),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ww,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ww),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function df(){return new vt(_e.comparator)}function Jw(){return new vt(_e.comparator)}const XV={asc:"ASCENDING",desc:"DESCENDING"},WV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JV={and:"AND",or:"OR"};class ZV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qg(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ej(t,e){return td(t,e.toTimestamp())}function os(t){return We(!!t,49232),Ne.fromTimestamp((function(n){const s=Hr(n);return new ht(s.seconds,s.nanos)})(t))}function u0(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){const n=(function(a){return new lt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qS(t){const e=lt.fromString(t);return We(QS(e),10190,{key:e.toString()}),e}function Wg(t,e){return u0(t.databaseId,e.path)}function sg(t,e){const n=qS(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(KS(n))}function GS(t,e){return u0(t.databaseId,e)}function tj(t){const e=qS(t);return e.length===4?lt.emptyPath():KS(e)}function Jg(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KS(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zw(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function nj(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(We(v===void 0||typeof v=="string",58123),ln.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ln.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const v=g.code===void 0?ie.UNKNOWN:BS(g.code);return new he(v,g.message||"")})(u);n=new FS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=sg(t,s.document.name),l=os(s.document.updateTime),u=s.document.createTime?os(s.document.createTime):Ne.min(),d=new In({mapValue:{fields:s.document.fields}}),m=dn.newFoundDocument(a,l,u,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Mf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=sg(t,s.document),l=s.readTime?os(s.readTime):Ne.min(),u=dn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Mf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=sg(t,s.document),l=s.removedTargetIds||[];n=new Mf([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new GV(a,l),d=s.targetId;n=new zS(d,u)}}return n}function ij(t,e){let n;if(e instanceof xu)n={update:Zw(t,e.key,e.value)};else if(e instanceof Id)n={delete:Wg(t,e.key)};else if(e instanceof Jr)n={update:Zw(t,e.key,e.data),updateMask:fj(e.fieldMask)};else{if(!(e instanceof FV))return Se(16599,{Vt:e.type});n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof Zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ed)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ej(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function sj(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?os(a.updateTime):os(l);return u.isEqual(Ne.min())&&(u=os(l)),new UV(u,a.transformResults||[])})(n,e)))):[]}function rj(t,e){return{documents:[GS(t,e.path)]}}function aj(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GS(t,a);const l=(function(g){if(g.length!==0)return YS(Ii.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:zo(T.field),direction:cj(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Qg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function oj(t){let e=tj(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){We(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(x){const T=$S(x);return T instanceof Ii&&TS(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((T=>(function(k){return new Jf(Fo(k.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let T;return T=typeof x=="object"?x.value:x,Ed(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(x){const T=!!x.before,R=x.values||[];return new Wf(R,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(x){const T=!x.before,R=x.values||[];return new Wf(R,T)})(n.endAt)),AV(e,a,u,l,d,"F",m,g)}function lj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $S(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fo(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Fo(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fo(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fo(n.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create(Fo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ii.create(n.compositeFilter.filters.map((s=>$S(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function cj(t){return XV[t]}function uj(t){return WV[t]}function hj(t){return JV[t]}function zo(t){return{fieldPath:t.canonicalString()}}function Fo(t){return an.fromServerFormat(t.fieldPath)}function YS(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(Bw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(n.field),op:uj(n.op),value:n.value}}})(t):t instanceof Ii?(function(n){const s=n.getFilters().map((a=>YS(a)));return s.length===1?s[0]:{compositeFilter:{op:hj(n.op),filters:s}}})(t):Se(54877,{filter:t})}function fj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class jr{constructor(e,n,s,a,l=Ne.min(),u=Ne.min(),d=ln.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dj{constructor(e){this.yt=e}}function mj(t){const e=oj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yg(e,e.limit,"L"):e}class pj{constructor(){this.Cn=new gj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Fr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class gj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Kt(lt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Kt(lt.comparator)).toArray()}}const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XS=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(XS,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const tT="LruGarbageCollector",yj=1048576;function nT([t,e],[n,s]){const a=He(t,n);return a===0?He(e,s):a}class vj{constructor(e){this.Ir=e,this.buffer=new Kt(nT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _j{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(tT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?me(tT,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Vr(3e5)}))}}class xj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Td.ce);const s=new vj(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(eT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(s=x,d=Date.now(),this.removeTargets(e,s,n)))).next((x=>(l=x,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(g=Date.now(),Uo()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${x} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function bj(t,e){return new xj(t,e)}class wj{constructor(){this.changes=new Ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ej{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Gc(s.mutation,a,Hn.empty(),ht.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const a=Pa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Pc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Pa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=qs();const u=qc(),d=(function(){return qc()})();return n.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Jr)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Gc(v.mutation,g,v.mutation.getFieldMask(),ht.now())):u.set(g.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>d.set(g,new Tj(v,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=qc();let a=new vt(((u,d)=>u-d)),l=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Hn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const x=(a.get(d.batchId)||qe()).add(m);a=a.insert(d.batchId,x)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,x=kS();v.forEach((T=>{if(!l.has(T)){const R=LS(n.get(T),s.get(T));R!==null&&x.set(T,R),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ae.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Pa());let d=Zc,m=l;return u.next((g=>ae.forEach(g,((v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,qe()))).next((v=>({batchId:d,changes:DS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let a=Pc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Pc();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(m=>{const g=(function(x,T){return new _u(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((x,T)=>{u=u.insert(x,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,dn.newInvalidDocument(v)))}));let d=Pc();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Gc(v.mutation,g,Hn.empty(),ht.now()),Cd(n,g)&&(d=d.insert(m,g))})),d}))}}class Sj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:os(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:mj(a.bundledQuery),readTime:os(a.readTime)}})(n)),ae.resolve()}}class Aj{constructor(){this.overlays=new vt(_e.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pa();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Pa(),l=n.length+1,u=new _e(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new vt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Pa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return ae.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new qV(n,s));let l=this.qr.get(n);l===void 0&&(l=qe(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class Cj{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class h0{constructor(){this.Qr=new Kt(Xt.$r),this.Ur=new Kt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new lt([])),s=new Xt(n,e),a=new Xt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new lt([])),s=new Xt(n,e),a=new Xt(n,e+1);let l=qe();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class Rj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Xt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new HV(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Xt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?t0:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),a=new Xt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const d=this.Xr(u.Yr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt(He);return n.forEach((a=>{const l=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{s=s.add(d.Yr)}))})),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new _e(l),0);let d=new Kt(He);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),u),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new Xt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Nj{constructor(e){this.ri=e,this.docs=(function(){return new vt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let s=qs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=qs();const u=n.path,d=new _e(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||sV(iV(v),s)<=0||(a.has(v.key)||Cd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Se(9500)}ii(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Ij(this)}getSize(e){return ae.resolve(this.size)}}class Ij extends wj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Dj{constructor(e){this.persistence=e,this.si=new Ya((n=>s0(n)),r0),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new h0,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}class WS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new Cj,this.referenceDelegate=e(this),this.Pi=new Dj(this),this.indexManager=new pj,this.remoteDocumentCache=(function(a){return new Nj(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new dj(n),this.Ii=new Sj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Aj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Rj(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new kj(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class kj extends aV{constructor(e){super(),this.currentSequenceNumber=e}}class f0{constructor(e){this.persistence=e,this.Ri=new h0,this.Vi=null}static mi(e){return new f0(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(s=>{const a=_e.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nd{constructor(e,n){this.persistence=e,this.pi=new Ya((s=>cV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=bj(this,n)}static mi(e,n){return new nd(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((d=>{d||(s++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class d0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=qe(),a=qe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new d0(e,n.fromCache,s,a)}}class Mj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sD()?8:oV(pn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Mj;return this.Ss(e,n,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Uo()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Uo()<=Fe.DEBUG&&me("QueryEngine","Query:",Bo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Uo()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):ae.resolve())}ys(e,n){if(qw(n))return ae.resolve(null);let s=as(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Yg(n,null,"F"),s=as(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=qe(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,u,m.readTime)?this.ys(e,Yg(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return qw(n)||a.isEqual(Ne.min())?ae.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?ae.resolve(null):(Uo()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(n)),this.vs(e,u,n,nV(a,Zc)).next((d=>d)))}))}Ds(e,n){let s=new Kt(NS(e));return n.forEach(((a,l)=>{Cd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Uo()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.ps.getDocumentsMatchingQuery(e,n,Fr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const m0="LocalStore",jj=3e8;class Pj{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new vt(He),this.xs=new Ya((l=>s0(l)),r0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ej(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Oj(t,e,n,s){return new Pj(t,e,n,s)}async function JS(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=qe();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function Lj(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const x=g.batch,T=x.keys();let R=ae.resolve();return T.forEach((k=>{R=R.next((()=>v.getEntry(m,k))).next((P=>{const j=g.docVersions.get(k);We(j!==null,48541),P.version.compareTo(j)<0&&(x.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,x)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=qe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function ZS(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Uj(t,e){const n=De(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,x)=>{const T=a.get(x);if(!T)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,x))));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?R=R.withResumeToken(ln.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(x,R),(function(P,j,L){return P.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=jj?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,R,v)&&d.push(n.Pi.updateTargetData(l,R))}));let m=qs(),g=qe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(Bj(l,u,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Ne.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((x=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return ae.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function Bj(t,e,n){let s=qe(),a=qe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=qs();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):me(m0,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function zj(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=t0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Fj(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new jr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Zg(t,e,n){const s=De(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!xl(u))throw u;me(m0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function iT(t,e,n){const s=De(t);let a=Ne.min(),l=qe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const x=De(m),T=x.xs.get(v);return T!==void 0?ae.resolve(x.Ms.get(T)):x.Pi.getTargetData(g,v)})(s,u,as(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ne.min(),n?l:qe()))).next((d=>(Hj(s,RV(e),d),{documents:d,Qs:l})))))}function Hj(t,e,n){let s=t.Os.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class sT{constructor(){this.activeTargetIds=VV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qj{constructor(){this.Mo=new sT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gj{Oo(e){}shutdown(){}}const rT="ConnectivityMonitor";class aT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(rT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mf=null;function ey(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}const rg="RestConnection",Kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $j{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Qf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=ey(),d=this.zo(e,n.toUriEncodedString());me(rg,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),v=pl(g);return this.Jo(e,d,m,s,v).then((x=>(me(rg,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw il(rg,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",s),x}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=Kj[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Yj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class Qj extends $j{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=ey();return new Promise(((d,m)=>{const g=new nS;g.setWithCredentials(!0),g.listenOnce(iS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nf.NO_ERROR:const x=g.getResponseJson();me(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case Nf.TIMEOUT:me(hn,`RPC '${e}' ${u} timed out`),m(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const T=g.getStatus();if(me(hn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const P=(function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(B)>=0?B:ie.UNKNOWN})(k.status);m(new he(P,k.message))}else m(new he(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(hn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);me(hn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=ey(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=aS(),d=rS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");me(hn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const x=u.createWebChannel(v,m);this.I_(x);let T=!1,R=!1;const k=new Yj({Yo:j=>{R?me(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(T||(me(hn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),T=!0),me(hn,`RPC '${e}' stream ${a} sending:`,j),x.send(j))},Zo:()=>x.close()}),P=(j,L,B)=>{j.listen(L,(z=>{try{B(z)}catch(J){setTimeout((()=>{throw J}),0)}}))};return P(x,jc.EventType.OPEN,(()=>{R||(me(hn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),P(x,jc.EventType.CLOSE,(()=>{R||(R=!0,me(hn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(x))})),P(x,jc.EventType.ERROR,(j=>{R||(R=!0,il(hn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),k.a_(new he(ie.UNAVAILABLE,"The operation could not be completed")))})),P(x,jc.EventType.MESSAGE,(j=>{if(!R){const L=j.data[0];We(!!L,16349);const B=L,z=B?.error||B[0]?.error;if(z){me(hn,`RPC '${e}' stream ${a} received error:`,z);const J=z.status;let ee=(function(S){const N=Lt[S];if(N!==void 0)return BS(N)})(J),le=z.message;ee===void 0&&(ee=ie.INTERNAL,le="Unknown error status: "+J+" with message "+z.message),R=!0,k.a_(new he(ee,le)),x.close()}else me(hn,`RPC '${e}' stream ${a} received:`,L),k.u_(L)}})),P(d,sS.STAT_EVENT,(j=>{j.stat===zg.PROXY?me(hn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===zg.NOPROXY&&me(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ag(){return typeof document<"u"?document:null}function kd(t){return new ZV(t,!0)}class eA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const oT="PersistentStream";class tA{constructor(e,n,s,a,l,u,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Hs(n.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xj extends tA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nj(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?os(u.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Jg(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=Kg(m)?{documents:rj(l,m)}:{query:aj(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=HS(l,u.resumeToken);const g=Qg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ne.min())>0){d.readTime=td(l,u.snapshotVersion.toTimestamp());const g=Qg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=lj(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Jg(this.serializer),n.removeTarget=e,this.q_(n)}}class Wj extends tA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sj(e.writeResults,e.commitTime),s=os(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Jg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ij(this.serializer,s)))};this.q_(n)}}class Jj{}class Zj extends Jj{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Xg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ie.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Xg(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hs(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $a="RemoteStore";class tP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Qa(this)&&(me($a,"Restarting streams for network reachability change."),await(async function(m){const g=De(m);g.Ea.add(4),await wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Md(g)})(this))}))})),this.Ra=new eP(s,a)}}async function Md(t){if(Qa(t))for(const e of t.da)await e(!0)}async function wu(t){for(const e of t.da)await e(!1)}function nA(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),v0(n)?y0(n):bl(n).O_()&&g0(n,e))}function p0(t,e){const n=De(t),s=bl(n);n.Ia.delete(e),s.O_()&&iA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Qa(n)&&n.Ra.set("Unknown"))}function g0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).Y_(e)}function iA(t,e){t.Va.Ue(e),bl(t).Z_(e)}function y0(t){t.Va=new QV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.Ra.ua()}function v0(t){return Qa(t)&&!bl(t).x_()&&t.Ia.size>0}function Qa(t){return De(t).Ea.size===0}function sA(t){t.Va=void 0}async function nP(t){t.Ra.set("Online")}async function iP(t){t.Ia.forEach(((e,n)=>{g0(t,e)}))}async function sP(t,e){sA(t),v0(t)?(t.Ra.ha(e),y0(t)):t.Ra.set("Unknown")}async function rP(t,e,n){if(t.Ra.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){me($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await id(t,s)}else if(e instanceof Mf?t.Va.Ze(e):e instanceof zS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await ZS(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),iA(l,m);const x=new jr(v.target,m,g,v.sequenceNumber);g0(l,x)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){me($a,"Failed to raise snapshot:",s),await id(t,s)}}async function id(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await wu(t),t.Ra.set("Offline"),n||(n=()=>ZS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me($a,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Md(t)}))}function rA(t,e){return e().catch((n=>id(t,n,e)))}async function Vd(t){const e=De(t),n=Kr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:t0;for(;aP(e);)try{const a=await zj(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,oP(e,a)}catch(a){await id(e,a)}aA(e)&&oA(e)}function aP(t){return Qa(t)&&t.Ta.length<10}function oP(t,e){t.Ta.push(e);const n=Kr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aA(t){return Qa(t)&&!Kr(t).x_()&&t.Ta.length>0}function oA(t){Kr(t).start()}async function lP(t){Kr(t).ra()}async function cP(t){const e=Kr(t);for(const n of t.Ta)e.ea(n.mutations)}async function uP(t,e,n){const s=t.Ta.shift(),a=l0.from(s,e,n);await rA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Vd(t)}async function hP(t,e){e&&Kr(t).X_&&await(async function(s,a){if((function(u){return KV(u)&&u!==ie.ABORTED})(a.code)){const l=s.Ta.shift();Kr(s).B_(),await rA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Vd(s)}})(t,e),aA(t)&&oA(t)}async function lT(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),me($a,"RemoteStore received new credentials");const s=Qa(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Md(n)}async function fP(t,e){const n=De(t);e?(n.Ea.delete(2),await Md(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function bl(t){return t.ma||(t.ma=(function(n,s,a){const l=De(n);return l.sa(),new Xj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:nP.bind(null,t),t_:iP.bind(null,t),r_:sP.bind(null,t),H_:rP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),v0(t)?y0(t):t.Ra.set("Unknown")):(await t.ma.stop(),sA(t))}))),t.ma}function Kr(t){return t.fa||(t.fa=(function(n,s,a){const l=De(n);return l.sa(),new Wj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lP.bind(null,t),r_:hP.bind(null,t),ta:cP.bind(null,t),na:uP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Vd(t)):(await t.fa.stop(),t.Ta.length>0&&(me($a,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class _0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new _0(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x0(t,e){if(Hs("AsyncQueue",`${e}: ${t}`),xl(t))return new he(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Pc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class cT{constructor(){this.ga=new vt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ll{constructor(e,n,s,a,l,u,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new ll(e,n,Wo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class dP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mP{constructor(){this.queries=uT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=De(n),l=a.queries;a.queries=uT(),l.forEach(((u,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function uT(){return new Ya((t=>RS(t)),Ad)}async function lA(t,e){const n=De(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new dP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=x0(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&b0(n)}async function cA(t,e){const n=De(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pP(t,e){const n=De(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(s=!0);u.wa=a}}s&&b0(n)}function gP(t,e,n){const s=De(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function b0(t){t.Ca.forEach((e=>{e.next()}))}var ty,hT;(hT=ty||(ty={})).Ma="default",hT.Cache="cache";class uA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ty.Cache}}class hA{constructor(e){this.key=e}}class fA{constructor(e){this.key=e}}class yP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=NS(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new cT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const T=a.get(v),R=Cd(this.query,x)?x:null,k=!!T&&this.mutatedKeys.has(T.key),P=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;T&&R?T.data.isEqual(R.data)?k!==P&&(s.track({type:3,doc:R}),j=!0):this.su(T,R)||(s.track({type:2,doc:R}),j=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(d=!0)):!T&&R?(s.track({type:0,doc:R}),j=!0):T&&!R&&(s.track({type:1,doc:T}),j=!0,(m||g)&&(d=!0)),j&&(R?(u=u.add(R),l=P?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(R,k){const P=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:j})}};return P(R)-P(k)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new ll(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new fA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new hA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const w0="SyncEngine";class vP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _P{constructor(e){this.key=e,this.hu=!1}}class xP{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ya((d=>RS(d)),Ad),this.Iu=new Map,this.Eu=new Set,this.du=new vt(_e.comparator),this.Au=new Map,this.Ru=new h0,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bP(t,e,n=!0){const s=vA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await dA(s,e,n,!0),a}async function wP(t,e){const n=vA(t);await dA(n,e,!0,!1)}async function dA(t,e,n,s){const a=await Fj(t.localStore,as(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await TP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&nA(t.remoteStore,a),d}async function TP(t,e,n,s,a){t.pu=(x,T,R)=>(async function(P,j,L,B){let z=j.view.ru(L);z.Cs&&(z=await iT(P.localStore,j.query,!1).then((({documents:A})=>j.view.ru(A,z))));const J=B&&B.targetChanges.get(j.targetId),ee=B&&B.targetMismatches.get(j.targetId)!=null,le=j.view.applyChanges(z,P.isPrimaryClient,J,ee);return dT(P,j.targetId,le.au),le.snapshot})(t,x,T,R);const l=await iT(t.localStore,e,!0),u=new yP(e,l.Qs),d=u.ru(l.documents),m=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(d,t.isPrimaryClient,m);dT(t,n,g.au);const v=new vP(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function EP(t,e,n){const s=De(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Ad(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Zg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&p0(s.remoteStore,a.targetId),ny(s,a.targetId)})).catch(_l)):(ny(s,a.targetId),await Zg(s.localStore,a.targetId,!0))}async function SP(t,e){const n=De(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),p0(n.remoteStore,s.targetId))}async function AP(t,e,n){const s=MP(t);try{const a=await(function(u,d){const m=De(u),g=ht.now(),v=d.reduce(((R,k)=>R.add(k.key)),qe());let x,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=qs(),P=qe();return m.Ns.getEntries(R,v).next((j=>{k=j,k.forEach(((L,B)=>{B.isValidDocument()||(P=P.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,k))).next((j=>{x=j;const L=[];for(const B of d){const z=zV(B,x.get(B.key).overlayedDocument);z!=null&&L.push(new Jr(B.key,z,xS(z.value.mapValue),xn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,L,d)})).next((j=>{T=j;const L=j.applyToLocalDocumentSet(x,P);return m.documentOverlayCache.saveOverlays(R,j.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:DS(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new vt(He)),g=g.insert(d,m),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await Tu(s,a.changes),await Vd(s.remoteStore)}catch(a){const l=x0(a,"Failed to persist write");n.reject(l)}}async function mA(t,e){const n=De(t);try{const s=await Uj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?We(u.hu,14607):a.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await Tu(n,s,e)}catch(s){await _l(s)}}function fT(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=De(u);m.onlineState=d;let g=!1;m.queries.forEach(((v,x)=>{for(const T of x.Sa)T.va(d)&&(g=!0)})),g&&b0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CP(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new vt(_e.comparator);u=u.insert(l,dn.newNoDocument(l,Ne.min()));const d=qe().add(l),m=new Dd(Ne.min(),new Map,new vt(He),u,d);await mA(s,m),s.du=s.du.remove(l),s.Au.delete(e),T0(s)}else await Zg(s.localStore,e,!1).then((()=>ny(s,e,n))).catch(_l)}async function RP(t,e){const n=De(t),s=e.batch.batchId;try{const a=await Lj(n.localStore,e);gA(n,s,null),pA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,a)}catch(a){await _l(a)}}async function NP(t,e,n){const s=De(t);try{const a=await(function(u,d){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((x=>(We(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(g,x)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);gA(s,e,n),pA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,a)}catch(a){await _l(a)}}function pA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function gA(t,e,n){const s=De(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||yA(t,s)}))}function yA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(p0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),T0(t))}function dT(t,e,n){for(const s of n)s instanceof hA?(t.Ru.addReference(s.key,e),IP(t,s)):s instanceof fA?(me(w0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||yA(t,s.key)):Se(19791,{wu:s})}function IP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(w0,"New document in limbo: "+n),t.Eu.add(s),T0(t))}function T0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(lt.fromString(e)),s=t.fu.next();t.Au.set(s,new _P(n)),t.du=t.du.insert(n,s),nA(t.remoteStore,new jr(as(a0(n.path)),s,"TargetPurposeLimboResolution",Td.ce))}}async function Tu(t,e,n){const s=De(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=d0.As(m.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,g){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ae.forEach(g,(T=>ae.forEach(T.Es,(R=>v.persistence.referenceDelegate.addReference(x,T.targetId,R))).next((()=>ae.forEach(T.ds,(R=>v.persistence.referenceDelegate.removeReference(x,T.targetId,R)))))))))}catch(x){if(!xl(x))throw x;me(m0,"Failed to update sequence numbers: "+x)}for(const x of g){const T=x.targetId;if(!x.fromCache){const R=v.Ms.get(T),k=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(T,P)}}})(s.localStore,l))}async function DP(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){me(w0,"User change. New user:",e.toKey());const s=await JS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(ie.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function kP(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let a=qe();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function vA(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CP.bind(null,e),e.Pu.H_=pP.bind(null,e.eventManager),e.Pu.yu=gP.bind(null,e.eventManager),e}function MP(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NP.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Oj(this.persistence,new Vj,e.initialUser,this.serializer)}Cu(e){return new WS(f0.mi,this.serializer)}Du(e){return new qj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class VP extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof nd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _j(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new WS((s=>nd.mi(s,n)),this.serializer)}}class iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DP.bind(null,this.syncEngine),await fP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mP})()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),s=(function(l){return new Qj(l)})(e.databaseInfo);return(function(l,u,d,m){return new Zj(l,u,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new tP(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>fT(this.syncEngine,n,0)),(function(){return aT.v()?new aT:new Gj})())}createSyncEngine(e,n){return(function(a,l,u,d,m,g,v){const x=new xP(a,l,u,d,m,g);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);me($a,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}iy.provider={build:()=>new iy};class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const $r="FirestoreClient";class jP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=e0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{me($r,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me($r,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=x0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),me($r,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await JS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function mT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PP(t);me($r,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>lT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>lT(e.remoteStore,a))),t._onlineComponents=e}async function PP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me($r,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new sd)}}else me($r,"Using default OfflineComponentProvider"),await og(t,new VP(void 0));return t._offlineComponents}async function xA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me($r,"Using user provided OnlineComponentProvider"),await mT(t,t._uninitializedComponentsProvider._online)):(me($r,"Using default OnlineComponentProvider"),await mT(t,new iy))),t._onlineComponents}function OP(t){return xA(t).then((e=>e.syncEngine))}async function bA(t){const e=await xA(t),n=e.eventManager;return n.onListen=bP.bind(null,e.syncEngine),n.onUnlisten=EP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SP.bind(null,e.syncEngine),n}function LP(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,g){const v=new _A({next:T=>{v.Nu(),u.enqueueAndForget((()=>cA(l,x)));const R=T.docs.has(d);!R&&T.fromCache?g.reject(new he(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?g.reject(new he(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),x=new uA(a0(d.path),v,{includeMetadataChanges:!0,qa:!0});return lA(l,x)})(await bA(t),t.asyncQueue,e,n,s))),s.promise}function UP(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,g){const v=new _A({next:T=>{v.Nu(),u.enqueueAndForget((()=>cA(l,x))),T.fromCache&&m.source==="server"?g.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),x=new uA(d,v,{includeMetadataChanges:!0,qa:!0});return lA(l,x)})(await bA(t),t.asyncQueue,e,n,s))),s.promise}function wA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const pT=new Map;const TA="firestore.googleapis.com",gT=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TA,this.ssl=gT}else this.host=e.host,this.ssl=e.ssl??gT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yj)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GM;switch(s.type){case"firstParty":return new QM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=pT.get(n);s&&(me("ComponentProvider","Removing Datastore"),pT.delete(n),s.terminate())})(this),Promise.resolve()}}function BP(t,e,n,s={}){t=hi(t,jd);const a=pl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(d1(`https://${d}`),m1("Firestore",!0)),l.host!==TA&&l.host!==d&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Fa(m,u)&&(t._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=fn.MOCK_USER;else{g=QI(s.mockUserToken,t._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(x)}t._authCredentials=new KM(new lS(g,v))}}class wl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wl(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,Rt._jsonSchema))return new Rt(e,s||null,new _e(lt.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:zt("string",Rt._jsonSchemaVersion),referencePath:zt("string")};class Br extends wl{constructor(e,n,s){super(e,n,a0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new _e(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function Ai(t,e,...n){if(t=yt(t),cS("collection","path",e),t instanceof jd){const s=lt.fromString(e,...n);return Iw(s),new Br(t,null,s)}{if(!(t instanceof Rt||t instanceof Br))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(lt.fromString(e,...n));return Iw(s),new Br(t.firestore,null,s)}}function ot(t,e,...n){if(t=yt(t),arguments.length===1&&(e=e0.newId()),cS("doc","path",e),t instanceof jd){const s=lt.fromString(e,...n);return Nw(s),new Rt(t,null,new _e(s))}{if(!(t instanceof Rt||t instanceof Br))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(lt.fromString(e,...n));return Nw(s),new Rt(t.firestore,t instanceof Br?t.converter:null,new _e(s))}}const vT="AsyncQueue";class _T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eA(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&me(vT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;me(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Hs("INTERNAL UNHANDLED ERROR: ",xT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=_0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:xT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zr extends jd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new _T,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _T(e),this._firestoreClient=void 0,await e}}}function zP(t,e){const n=typeof t=="object"?t:v1(),s=typeof t=="string"?t:Qf,a=Fy(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=$I("firestore");l&&BP(a,...l)}return a}function Pd(t){if(t._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FP(t),t._firestoreClient}function FP(t){const e=t._freezeSettings(),n=(function(a,l,u,d){return new fV(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(ln.fromBase64String(e))}catch(n){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oi(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:zt("string",oi._jsonSchemaVersion),bytes:zt("string")};class Eu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class E0{constructor(e){this._methodName=e}}class ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(vu(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:zt("string",ls._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class cs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new cs(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:zt("string",cs._jsonSchemaVersion),vectorValues:zt("object")};const HP=/^__.*__$/;class qP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class EA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class S0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new S0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SA(this.Ac)&&HP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kd(e)}Cc(e,n,s,a=!1){return new S0({Ac:e,methodName:n,Dc:s,path:an.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new GP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A0(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);C0("Data must be an object, but it was:",u,s);const d=RA(s,u);let m,g;if(l.merge)m=new Hn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const T=sy(e,x,n);if(!u.contains(T))throw new he(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);IA(v,T)||v.push(T)}m=new Hn(v),g=u.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,g=u.fieldTransforms;return new qP(new In(d),m,g)}class Od extends E0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}function AA(t,e,n,s){const a=t.Cc(1,e,n);C0("Data must be an object, but it was:",a,s);const l=[],u=In.empty();Wr(s,((m,g)=>{const v=R0(e,m,n);g=yt(g);const x=a.yc(v);if(g instanceof Od)l.push(v);else{const T=Au(g,x);T!=null&&(l.push(v),u.set(v,T))}}));const d=new Hn(l);return new EA(u,d,a.fieldTransforms)}function CA(t,e,n,s,a,l){const u=t.Cc(1,e,n),d=[sy(e,s,n)],m=[a];if(l.length%2!=0)throw new he(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(sy(e,l[T])),m.push(l[T+1]);const g=[],v=In.empty();for(let T=d.length-1;T>=0;--T)if(!IA(g,d[T])){const R=d[T];let k=m[T];k=yt(k);const P=u.yc(R);if(k instanceof Od)g.push(R);else{const j=Au(k,P);j!=null&&(g.push(R),v.set(R,j))}}const x=new Hn(g);return new EA(v,x,u.fieldTransforms)}function KP(t,e,n,s=!1){return Au(n,t.Cc(s?4:3,e))}function Au(t,e){if(NA(t=yt(t)))return C0("Unsupported field value:",e,t),RA(t,e);if(t instanceof E0)return(function(s,a){if(!SA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=Au(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ht.fromDate(s);return{timestampValue:td(a.serializer,l)}}if(s instanceof ht){const l=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(a.serializer,l)}}if(s instanceof ls)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oi)return{bytesValue:HS(a.serializer,s._byteString)};if(s instanceof Rt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:u0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof cs)return(function(u,d){return{mapValue:{fields:{[vS]:{stringValue:_S},[Xf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return o0(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${wd(s)}`)})(t,e)}function RA(t,e){const n={};return fS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,((s,a)=>{const l=Au(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function NA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof ls||t instanceof oi||t instanceof Rt||t instanceof E0||t instanceof cs)}function C0(t,e,n){if(!NA(n)||!uS(n)){const s=wd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function sy(t,e,n){if((e=yt(e))instanceof Eu)return e._internalPath;if(typeof e=="string")return R0(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const $P=new RegExp("[~\\*/\\[\\]]");function R0(t,e,n){if(e.search($P)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new he(ie.INVALID_ARGUMENT,d+t+m)}function IA(t,e){return t.some((n=>n.isEqual(e)))}class DA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YP extends DA{data(){return super.data()}}function N0(t,e){return typeof e=="string"?R0(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}function QP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class XP extends I0{}function Mr(t,e,...n){let s=[];e instanceof I0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof D0)).length,d=l.filter((m=>m instanceof Ld)).length;if(u>1||u>0&&d>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Ld extends XP{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ld(e,n,s)}_apply(e){const n=this._parse(e);return kA(e._query,n),new wl(e.firestore,e.converter,$g(e._query,n))}_parse(e){const n=Su(e.firestore);return(function(l,u,d,m,g,v,x){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wT(x,v);const k=[];for(const P of x)k.push(bT(m,l,P));T={arrayValue:{values:k}}}else T=bT(m,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wT(x,v),T=KP(d,u,x,v==="in"||v==="not-in");return Bt.create(g,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ci(t,e,n){const s=e,a=N0("where",t);return Ld._create(a,s,n)}class D0 extends I0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)kA(u,m),u=$g(u,m)})(e._query,n),new wl(e.firestore,e.converter,$g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bT(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CS(e)&&n.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!_e.isDocumentKey(s))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lw(t,new _e(s))}if(n instanceof Rt)return Lw(t,n._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function wT(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kA(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WP{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Wr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Xf].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new cs(n)}convertGeoPoint(e){return new ls(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Sd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);We(QS(s),9688,{name:e});const a=new tu(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||Hs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function k0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends DA{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(N0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:zt("string",Ua._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Vf extends Ua{data(e={}){return super.data(e)}}class Jo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vf(this._firestore,this._userDataWriter,s.key,s,new Lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Lc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Lc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:JP(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=e0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}function on(t){t=hi(t,Rt);const e=hi(t.firestore,Zr);return LP(Pd(e),t._key).then((n=>tO(e,t,n)))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:zt("string",Jo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class MA extends WP{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Vr(t){t=hi(t,wl);const e=hi(t.firestore,Zr),n=Pd(e),s=new MA(e);return QP(t._query),UP(n,t._query).then((a=>new Jo(e,s,t,a)))}function Zo(t,e,n){t=hi(t,Rt);const s=hi(t.firestore,Zr),a=k0(t.converter,e,n);return Cu(s,[A0(Su(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,xn.none())])}function ZP(t,e,n,...s){t=hi(t,Rt);const a=hi(t.firestore,Zr),l=Su(a);let u;return u=typeof(e=yt(e))=="string"||e instanceof Eu?CA(l,"updateDoc",t._key,e,n,s):AA(l,"updateDoc",t._key,e),Cu(a,[u.toMutation(t._key,xn.exists(!0))])}function eO(t){return Cu(hi(t.firestore,Zr),[new Id(t._key,xn.none())])}function lg(t,e){const n=hi(t.firestore,Zr),s=ot(t),a=k0(t.converter,e);return Cu(n,[A0(Su(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,xn.exists(!1))]).then((()=>s))}function Cu(t,e){return(function(s,a){const l=new Us;return s.asyncQueue.enqueueAndForget((async()=>AP(await OP(s),a,l))),l.promise})(Pd(t),e)}function tO(t,e,n){const s=n.docs.get(e._key),a=new MA(t);return new Ua(t,a,e._key,s,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}class nO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,n,s){this._verifyNotCommitted();const a=cg(e,this._firestore),l=k0(a.converter,n,s),u=A0(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,xn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=cg(e,this._firestore);let u;return u=typeof(n=yt(n))=="string"||n instanceof Eu?CA(this._dataReader,"WriteBatch.update",l._key,n,s,a):AA(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cg(e,this._firestore);return this._mutations=this._mutations.concat(new Id(n._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cg(t,e){if((t=yt(t)).firestore!==e)throw new he(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function VA(t){return Pd(t=hi(t,Zr)),new nO(t,(e=>Cu(t,e)))}(function(e,n=!0){(function(a){vl=a})(gl),tl(new Ha("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Zr(new $M(s.getProvider("auth-internal")),new XM(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Lr(Sw,Aw,e),Lr(Sw,Aw,"esm2020")})();var iO="firebase",sO="12.7.0";Lr(iO,sO,"app");const rO={apiKey:"AIzaSyBaGcQdywx3EHrWuo7KAa4ed4oXOMvsFYM",authDomain:"nfl-bracket-b3140.firebaseapp.com",projectId:"nfl-bracket-b3140",storageBucket:"nfl-bracket-b3140.firebasestorage.app",messagingSenderId:"965277224800",appId:"1:965277224800:web:83afd415384e97b6d51805"};let ug,Rn,Oe;try{ug=y1(rO),Rn=HM(ug),Oe=zP(ug)}catch(t){console.error("Firebase initialization error:",t),console.warn("Please configure Firebase credentials in .env file")}const jA=M.createContext(),ms=()=>M.useContext(jA),hg="drewpdewitt@gmail.com".split(",").map(t=>t.trim())||[],aO=({children:t})=>{const[e,n]=M.useState(null),[s,a]=M.useState(!0),[l,u]=M.useState(null),[d,m]=M.useState(!1),[g,v]=M.useState(null),[x,T]=M.useState(!1);M.useEffect(()=>{if(!Rn){u("Firebase not configured. Please add .env file with Firebase credentials."),a(!1);return}return Dk(Rn,async z=>{if(n(z),m(z?hg.includes(z.email):!1),z){const J=await on(ot(Oe,"users",z.uid));if(J.exists()){const ee=J.data();v(ee.username),T(!ee.hasSeenTutorial)}else v(z.displayName||z.email.split("@")[0]),T(!0)}else v(null),T(!1);a(!1)})},[]);const R=async(B,z)=>{if(!Rn)throw new Error("Firebase not configured");return await Ak(Rn,B,z)},k=async(B,z,J)=>{if(!Rn)throw new Error("Firebase not configured");const ee=await Sk(Rn,B,z);await Rk(ee.user,{displayName:J});const le=hg.includes(B);return await Zo(ot(Oe,"users",ee.user.uid),{username:J,email:B,isAdmin:le,createdAt:new Date,emailVerified:!1,hasSeenTutorial:!1}),await H1(ee.user,{url:window.location.origin+"/verify-email",handleCodeInApp:!1}),ee},P=async()=>{if(!Rn)throw new Error("Firebase not configured");const B=new Vs,z=await Jk(Rn,B),J=await on(ot(Oe,"users",z.user.uid)),ee=hg.includes(z.user.email);return J.exists()||await Zo(ot(Oe,"users",z.user.uid),{username:z.user.displayName||z.user.email.split("@")[0],email:z.user.email,isAdmin:ee,createdAt:new Date,hasSeenTutorial:!1}),z},j=()=>{if(!Rn)throw new Error("Firebase not configured");return kk(Rn)};if(l)return y.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:" Configuration Required"}),y.jsx("p",{className:"text-gray-700 mb-4",children:l}),y.jsxs("div",{className:"bg-gray-100 p-4 rounded text-sm",children:[y.jsx("p",{className:"font-semibold mb-2",children:"Quick Setup:"}),y.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[y.jsx("li",{children:"Create Firebase project at console.firebase.google.com"}),y.jsx("li",{children:"Enable Authentication (Email/Password)"}),y.jsx("li",{children:"Create Firestore database"}),y.jsx("li",{children:"Copy .env.example to .env"}),y.jsx("li",{children:"Add your Firebase credentials to .env"}),y.jsx("li",{children:"Restart dev server"})]})]})]})});const L=async()=>{e&&(await Zo(ot(Oe,"users",e.uid),{hasSeenTutorial:!0},{merge:!0}),T(!1))};return y.jsx(jA.Provider,{value:{user:e,login:R,signup:k,loginWithGoogle:P,logout:j,loading:s,isAdmin:d,username:g,isFirstLogin:x,markTutorialSeen:L},children:t})};const oO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),TT=t=>{const e=lO(t);return e.charAt(0).toUpperCase()+e.slice(1)},PA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),cO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var uO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hO=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>M.createElement("svg",{ref:m,...uO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:PA("lucide",a),...!l&&!cO(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,v])=>M.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Je=(t,e)=>{const n=M.forwardRef(({className:s,...a},l)=>M.createElement(hO,{ref:l,iconNode:e,className:PA(`lucide-${oO(TT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=TT(t),n};const fO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zr=Je("arrow-left",fO);const dO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fg=Je("arrow-right",dO);const mO=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],pO=Je("award",mO);const gO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yO=Je("calendar",gO);const vO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],OA=Je("chart-column",vO);const _O=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xO=Je("check",_O);const bO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wO=Je("chevron-left",bO);const TO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EO=Je("chevron-right",TO);const SO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ad=Je("circle-alert",SO);const AO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],od=Je("circle-check-big",AO);const CO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RO=Je("circle-question-mark",CO);const NO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],IO=Je("circle-x",NO);const DO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kO=Je("eye",DO);const MO=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],VO=Je("loader",MO);const jO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],PO=Je("lock-open",jO);const OO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dg=Je("lock",OO);const LO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UO=Je("log-out",LO);const BO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ry=Je("mail",BO);const zO=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],FO=Je("medal",zO);const HO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ET=Je("plus",HO);const qO=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],GO=Je("radio",qO);const KO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],LA=Je("refresh-cw",KO);const $O=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YO=Je("save",$O);const QO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XO=Je("settings",QO);const WO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ay=Je("share-2",WO);const JO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],UA=Je("trash-2",JO);const ZO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cl=Je("trophy",ZO);const e3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t3=Je("user",e3);const n3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oy=Je("users",n3);const i3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],s3=Je("x",i3);function r3(){const[t,e]=M.useState(!0),[n,s]=M.useState(""),[a,l]=M.useState(""),[u,d]=M.useState(""),[m,g]=M.useState(""),[v,x]=M.useState(""),[T,R]=M.useState(!1),{login:k,signup:P,loginWithGoogle:j}=ms(),L=Mi(),B=ki(),[z]=Uy(),J=B.state?.from||"/rooms",ee=z.get("verified")==="true";M.useEffect(()=>{ee&&e(!0)},[ee]);const le=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),A=async N=>{if(N.preventDefault(),x(""),R(!1),!t){if(!le(n)){x("Please enter a valid email address");return}if(a!==u){x("Passwords do not match");return}if(a.length<6){x("Password must be at least 6 characters");return}}try{t?(await k(n,a),L(J,{replace:!0})):(await P(n,a,m),R(!0))}catch(V){x(V.message)}},S=async()=>{x("");try{await j(),L(J,{replace:!0})}catch(N){x(N.message)}};return y.jsxs("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),y.jsxs("div",{className:"relative z-10 bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[y.jsx("div",{className:"flex items-center justify-center mb-6",children:y.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:y.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[14px] flex items-center justify-center text-white text-2xl font-black italic",children:"NFL"})})}),y.jsx("h1",{className:"text-3xl font-black text-center mb-2 text-white uppercase tracking-tight",children:"Mixin it up Family Bracket"}),y.jsx("p",{className:"text-center text-slate-400 mb-6 text-sm",children:t?"Sign in to continue":"Create your account"}),ee&&y.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-4 mb-4 flex items-start gap-3",children:[y.jsx(od,{className:"w-6 h-6 text-green-400 flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-green-400 font-bold text-base mb-1",children:" Email Verified!"}),y.jsx("p",{className:"text-green-200 text-sm",children:"Your email has been verified. Please sign in to continue."})]})]}),T?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-6 text-center",children:[y.jsx(ry,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-bold text-green-400 mb-2",children:"Verification Email Sent!"}),y.jsx("p",{className:"text-slate-300 mb-4",children:"Please check your email and click the verification link to activate your account. After verifying, sign in to continue."}),y.jsx("button",{onClick:()=>{R(!1),e(!0)},className:"text-green-400 font-semibold hover:underline",children:"Back to Sign In"}),J!=="/rooms"&&y.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"You'll be redirected to join the room after signing in."})]}),y.jsx("div",{className:"bg-yellow-500/10 border-2 border-yellow-500/50 rounded-lg p-4 animate-pulse",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(ad,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-400 font-bold text-base mb-1",children:" CHECK YOUR SPAM FOLDER!"}),y.jsx("p",{className:"text-yellow-200 text-sm",children:"The verification email may be in your spam or junk folder. Please check there if you don't see it in your inbox within a few minutes."})]})]})})]}):y.jsxs(y.Fragment,{children:[y.jsxs("form",{onSubmit:A,className:"space-y-4",children:[!t&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Username"}),y.jsx("input",{type:"text",value:m,onChange:N=>g(N.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",value:n,onChange:N=>s(N.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),y.jsx("input",{type:"password",value:a,onChange:N=>l(N.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),!t&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Confirm Password"}),y.jsx("input",{type:"password",value:u,onChange:N=>d(N.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),v&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",children:[y.jsx(ad,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),y.jsx("p",{className:"text-red-400 text-sm",children:v})]}),y.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition font-bold uppercase tracking-wide",children:t?"Sign In":"Sign Up"})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-slate-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-slate-900/60 text-slate-400",children:"Or continue with"})})]}),y.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-3 bg-white/10 border border-white/20 text-white py-3 rounded-lg hover:bg-white/20 transition font-semibold",children:[y.jsx(ry,{className:"w-5 h-5"}),"Google"]}),y.jsxs("p",{className:"text-center mt-4 text-sm text-slate-400",children:[t?"Don't have an account? ":"Already have an account? ",y.jsx("button",{onClick:()=>e(!t),className:"text-blue-400 font-semibold hover:underline",children:t?"Sign Up":"Sign In"})]})]})]})]})}function a3({isOpen:t,onClose:e}){const[n,s]=M.useState(0);if(M.useEffect(()=>{t&&s(0)},[t]),!t)return null;const a=[{title:"Welcome to NFL Bracket!",icon:cl,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300 text-lg",children:"Compete with friends by predicting NFL playoff game winners. The more accurate your predictions, the more points you earn!"}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50",children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-3 text-lg",children:"Quick Overview:"}),y.jsxs("ul",{className:"space-y-2 text-slate-300",children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Join or create a room with friends"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Pick winners for each playoff game"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Submit your bracket before games start"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Earn points for correct predictions"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Compete on the leaderboard!"})]})]})]})]})},{title:"Joining a Room",icon:oy,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Rooms let you compete with specific groups of friends. Each room has a unique 6-character code."}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"To Join a Room:"}),y.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[y.jsx("li",{children:"Get a room code from a friend"}),y.jsx("li",{children:'Enter the code in the "Join Room" box'}),y.jsx("li",{children:'Click "Join" to enter the room'}),y.jsx("li",{children:"You'll be taken to the bracket page automatically"})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[y.jsx("div",{className:"text-center mb-2",children:y.jsx("input",{type:"text",value:"ABC123",readOnly:!0,className:"w-48 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white text-center font-bold tracking-wider"})}),y.jsx("p",{className:"text-slate-400 text-sm text-center",children:"Example room code"})]})]})]})},{title:"Sharing a Room",icon:ay,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Invite friends to your room by sharing the room code or link."}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"How to Share:"}),y.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[y.jsx("li",{children:'Find your room in "My Rooms"'}),y.jsx("li",{children:"Click the green share button"}),y.jsx("li",{children:"Send the link or code to friends"})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-green-500/20 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-3 py-1 rounded-lg",children:y.jsx("span",{className:"text-white font-bold tracking-wider",children:"ABC123"})}),y.jsx("span",{className:"text-white font-semibold",children:"Room ABC123"})]}),y.jsx("button",{className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400",children:y.jsx(ay,{className:"w-4 h-4"})})]})]})]})},{title:"Filling Out Your Bracket",icon:od,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Pick the winner for each playoff matchup. Your picks automatically advance through the rounds."}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"How to Pick:"}),y.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[y.jsx("li",{children:"Click on a team to select them as the winner"}),y.jsx("li",{children:"Your pick will highlight in gold"}),y.jsx("li",{children:"Winners automatically advance to the next round"}),y.jsx("li",{children:"Continue until you've picked a Super Bowl champion"})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[y.jsx("p",{className:"text-slate-400 text-xs mb-3 text-center",children:"Example Matchup:"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 border-2 border-yellow-600/50 rounded-lg cursor-pointer",children:[y.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold",children:"KC"}),y.jsx("span",{className:"text-white font-semibold flex-grow",children:"Kansas City Chiefs"}),y.jsx("span",{className:"text-yellow-600/90 font-bold",children:"#1"})]}),y.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg cursor-pointer opacity-60",children:[y.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold",children:"BUF"}),y.jsx("span",{className:"text-white font-semibold flex-grow",children:"Buffalo Bills"}),y.jsx("span",{className:"text-slate-400 font-bold",children:"#2"})]})]}),y.jsx("p",{className:"text-slate-400 text-xs mt-3 text-center",children:"Click a team to select them"})]})]})]})},{title:"Submitting Your Bracket",icon:od,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Once you've made all your picks, submit your bracket to lock it in."}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[y.jsxs("h4",{className:"text-red-400 font-bold mb-2 flex items-center gap-2",children:[y.jsx("span",{children:""})," Important:"]}),y.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[y.jsx("li",{children:" You must complete ALL picks before submitting"}),y.jsx("li",{children:" Once submitted, your bracket is LOCKED"}),y.jsx("li",{children:" You cannot change picks after submission"}),y.jsx("li",{children:" Submit before the first playoff game starts!"})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"To Submit:"}),y.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[y.jsx("li",{children:"Complete all matchup picks"}),y.jsx("li",{children:"Review your selections"}),y.jsx("li",{children:'Click "Submit Bracket" at the top'}),y.jsx("li",{children:"Confirm your submission"})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-green-500/20 text-center",children:[y.jsx("button",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg",children:"Submit Bracket"}),y.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"Click when ready to lock in picks"})]})]})]})},{title:"Point System",icon:cl,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Earn points for each correct prediction. Later rounds are worth more points!"}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-3",children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-3 text-center",children:"Points Per Round:"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[y.jsx("span",{className:"text-white font-semibold",children:"Wild Card Round"}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"1 pt"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[y.jsx("span",{className:"text-white font-semibold",children:"Divisional Round"}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"2 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[y.jsx("span",{className:"text-white font-semibold",children:"Conference Championship"}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"3 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 rounded-lg border-2 border-yellow-600/50",children:[y.jsx("span",{className:"text-white font-bold",children:"Super Bowl"}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-2xl",children:"5 pts"})]})]}),y.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mt-4",children:y.jsxs("p",{className:"text-blue-300 text-sm text-center",children:[y.jsx("strong",{children:"Maximum possible score: 23 points"}),y.jsx("br",{}),"(6 Wild Card + 4 Divisional + 2 Conference + 1 Super Bowl)"]})})]})]})},{title:"Viewing the Leaderboard",icon:OA,content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-300",children:"Track your performance and see how you stack up against friends!"}),y.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"Leaderboard Features:"}),y.jsxs("ul",{className:"space-y-2 text-slate-300",children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Found at the top of the bracket page"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"See all participants ranked by points"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"View correct picks (green) and incorrect picks (red)"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Updates automatically as games finish"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),y.jsx("span",{children:"Only visible after you submit your bracket"})]})]})]}),y.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[y.jsx("p",{className:"text-slate-400 text-xs mb-3 text-center",children:"Example Leaderboard:"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-600/10 border border-yellow-600/30 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-yellow-600/90 font-bold text-lg",children:"1."}),y.jsx("span",{className:"text-white font-semibold",children:"John"})]}),y.jsx("span",{className:"text-yellow-600/90 font-bold text-lg",children:"15 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-slate-400 font-bold",children:"2."}),y.jsx("span",{className:"text-white font-semibold",children:"Sarah"})]}),y.jsx("span",{className:"text-slate-300 font-bold",children:"12 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-slate-400 font-bold",children:"3."}),y.jsx("span",{className:"text-white font-semibold",children:"Mike"})]}),y.jsx("span",{className:"text-slate-300 font-bold",children:"10 pts"})]})]})]})]}),y.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[y.jsx("h4",{className:"text-blue-300 font-bold mb-2",children:" Pro Tip:"}),y.jsx("p",{className:"text-blue-200 text-sm",children:"Game results are tracked in real-time on the bracket page. You can see which games have been completed and who won as the playoffs progress!"})]}),y.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:y.jsx("p",{className:"text-green-300 text-center font-semibold",children:" Good luck and may the best bracket win! "})})]})}],l=a[n],u=l.icon;return y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 border-b border-white/10 p-6 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg",children:y.jsx(u,{className:"w-6 h-6 text-white"})}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:l.title})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition text-slate-400 hover:text-white",children:y.jsx(s3,{className:"w-6 h-6"})})]}),y.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-200px)]",children:l.content}),y.jsxs("div",{className:"bg-slate-800/50 border-t border-white/10 p-4 sm:p-6 flex items-center justify-between gap-2",children:[y.jsxs("button",{onClick:()=>s(d=>Math.max(0,d-1)),disabled:n===0,className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white text-sm sm:text-base disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-700 transition flex-shrink-0",children:[y.jsx(wO,{className:"w-4 h-4"}),y.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),y.jsx("div",{className:"flex gap-2 items-center flex-shrink-0",children:a.map((d,m)=>y.jsx("button",{onClick:()=>s(m),className:`h-2 rounded-full transition-all duration-300 ${m===n?"bg-yellow-600/90 w-8":"bg-slate-600 hover:bg-slate-500 w-2"}`},m))}),n===a.length-1?y.jsx("button",{onClick:e,className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 rounded-lg text-white text-sm sm:text-base font-semibold hover:from-yellow-600/90 hover:to-yellow-700/90 transition shadow-lg flex-shrink-0",children:"Get Started!"}):y.jsxs("button",{onClick:()=>s(d=>Math.min(a.length-1,d+1)),className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 rounded-lg text-white text-sm sm:text-base font-semibold hover:from-yellow-600/90 hover:to-yellow-700/90 transition shadow-lg flex-shrink-0",children:[y.jsx("span",{className:"hidden sm:inline",children:"Next"}),y.jsx(EO,{className:"w-4 h-4"})]})]})]})})}function o3(){const[t,e]=M.useState(""),[n,s]=M.useState([]),[a,l]=M.useState(!1),{user:u,logout:d,isAdmin:m,username:g,isFirstLogin:v,markTutorialSeen:x}=ms(),T=Mi(),[R]=Uy();M.useEffect(()=>{k(),v&&l(!0);const A=R.get("join");A&&(e(A.toUpperCase()),setTimeout(()=>{z(A.toUpperCase())},100))},[u,R,v]);const k=async()=>{const A=Mr(Ai(Oe,"userRooms"),Ci("userId","==",u.uid)),S=await Vr(A),N=[];for(const V of S.docs){const I=V.data(),F=await on(ot(Oe,"rooms",I.roomId));F.exists()&&N.push({id:V.id,...I,isCreator:F.data().createdBy===u.uid})}s(N)},P=A=>{const S=`${window.location.origin}/rooms?join=${A}`;navigator.share?navigator.share({title:"Join my NFL Bracket Room",text:`Join my NFL playoff bracket room with code: ${A}`,url:S}).catch(()=>{j(S,A)}):j(S,A)},j=(A,S)=>{navigator.clipboard.writeText(A).then(()=>{alert(`Room link copied! Share this link or use code: ${S}`)}).catch(()=>{alert(`Share this link: ${A}

Or use room code: ${S}`)})},L=async()=>{const A=Math.random().toString(36).substring(2,8).toUpperCase(),S=await lg(Ai(Oe,"rooms"),{code:A,createdAt:new Date,createdBy:u.uid});await lg(Ai(Oe,"userRooms"),{userId:u.uid,roomId:S.id,roomCode:A}),T(`/bracket/${S.id}`)},B=async A=>{A.preventDefault(),await z(t)},z=async A=>{const S=Mr(Ai(Oe,"rooms"),Ci("code","==",A.toUpperCase())),N=await Vr(S);if(N.empty)alert("Room not found. Please check the code and try again.");else{const V=N.docs[0].id,I=Mr(Ai(Oe,"userRooms"),Ci("userId","==",u.uid),Ci("roomId","==",V));(await Vr(I)).empty&&await lg(Ai(Oe,"userRooms"),{userId:u.uid,roomId:V,roomCode:A.toUpperCase()}),T(`/bracket/${V}`)}},J=async(A,S)=>{if(window.confirm(`Are you sure you want to delete room ${S}? This will delete all brackets in this room and cannot be undone.`))try{console.log("Starting room deletion for:",A),console.log("Fetching brackets...");const N=Mr(Ai(Oe,"brackets"),Ci("roomId","==",A)),V=await Vr(N);console.log("Found brackets:",V.docs.length),console.log("Fetching userRooms...");const I=Mr(Ai(Oe,"userRooms"),Ci("roomId","==",A)),F=await Vr(I);console.log("Found userRooms:",F.docs.length);const D=VA(Oe);console.log("Adding brackets to batch delete..."),V.docs.forEach(Re=>{D.delete(Re.ref)}),console.log("Adding userRooms to batch delete..."),F.docs.forEach(Re=>{D.delete(Re.ref)}),console.log("Adding room to batch delete..."),D.delete(ot(Oe,"rooms",A)),console.log("Committing batch..."),await D.commit(),console.log("Room deleted successfully!"),alert("Room deleted successfully!"),k()}catch(N){console.error("Full error object:",N),console.error("Error code:",N.code),console.error("Error message:",N.message),alert(`Error deleting room: ${N.message}

Check console for details.`)}},ee=()=>{l(!1),x()},le=n.length===0;return y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),y.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),y.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),y.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),y.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 sm:mb-12",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px] transition-transform duration-500",children:y.jsx("div",{className:"bg-[#020617] w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] sm:text-[14px] font-black italic",children:"NFL"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl sm:text-4xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),y.jsxs("p",{className:"text-blue-200 text-xs sm:text-sm",children:["Welcome back, ",g||"User"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[y.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-1 sm:gap-2 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 text-blue-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-blue-500/30 transition-all duration-300 shadow-lg hover:shadow-blue-500/20 text-sm sm:text-base",title:"How to Use",children:[y.jsx(RO,{className:"w-4 h-4"})," ",y.jsx("span",{className:"hidden sm:inline",children:"Rules & Help"}),y.jsx("span",{className:"sm:hidden",children:"Help"})]}),y.jsxs("button",{onClick:d,className:"flex items-center gap-1 sm:gap-2 bg-red-500/20 backdrop-blur-sm border border-red-400/30 text-red-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-red-500/30 transition-all duration-300 shadow-lg hover:shadow-red-500/20 text-sm sm:text-base",children:[y.jsx(UO,{className:"w-4 h-4"})," ",y.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),le?y.jsx("div",{className:"max-w-2xl mx-auto",children:y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-3xl p-12 shadow-2xl",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 rounded-2xl mb-6 shadow-lg shadow-yellow-600/10",children:y.jsx(oy,{className:"w-10 h-10 text-white"})}),y.jsx("h2",{className:"text-4xl font-bold text-white mb-3",children:"Join a Room"}),y.jsx("p",{className:"text-slate-300 text-lg",children:"Enter a room code to get started with your bracket predictions"})]}),y.jsxs("form",{onSubmit:B,className:"space-y-6",children:[y.jsx("div",{children:y.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-6 py-5 bg-slate-800/50 backdrop-blur-sm border-2 border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center text-2xl font-bold tracking-widest focus:ring-4 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all duration-300",maxLength:"6",required:!0})}),y.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-5 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-bold text-lg shadow-xl shadow-yellow-600/10 hover:shadow-2xl hover:scale-105 flex items-center justify-center gap-3",children:["Join Room ",y.jsx(fg,{className:"w-5 h-5"})]})]}),m&&y.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[y.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Or create a new room as admin"}),y.jsxs("button",{onClick:L,className:"w-full bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 text-white py-4 rounded-xl hover:bg-slate-700/50 transition-all duration-300 font-semibold flex items-center justify-center gap-2",children:[y.jsx(ET,{className:"w-5 h-5"})," Create New Room"]})]})]})}):y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:y.jsx(oy,{className:"w-6 h-6 text-white"})}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Join Room"})]}),y.jsxs("form",{onSubmit:B,className:"space-y-4",children:[y.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center font-bold tracking-wider focus:ring-2 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all",maxLength:"6",required:!0}),y.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl flex items-center justify-center gap-2",children:["Join ",y.jsx(fg,{className:"w-4 h-4"})]})]})]}),m&&y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:y.jsx(ET,{className:"w-6 h-6 text-white"})}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Room"})]}),y.jsx("p",{className:"text-slate-300 mb-6",children:"Start a new bracket room and share the code with friends"}),y.jsx("button",{onClick:L,className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl",children:"Create New Room"})]})]}),y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-4 sm:p-8 shadow-xl",children:[y.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-center gap-3",children:[y.jsx(cl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600/90"}),"My Rooms"]}),y.jsx("div",{className:"grid gap-3 sm:gap-4",children:n.map(A=>y.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-4 sm:p-6 bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl hover:bg-slate-800/50 transition-all duration-300 hover:shadow-lg",children:[y.jsxs("button",{onClick:()=>T(`/bracket/${A.roomId}`),className:"flex items-center gap-3 sm:gap-4 flex-grow text-left w-full sm:w-auto",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-3 sm:px-4 py-1 sm:py-2 rounded-lg shadow-lg shadow-yellow-600/10",children:y.jsx("span",{className:"text-white font-bold text-base sm:text-lg tracking-wider",children:A.roomCode})}),y.jsxs("span",{className:"text-white font-semibold text-base sm:text-lg",children:["Room ",A.roomCode]})]}),y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto justify-end",children:[y.jsx("button",{onClick:S=>{S.stopPropagation(),P(A.roomCode)},className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition text-green-400",title:"Share Room",children:y.jsx(ay,{className:"w-4 h-4"})}),m&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:S=>{S.stopPropagation(),T(`/admin/brackets/${A.roomId}`)},className:"p-2 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition text-blue-400",title:"View Submitted Brackets (Admin)",children:y.jsx(kO,{className:"w-4 h-4"})}),y.jsx("button",{onClick:S=>{S.stopPropagation(),J(A.roomId,A.roomCode)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Room (Admin)",children:y.jsx(UA,{className:"w-4 h-4"})})]}),y.jsx(fg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600/70 hidden sm:block"})]})]},A.id))})]})]})]}),y.jsx(a3,{isOpen:a,onClose:ee}),y.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const l3="https://site.web.api.espn.com/apis/v2/sports/football/nfl/standings?region=us&lang=en&contentorigin=espn&season=2025&type=0",c3=async()=>{try{const e=await(await fetch(l3)).json(),n={};return e.children?.forEach(s=>{s.standings?.entries?.forEach(a=>{const l=a.team?.id,u=a.stats?.find(d=>d.name==="playoffSeed");l&&u&&(n[l]={seed:u.value,abbreviation:a.team.abbreviation,name:a.team.name,location:a.team.location,displayName:a.team.displayName})})}),n}catch(t){return console.error("Error fetching playoff seeds:",t),{}}},pf="https://site.api.espn.com/apis/site/v2/sports/football/nfl/scoreboard?seasontype=3",ld=async()=>{try{const t=await c3(),e=await Promise.all([fetch(`${pf}&week=1`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=2`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=3`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=4`).then(n=>n.json()).catch(()=>({events:[]}))]);return{wildCard:gf(e[0],"wc",1,t),divisional:gf(e[1],"div",2,t),conference:gf(e[2],"conf",3,t),superBowl:gf(e[3],"sb",4,t)}}catch(t){return console.error("Error fetching playoff games:",t),{wildCard:[],divisional:[],conference:[],superBowl:[]}}},gf=(t,e,n,s)=>{const a=t?.events||[],l=[],u=[];if(a.forEach((d,m)=>{const g=d.competitions?.[0];if(!g)return;const v=g.competitors||[],x=v.find(L=>L.homeAway==="home"),T=v.find(L=>L.homeAway==="away"),R=g.status,k=x?.team?.id==="-1"||T?.team?.id==="-1";let P="UNKNOWN";n===4?P="SB":!k&&x?.team&&(P=zA(x.team.abbreviation),P==="UNKNOWN"&&(P=BA(x.team.id)));const j={id:`${P.toLowerCase()}-${e}-${P==="AFC"?l.length:P==="NFC"?u.length:0}`,espnId:d.id,team1:k?null:yf(x,!0,s),team2:k?null:yf(T,!1,s),status:R?.type?.description||"Scheduled",statusDetail:R?.type?.shortDetail||"Game Not Started",isCompleted:R?.type?.completed||!1,isInProgress:R?.type?.state==="in",winner:ST(x,T,R),conference:P,date:d.date,isTBD:k,homeScore:k?null:parseInt(x?.score)||0,awayScore:k?null:parseInt(T?.score)||0};P==="AFC"?l.push(j):P==="NFC"&&u.push(j)}),n===4&&a.length>0){const d=a[0],m=d.competitions?.[0],g=m?.competitors||[],v=g.find(k=>k.homeAway==="home"),x=g.find(k=>k.homeAway==="away"),T=m?.status,R=v?.team?.id==="-1"||x?.team?.id==="-1";return[{id:"super-bowl",espnId:d.id,team1:R?null:yf(v,!0,s),team2:R?null:yf(x,!1,s),status:T?.type?.description||"Scheduled",statusDetail:T?.type?.shortDetail||"Game Not Started",isCompleted:T?.type?.completed||!1,isInProgress:T?.type?.state==="in",winner:ST(v,x,T),conference:"SB",date:d.date,isTBD:R,homeScore:R?null:parseInt(v?.score)||0,awayScore:R?null:parseInt(x?.score)||0}]}return[...l,...u]},yf=(t,e,n)=>{if(!t||t.id==="-1")return null;const s=t.team,a=s.id,l=n?.[a],u=BA(a),d=zA(s.abbreviation);return{id:a,name:s.name||s.displayName,city:s.location,abbreviation:s.abbreviation,displayName:s.displayName,score:parseInt(t.score)||0,seed:l?.seed||u3(t),conference:d!=="UNKNOWN"?d:u,color:h3(s.abbreviation),isHome:e}},ST=(t,e,n)=>{if(!n?.type?.completed)return null;const s=parseInt(t?.score)||0,a=parseInt(e?.score)||0;return s>a?t?.team?.id:a>s?e?.team?.id:null},u3=t=>t.curatedRank?.current||t.rank||parseInt(t.team?.displayName?.match(/\((\d+)\)/)?.[1])||null,BA=t=>{const e=["1","2","3","4","5","6","7","8","9","10","11","12","33","34"],n=["13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],s=String(t);return e.includes(s)?"AFC":n.includes(s)?"NFC":"UNKNOWN"},zA=t=>{const e=["KC","BUF","BAL","HOU","PIT","LAC","DEN","MIA","CIN","CLE","LV","IND","TEN","JAX","NE"],n=["DET","PHI","LAR","TB","MIN","WAS","GB","SF","DAL","SEA","ATL","NO","CAR","ARI","CHI","NYG"];return e.includes(t)?"AFC":n.includes(t)?"NFC":"UNKNOWN"},h3=t=>({KC:"#E31837",BUF:"#00338D",BAL:"#241773",HOU:"#03202F",PIT:"#FFB612",LAC:"#0080C6",DEN:"#FB4F14",MIA:"#008E97",CIN:"#FB4F14",CLE:"#FF3C00",LV:"#000000",IND:"#002C5F",TEN:"#0C2340",JAX:"#006778",NE:"#002244",DET:"#0076B6",PHI:"#004C54",LAR:"#003594",TB:"#D50A0A",MIN:"#4F2683",WAS:"#5A1414",GB:"#203731",SF:"#AA0000",DAL:"#041E42",SEA:"#002244",ATL:"#A71930",NO:"#D3BC8D",CAR:"#0085CA",ARI:"#97233F",CHI:"#0B162A",NYG:"#0B2265",NYJ:"#125740"})[t]||"#64748b",M0=M.createContext({});function V0(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const j0=typeof window<"u",FA=j0?M.useLayoutEffect:M.useEffect,Ud=M.createContext(null);function P0(t,e){t.indexOf(e)===-1&&t.push(e)}function O0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gs=(t,e,n)=>n>e?e:n<t?t:n;let L0=()=>{};const Ks={},HA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qA(t){return typeof t=="object"&&t!==null}const GA=t=>/^0[^.\s]+$/u.test(t);function U0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ci=t=>t,f3=(t,e)=>n=>e(t(n)),Ru=(...t)=>t.reduce(f3),ru=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class B0{constructor(){this.subscriptions=[]}add(e){return P0(this.subscriptions,e),()=>O0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=t=>t*1e3,li=t=>t/1e3;function KA(t,e){return e?t*(1e3/e):0}const $A=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,d3=1e-7,m3=12;function p3(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=$A(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>d3&&++d<m3);return u}function Nu(t,e,n,s){if(t===e&&n===s)return ci;const a=l=>p3(l,0,1,t,n);return l=>l===0||l===1?l:$A(a(l),e,s)}const YA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QA=t=>e=>1-t(1-e),XA=Nu(.33,1.53,.69,.99),z0=QA(XA),WA=YA(z0),JA=t=>(t*=2)<1?.5*z0(t):.5*(2-Math.pow(2,-10*(t-1))),F0=t=>1-Math.sin(Math.acos(t)),ZA=QA(F0),eC=YA(F0),g3=Nu(.42,0,1,1),y3=Nu(0,0,.58,1),tC=Nu(.42,0,.58,1),v3=t=>Array.isArray(t)&&typeof t[0]!="number",nC=t=>Array.isArray(t)&&typeof t[0]=="number",_3={linear:ci,easeIn:g3,easeInOut:tC,easeOut:y3,circIn:F0,circInOut:eC,circOut:ZA,backIn:z0,backInOut:WA,backOut:XA,anticipate:JA},x3=t=>typeof t=="string",AT=t=>{if(nC(t)){L0(t.length===4);const[e,n,s,a]=t;return Nu(e,n,s,a)}else if(x3(t))return _3[t];return t},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function b3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(g.schedule(v),t()),v(d)}const g={schedule:(v,x=!1,T=!1)=>{const k=T&&a?n:s;return x&&u.add(v),k.has(v)||k.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const w3=40;function iC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=vf.reduce((z,J)=>(z[J]=b3(l),z),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:x,preRender:T,render:R,postRender:k}=u,P=()=>{const z=Ks.useManualTiming?a.timestamp:performance.now();n=!1,Ks.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(z-a.timestamp,w3),1)),a.timestamp=z,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),v.process(a),x.process(a),T.process(a),R.process(a),k.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(P))},j=()=>{n=!0,s=!0,a.isProcessing||t(P)};return{schedule:vf.reduce((z,J)=>{const ee=u[J];return z[J]=(le,A=!1,S=!1)=>(n||j(),ee.schedule(le,A,S)),z},{}),cancel:z=>{for(let J=0;J<vf.length;J++)u[vf[J]].cancel(z)},state:a,steps:u}}const{schedule:mt,cancel:Yr,state:sn,steps:mg}=iC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0);let jf;function T3(){jf=void 0}const Dn={now:()=>(jf===void 0&&Dn.set(sn.isProcessing||Ks.useManualTiming?sn.timestamp:performance.now()),jf),set:t=>{jf=t,queueMicrotask(T3)}},sC=t=>e=>typeof e=="string"&&e.startsWith(t),rC=sC("--"),E3=sC("var(--"),H0=t=>E3(t)?S3.test(t.split("/*")[0].trim()):!1,S3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},au={...Tl,transform:t=>Gs(0,1,t)},_f={...Tl,default:1},Kc=t=>Math.round(t*1e5)/1e5,q0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function A3(t){return t==null}const C3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G0=(t,e)=>n=>!!(typeof n=="string"&&C3.test(n)&&n.startsWith(t)||e&&!A3(n)&&Object.prototype.hasOwnProperty.call(n,e)),aC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(q0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},R3=t=>Gs(0,255,t),pg={...Tl,transform:t=>Math.round(R3(t))},Oa={test:G0("rgb","red"),parse:aC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+pg.transform(t)+", "+pg.transform(e)+", "+pg.transform(n)+", "+Kc(au.transform(s))+")"};function N3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ly={test:G0("#"),parse:N3,transform:Oa.transform},Iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nr=Iu("deg"),hs=Iu("%"),Ce=Iu("px"),I3=Iu("vh"),D3=Iu("vw"),CT={...hs,parse:t=>hs.parse(t)/100,transform:t=>hs.transform(t*100)},Ho={test:G0("hsl","hue"),parse:aC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+hs.transform(Kc(e))+", "+hs.transform(Kc(n))+", "+Kc(au.transform(s))+")"},Ut={test:t=>Oa.test(t)||ly.test(t)||Ho.test(t),parse:t=>Oa.test(t)?Oa.parse(t):Ho.test(t)?Ho.parse(t):ly.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):Ho.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},k3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M3(t){return isNaN(t)&&typeof t=="string"&&(t.match(q0)?.length||0)+(t.match(k3)?.length||0)>0}const oC="number",lC="color",V3="var",j3="var(",RT="${}",P3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ou(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(P3,m=>(Ut.test(m)?(s.color.push(l),a.push(lC),n.push(Ut.parse(m))):m.startsWith(j3)?(s.var.push(l),a.push(V3),n.push(m)):(s.number.push(l),a.push(oC),n.push(parseFloat(m))),++l,RT)).split(RT);return{values:n,split:d,indexes:s,types:a}}function cC(t){return ou(t).values}function uC(t){const{split:e,types:n}=ou(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===oC?l+=Kc(a[u]):d===lC?l+=Ut.transform(a[u]):l+=a[u]}return l}}const O3=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function L3(t){const e=cC(t);return uC(t)(e.map(O3))}const Qr={test:M3,parse:cC,createTransformer:uC,getAnimatableNone:L3};function gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function U3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=gg(m,d,t+1/3),l=gg(m,d,t),u=gg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function cd(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,yg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},B3=[ly,Oa,Ho],z3=t=>B3.find(e=>e.test(t));function NT(t){const e=z3(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=U3(n)),n}const IT=(t,e)=>{const n=NT(t),s=NT(e);if(!n||!s)return cd(t,e);const a={...n};return l=>(a.red=yg(n.red,s.red,l),a.green=yg(n.green,s.green,l),a.blue=yg(n.blue,s.blue,l),a.alpha=gt(n.alpha,s.alpha,l),Oa.transform(a))},cy=new Set(["none","hidden"]);function F3(t,e){return cy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function H3(t,e){return n=>gt(t,e,n)}function K0(t){return typeof t=="number"?H3:typeof t=="string"?H0(t)?cd:Ut.test(t)?IT:K3:Array.isArray(t)?hC:typeof t=="object"?Ut.test(t)?IT:q3:cd}function hC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>K0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function q3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=K0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function G3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const K3=(t,e)=>{const n=Qr.createTransformer(e),s=ou(t),a=ou(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?cy.has(t)&&!a.values.length||cy.has(e)&&!s.values.length?F3(t,e):Ru(hC(G3(s,a),a.values),n):cd(t,e)};function fC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):K0(t)(t,e)}const $3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>mt.update(e,n),stop:()=>Yr(e),now:()=>sn.isProcessing?sn.timestamp:Dn.now()}},dC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ud=2e4;function $0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ud;)e+=n,s=t.next(e);return e>=ud?1/0:e}function Y3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min($0(s),ud);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:li(a)}}const Q3=5;function mC(t,e,n){const s=Math.max(e-Q3,0);return KA(n-t(s),e-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vg=.001;function X3({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:s=bt.mass}){let a,l,u=1-e;u=Gs(bt.minDamping,bt.maxDamping,u),t=Gs(bt.minDuration,bt.maxDuration,li(t)),u<1?(a=g=>{const v=g*u,x=v*t,T=v-n,R=uy(g,u),k=Math.exp(-x);return vg-T/R*k},l=g=>{const x=g*u*t,T=x*n+n,R=Math.pow(u,2)*Math.pow(g,2)*t,k=Math.exp(-x),P=uy(Math.pow(g,2),u);return(-a(g)+vg>0?-1:1)*((T-R)*k)/P}):(a=g=>{const v=Math.exp(-g*t),x=(g-n)*t+1;return-vg+v*x},l=g=>{const v=Math.exp(-g*t),x=(n-g)*(t*t);return v*x});const d=5/t,m=J3(a,l,d);if(t=us(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const W3=12;function J3(t,e,n){let s=n;for(let a=1;a<W3;a++)s=s-t(s)/e(s);return s}function uy(t,e){return t*Math.sqrt(1-e*e)}const Z3=["duration","bounce"],e6=["stiffness","damping","mass"];function DT(t,e){return e.some(n=>t[n]!==void 0)}function t6(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!DT(t,e6)&&DT(t,Z3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Gs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=X3(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function hd(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:x,velocity:T,isResolvedFromDuration:R}=t6({...n,velocity:-li(n.velocity||0)}),k=T||0,P=g/(2*Math.sqrt(m*v)),j=u-l,L=li(Math.sqrt(m/v)),B=Math.abs(j)<5;s||(s=B?bt.restSpeed.granular:bt.restSpeed.default),a||(a=B?bt.restDelta.granular:bt.restDelta.default);let z;if(P<1){const ee=uy(L,P);z=le=>{const A=Math.exp(-P*L*le);return u-A*((k+P*L*j)/ee*Math.sin(ee*le)+j*Math.cos(ee*le))}}else if(P===1)z=ee=>u-Math.exp(-L*ee)*(j+(k+L*j)*ee);else{const ee=L*Math.sqrt(P*P-1);z=le=>{const A=Math.exp(-P*L*le),S=Math.min(ee*le,300);return u-A*((k+P*L*j)*Math.sinh(S)+ee*j*Math.cosh(S))/ee}}const J={calculatedDuration:R&&x||null,next:ee=>{const le=z(ee);if(R)d.done=ee>=x;else{let A=ee===0?k:0;P<1&&(A=ee===0?us(k):mC(z,ee,le));const S=Math.abs(A)<=s,N=Math.abs(u-le)<=a;d.done=S&&N}return d.value=d.done?u:le,d},toString:()=>{const ee=Math.min($0(J),ud),le=dC(A=>J.next(ee*A).value,ee,30);return ee+"ms "+le},toTransition:()=>{}};return J}hd.applyToOptions=t=>{const e=Y3(t,100,hd);return t.ease=e.ease,t.duration=us(e.duration),t.type="keyframes",t};function hy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:g=.5,restSpeed:v}){const x=t[0],T={done:!1,value:x},R=S=>d!==void 0&&S<d||m!==void 0&&S>m,k=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let P=n*e;const j=x+P,L=u===void 0?j:u(j);L!==j&&(P=L-x);const B=S=>-P*Math.exp(-S/s),z=S=>L+B(S),J=S=>{const N=B(S),V=z(S);T.done=Math.abs(N)<=g,T.value=T.done?L:V};let ee,le;const A=S=>{R(T.value)&&(ee=S,le=hd({keyframes:[T.value,k(T.value)],velocity:mC(z,S,T.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return A(0),{calculatedDuration:null,next:S=>{let N=!1;return!le&&ee===void 0&&(N=!0,J(S),A(S)),ee!==void 0&&S>=ee?le.next(S-ee):(!N&&J(S),T)}}}function n6(t,e,n){const s=[],a=n||Ks.mix||fC,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ci:e;d=Ru(m,d)}s.push(d)}return s}function i6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(L0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=n6(e,s,a),m=d.length,g=v=>{if(u&&v<t[0])return e[0];let x=0;if(m>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const T=ru(t[x],t[x+1],v);return d[x](T)};return n?v=>g(Gs(t[0],t[l-1],v)):g}function s6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ru(0,e,s);t.push(gt(n,1,a))}}function r6(t){const e=[0];return s6(e,t.length-1),e}function a6(t,e){return t.map(n=>n*e)}function o6(t,e){return t.map(()=>e||tC).splice(0,t.length-1)}function $c({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=v3(s)?s.map(AT):AT(s),l={done:!1,value:e[0]},u=a6(n&&n.length===e.length?n:r6(e),t),d=i6(u,e,{ease:Array.isArray(a)?a:o6(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const l6=t=>t!==null;function Y0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(l6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const c6={decay:hy,inertia:hy,tween:$c,keyframes:$c,spring:hd};function pC(t){typeof t.type=="string"&&(t.type=c6[t.type])}class Q0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const u6=t=>t/100;class X0 extends Q0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pC(e);const{type:n=$c,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||$c;m!==$c&&typeof d[0]!="number"&&(this.mixKeyframes=Ru(u6,fC(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=$0(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:x,repeatType:T,repeatDelay:R,type:k,onUpdate:P,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-g*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,J=s;if(x){const S=Math.min(this.currentTime,a)/d;let N=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&N--,N=Math.min(N,x+1),N%2&&(T==="reverse"?(V=1-V,R&&(V-=R/d)):T==="mirror"&&(J=u)),z=Gs(0,1,V)*d}const ee=B?{done:!1,value:v[0]}:J.next(z);l&&(ee.value=l(ee.value));let{done:le}=ee;!B&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return A&&k!==hy&&(ee.value=Y0(v,this.options,j,this.speed)),P&&P(ee.value),A&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=$3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function h6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const La=t=>t*180/Math.PI,fy=t=>{const e=La(Math.atan2(t[1],t[0]));return dy(e)},f6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fy,rotateZ:fy,skewX:t=>La(Math.atan(t[1])),skewY:t=>La(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dy=t=>(t=t%360,t<0&&(t+=360),t),kT=fy,MT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),VT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),d6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MT,scaleY:VT,scale:t=>(MT(t)+VT(t))/2,rotateX:t=>dy(La(Math.atan2(t[6],t[5]))),rotateY:t=>dy(La(Math.atan2(-t[2],t[0]))),rotateZ:kT,rotate:kT,skewX:t=>La(Math.atan(t[4])),skewY:t=>La(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function my(t){return t.includes("scale")?1:0}function py(t,e){if(!t||t==="none")return my(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=d6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=f6,a=d}if(!a)return my(e);const l=s[e],u=a[1].split(",").map(p6);return typeof l=="function"?l(u):u[l]}const m6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return py(n,e)};function p6(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(El),jT=t=>t===Tl||t===Ce,g6=new Set(["x","y","z"]),y6=El.filter(t=>!g6.has(t));function v6(t){const e=[];return y6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>py(e,"x"),y:(t,{transform:e})=>py(e,"y")};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const za=new Set;let gy=!1,yy=!1,vy=!1;function gC(){if(yy){const t=Array.from(za).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=v6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}yy=!1,gy=!1,za.forEach(t=>t.complete(vy)),za.clear()}function yC(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yy=!0)})}function _6(){vy=!0,yC(),gC(),vy=!1}class W0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),gy||(gy=!0,mt.read(yC),mt.resolveKeyframes(gC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}h6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const x6=t=>t.startsWith("--");function b6(t,e,n){x6(e)?t.style.setProperty(e,n):t.style[e]=n}const w6=U0(()=>window.ScrollTimeline!==void 0),T6={};function E6(t,e){const n=U0(t);return()=>T6[e]??n()}const vC=E6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,PT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uc([0,.65,.55,1]),circOut:Uc([.55,0,1,.45]),backIn:Uc([.31,.01,.66,-.59]),backOut:Uc([.33,1.53,.69,.99])};function _C(t,e){if(t)return typeof t=="function"?vC()?dC(t,e):"ease-out":nC(t)?Uc(t):Array.isArray(t)?t.map(n=>_C(n,e)||PT.easeOut):PT[t]}function S6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const x=_C(d,a);Array.isArray(x)&&(v.easing=x);const T={delay:s,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),t.animate(v,T)}function xC(t){return typeof t=="function"&&"applyToOptions"in t}function A6({type:t,...e}){return xC(t)&&vC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class C6 extends Q0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,L0(typeof e.type!="string");const g=A6(e);this.animation=S6(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Y0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):b6(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return li(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&w6()?(this.animation.timeline=e,ci):n(this)}}const bC={anticipate:JA,backInOut:WA,circInOut:eC};function R6(t){return t in bC}function N6(t){typeof t.ease=="string"&&R6(t.ease)&&(t.ease=bC[t.ease])}const OT=10;class I6 extends C6{constructor(e){N6(e),pC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new X0({...u,autoplay:!1}),m=us(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-OT).value,d.sample(m).value,OT),d.stop()}}const LT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qr.test(t)||t==="0")&&!t.startsWith("url("));function D6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function k6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=LT(a,e),d=LT(l,e);return!u||!d?!1:D6(t)||(n==="spring"||xC(n))&&s}function _y(t){t.duration=0,t.type="keyframes"}const M6=new Set(["opacity","clipPath","filter","transform"]),V6=U0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function j6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return V6()&&n&&M6.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const P6=40;class O6 extends Q0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:g,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:v,...x},R=v?.KeyframeResolver||W0;this.keyframeResolver=new R(d,(k,P,j)=>this.onKeyframesResolved(k,P,T,!j),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Dn.now(),k6(e,l,u,d)||((Ks.instantAnimations||!m)&&v?.(Y0(e,s,n)),e[0]=e[e.length-1],_y(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>P6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!g&&j6(T)?new I6({...T,element:T.motionValue.owner.current}):new X0(T);R.finished.then(()=>this.notifyFinished()).catch(ci),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const L6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U6(t){const e=L6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function wC(t,e,n=1){const[s,a]=U6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return HA(u)?parseFloat(u):u}return H0(a)?wC(a,e,n+1):a}function J0(t,e){return t?.[e]??t?.default??t}const TC=new Set(["width","height","top","left","right","bottom",...El]),B6={test:t=>t==="auto",parse:t=>t},EC=t=>e=>e.test(t),SC=[Tl,Ce,hs,Nr,D3,I3,B6],UT=t=>SC.find(EC(t));function z6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||GA(t):!0}const F6=new Set(["brightness","contrast","saturate","opacity"]);function H6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(q0)||[];if(!s)return t;const a=n.replace(s,"");let l=F6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const q6=/\b([a-z-]*)\(.*?\)/gu,xy={...Qr,getAnimatableNone:t=>{const e=t.match(q6);return e?e.map(H6).join(" "):t}},BT={...Tl,transform:Math.round},G6={rotate:Nr,rotateX:Nr,rotateY:Nr,rotateZ:Nr,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:Nr,skewX:Nr,skewY:Nr,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:au,originX:CT,originY:CT,originZ:Ce},Z0={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...G6,zIndex:BT,fillOpacity:au,strokeOpacity:au,numOctaves:BT},K6={...Z0,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:xy,WebkitFilter:xy},AC=t=>K6[t];function CC(t,e){let n=AC(t);return n!==xy&&(n=Qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $6=new Set(["auto","none","0"]);function Y6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!$6.has(l)&&ou(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=CC(n,a)}class Q6 extends W0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),H0(g))){const v=wC(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!TC.has(s)||e.length!==2)return;const[a,l]=e,u=UT(a),d=UT(l);if(u!==d)if(jT(u)&&jT(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Ba[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||z6(e[a]))&&s.push(a);s.length&&Y6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Ba[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function X6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const RC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function NC(t){return qA(t)&&"offsetHeight"in t}const zT=30,W6=t=>!isNaN(parseFloat(t));class J6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=W6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B0);const s=this.events[e].add(n);return e==="change"?()=>{s(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zT);return KA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(t,e){return new J6(t,e)}const{schedule:ev}=iC(queueMicrotask,!1),Si={x:!1,y:!1};function IC(){return Si.x||Si.y}function Z6(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function DC(t,e){const n=X6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function FT(t){return!(t.pointerType==="touch"||IC())}function e5(t,e,n={}){const[s,a,l]=DC(t,n),u=d=>{if(!FT(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const v=x=>{FT(x)&&(g(x),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const kC=(t,e)=>e?t===e?!0:kC(t,e.parentElement):!1,tv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,t5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n5(t){return t5.has(t.tagName)||t.tabIndex!==-1}const Pf=new WeakSet;function HT(t){return e=>{e.key==="Enter"&&t(e)}}function _g(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const i5=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=HT(()=>{if(Pf.has(n))return;_g(n,"down");const a=HT(()=>{_g(n,"up")}),l=()=>_g(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function qT(t){return tv(t)&&!IC()}function s5(t,e,n={}){const[s,a,l]=DC(t,n),u=d=>{const m=d.currentTarget;if(!qT(d))return;Pf.add(m);const g=e(m,d),v=(R,k)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",T),Pf.has(m)&&Pf.delete(m),qT(R)&&typeof g=="function"&&g(R,{success:k})},x=R=>{v(R,m===window||m===document||n.useGlobalTarget||kC(m,R.target))},T=R=>{v(R,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),NC(d)&&(d.addEventListener("focus",g=>i5(g,a)),!n5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function MC(t){return qA(t)&&"ownerSVGElement"in t}function r5(t){return MC(t)&&t.tagName==="svg"}const mn=t=>!!(t&&t.getVelocity),a5=[...SC,Ut,Qr],o5=t=>a5.find(EC(t)),nv=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function GT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function l5(...t){return e=>{let n=!1;const s=t.map(a=>{const l=GT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():GT(t[a],null)}}}}function c5(...t){return M.useCallback(l5(...t),t)}class u5 extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=NC(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h5({children:t,isPresent:e,anchorX:n,root:s}){const a=M.useId(),l=M.useRef(null),u=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=M.useContext(nv),m=c5(l,t?.ref);return M.useInsertionEffect(()=>{const{width:g,height:v,top:x,left:T,right:R}=u.current;if(e||!l.current||!g||!v)return;const k=n==="left"?`left: ${T}`:`right: ${R}`;l.current.dataset.motionPopId=a;const P=document.createElement("style");d&&(P.nonce=d);const j=s??document.head;return j.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${k}px !important;
            top: ${x}px !important;
          }
        `),()=>{j.contains(P)&&j.removeChild(P)}},[e]),y.jsx(u5,{isPresent:e,childRef:l,sizeRef:u,children:M.cloneElement(t,{ref:m})})}const f5=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:m})=>{const g=V0(d5),v=M.useId();let x=!0,T=M.useMemo(()=>(x=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:R=>{g.set(R,!0);for(const k of g.values())if(!k)return;s&&s()},register:R=>(g.set(R,!1),()=>g.delete(R))}),[n,g,s]);return l&&x&&(T={...T}),M.useMemo(()=>{g.forEach((R,k)=>g.set(k,!1))},[n]),M.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=y.jsx(h5,{isPresent:n,anchorX:d,root:m,children:t})),y.jsx(Ud.Provider,{value:T,children:t})};function d5(){return new Map}function VC(t=!0){const e=M.useContext(Ud);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const u=M.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const xf=t=>t.key||"";function KT(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const jC=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[g,v]=VC(u),x=M.useMemo(()=>KT(t),[t]),T=u&&!g?[]:x.map(xf),R=M.useRef(!0),k=M.useRef(x),P=V0(()=>new Map),[j,L]=M.useState(x),[B,z]=M.useState(x);FA(()=>{R.current=!1,k.current=x;for(let le=0;le<B.length;le++){const A=xf(B[le]);T.includes(A)?P.delete(A):P.get(A)!==!0&&P.set(A,!1)}},[B,T.length,T.join("-")]);const J=[];if(x!==j){let le=[...x];for(let A=0;A<B.length;A++){const S=B[A],N=xf(S);T.includes(N)||(le.splice(A,0,S),J.push(S))}return l==="wait"&&J.length&&(le=J),z(KT(le)),L(x),null}const{forceRender:ee}=M.useContext(M0);return y.jsx(y.Fragment,{children:B.map(le=>{const A=xf(le),S=u&&!g?!1:x===B||T.includes(A),N=()=>{if(P.has(A))P.set(A,!0);else return;let V=!0;P.forEach(I=>{I||(V=!1)}),V&&(ee?.(),z(k.current),u&&v?.(),s&&s())};return y.jsx(f5,{isPresent:S,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:S?void 0:N,anchorX:d,children:le},A)})})},PC=M.createContext({strict:!1}),$T={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const t in $T)hl[t]={isEnabled:e=>$T[t].some(n=>!!e[n])};function m5(t){for(const e in t)hl[e]={...hl[e],...t[e]}}const p5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||p5.has(t)}let OC=t=>!fd(t);function g5(t){typeof t=="function"&&(OC=e=>e.startsWith("on")?!fd(e):t(e))}try{g5(require("@emotion/is-prop-valid").default)}catch{}function y5(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(OC(a)||n===!0&&fd(a)||!e&&!fd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Bd=M.createContext({});function zd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function lu(t){return typeof t=="string"||Array.isArray(t)}const iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sv=["initial",...iv];function Fd(t){return zd(t.animate)||sv.some(e=>lu(t[e]))}function LC(t){return!!(Fd(t)||t.variants)}function v5(t,e){if(Fd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||lu(n)?n:void 0,animate:lu(s)?s:void 0}}return t.inherit!==!1?e:{}}function _5(t){const{initial:e,animate:n}=v5(t,M.useContext(Bd));return M.useMemo(()=>({initial:e,animate:n}),[YT(e),YT(n)])}function YT(t){return Array.isArray(t)?t.join(" "):t}function QT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=QT(t,e.target.x),s=QT(t,e.target.y);return`${n}% ${s}%`}},x5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Qr.parse(t);if(a.length>5)return s;const l=Qr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const g=gt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},by={borderRadius:{...kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kc,borderTopRightRadius:kc,borderBottomLeftRadius:kc,borderBottomRightRadius:kc,boxShadow:x5};function UC(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!by[t]||t==="opacity")}const b5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w5=El.length;function T5(t,e,n){let s="",a=!0;for(let l=0;l<w5;l++){const u=El[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=RC(d,Z0[u]);if(!m){a=!1;const v=b5[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function rv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const g=e[m];if(Sl.has(m)){u=!0;continue}else if(rC(m)){a[m]=g;continue}else{const v=RC(g,Z0[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=T5(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BC(t,e,n){for(const s in e)!mn(e[s])&&!UC(s,n)&&(t[s]=e[s])}function E5({transformTemplate:t},e){return M.useMemo(()=>{const n=av();return rv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function S5(t,e){const n=t.style||{},s={};return BC(s,n,t),Object.assign(s,E5(t,e)),s}function A5(t,e){const n={},s=S5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const C5={offset:"stroke-dashoffset",array:"stroke-dasharray"},R5={offset:"strokeDashoffset",array:"strokeDasharray"};function N5(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?C5:R5;t[l.offset]=Ce.transform(-s);const u=Ce.transform(e),d=Ce.transform(n);t[l.array]=`${u} ${d}`}function zC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,g,v){if(rv(t,d,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:T}=t;x.transform&&(T.transform=x.transform,delete x.transform),(T.transform||x.transformOrigin)&&(T.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),a!==void 0&&N5(x,a,l,u,!1)}const FC=()=>({...av(),attrs:{}}),HC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I5(t,e,n,s){const a=M.useMemo(()=>{const l=FC();return zC(l,e,HC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};BC(l,t.style,t),a.style={...l,...a.style}}return a}const D5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ov(t){return typeof t!="string"||t.includes("-")?!1:!!(D5.indexOf(t)>-1||/[A-Z]/u.test(t))}function k5(t,e,n,{latestValues:s},a,l=!1){const d=(ov(t)?I5:A5)(e,s,a,t),m=y5(e,typeof t=="string",l),g=t!==M.Fragment?{...m,...d,ref:n}:{},{children:v}=e,x=M.useMemo(()=>mn(v)?v.get():v,[v]);return M.createElement(t,{...g,children:x})}function XT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function lv(t,e,n,s){if(typeof e=="function"){const[a,l]=XT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=XT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Of(t){return mn(t)?t.get():t}function M5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:V5(n,s,a,t),renderState:e()}}function V5(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Of(l[T]);let{initial:u,animate:d}=t;const m=Fd(t),g=LC(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const x=v?d:u;if(x&&typeof x!="boolean"&&!zd(x)){const T=Array.isArray(x)?x:[x];for(let R=0;R<T.length;R++){const k=lv(t,T[R]);if(k){const{transitionEnd:P,transition:j,...L}=k;for(const B in L){let z=L[B];if(Array.isArray(z)){const J=v?z.length-1:0;z=z[J]}z!==null&&(a[B]=z)}for(const B in P)a[B]=P[B]}}}return a}const qC=t=>(e,n)=>{const s=M.useContext(Bd),a=M.useContext(Ud),l=()=>M5(t,e,s,a);return n?l():V0(l)};function cv(t,e,n){const{style:s}=t,a={};for(const l in s)(mn(s[l])||e.style&&mn(e.style[l])||UC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const j5=qC({scrapeMotionValuesFromProps:cv,createRenderState:av});function GC(t,e,n){const s=cv(t,e,n);for(const a in t)if(mn(t[a])||mn(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const P5=qC({scrapeMotionValuesFromProps:GC,createRenderState:FC}),O5=Symbol.for("motionComponentSymbol");function qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function L5(t,e,n){return M.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qo(n)&&(n.current=s))},[e])}const uv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U5="framerAppearId",KC="data-"+uv(U5),$C=M.createContext({});function B5(t,e,n,s,a){const{visualElement:l}=M.useContext(Bd),u=M.useContext(PC),d=M.useContext(Ud),m=M.useContext(nv).reducedMotion,g=M.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,x=M.useContext($C);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&z5(g.current,n,a,x);const T=M.useRef(!1);M.useInsertionEffect(()=>{v&&T.current&&v.update(n,d)});const R=n[KC],k=M.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return FA(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),M.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),k.current=!1),v.enteringChildren=void 0)}),v}function z5(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&qo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function YC(t){if(t)return t.options.allowProjection!==!1?t.projection:YC(t.parent)}function xg(t,{forwardMotionProps:e=!1}={},n,s){n&&m5(n);const a=ov(t)?P5:j5;function l(d,m){let g;const v={...M.useContext(nv),...d,layoutId:F5(d)},{isStatic:x}=v,T=_5(d),R=a(d,x);if(!x&&j0){H5();const k=q5(v);g=k.MeasureLayout,T.visualElement=B5(t,R,v,s,k.ProjectionNode)}return y.jsxs(Bd.Provider,{value:T,children:[g&&T.visualElement?y.jsx(g,{visualElement:T.visualElement,...v}):null,k5(t,d,L5(R,T.visualElement,m),R,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=M.forwardRef(l);return u[O5]=t,u}function F5({layoutId:t}){const e=M.useContext(M0).id;return e&&t!==void 0?e+"-"+t:t}function H5(t,e){M.useContext(PC).strict}function q5(t){const{drag:e,layout:n}=hl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function G5(t,e){if(typeof Proxy>"u")return xg;const n=new Map,s=(l,u)=>xg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,xg(u,void 0,t,e)),n.get(u))})}function QC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function K5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function bg(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!bg(t)||!bg(e)||!bg(n)}function Va(t){return wy(t)||XC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XC(t){return WT(t.x)||WT(t.y)}function WT(t){return t&&t!=="0%"}function dd(t,e,n){const s=t-n,a=e*s;return n+a}function JT(t,e,n,s,a){return a!==void 0&&(t=dd(t,a,s)),dd(t,n,s)+e}function Ty(t,e=0,n=1,s,a){t.min=JT(t.min,e,n,s,a),t.max=JT(t.max,e,n,s,a)}function WC(t,{x:e,y:n}){Ty(t.x,e.translate,e.scale,e.originPoint),Ty(t.y,n.translate,n.scale,n.originPoint)}const ZT=.999999999999,eE=1.0000000000001;function Y5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ko(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,WC(t,u)),s&&Va(l.latestValues)&&Ko(t,l.latestValues))}e.x<eE&&e.x>ZT&&(e.x=1),e.y<eE&&e.y>ZT&&(e.y=1)}function Go(t,e){t.min=t.min+e,t.max=t.max+e}function tE(t,e,n,s,a=.5){const l=gt(t.min,t.max,a);Ty(t,e,n,l,s)}function Ko(t,e){tE(t.x,e.x,e.scaleX,e.scale,e.originX),tE(t.y,e.y,e.scaleY,e.scale,e.originY)}function JC(t,e){return QC($5(t.getBoundingClientRect(),e))}function Q5(t,e,n){const s=JC(t,n),{scroll:a}=e;return a&&(Go(s.x,a.offset.x),Go(s.y,a.offset.y)),s}const nE=()=>({translate:0,scale:1,origin:0,originPoint:0}),$o=()=>({x:nE(),y:nE()}),iE=()=>({min:0,max:0}),Gt=()=>({x:iE(),y:iE()}),Ey={current:null},ZC={current:!1};function X5(){if(ZC.current=!0,!!j0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addEventListener("change",e),e()}else Ey.current=!1}const W5=new WeakMap;function J5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(mn(a))t.addValue(s,a);else if(mn(l))t.addValue(s,ul(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,ul(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const sE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Z5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Dn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,mt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Fd(n),this.isVariantNode=LC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in x){const R=x[T];m[T]!==void 0&&mn(R)&&R.set(m[T])}}mount(e){this.current=e,W5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),ZC.current||X5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yr(this.notifyUpdate),Yr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Sl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&mt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hl){const n=hl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<sE.length;s++){const a=sE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=J5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ul(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(HA(s)||GA(s))?s=parseFloat(s):!o5(s)&&Qr.test(n)&&(s=CC(e,n)),this.setBaseTarget(e,mn(s)?s.get():s)),mn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=lv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!mn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ev.render(this.render)}}class eR extends Z5{constructor(){super(...arguments),this.KeyframeResolver=Q6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function tR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function eL(t){return window.getComputedStyle(t)}class tL extends eR{constructor(){super(...arguments),this.type="html",this.renderInstance=tR}readValueFromInstance(e,n){if(Sl.has(n))return this.projection?.isProjecting?my(n):m6(e,n);{const s=eL(e),a=(rC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JC(e,n)}build(e,n,s){rv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return cv(e,n,s)}}const nR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nL(t,e,n,s){tR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(nR.has(a)?a:uv(a),e.attrs[a])}class iL extends eR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const s=AC(n);return s&&s.default||0}return n=nR.has(n)?n:uv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return GC(e,n,s)}build(e,n,s){zC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){nL(e,n,s,a)}mount(e){this.isSVGTag=HC(e.tagName),super.mount(e)}}const sL=(t,e)=>ov(t)?new iL(e):new tL(e,{allowProjection:t!==M.Fragment});function el(t,e,n){const s=t.getProps();return lv(s,e,n!==void 0?n:s.custom,t)}const Sy=t=>Array.isArray(t);function rL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ul(n))}function aL(t){return Sy(t)?t[t.length-1]||0:t}function oL(t,e){const n=el(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=aL(l[u]);rL(t,u,d)}}function lL(t){return!!(mn(t)&&t.add)}function Ay(t,e){const n=t.getValue("willChange");if(lL(n))return n.add(e);if(!n&&Ks.WillChange){const s=new Ks.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function iR(t){return t.props[KC]}const cL=t=>t!==null;function uL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(cL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const hL={type:"spring",stiffness:500,damping:25,restSpeed:10},fL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dL={type:"keyframes",duration:.8},mL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pL=(t,{keyframes:e})=>e.length>2?dL:Sl.has(t)?t.startsWith("scale")?fL(e[1]):hL:mL;function gL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const hv=(t,e,n,s={},a,l)=>u=>{const d=J0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-us(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};gL(d)||Object.assign(v,pL(t,v)),v.duration&&(v.duration=us(v.duration)),v.repeatDelay&&(v.repeatDelay=us(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(_y(v),v.delay===0&&(x=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(x=!0,_y(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const T=uL(v.keyframes,d);if(T!==void 0){mt.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new X0(v):new O6(v)};function yL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function sR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const x=t.getValue(v,t.latestValues[v]??null),T=d[v];if(T===void 0||g&&yL(g,v))continue;const R={delay:n,...J0(l||{},v)},k=x.get();if(k!==void 0&&!x.isAnimating&&!Array.isArray(T)&&T===k&&!R.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const L=iR(t);if(L){const B=window.MotionHandoffAnimation(L,v,mt);B!==null&&(R.startTime=B,P=!0)}}Ay(t,v),x.start(hv(v,x,T,t.shouldReduceMotion&&TC.has(v)?{type:!1}:R,t,P));const j=x.animation;j&&m.push(j)}return u&&Promise.all(m).then(()=>{mt.update(()=>{u&&oL(t,u)})}),m}function rR(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}function Cy(t,e,n={}){const s=el(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(sR(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=a;return vL(t,e,m,g,v,x,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function vL(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Cy(m,e,{...u,delay:n+(typeof s=="function"?0:s)+rR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function _L(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Cy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Cy(t,e,n);else{const a=typeof e=="function"?el(t,e,n.custom):e;s=Promise.all(sR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function aR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const xL=sv.length;function oR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xL;n++){const s=sv[n],a=t.props[s];(lu(a)||a===!1)&&(e[s]=a)}return e}const bL=[...iv].reverse(),wL=iv.length;function TL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>_L(t,n,s)))}function EL(t){let e=TL(t),n=rE(),s=!0;const a=m=>(g,v)=>{const x=el(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:T,transitionEnd:R,...k}=x;g={...g,...k,...R}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,v=oR(t.parent)||{},x=[],T=new Set;let R={},k=1/0;for(let j=0;j<wL;j++){const L=bL[j],B=n[L],z=g[L]!==void 0?g[L]:v[L],J=lu(z),ee=L===m?B.isActive:null;ee===!1&&(k=j);let le=z===v[L]&&z!==g[L]&&J;if(le&&s&&t.manuallyAnimateOnMount&&(le=!1),B.protectedKeys={...R},!B.isActive&&ee===null||!z&&!B.prevProp||zd(z)||typeof z=="boolean")continue;const A=SL(B.prevProp,z);let S=A||L===m&&B.isActive&&!le&&J||j>k&&J,N=!1;const V=Array.isArray(z)?z:[z];let I=V.reduce(a(L),{});ee===!1&&(I={});const{prevResolvedValues:F={}}=B,D={...F,...I},Re=re=>{S=!0,T.has(re)&&(N=!0,T.delete(re)),B.needsAnimating[re]=!0;const de=t.getValue(re);de&&(de.liveStyle=!1)};for(const re in D){const de=I[re],Ae=F[re];if(R.hasOwnProperty(re))continue;let ke=!1;Sy(de)&&Sy(Ae)?ke=!aR(de,Ae):ke=de!==Ae,ke?de!=null?Re(re):T.add(re):de!==void 0&&T.has(re)?Re(re):B.protectedKeys[re]=!0}B.prevProp=z,B.prevResolvedValues=I,B.isActive&&(R={...R,...I}),s&&t.blockInitialAnimation&&(S=!1);const Me=le&&A;S&&(!Me||N)&&x.push(...V.map(re=>{const de={type:L};if(typeof re=="string"&&s&&!Me&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,ke=el(Ae,re);if(Ae.enteringChildren&&ke){const{delayChildren:U}=ke.transition||{};de.delay=rR(Ae.enteringChildren,t,U)}}return{animation:re,options:de}}))}if(T.size){const j={};if(typeof g.initial!="boolean"){const L=el(t,Array.isArray(g.initial)?g.initial[0]:g.initial);L&&L.transition&&(j.transition=L.transition)}T.forEach(L=>{const B=t.getBaseTarget(L),z=t.getValue(L);z&&(z.liveStyle=!0),j[L]=B??null}),x.push({animation:j})}let P=!!x.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(x):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(m,g)),n[m].isActive=g;const v=u(m);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=rE()}}}function SL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aR(e,t):!1}function ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rE(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}class ea{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AL extends ea{constructor(e){super(e),e.animationState||(e.animationState=EL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let CL=0;class RL extends ea{constructor(){super(...arguments),this.id=CL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const NL={animation:{Feature:AL},exit:{Feature:RL}};function cu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Du(t){return{point:{x:t.pageX,y:t.pageY}}}const IL=t=>e=>tv(e)&&t(e,Du(e));function Yc(t,e,n,s){return cu(t,e,IL(n),s)}const lR=1e-4,DL=1-lR,kL=1+lR,cR=.01,ML=0-cR,VL=0+cR;function _n(t){return t.max-t.min}function jL(t,e,n){return Math.abs(t-e)<=n}function aE(t,e,n,s=.5){t.origin=s,t.originPoint=gt(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=DL&&t.scale<=kL||isNaN(t.scale))&&(t.scale=1),(t.translate>=ML&&t.translate<=VL||isNaN(t.translate))&&(t.translate=0)}function Qc(t,e,n,s){aE(t.x,e.x,n.x,s?s.originX:void 0),aE(t.y,e.y,n.y,s?s.originY:void 0)}function oE(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function PL(t,e,n){oE(t.x,e.x,n.x),oE(t.y,e.y,n.y)}function lE(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function md(t,e,n){lE(t.x,e.x,n.x),lE(t.y,e.y,n.y)}function ai(t){return[t("x"),t("y")]}const uR=({current:t})=>t?t.ownerDocument.defaultView:null,cE=(t,e)=>Math.abs(t-e);function OL(t,e){const n=cE(t.x,e.x),s=cE(t.y,e.y);return Math.sqrt(n**2+s**2)}class hR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Tg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,k=OL(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!k)return;const{point:P}=T,{timestamp:j}=sn;this.history.push({...P,timestamp:j});const{onStart:L,onMove:B}=this.handlers;R||(L&&L(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,R)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=wg(R,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(T,R)=>{this.end();const{onEnd:k,onSessionEnd:P,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Tg(T.type==="pointercancel"?this.lastMoveEventInfo:wg(R,this.transformPagePoint),this.history);this.startEvent&&k&&k(T,L),P&&P(T,L)},!tv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const d=Du(e),m=wg(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=sn;this.history=[{...g,timestamp:v}];const{onSessionStart:x}=n;x&&x(e,Tg(m,this.history)),this.removeListeners=Ru(Yc(this.contextWindow,"pointermove",this.handlePointerMove),Yc(this.contextWindow,"pointerup",this.handlePointerUp),Yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yr(this.updatePoint)}}function wg(t,e){return e?{point:e(t.point)}:t}function uE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tg({point:t},e){return{point:t,delta:uE(t,fR(e)),offset:uE(t,LL(e)),velocity:UL(e,.1)}}function LL(t){return t[0]}function fR(t){return t[t.length-1]}function UL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=fR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>us(e)));)n--;if(!s)return{x:0,y:0};const l=li(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function BL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?gt(n,t,s.max):Math.min(t,n)),t}function hE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zL(t,{top:e,left:n,bottom:s,right:a}){return{x:hE(t.x,n,a),y:hE(t.y,e,s)}}function fE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function FL(t,e){return{x:fE(t.x,e.x),y:fE(t.y,e.y)}}function HL(t,e){let n=.5;const s=_n(t),a=_n(e);return a>s?n=ru(e.min,e.max-s,t.min):s>a&&(n=ru(t.min,t.max-a,e.min)),Gs(0,1,n)}function qL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ry=.35;function GL(t=Ry){return t===!1?t=0:t===!0&&(t=Ry),{x:dE(t,"left","right"),y:dE(t,"top","bottom")}}function dE(t,e,n){return{min:mE(t,e),max:mE(t,n)}}function mE(t,e){return typeof t=="number"?t:t[e]||0}const KL=new WeakMap;class $L{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Du(x).point)},u=(x,T)=>{const{drag:R,dragPropagation:k,onDragStart:P}=this.getProps();if(R&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z6(R),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(L=>{let B=this.getAxisMotionValue(L).get()||0;if(hs.test(B)){const{projection:z}=this.visualElement;if(z&&z.layout){const J=z.layout.layoutBox[L];J&&(B=_n(J)*(parseFloat(B)/100))}}this.originPoint[L]=B}),P&&mt.postRender(()=>P(x,T)),Ay(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T;const{dragPropagation:R,dragDirectionLock:k,onDirectionLock:P,onDrag:j}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:L}=T;if(k&&this.currentDirection===null){this.currentDirection=YL(L),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",T.point,L),this.updateAxis("y",T.point,L),this.visualElement.render(),j&&j(x,T)},m=(x,T)=>{this.latestPointerEvent=x,this.latestPanInfo=T,this.stop(x,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ai(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new hR(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:uR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&mt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!bf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=BL(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=zL(s.layoutBox,e):this.constraints=!1,this.elastic=GL(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ai(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=qL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Q5(s,a.root,this.visualElement.getTransformPagePoint());let u=FL(a.layout.layoutBox,l);if(n){const d=n(K5(u));this.hasMutatedConstraints=!!d,d&&(u=QC(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ai(v=>{if(!bf(v,n,this.currentDirection))return;let x=m&&m[v]||{};u&&(x={min:0,max:0});const T=a?200:1e6,R=a?40:1e7,k={type:"inertia",velocity:s?e[v]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,k)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ay(this.visualElement,e),s.start(hv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ai(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ai(n=>{const{drag:s}=this.getProps();if(!bf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-gt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ai(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=HL({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ai(u=>{if(!bf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];d.set(gt(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;KL.set(this.visualElement,this);const e=this.visualElement.current,n=Yc(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),mt.read(s);const u=cu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ai(v=>{const x=this.getAxisMotionValue(v);x&&(this.originPoint[v]+=m[v].translate,x.set(x.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Ry,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QL extends ea{constructor(e){super(e),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new $L(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const pE=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class XL extends ea{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(e){this.session=new hR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:pE(e),onStart:pE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&mt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Eg=!1;class WL extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Eg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Eg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||mt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Eg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dR(t){const[e,n]=VC(),s=M.useContext(M0);return y.jsx(WL,{...t,layoutGroup:s,switchLayoutGroup:M.useContext($C),isPresent:e,safeToRemove:n})}function JL(t,e,n){const s=mn(t)?t:ul(t);return s.start(hv("",s,e,n)),s.animation}const ZL=(t,e)=>t.depth-e.depth;class e9{constructor(){this.children=[],this.isDirty=!1}add(e){P0(this.children,e),this.isDirty=!0}remove(e){O0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZL),this.isDirty=!1,this.children.forEach(e)}}function t9(t,e){const n=Dn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Yr(s),t(l-e))};return mt.setup(s,!0),()=>Yr(s)}const mR=["TopLeft","TopRight","BottomLeft","BottomRight"],n9=mR.length,gE=t=>typeof t=="string"?parseFloat(t):t,yE=t=>typeof t=="number"||Ce.test(t);function i9(t,e,n,s,a,l){a?(t.opacity=gt(0,n.opacity??1,s9(s)),t.opacityExit=gt(e.opacity??1,0,r9(s))):l&&(t.opacity=gt(e.opacity??1,n.opacity??1,s));for(let u=0;u<n9;u++){const d=`border${mR[u]}Radius`;let m=vE(e,d),g=vE(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||yE(m)===yE(g)?(t[d]=Math.max(gt(gE(m),gE(g),s),0),(hs.test(g)||hs.test(m))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,s))}function vE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const s9=pR(0,.5,ZA),r9=pR(.5,.95,ci);function pR(t,e,n){return s=>s<t?0:s>e?1:n(ru(t,e,s))}function _E(t,e){t.min=e.min,t.max=e.max}function Ei(t,e){_E(t.x,e.x),_E(t.y,e.y)}function xE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function bE(t,e,n,s,a){return t-=e,t=dd(t,1/n,s),a!==void 0&&(t=dd(t,1/a,s)),t}function a9(t,e=0,n=1,s=.5,a,l=t,u=t){if(hs.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=gt(l.min,l.max,s);t===l&&(d-=e),t.min=bE(t.min,e,n,d,a),t.max=bE(t.max,e,n,d,a)}function wE(t,e,[n,s,a],l,u){a9(t,e[n],e[s],e[a],e.scale,l,u)}const o9=["x","scaleX","originX"],l9=["y","scaleY","originY"];function TE(t,e,n,s){wE(t.x,e,o9,n?n.x:void 0,s?s.x:void 0),wE(t.y,e,l9,n?n.y:void 0,s?s.y:void 0)}function EE(t){return t.translate===0&&t.scale===1}function gR(t){return EE(t.x)&&EE(t.y)}function SE(t,e){return t.min===e.min&&t.max===e.max}function c9(t,e){return SE(t.x,e.x)&&SE(t.y,e.y)}function AE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function yR(t,e){return AE(t.x,e.x)&&AE(t.y,e.y)}function CE(t){return _n(t.x)/_n(t.y)}function RE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class u9{constructor(){this.members=[]}add(e){P0(this.members,e),e.scheduleRender()}remove(e){if(O0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:x,rotateY:T,skewX:R,skewY:k}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),x&&(s+=`rotateX(${x}deg) `),T&&(s+=`rotateY(${T}deg) `),R&&(s+=`skewX(${R}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Sg=["","X","Y","Z"],f9=1e3;let d9=0;function Ag(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function vR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&vR(s)}function _R({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=d9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(g9),this.nodes.forEach(x9),this.nodes.forEach(b9),this.nodes.forEach(y9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new e9)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new B0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=MC(u)&&!r5(u),this.instance=u;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,x=0;const T=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{x=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==x&&(x=R,this.root.updateBlockedByResize=!0,v&&v(),v=t9(T,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(DE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:T,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||A9,{onLayoutAnimationStart:P,onLayoutAnimationComplete:j}=g.getProps(),L=!this.targetLayout||!yR(this.targetLayout,R),B=!x&&T;if(this.options.layoutRoot||this.resumeFrom||B||x&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...J0(k,"layout"),onPlay:P,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(v,B)}else x||DE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(IE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_9),this.nodes.forEach(m9),this.nodes.forEach(p9)):this.nodes.forEach(IE),this.clearAllSnapshots();const d=Dn.now();sn.delta=Gs(0,1e3/60,d-sn.timestamp),sn.timestamp=d,sn.isProcessing=!0,mg.update.process(sn),mg.preRender.process(sn),mg.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v9),this.sharedNodes.forEach(T9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!gR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||Va(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),C9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(R9))){const{scroll:g}=this.root;g&&(Go(d.x,g.offset.x),Go(d.y,g.offset.y))}return d}removeElementScroll(u){const d=Gt();if(Ei(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Ei(d,u),Go(d.x,v.offset.x),Go(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const m=Gt();Ei(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ko(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Va(v.latestValues)&&Ko(m,v.latestValues)}return Va(this.latestValues)&&Ko(m,this.latestValues),m}removeTransform(u){const d=Gt();Ei(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Va(g.latestValues))continue;wy(g.latestValues)&&g.updateSnapshot();const v=Gt(),x=g.measurePageBox();Ei(v,x),TE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Va(this.latestValues)&&TE(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!this.layout||!(v||x))return;this.resolvedRelativeTargetAt=sn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),WC(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||XC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),md(this.relativeTargetOrigin,d,m),Ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ei(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,T=this.treeScale.y;Y5(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xE(this.prevProjectionDelta.x,this.projectionDelta.x),xE(this.prevProjectionDelta.y,this.projectionDelta.y)),Qc(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==T||!RE(this.projectionDelta.x,this.prevProjectionDelta.x)||!RE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$o(),this.projectionDelta=$o(),this.projectionDeltaWithTransform=$o()}setAnimationOrigin(u,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},x=$o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Gt(),R=m?m.source:void 0,k=this.layout?this.layout.source:void 0,P=R!==k,j=this.getStack(),L=!j||j.members.length<=1,B=!!(P&&!L&&this.options.crossfade===!0&&!this.path.some(S9));this.animationProgress=0;let z;this.mixTargetDelta=J=>{const ee=J/1e3;kE(x.x,u.x,ee),kE(x.y,u.y,ee),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(md(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E9(this.relativeTarget,this.relativeTargetOrigin,T,ee),z&&c9(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Gt()),Ei(z,this.relativeTarget)),P&&(this.animationValues=v,i9(v,g,this.latestValues,ee,B,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ul(0)),this.currentAnimation=JL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=u;if(!(!d||!m||!g)){if(this!==u&&this.layout&&g&&xR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Gt();const x=_n(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+x;const T=_n(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}Ei(d,m),Ko(d,v),Qc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new u9),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Ag("z",u,g,this.animationValues);for(let v=0;v<Sg.length;v++)Ag(`rotate${Sg[v]}`,u,g,this.animationValues),Ag(`skew${Sg[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Of(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Of(d?.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=h9(this.projectionDeltaWithTransform,this.treeScale,v);m&&(x=m(v,x)),u.transform=x;const{x:T,y:R}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in by){if(v[k]===void 0)continue;const{correct:P,applyTo:j,isCSSVariable:L}=by[k],B=x==="none"?v[k]:P(v[k],g);if(j){const z=j.length;for(let J=0;J<z;J++)u[j[J]]=B}else L?this.options.visualElement.renderState.vars[k]=B:u[k]=B}this.options.layoutId&&(u.pointerEvents=g===this?Of(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(NE),this.root.sharedNodes.clear()}}}function m9(t){t.updateLayout()}function p9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ai(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],T=_n(x);x.min=n[v].min,x.max=x.min+T}):xR(a,e.layoutBox,n)&&ai(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],T=_n(n[v]);x.max=x.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=$o();Qc(u,n,e.layoutBox);const d=$o();l?Qc(d,t.applyTransform(s,!0),e.measuredBox):Qc(d,n,e.layoutBox);const m=!gR(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:T}=v;if(x&&T){const R=Gt();md(R,e.layoutBox,x.layoutBox);const k=Gt();md(k,n,T.layoutBox),yR(R,k)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=R,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function g9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function y9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function v9(t){t.clearSnapshot()}function NE(t){t.clearMeasurements()}function IE(t){t.isLayoutDirty=!1}function _9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function x9(t){t.resolveTargetDelta()}function b9(t){t.calcProjection()}function w9(t){t.resetSkewAndRotation()}function T9(t){t.removeLeadSnapshot()}function kE(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ME(t,e,n,s){t.min=gt(e.min,n.min,s),t.max=gt(e.max,n.max,s)}function E9(t,e,n,s){ME(t.x,e.x,n.x,s),ME(t.y,e.y,n.y,s)}function S9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const A9={duration:.45,ease:[.4,0,.1,1]},VE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jE=VE("applewebkit/")&&!VE("chrome/")?Math.round:ci;function PE(t){t.min=jE(t.min),t.max=jE(t.max)}function C9(t){PE(t.x),PE(t.y)}function xR(t,e,n){return t==="position"||t==="preserve-aspect"&&!jL(CE(e),CE(n),.2)}function R9(t){return t!==t.root&&t.scroll?.wasRoot}const N9=_R({attachResizeListener:(t,e)=>cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},bR=_R({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cg.current){const t=new N9({});t.mount(window),t.setOptions({layoutScroll:!0}),Cg.current=t}return Cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),I9={pan:{Feature:XL},drag:{Feature:QL,ProjectionNode:bR,MeasureLayout:dR}};function OE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&mt.postRender(()=>l(e,Du(e)))}class D9 extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=e5(e,(n,s)=>(OE(this.node,s,"Start"),a=>OE(this.node,a,"End"))))}unmount(){}}class k9 extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&mt.postRender(()=>l(e,Du(e)))}class M9 extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=s5(e,(n,s)=>(LE(this.node,s,"Start"),(a,{success:l})=>LE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ny=new WeakMap,Rg=new WeakMap,V9=t=>{const e=Ny.get(t.target);e&&e(t)},j9=t=>{t.forEach(V9)};function P9({root:t,...e}){const n=t||document;Rg.has(n)||Rg.set(n,{});const s=Rg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(j9,{root:t,...e})),s[a]}function O9(t,e,n){const s=P9(e);return Ny.set(t,n),s.observe(t),()=>{Ny.delete(t),s.unobserve(t)}}const L9={some:0,all:1};class U9 extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:L9[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),T=g?v:x;T&&T(m)};return O9(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(B9(e,n))&&this.startObserver()}unmount(){}}function B9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const z9={inView:{Feature:U9},tap:{Feature:M9},focus:{Feature:k9},hover:{Feature:D9}},F9={layout:{ProjectionNode:bR,MeasureLayout:dR}},H9={...NL,...z9,...I9,...F9},zn=G5(H9,sL);function At({matchup:t,onPickWinner:e,isLocked:n=!1}){if(!t)return y.jsxs("div",{className:"w-40 lg:w-48 flex-shrink-0 opacity-50",children:[y.jsx("div",{className:"text-center mb-1",children:y.jsx("span",{className:"text-[8px] lg:text-[9px] font-bold uppercase tracking-wider text-slate-500",children:"Game Not Started"})}),y.jsxs("div",{className:"shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm",children:[y.jsx("div",{className:"h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-t-xl border-x border-t border-slate-800/40",children:y.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})}),y.jsx("div",{className:"h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-b-xl border-x border-b border-slate-800/40",children:y.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})})]})]});const{team1:s,team2:a,winner:l,espnWinner:u,statusDetail:d,homeScore:m,awayScore:g,isInProgress:v,isCompleted:x,conference:T,actualTeam1:R,actualTeam2:k}=t,P=R&&k,j=P&&s&&(s.id===R.id||s.abbreviation===R.abbreviation),L=P&&a&&(a.id===k.id||a.abbreviation===k.abbreviation),B=j&&L,z=j&&!L||!j&&L,J=P&&!j&&!L;x&&u&&l&&B&&l.id,x&&u&&l&&B&&l.id;const ee=()=>!s||!a?"Game Not Started":P&&(z||J)?x||v?`${R.abbreviation} ${R.score||0} - ${k.score||0} ${k.abbreviation}`:`Actual: ${R.abbreviation} vs ${k.abbreviation}`:x&&m!==null&&g!==null?`Final: ${s.isHome?m:g} - ${s.isHome?g:m}`:v&&m!==null&&g!==null?`Live: ${s.isHome?m:g} - ${s.isHome?g:m}`:d||"Game Not Started",le=()=>P?J?"text-red-400":z?"text-yellow-400":x?"text-green-400":v?"text-yellow-400":"text-slate-500":"text-slate-500",A=()=>v?T==="AFC"?"ring-2 ring-red-500 shadow-lg shadow-red-500/50":T==="NFC"?"ring-2 ring-blue-500 shadow-lg shadow-blue-500/50":T==="SB"?"ring-2 ring-yellow-500 shadow-lg shadow-yellow-500/50":"":"",S=(N,V)=>{if(!N)return y.jsx("div",{className:`h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-${V?"b":"t"}-xl border-x border-slate-800/40 ${V?"border-b":"border-t"}`,children:y.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})});const I=l?.id===N.id,F=l&&l.id!==N.id,D=!n&&N,Re=R?.id===N.id||k?.id===N.id,Me=x&&u&&Re&&N.id===u;x&&u&&Re&&N.id;const G=x&&I&&Me&&B,re=x&&I&&Me===!1&&B&&Re;return y.jsxs(zn.button,{whileHover:D?{backgroundColor:"rgba(30, 41, 59, 0.9)",x:2}:{},whileTap:D?{scale:.98}:{},onClick:()=>D&&e(t.id,N),disabled:!D,className:`w-full h-9 lg:h-11 px-3 lg:px-4 flex items-center justify-between transition-all relative overflow-hidden
          ${V?"rounded-b-xl":"rounded-t-xl"} 
          ${G?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":re?"bg-red-900/40 ring-1 ring-inset ring-red-400/50":I?"bg-slate-800/80 ring-1 ring-inset ring-blue-400/30":Me?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":"bg-slate-900/60"} 
          ${F&&!Me?"opacity-20 grayscale":"opacity-100"}
          ${D?"cursor-pointer":"cursor-not-allowed"}
          border-x border-slate-800/50 ${V?"border-b":"border-t"}`,children:[(I||Me)&&y.jsx(zn.div,{layoutId:`winner-glow-${t.id}-${N.id}`,className:`absolute inset-0 pointer-events-none ${G?"bg-gradient-to-r from-green-500/20 to-transparent":re?"bg-gradient-to-r from-red-500/20 to-transparent":Me?"bg-gradient-to-r from-green-500/20 to-transparent":"bg-gradient-to-r from-blue-500/10 to-transparent"}`}),y.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 z-10",children:[y.jsx("div",{className:"w-5 h-5 lg:w-6 lg:h-6 rounded flex items-center justify-center font-bold text-[9px] lg:text-[10px] text-white shadow-lg border border-white/10",style:{backgroundColor:N.color},children:N.seed}),y.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[y.jsx("span",{className:"text-[7px] lg:text-[8px] text-slate-500 font-bold uppercase tracking-wider",children:N.city}),y.jsx("span",{className:"font-bold text-[11px] lg:text-[13px] text-slate-100 uppercase tracking-tight",children:N.name})]})]}),y.jsx(jC,{children:(I||Me)&&y.jsx(zn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:G?"text-green-400":re?"text-red-400":Me?"text-green-400":"text-blue-400",children:y.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 lg:w-4 lg:h-4",children:y.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})};return y.jsxs("div",{className:`w-40 lg:w-48 flex-shrink-0 relative group transition-all duration-500 ${!s||!a?"opacity-50":"opacity-100"}`,children:[y.jsxs("div",{className:"text-center mb-1",children:[y.jsx("span",{className:`text-[8px] lg:text-[9px] font-bold uppercase tracking-wider ${le()}`,children:ee()}),J&&y.jsx("div",{className:"text-[7px] text-red-400 mt-0.5",children:" Wrong matchup"}),z&&y.jsx("div",{className:"text-[7px] text-yellow-400 mt-0.5",children:" 1 team correct"})]}),y.jsxs("div",{className:`shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm ${A()}`,children:[S(s,!1),S(a,!0)]})]})}const Iy="/assets/super_bowl_lx-logo_brandlogos.net_3b9vb-STySwuiF.png";function q9(){const{roomId:t}=gd(),{user:e,isAdmin:n}=ms(),s=Mi(),[a,l]=M.useState(null),[u,d]=M.useState(null),[m,g]=M.useState(!0),[v,x]=M.useState(null),[T,R]=M.useState({});M.useEffect(()=>{P();const oe=setInterval(()=>{k()},3e4);return()=>clearInterval(oe)},[t,e]);const k=async()=>{const oe=await ld();oe&&l(oe),await j()},P=async()=>{const oe=await ld();oe&&l(oe),await B(),await L(),await j(),g(!1)},j=async()=>{const oe=await on(ot(Oe,"gameResults",t));oe.exists()&&R(oe.data().results||{})},L=async()=>{const oe=await on(ot(Oe,"rooms",t));oe.exists()&&x(oe.data().createdBy)},B=async()=>{const oe=ot(Oe,"brackets",`${t}_${e.uid}`),xe=await on(oe);xe.exists()&&d(xe.data())},z=async(oe,xe=!1)=>{const ye=ot(Oe,"brackets",`${t}_${e.uid}`),Ft={userId:e.uid,roomId:t,picks:oe,submitted:xe,submittedAt:xe?new Date:null};await Zo(ye,Ft),d(Ft)},J=(oe,xe)=>{if(u?.submitted||!xe||!xe.id)return;const ye={...u?.picks||{},[oe]:xe.id};z(ye,!1)},ee=async()=>{if(!u?.picks||Object.keys(u.picks).length===0){alert("Please make at least one pick before submitting");return}const xe=[...I.map(ye=>ye.id),...F.map(ye=>ye.id),...Re.map(ye=>ye.id),...Me.map(ye=>ye.id),Ae.id,ke.id,Te.id].filter(ye=>!u.picks[ye]);if(xe.length>0){alert(`Please complete your bracket! You're missing ${xe.length} pick(s).

You must pick a winner for every game in all rounds including the Super Bowl.`);return}await z(u.picks,!0)},le=async()=>{if(window.confirm("Are you sure you want to reset ALL brackets in this room? This cannot be undone."))try{const oe=Mr(Ai(Oe,"brackets"),Ci("roomId","==",t)),xe=await Vr(oe);if(xe.empty){alert("No brackets to reset.");return}const ye=VA(Oe);xe.docs.forEach(Ft=>{ye.delete(Ft.ref)}),await ye.commit(),d(null),alert(`Successfully reset ${xe.docs.length} bracket(s)!`),window.location.reload()}catch(oe){console.error("Error resetting brackets:",oe),alert(`Error resetting brackets: ${oe.message}`)}};if(m||!a)return y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading bracket..."})});const A=u?.submitted===!0,S=v===e.uid,N=(oe,xe)=>{const ye=u?.picks?.[oe];return ye?xe?.team1?.id===ye?xe.team1:xe?.team2?.id===ye?xe.team2:null:null},V=oe=>{if(!oe||!oe.id)return oe;const xe=N(oe.id,oe);let ye=null;return oe.isCompleted&&oe.winner&&(ye=oe.winner),{...oe,actualTeam1:oe.team1,actualTeam2:oe.team2,espnWinner:ye,winner:xe}},I=(a?.wildCard?.filter(oe=>oe?.conference==="AFC")||[]).map(V),F=(a?.wildCard?.filter(oe=>oe?.conference==="NFC")||[]).map(V),D=(oe,xe)=>{const ye=a?.divisional?.filter(cn=>cn?.conference===xe)||[];if(ye.length>0&&ye[0].team1&&ye[0].team2)return ye.map(V);const Ft=oe.map(cn=>cn.winner).filter(Boolean).sort((cn,ta)=>(cn.seed||99)-(ta.seed||99)),ji=xe==="AFC"?{id:"7",name:"Broncos",city:"Denver",abbreviation:"DEN",seed:1,conference:"AFC",color:"#FB4F14"}:{id:"26",name:"Seahawks",city:"Seattle",abbreviation:"SEA",seed:1,conference:"NFC",color:"#002244"},Kn={id:`${xe.toLowerCase()}-div-0`,team1:ji,team2:Ft[2]||null,conference:xe,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"},Ys={id:`${xe.toLowerCase()}-div-1`,team1:Ft[0]||null,team2:Ft[1]||null,conference:xe,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"};return[V(Kn),V(Ys)]},Re=D(I,"AFC"),Me=D(F,"NFC"),G=Re[0]?.team1||null,re=Me[0]?.team1||null,de=(oe,xe)=>{const ye=a?.conference?.find(Kn=>Kn?.conference===xe);if(ye&&ye.team1&&ye.team2)return V(ye);const Ft=oe.map(Kn=>Kn.winner).filter(Boolean),ji={id:`${xe.toLowerCase()}-conf`,team1:Ft[0]||null,team2:Ft[1]||null,conference:xe,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"};return V(ji)},Ae=de(Re,"AFC"),ke=de(Me,"NFC"),U=a?.superBowl?.[0],te=U&&U.team1&&U.team2&&U.team1.id!=="31"&&U.team1.id!=="32"&&U.team2.id!=="31"&&U.team2.id!=="32",ue=Ae?.winner,fe=ke?.winner;console.log("AFC Championship winner:",ue),console.log("NFC Championship winner:",fe),console.log("Has ESPN Super Bowl:",te);const Ee={id:"super-bowl",team1:te?U.team1:ue,team2:te?U.team2:fe,conference:"SB",isInProgress:te?U.isInProgress:!1,isCompleted:te?U.isCompleted:!1,statusDetail:te?U.statusDetail:"Game Not Started",homeScore:te?U.homeScore:null,awayScore:te?U.awayScore:null,winner:null};console.log("Super Bowl base:",Ee);const Te=V(Ee);return console.log("Super Bowl after addPickToGame:",Te),y.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100 relative selection:bg-blue-500/30",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),y.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between px-3 lg:px-10 py-3 lg:h-[70px] bg-slate-950/60 backdrop-blur-xl border-b border-white/5 z-50",children:[y.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-5",children:[y.jsx("button",{onClick:()=>s("/rooms"),className:"text-slate-400 hover:text-white transition p-2 lg:p-0",children:y.jsx(zr,{className:"w-7 h-7 lg:w-6 lg:h-6"})}),y.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:y.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] lg:text-[14px] font-black italic",children:"NFL"})}),y.jsxs("div",{className:"hidden sm:block",children:[y.jsx("h1",{className:"text-lg lg:text-2xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),y.jsx("p",{className:"text-[8px] lg:text-[10px] text-slate-500 font-bold uppercase tracking-[0.4em] mt-1 opacity-60",children:"Professional Playoff Simulator"})]})]}),y.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-6",children:[y.jsxs("button",{onClick:()=>s(`/leaderboard/${t}`),className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-yellow-600/20 border border-yellow-600/30 text-yellow-400 rounded-lg hover:bg-yellow-600/30 transition",children:[y.jsx(OA,{className:"w-6 h-6 lg:w-4 lg:h-4"}),y.jsx("span",{className:"text-[9px] lg:text-xs font-bold uppercase tracking-wider",children:"Board"})]}),n&&y.jsxs("button",{onClick:()=>s(`/game-results/${t}`),className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg hover:bg-blue-500/30 transition text-xs font-bold uppercase tracking-wider",children:[y.jsx(XO,{className:"w-4 h-4"})," Game Results"]}),y.jsxs("div",{className:"hidden lg:flex items-center space-x-8 text-[11px] font-bold uppercase tracking-[0.2em] text-slate-500",children:[y.jsxs("div",{className:"flex items-center space-x-2.5",children:[y.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-600 shadow-lg shadow-red-600/30"}),y.jsx("span",{children:"AFC Bracket"})]}),y.jsxs("div",{className:"flex items-center space-x-2.5",children:[y.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-600 shadow-lg shadow-blue-600/30"}),y.jsx("span",{children:"NFC Bracket"})]})]}),n&&S&&y.jsxs(zn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:le,className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-500/30 text-red-400 rounded-lg hover:bg-red-500/30 transition text-xs font-bold uppercase tracking-wider",children:[y.jsx(PO,{className:"w-4 h-4"})," Reset All Brackets"]}),!A&&u?.picks&&Object.keys(u.picks).length>0&&y.jsxs(zn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ee,className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-6 py-2 lg:py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-xl",children:[y.jsx(dg,{className:"w-6 h-6 lg:w-4 lg:h-4"}),y.jsx("span",{className:"text-[9px] lg:text-sm",children:"Submit"})]}),A&&y.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400 font-bold",children:[y.jsx(dg,{className:"w-6 h-6 lg:w-4 lg:h-4"}),y.jsx("span",{className:"text-[9px] lg:text-xs uppercase",children:"Done"})]})]})]}),y.jsxs("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 relative overflow-x-auto",children:[y.jsxs("div",{className:"hidden lg:flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-90 lg:scale-95 xl:scale-100",children:[y.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[y.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),I.map(oe=>y.jsx(At,{matchup:oe,onPickWinner:J,isLocked:A},oe.id)),y.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[y.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),y.jsxs("div",{className:"text-left overflow-hidden",children:[y.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),y.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:G?`${G.city} ${G.name}`:"TBD"})]})]})]}),y.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),Re.map(oe=>y.jsx(At,{matchup:oe,onPickWinner:J,isLocked:A},oe.id))]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),y.jsx(At,{matchup:Ae,onPickWinner:J,isLocked:A})]})]}),y.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6 relative",children:[y.jsxs("div",{className:"relative w-28 h-28 lg:w-36 lg:h-36 flex items-center justify-center mb-2",children:[y.jsx(zn.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),y.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80 drop-shadow-[0_0_15px_rgba(202,138,4,0.3)]"})]}),y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/20 via-blue-500/20 to-red-600/20 rounded-2xl blur opacity-30 group-hover:opacity-70 transition duration-1000"}),y.jsx(At,{matchup:Te,onPickWinner:J,isLocked:A})]}),y.jsx("div",{className:"h-[80px] lg:h-[100px] mt-4 lg:mt-6 flex flex-col items-center justify-center",children:y.jsx(jC,{mode:"wait",children:Te.winner?y.jsxs(zn.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"text-center relative",children:[y.jsx(zn.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1,repeat:1/0,repeatDelay:2},className:"text-amber-500 font-black text-[10px] lg:text-[12px] uppercase tracking-[0.8em] mb-2",children:"Super Bowl Winner"}),y.jsx("div",{className:"text-3xl lg:text-5xl xl:text-6xl font-black text-white italic tracking-tighter uppercase drop-shadow-[0_0_30px_rgba(255,255,255,0.4)] leading-none",children:Te.winner.name}),y.jsx(zn.div,{initial:{width:0},animate:{width:120},className:"h-[2px] lg:h-[3px] bg-gradient-to-r from-transparent via-amber-500 to-transparent mx-auto mt-4 lg:mt-6 rounded-full shadow-[0_0_20px_rgba(245,158,11,0.8)]"})]},"celebration"):y.jsxs(zn.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center opacity-40",children:[y.jsx("div",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase tracking-[0.8em] italic",children:"Pick Your Champion"}),y.jsx("div",{className:"w-24 lg:w-32 h-[1px] bg-slate-800 mt-3 lg:mt-4"})]},"placeholder")})})]}),y.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[y.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),F.map(oe=>y.jsx(At,{matchup:oe,onPickWinner:J,isLocked:A},oe.id)),y.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[y.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),y.jsxs("div",{className:"text-left overflow-hidden",children:[y.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),y.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:re?`${re.city} ${re.name}`:"TBD"})]})]})]}),y.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),Me.map(oe=>y.jsx(At,{matchup:oe,onPickWinner:J,isLocked:A},oe.id))]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),y.jsx(At,{matchup:ke,onPickWinner:J,isLocked:A})]})]})]}),y.jsx("div",{className:"lg:hidden w-full",children:y.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-10 pb-20",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Wild Card Round"}),y.jsx("p",{className:"text-sm text-slate-400",children:"First Round of Playoffs"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:y.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),y.jsx("div",{className:"space-y-4",children:I.map(oe=>y.jsx(At,{matchup:oe,onPickWinner:J,isLocked:A},oe.id))})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:y.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),y.jsx("div",{className:"space-y-4",children:F.map(oe=>y.jsx(At,{matchup:oe,onPickWinner:J,isLocked:A},oe.id))})]})]})]}),y.jsxs("div",{className:"flex items-center justify-center py-4",children:[y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),y.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Divisional Round"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Top seeds enter the bracket"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:y.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),y.jsx("div",{className:"space-y-4",children:Re.map(oe=>y.jsx(At,{matchup:oe,onPickWinner:J,isLocked:A},oe.id))}),y.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-500/30 flex items-center justify-center",children:y.jsx("span",{className:"font-black text-sm text-red-500",children:"1"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-red-500/80 font-bold uppercase",children:"First Round Bye"}),y.jsx("div",{className:"text-base font-black text-white uppercase",children:G?`${G.city} ${G.name}`:"TBD"})]})]})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:y.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),y.jsx("div",{className:"space-y-4",children:Me.map(oe=>y.jsx(At,{matchup:oe,onPickWinner:J,isLocked:A},oe.id))}),y.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/30 flex items-center justify-center",children:y.jsx("span",{className:"font-black text-sm text-blue-500",children:"1"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs text-blue-500/80 font-bold uppercase",children:"First Round Bye"}),y.jsx("div",{className:"text-base font-black text-white uppercase",children:re?`${re.city} ${re.name}`:"TBD"})]})]})})]})]})]}),y.jsxs("div",{className:"flex items-center justify-center py-4",children:[y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),y.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Conference Championships"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Battle for Super Bowl berth"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-6 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:y.jsx("span",{className:"text-sm font-black text-red-500 uppercase tracking-wider",children:"AFC Championship"})})}),y.jsx(At,{matchup:Ae,onPickWinner:J,isLocked:A}),Ae.winner&&y.jsxs("div",{className:"mt-4 text-center p-4 bg-red-500/10 rounded-lg border border-red-500/30",children:[y.jsx("div",{className:"text-xs text-red-500 font-bold uppercase mb-1",children:"AFC Champion"}),y.jsx("div",{className:"text-xl font-black text-white",children:Ae.winner.name})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-center mb-4",children:y.jsx("div",{className:"inline-block px-6 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:y.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-wider",children:"NFC Championship"})})}),y.jsx(At,{matchup:ke,onPickWinner:J,isLocked:A}),ke.winner&&y.jsxs("div",{className:"mt-4 text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/30",children:[y.jsx("div",{className:"text-xs text-blue-500 font-bold uppercase mb-1",children:"NFC Champion"}),y.jsx("div",{className:"text-xl font-black text-white",children:ke.winner.name})]})]})]})]}),y.jsxs("div",{className:"flex items-center justify-center py-4",children:[y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"}),y.jsx("div",{className:"mx-6 text-yellow-600 text-2xl",children:""}),y.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-4",children:[y.jsx(zn.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),y.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})]}),y.jsx("h2",{className:"text-4xl font-black text-yellow-500 uppercase mb-2",children:"Super Bowl LX"}),y.jsx("p",{className:"text-sm text-slate-400",children:"Championship Game"})]}),y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx(At,{matchup:Te,onPickWinner:J,isLocked:A}),Te.winner&&y.jsxs(zn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-8 text-center p-8 bg-gradient-to-b from-yellow-500/20 to-yellow-600/10 rounded-2xl border-2 border-yellow-500/40",children:[y.jsx(cl,{className:"w-20 h-20 text-yellow-500 mx-auto mb-4"}),y.jsx("div",{className:"text-yellow-500 font-black text-sm uppercase tracking-widest mb-2",children:"Super Bowl Champion"}),y.jsx("div",{className:"text-4xl font-black text-white italic uppercase",children:Te.winner.name})]})]})]}),!A&&u?.picks&&Object.keys(u.picks).length>0&&y.jsx("div",{className:"mt-8 pb-8",children:y.jsxs(zn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ee,className:"w-full max-w-md mx-auto flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-2xl text-lg",children:[y.jsx(dg,{className:"w-5 h-5"}),"Submit Bracket"]})})]})})]}),y.jsx("footer",{className:"h-[50px] flex items-center justify-center px-10 bg-slate-950/40 border-t border-white/5 text-[9px] font-bold text-slate-500 uppercase tracking-widest relative z-50",children:y.jsxs("div",{className:"flex items-center space-x-12 opacity-40",children:[y.jsx("span",{children:"NFL Re-seeding Active: #1 hosts highest numeric seed"}),y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-800"}),y.jsx("span",{children:"Predict Super Bowl LX Live"})]})})]})}const UE=[{id:1,name:"Chiefs",city:"Kansas City",seed:1,conference:"AFC",color:"#E31837"},{id:2,name:"Bills",city:"Buffalo",seed:2,conference:"AFC",color:"#00338D"},{id:3,name:"Ravens",city:"Baltimore",seed:3,conference:"AFC",color:"#241773"},{id:4,name:"Texans",city:"Houston",seed:4,conference:"AFC",color:"#03202F"},{id:5,name:"Steelers",city:"Pittsburgh",seed:5,conference:"AFC",color:"#FFB612"},{id:6,name:"Chargers",city:"Los Angeles",seed:6,conference:"AFC",color:"#0080C6"},{id:7,name:"Broncos",city:"Denver",seed:7,conference:"AFC",color:"#FB4F14"},{id:8,name:"Lions",city:"Detroit",seed:1,conference:"NFC",color:"#0076B6"},{id:9,name:"Eagles",city:"Philadelphia",seed:2,conference:"NFC",color:"#004C54"},{id:10,name:"Rams",city:"Los Angeles",seed:3,conference:"NFC",color:"#003594"},{id:11,name:"Buccaneers",city:"Tampa Bay",seed:4,conference:"NFC",color:"#D50A0A"},{id:12,name:"Vikings",city:"Minnesota",seed:5,conference:"NFC",color:"#4F2683"},{id:13,name:"Commanders",city:"Washington",seed:6,conference:"NFC",color:"#5A1414"},{id:14,name:"Packers",city:"Green Bay",seed:7,conference:"NFC",color:"#203731"}],G9=async()=>{try{const t=await on(ot(Oe,"config","playoffs"));if(t.exists()){const e=t.data(),n=e.afcTeams||[],s=e.nfcTeams||[],a=[...n,...s].filter(Boolean);if(a.length===14)return a}return UE}catch(t){return console.error("Error fetching playoff teams:",t),UE}};function K9(){const{roomId:t}=gd(),{isAdmin:e}=ms(),n=Mi(),[s,a]=M.useState([]),[l,u]=M.useState(null),[d,m]=M.useState([]),[g,v]=M.useState(!0),[x,T]=M.useState("");M.useEffect(()=>{if(!e){n("/rooms");return}R()},[t,e]);const R=async()=>{const j=await G9();m(j);const L=await on(ot(Oe,"rooms",t));L.exists()&&T(L.data().code);const B=Mr(Ai(Oe,"brackets"),Ci("roomId","==",t),Ci("submitted","==",!0)),z=await Vr(B),J=await Promise.all(z.docs.map(async ee=>{const le=ee.data(),A=await on(ot(Oe,"users",le.userId)),S=A.exists()?A.data():{};return{id:ee.id,...le,username:S.username||S.email||"Unknown User"}}));a(J.sort((ee,le)=>le.submittedAt?.toDate()-ee.submittedAt?.toDate())),v(!1)},k=async(j,L)=>{if(window.confirm(`Are you sure you want to delete ${L}'s bracket? This cannot be undone.`))try{await eO(ot(Oe,"brackets",j)),a(s.filter(B=>B.id!==j)),alert("Bracket deleted successfully!")}catch(B){console.error("Error deleting bracket:",B),alert(`Error deleting bracket: ${B.message}`)}},P=j=>{const L=d.filter(G=>G.conference==="AFC"),B=d.filter(G=>G.conference==="NFC"),z=G=>d.find(re=>re.id===G),J=G=>j.picks?.[G]?z(j.picks[G]):null,ee=[{id:"afc-wc-0",team1:L[1],team2:L[6],winner:J("afc-wc-0")},{id:"afc-wc-1",team1:L[2],team2:L[5],winner:J("afc-wc-1")},{id:"afc-wc-2",team1:L[3],team2:L[4],winner:J("afc-wc-2")}],le=[{id:"nfc-wc-0",team1:B[1],team2:B[6],winner:J("nfc-wc-0")},{id:"nfc-wc-1",team1:B[2],team2:B[5],winner:J("nfc-wc-1")},{id:"nfc-wc-2",team1:B[3],team2:B[4],winner:J("nfc-wc-2")}],A=ee.map(G=>G.winner).filter(Boolean).sort((G,re)=>G.seed-re.seed),S=le.map(G=>G.winner).filter(Boolean).sort((G,re)=>G.seed-re.seed),N=[{id:"afc-div-0",team1:L[0],team2:A[2]||null,winner:J("afc-div-0")},{id:"afc-div-1",team1:A[0]||null,team2:A[1]||null,winner:J("afc-div-1")}],V=[{id:"nfc-div-0",team1:B[0],team2:S[2]||null,winner:J("nfc-div-0")},{id:"nfc-div-1",team1:S[0]||null,team2:S[1]||null,winner:J("nfc-div-1")}],I=N.map(G=>G.winner).filter(Boolean),F=V.map(G=>G.winner).filter(Boolean),D={id:"afc-conf",team1:I[0]||null,team2:I[1]||null,winner:J("afc-conf")},Re={id:"nfc-conf",team1:F[0]||null,team2:F[1]||null,winner:J("nfc-conf")},Me={id:"super-bowl",team1:D.winner||null,team2:Re.winner||null,winner:J("super-bowl")};return y.jsxs("div",{className:"flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-75 lg:scale-85 xl:scale-90",children:[y.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[y.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),ee.map(G=>y.jsx(At,{matchup:G,isLocked:!0},G.id)),y.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[y.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),y.jsxs("div",{className:"text-left overflow-hidden",children:[y.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),y.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:L[0]?.name})]})]})]}),y.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),N.map(G=>y.jsx(At,{matchup:G,isLocked:!0},G.id))]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),y.jsx(At,{matchup:D,isLocked:!0})]})]}),y.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6",children:[y.jsx("div",{className:"relative w-24 h-24 lg:w-32 lg:h-32 flex items-center justify-center mb-2",children:y.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})}),y.jsx(At,{matchup:Me,isLocked:!0}),Me.winner&&y.jsxs("div",{className:"mt-4 text-center",children:[y.jsx("div",{className:"text-amber-500 font-black text-[10px] uppercase tracking-widest mb-1",children:"Super Bowl Winner"}),y.jsx("div",{className:"text-2xl lg:text-4xl font-black text-white italic uppercase",children:Me.winner.name})]})]}),y.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[y.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),le.map(G=>y.jsx(At,{matchup:G,isLocked:!0},G.id)),y.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[y.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),y.jsxs("div",{className:"text-left overflow-hidden",children:[y.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),y.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:B[0]?.name})]})]})]}),y.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),V.map(G=>y.jsx(At,{matchup:G,isLocked:!0},G.id))]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),y.jsx(At,{matchup:Re,isLocked:!0})]})]})]})};return g?y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading brackets..."})}):l?y.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100",children:[y.jsx("header",{className:"h-[70px] flex items-center justify-between px-10 bg-slate-950/60 backdrop-blur-xl border-b border-white/5",children:y.jsxs("div",{className:"flex items-center space-x-5",children:[y.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white transition",children:y.jsx(zr,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-black uppercase tracking-tighter text-white",children:[l.username,"'s Bracket"]}),y.jsxs("p",{className:"text-xs text-slate-500",children:["Submitted ",l.submittedAt?.toDate().toLocaleString()]})]})]})}),y.jsx("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 overflow-x-auto",children:P(l)})]}):y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:y.jsx(zr,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Submitted Brackets"}),y.jsxs("p",{className:"text-slate-400",children:["Room: ",x]})]})]}),s.length===0?y.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:y.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):y.jsx("div",{className:"grid gap-4",children:s.map(j=>y.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:bg-slate-800/50 transition-all",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("button",{onClick:()=>u(j),className:"flex items-center gap-4 flex-grow text-left",children:[y.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl",children:y.jsx(t3,{className:"w-6 h-6 text-white"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white",children:j.username}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",children:[y.jsx(yO,{className:"w-4 h-4"}),y.jsxs("span",{children:["Submitted ",j.submittedAt?.toDate().toLocaleString()]})]})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:L=>{L.stopPropagation(),k(j.id,j.username)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Bracket",children:y.jsx(UA,{className:"w-4 h-4"})}),y.jsx(zr,{className:"w-5 h-5 text-yellow-600/70 rotate-180"})]})]})},j.id))})]})]})}const wf={wc:1,div:2,conf:3,"super-bowl":5};function $9(){const{roomId:t}=gd(),{user:e}=ms(),n=Mi(),[s,a]=M.useState([]),[l,u]=M.useState(""),[d,m]=M.useState(!0),[g,v]=M.useState({}),[x,T]=M.useState(!1);M.useEffect(()=>{R()},[t]);const R=async()=>{try{const P=await on(ot(Oe,"brackets",`${t}_${e.uid}`)),j=P.exists()&&P.data().submitted===!0;T(j);const L=await on(ot(Oe,"rooms",t));L.exists()&&u(L.data().code);const B=await on(ot(Oe,"gameResults",t)),z=B.exists()?B.data().results||{}:{};v(z);const J=Mr(Ai(Oe,"brackets"),Ci("roomId","==",t),Ci("submitted","==",!0)),ee=await Vr(J),le=await Promise.all(ee.docs.map(async A=>{const S=A.data(),N=await on(ot(Oe,"users",S.userId)),V=N.exists()?N.data():{},I=k(S.picks,z);return{userId:S.userId,username:V.username||V.email||"Unknown User",points:I,submittedAt:S.submittedAt}}));le.sort((A,S)=>S.points-A.points),a(le)}catch(P){console.error("Error loading leaderboard:",P)}finally{m(!1)}},k=(P,j)=>{let L=0;return Object.entries(P).forEach(([B,z])=>{j[B]===z&&(B.includes("wc")?L+=wf.wc:B.includes("div")?L+=wf.div:B.includes("conf")?L+=wf.conf:B==="super-bowl"&&(L+=wf["super-bowl"]))}),L};return d?y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading leaderboard..."})}):x?y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:y.jsx(zr,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white flex items-center gap-3",children:[y.jsx(cl,{className:"w-10 h-10 text-yellow-600/90"}),"Leaderboard"]}),y.jsxs("p",{className:"text-slate-400",children:["Room: ",l]})]})]}),s.length===0?y.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:y.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):y.jsx("div",{className:"space-y-3",children:s.map((P,j)=>{const L=P.userId===e.uid,B=j+1;return y.jsx("div",{className:`bg-slate-900/40 backdrop-blur-xl border rounded-xl p-6 transition-all ${L?"border-yellow-600/50 bg-yellow-600/5":"border-white/10 hover:bg-slate-800/50"}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl ${B===1?"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white":B===2?"bg-gradient-to-br from-slate-300 to-slate-400 text-slate-900":B===3?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-slate-800 text-slate-400"}`,children:B===1?y.jsx(cl,{className:"w-6 h-6"}):B===2?y.jsx(FO,{className:"w-6 h-6"}):B===3?y.jsx(pO,{className:"w-6 h-6"}):B}),y.jsxs("div",{children:[y.jsxs("h3",{className:`text-xl font-bold ${L?"text-yellow-500":"text-white"}`,children:[P.username," ",L&&"(You)"]}),y.jsxs("p",{className:"text-sm text-slate-400",children:["Submitted ",P.submittedAt?.toDate().toLocaleDateString()]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-3xl font-black text-yellow-600/90",children:P.points}),y.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Points"})]})]})},P.userId)})}),y.jsxs("div",{className:"mt-8 bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Point System"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"1"}),y.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Wild Card"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"2"}),y.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Divisional"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"3"}),y.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Conference"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"5"}),y.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Super Bowl"})]})]})]})]})]}):y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:y.jsx(zr,{className:"w-6 h-6"})}),y.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Leaderboard"})]}),y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-yellow-600/30 rounded-2xl p-12 text-center",children:[y.jsx(ad,{className:"w-16 h-16 text-yellow-600/90 mx-auto mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Submit Your Bracket First"}),y.jsx("p",{className:"text-slate-300 mb-6",children:"You must submit your bracket before viewing the leaderboard."}),y.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"px-6 py-3 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition font-bold uppercase tracking-wider",children:"Go to Bracket"})]})]})]})}function Y9(){const{roomId:t}=gd(),{isAdmin:e}=ms(),n=Mi(),[s,a]=M.useState(null),[l,u]=M.useState({}),[d,m]=M.useState(""),[g,v]=M.useState(!0),[x,T]=M.useState(!1);M.useEffect(()=>{if(!e){n("/rooms");return}R();const I=setInterval(()=>{k()},3e4);return()=>clearInterval(I)},[t,e]);const R=async()=>{const I=await ld();a(I);const F=await on(ot(Oe,"rooms",t));F.exists()&&m(F.data().code);const D=await on(ot(Oe,"gameResults",t));D.exists()&&u(D.data().results||{}),v(!1),I&&P(I,D.exists()?D.data().results||{}:{})},k=async()=>{T(!0);try{const I=await ld();a(I),I&&await P(I,l)}catch(I){console.error("Error syncing games:",I)}finally{T(!1)}},P=async(I,F)=>{const D={...F};let Re=!1;[...I.wildCard||[],...I.divisional||[],...I.conference||[],...I.superBowl||[]].forEach(G=>{G.isCompleted&&G.winner&&!F[G.id]&&(D[G.id]=G.winner,Re=!0)}),Re&&await j(D)},j=async I=>{await Zo(ot(Oe,"gameResults",t),{results:I}),u(I)},L=(I,F)=>{const D={...l,[I]:F};j(D)},B=I=>{const F={...l};delete F[I],j(F)},z=I=>{if(!I||!I.team1&&!I.team2)return y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4 opacity-50",children:[y.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Game Not Available"}),y.jsx("div",{className:"text-sm text-slate-600",children:"Waiting for previous round results..."})]});const F=l[I.id];return y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:[I.team1?.abbreviation||"TBD"," vs ",I.team2?.abbreviation||"TBD"]}),I.isInProgress&&y.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-500 font-bold",children:[y.jsx(GO,{className:"w-3 h-3 animate-pulse"}),"LIVE"]}),I.isCompleted&&y.jsx("div",{className:"text-xs text-green-500 font-bold",children:"FINAL"})]}),y.jsx("div",{className:"space-y-2",children:[I.team1,I.team2].map(D=>D&&y.jsxs("button",{onClick:()=>F===D.id?B(I.id):L(I.id,D.id),className:`w-full p-3 rounded-lg border-2 transition-all flex items-center justify-between ${F===D.id?"border-green-500 bg-green-500/20":F&&F!==D.id?"border-red-500/50 bg-red-500/10 opacity-50":"border-slate-700 hover:border-slate-600"}`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center text-xs font-bold text-white",style:{backgroundColor:D.color},children:D.seed}),y.jsxs("span",{className:"font-bold text-white",children:[D.city," ",D.name]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[(I.isInProgress||I.isCompleted)&&y.jsx("span",{className:"text-xl font-black text-white",children:D.isHome?I.homeScore:I.awayScore}),F===D.id&&y.jsx(xO,{className:"w-5 h-5 text-green-500"})]})]},D.id))})]})};if(g||!s)return y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading..."})});const J=s.wildCard?.filter(I=>I.conference==="AFC")||[],ee=s.wildCard?.filter(I=>I.conference==="NFC")||[],le=s.divisional?.filter(I=>I.conference==="AFC")||[],A=s.divisional?.filter(I=>I.conference==="NFC")||[],S=s.conference?.find(I=>I.conference==="AFC"),N=s.conference?.find(I=>I.conference==="NFC"),V=s.superBowl?.[0];return y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:y.jsx(zr,{className:"w-6 h-6"})}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Game Results"}),y.jsxs("p",{className:"text-slate-400",children:["Room: ",d," - Auto-syncs completed games, click to override"]})]}),y.jsxs("button",{onClick:()=>k(),disabled:x,className:"flex items-center gap-2 px-6 py-3 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-xl hover:bg-blue-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[y.jsx(LA,{className:`w-5 h-5 ${x?"animate-spin":""}`}),x?"Syncing...":"Sync Now"]})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),y.jsx("div",{className:"space-y-3",children:J.map(I=>y.jsx("div",{children:z(I)},I.id))})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),y.jsx("div",{className:"space-y-3",children:le.map(I=>y.jsx("div",{children:z(I)},I.id))})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),z(S)]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),y.jsx("div",{className:"space-y-3",children:ee.map(I=>y.jsx("div",{children:z(I)},I.id))})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),y.jsx("div",{className:"space-y-3",children:A.map(I=>y.jsx("div",{children:z(I)},I.id))})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),z(N)]})]})]}),y.jsxs("div",{className:"mt-8 max-w-md mx-auto",children:[y.jsx("h2",{className:"text-2xl font-black text-yellow-600/90 uppercase tracking-wider mb-4 text-center",children:"Super Bowl LX"}),z(V)]})]})]})}const BE=[{id:"chiefs",name:"Chiefs",city:"Kansas City",conference:"AFC",color:"#E31837"},{id:"bills",name:"Bills",city:"Buffalo",conference:"AFC",color:"#00338D"},{id:"ravens",name:"Ravens",city:"Baltimore",conference:"AFC",color:"#241773"},{id:"texans",name:"Texans",city:"Houston",conference:"AFC",color:"#03202F"},{id:"steelers",name:"Steelers",city:"Pittsburgh",conference:"AFC",color:"#FFB612"},{id:"chargers",name:"Chargers",city:"Los Angeles",conference:"AFC",color:"#0080C6"},{id:"broncos",name:"Broncos",city:"Denver",conference:"AFC",color:"#FB4F14"},{id:"eagles",name:"Eagles",city:"Philadelphia",conference:"NFC",color:"#004C54"},{id:"lions",name:"Lions",city:"Detroit",conference:"NFC",color:"#0076B6"},{id:"rams",name:"Rams",city:"Los Angeles",conference:"NFC",color:"#003594"},{id:"buccaneers",name:"Buccaneers",city:"Tampa Bay",conference:"NFC",color:"#D50A0A"},{id:"vikings",name:"Vikings",city:"Minnesota",conference:"NFC",color:"#4F2683"},{id:"packers",name:"Packers",city:"Green Bay",conference:"NFC",color:"#203731"},{id:"commanders",name:"Commanders",city:"Washington",conference:"NFC",color:"#5A1414"}];function Q9(){const{isAdmin:t}=ms(),e=Mi(),[n,s]=M.useState(Array(7).fill(null)),[a,l]=M.useState(Array(7).fill(null)),[u,d]=M.useState(!0),[m,g]=M.useState(!1);M.useEffect(()=>{if(!t){e("/rooms");return}v()},[t]);const v=async()=>{const k=await on(ot(Oe,"config","playoffs"));if(k.exists()){const P=k.data();s(P.afcTeams||Array(7).fill(null)),l(P.nfcTeams||Array(7).fill(null))}d(!1)},x=async()=>{g(!0);try{await Zo(ot(Oe,"config","playoffs"),{afcTeams:n,nfcTeams:a,updatedAt:new Date}),alert("Playoff configuration saved!")}catch(k){console.error("Error saving config:",k),alert("Error saving configuration")}finally{g(!1)}},T=(k,P,j)=>{const L=BE.find(z=>z.id===j);if(!L)return;const B={...L,seed:P+1};if(k==="AFC"){const z=[...n];z[P]=B,s(z)}else{const z=[...a];z[P]=B,l(z)}},R=(k,P)=>{const j=k==="AFC"?n:a,L=j[P],B=BE.filter(z=>z.conference===k&&!j.some(J=>J?.id===z.id));return y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[y.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:["Seed #",P+1]}),y.jsxs("select",{value:L?.id||"",onChange:z=>T(k,P,z.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-white font-bold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[y.jsx("option",{value:"",children:"Select Team"}),B.map(z=>y.jsxs("option",{value:z.id,children:[z.city," ",z.name]},z.id)),L&&y.jsxs("option",{value:L.id,children:[L.city," ",L.name]})]})]})};return u?y.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:y.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):y.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>e("/rooms"),className:"text-slate-400 hover:text-white transition",children:y.jsx(zr,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Playoff Configuration"}),y.jsx("p",{className:"text-slate-400",children:"Set the 14 playoff teams and their seeds"})]})]}),y.jsxs("button",{onClick:x,disabled:m,className:"flex items-center gap-2 px-6 py-3 bg-green-500/20 border border-green-500/30 text-green-400 rounded-xl hover:bg-green-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[y.jsx(YO,{className:"w-5 h-5"}),m?"Saving...":"Save Configuration"]})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC Playoff Teams"}),[0,1,2,3,4,5,6].map(k=>R("AFC",k))]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC Playoff Teams"}),[0,1,2,3,4,5,6].map(k=>R("NFC",k))]})]})]})]})}function X9(){const{user:t,logout:e}=ms(),[n,s]=M.useState(!1),[a,l]=M.useState(!1),[u,d]=M.useState("");M.useEffect(()=>{const v=setInterval(async()=>{if(t){await t.reload();const x=Rn.currentUser;x&&x.emailVerified&&window.location.reload()}},3e3);return()=>clearInterval(v)},[t]);const m=async()=>{l(!0),d("");try{await t.reload();const v=Rn.currentUser;v&&v.emailVerified?window.location.reload():d("Email not verified yet. Please check your inbox and spam folder.")}catch{d("Error checking verification status.")}l(!1)},g=async()=>{s(!0),d("");try{await H1(t,{url:window.location.origin+"/verify-email",handleCodeInApp:!1}),d("Verification email sent! Please check your inbox and spam folder.")}catch{d("Error sending email. Please try again later.")}s(!1)};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-900 via-red-800 to-orange-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[y.jsx("div",{className:"flex items-center justify-center mb-6",children:y.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:y.jsx(ry,{className:"w-12 h-12 text-orange-600"})})}),y.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-gray-800",children:"Verify Your Email"}),y.jsxs("p",{className:"text-center text-gray-600 mb-6",children:["We sent a verification link to ",y.jsx("span",{className:"font-semibold",children:t?.email})]}),y.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx(ad,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),y.jsxs("div",{className:"text-sm text-blue-800",children:[y.jsx("p",{className:"font-semibold mb-1",children:"Check your email"}),y.jsx("p",{children:"Click the verification link in the email to activate your account. Check your spam folder if needed."})]})]})}),u&&y.jsx("div",{className:`border rounded-lg p-3 mb-4 ${u.includes("sent")?"bg-green-50 border-green-200 text-green-800":"bg-yellow-50 border-yellow-200 text-yellow-800"}`,children:y.jsx("p",{className:"text-sm",children:u})}),y.jsxs("button",{onClick:m,disabled:a,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-semibold mb-3 disabled:opacity-50 flex items-center justify-center gap-2",children:[y.jsx(LA,{className:`w-5 h-5 ${a?"animate-spin":""}`}),a?"Checking...":"I Verified My Email"]}),y.jsx("button",{onClick:g,disabled:n,className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold mb-3 disabled:opacity-50",children:n?"Sending...":"Resend Verification Email"}),y.jsx("button",{onClick:e,className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Sign Out"})]})})}function W9(){const[t]=Uy(),e=Mi(),[n,s]=M.useState("verifying"),[a,l]=M.useState("");return M.useEffect(()=>{(async()=>{const d=t.get("oobCode");if(!d){s("error"),l("Invalid verification link");return}try{await Ek(Rn,d),s("success"),setTimeout(()=>e("/login?verified=true"),2e3)}catch(m){s("error"),l(m.message)}})()},[t,e]),y.jsx("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md text-center",children:[n==="verifying"&&y.jsxs(y.Fragment,{children:[y.jsx(VO,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 animate-spin"}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verifying Email..."}),y.jsx("p",{className:"text-slate-400",children:"Please wait while we verify your email address."})]}),n==="success"&&y.jsxs(y.Fragment,{children:[y.jsx(od,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-2",children:"Email Verified!"}),y.jsx("p",{className:"text-slate-300",children:"Redirecting to login..."})]}),n==="error"&&y.jsxs(y.Fragment,{children:[y.jsx(IO,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-2",children:"Verification Failed"}),y.jsx("p",{className:"text-slate-300 mb-4",children:a}),y.jsx("button",{onClick:()=>e("/login"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Go to Login"})]})]})})}function J9(){const{user:t,isAdmin:e}=ms();return M.useEffect(()=>{(async()=>{if(t)try{const s=await on(ot(Oe,"users",t.uid));if(s.exists()){const a=s.data();console.log("Current user data:",a),console.log("isAdmin from context:",e),e&&!a.isAdmin&&(console.log("Setting admin status in Firestore..."),await ZP(ot(Oe,"users",t.uid),{isAdmin:!0}),console.log("Admin status updated! Please refresh the page."),alert("Admin status has been set. Please refresh the page."))}else console.log("User document does not exist in Firestore")}catch(s){console.error("Error checking admin status:",s)}})()},[t,e]),null}function Lo({children:t}){const{user:e,loading:n}=ms(),s=ki();return n?y.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."}):e?e.emailVerified?y.jsxs(y.Fragment,{children:[y.jsx(J9,{}),t]}):y.jsx(X9,{}):y.jsx(t1,{to:"/login",state:{from:s.pathname+s.search},replace:!0})}function Z9(){return y.jsx(aO,{children:y.jsx(NI,{children:y.jsxs(sI,{children:[y.jsx(is,{path:"/login",element:y.jsx(r3,{})}),y.jsx(is,{path:"/verify-email",element:y.jsx(W9,{})}),y.jsx(is,{path:"/rooms",element:y.jsx(Lo,{children:y.jsx(o3,{})})}),y.jsx(is,{path:"/bracket/:roomId",element:y.jsx(Lo,{children:y.jsx(q9,{})})}),y.jsx(is,{path:"/admin/brackets/:roomId",element:y.jsx(Lo,{children:y.jsx(K9,{})})}),y.jsx(is,{path:"/leaderboard/:roomId",element:y.jsx(Lo,{children:y.jsx($9,{})})}),y.jsx(is,{path:"/game-results/:roomId",element:y.jsx(Lo,{children:y.jsx(Y9,{})})}),y.jsx(is,{path:"/admin/playoff-config",element:y.jsx(Lo,{children:y.jsx(Q9,{})})}),y.jsx(is,{path:"/",element:y.jsx(t1,{to:"/rooms"})})]})})})}oN.createRoot(document.getElementById("root")).render(y.jsx(M.StrictMode,{children:y.jsx(Z9,{})}));
