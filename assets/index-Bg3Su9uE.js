(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var zp={exports:{}},Nc={};var k_;function ZR(){if(k_)return Nc;k_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Nc.Fragment=e,Nc.jsx=n,Nc.jsxs=n,Nc}var j_;function eN(){return j_||(j_=1,zp.exports=ZR()),zp.exports}var p=eN(),Fp={exports:{}},Ie={};var M_;function tN(){if(M_)return Ie;M_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function R(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function U(z,Z,ce){this.props=z,this.context=Z,this.refs=V,this.updater=ce||k}U.prototype.isReactComponent={},U.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},U.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function B(){}B.prototype=U.prototype;function H(z,Z,ce){this.props=z,this.context=Z,this.refs=V,this.updater=ce||k}var X=H.prototype=new B;X.constructor=H,O(X,U.prototype),X.isPureReactComponent=!0;var te=Array.isArray;function ae(){}var A={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function N(z,Z,ce){var me=ce.ref;return{$$typeof:t,type:z,key:Z,ref:me!==void 0?me:null,props:ce}}function P(z,Z){return N(z.type,Z,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function D(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return Z[ce]})}var I=/\/+/g;function he(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):Z.toString(36)}function we(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ae,ae):(z.status="pending",z.then(function(Z){z.status==="pending"&&(z.status="fulfilled",z.value=Z)},function(Z){z.status==="pending"&&(z.status="rejected",z.reason=Z)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,Z,ce,me,Te){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var je=!1;if(z===null)je=!0;else switch(Ne){case"bigint":case"string":case"number":je=!0;break;case"object":switch(z.$$typeof){case t:case e:je=!0;break;case v:return je=z._init,G(je(z._payload),Z,ce,me,Te)}}if(je)return Te=Te(z),je=me===""?"."+he(z,0):me,te(Te)?(ce="",je!=null&&(ce=je.replace(I,"$&/")+"/"),G(Te,Z,ce,"",function(Me){return Me})):Te!=null&&(M(Te)&&(Te=P(Te,ce+(Te.key==null||z&&z.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+je)),Z.push(Te)),1;je=0;var le=me===""?".":me+":";if(te(z))for(var ve=0;ve<z.length;ve++)me=z[ve],Ne=le+he(me,ve),je+=G(me,Z,ce,Ne,Te);else if(ve=R(z),typeof ve=="function")for(z=ve.call(z),ve=0;!(me=z.next()).done;)me=me.value,Ne=le+he(me,ve++),je+=G(me,Z,ce,Ne,Te);else if(Ne==="object"){if(typeof z.then=="function")return G(we(z),Z,ce,me,Te);throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return je}function ie(z,Z,ce){if(z==null)return z;var me=[],Te=0;return G(z,me,"","",function(Ne){return Z.call(ce,Ne,Te++)}),me}function fe(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var Re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ke={map:ie,forEach:function(z,Z,ce){ie(z,function(){Z.apply(this,arguments)},ce)},count:function(z){var Z=0;return ie(z,function(){Z++}),Z},toArray:function(z){return ie(z,function(Z){return Z})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ie.Activity=b,Ie.Children=ke,Ie.Component=U,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=H,Ie.StrictMode=s,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(z){return A.H.useMemoCache(z)}},Ie.cache=function(z){return function(){return z.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(z,Z,ce){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var me=O({},z.props),Te=z.key;if(Z!=null)for(Ne in Z.key!==void 0&&(Te=""+Z.key),Z)!E.call(Z,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Z.ref===void 0||(me[Ne]=Z[Ne]);var Ne=arguments.length-2;if(Ne===1)me.children=ce;else if(1<Ne){for(var je=Array(Ne),le=0;le<Ne;le++)je[le]=arguments[le+2];me.children=je}return N(z.type,Te,me)},Ie.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ie.createElement=function(z,Z,ce){var me,Te={},Ne=null;if(Z!=null)for(me in Z.key!==void 0&&(Ne=""+Z.key),Z)E.call(Z,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=Z[me]);var je=arguments.length-2;if(je===1)Te.children=ce;else if(1<je){for(var le=Array(je),ve=0;ve<je;ve++)le[ve]=arguments[ve+2];Te.children=le}if(z&&z.defaultProps)for(me in je=z.defaultProps,je)Te[me]===void 0&&(Te[me]=je[me]);return N(z,Ne,Te)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(z){return{$$typeof:d,render:z}},Ie.isValidElement=M,Ie.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:fe}},Ie.memo=function(z,Z){return{$$typeof:y,type:z,compare:Z===void 0?null:Z}},Ie.startTransition=function(z){var Z=A.T,ce={};A.T=ce;try{var me=z(),Te=A.S;Te!==null&&Te(ce,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ae,Re)}catch(Ne){Re(Ne)}finally{Z!==null&&ce.types!==null&&(Z.types=ce.types),A.T=Z}},Ie.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ie.use=function(z){return A.H.use(z)},Ie.useActionState=function(z,Z,ce){return A.H.useActionState(z,Z,ce)},Ie.useCallback=function(z,Z){return A.H.useCallback(z,Z)},Ie.useContext=function(z){return A.H.useContext(z)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(z,Z){return A.H.useDeferredValue(z,Z)},Ie.useEffect=function(z,Z){return A.H.useEffect(z,Z)},Ie.useEffectEvent=function(z){return A.H.useEffectEvent(z)},Ie.useId=function(){return A.H.useId()},Ie.useImperativeHandle=function(z,Z,ce){return A.H.useImperativeHandle(z,Z,ce)},Ie.useInsertionEffect=function(z,Z){return A.H.useInsertionEffect(z,Z)},Ie.useLayoutEffect=function(z,Z){return A.H.useLayoutEffect(z,Z)},Ie.useMemo=function(z,Z){return A.H.useMemo(z,Z)},Ie.useOptimistic=function(z,Z){return A.H.useOptimistic(z,Z)},Ie.useReducer=function(z,Z,ce){return A.H.useReducer(z,Z,ce)},Ie.useRef=function(z){return A.H.useRef(z)},Ie.useState=function(z){return A.H.useState(z)},Ie.useSyncExternalStore=function(z,Z,ce){return A.H.useSyncExternalStore(z,Z,ce)},Ie.useTransition=function(){return A.H.useTransition()},Ie.version="19.2.3",Ie}var V_;function Dy(){return V_||(V_=1,Fp.exports=tN()),Fp.exports}var j=Dy(),Hp={exports:{}},Ic={},qp={exports:{}},Gp={};var P_;function nN(){return P_||(P_=1,(function(t){function e(G,ie){var fe=G.length;G.push(ie);e:for(;0<fe;){var Re=fe-1>>>1,ke=G[Re];if(0<a(ke,ie))G[Re]=ie,G[fe]=ke,fe=Re;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ie=G[0],fe=G.pop();if(fe!==ie){G[0]=fe;e:for(var Re=0,ke=G.length,z=ke>>>1;Re<z;){var Z=2*(Re+1)-1,ce=G[Z],me=Z+1,Te=G[me];if(0>a(ce,fe))me<ke&&0>a(Te,ce)?(G[Re]=Te,G[me]=fe,Re=me):(G[Re]=ce,G[Z]=fe,Re=Z);else if(me<ke&&0>a(Te,fe))G[Re]=Te,G[me]=fe,Re=me;else break e}}return ie}function a(G,ie){var fe=G.sortIndex-ie.sortIndex;return fe!==0?fe:G.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],y=[],v=1,b=null,T=3,R=!1,k=!1,O=!1,V=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(G){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=G)s(y),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=n(y)}}function te(G){if(O=!1,X(G),!k)if(n(m)!==null)k=!0,ae||(ae=!0,D());else{var ie=n(y);ie!==null&&we(te,ie.startTime-G)}}var ae=!1,A=-1,E=5,N=-1;function P(){return V?!0:!(t.unstable_now()-N<E)}function M(){if(V=!1,ae){var G=t.unstable_now();N=G;var ie=!0;try{e:{k=!1,O&&(O=!1,B(A),A=-1),R=!0;var fe=T;try{t:{for(X(G),b=n(m);b!==null&&!(b.expirationTime>G&&P());){var Re=b.callback;if(typeof Re=="function"){b.callback=null,T=b.priorityLevel;var ke=Re(b.expirationTime<=G);if(G=t.unstable_now(),typeof ke=="function"){b.callback=ke,X(G),ie=!0;break t}b===n(m)&&s(m),X(G)}else s(m);b=n(m)}if(b!==null)ie=!0;else{var z=n(y);z!==null&&we(te,z.startTime-G),ie=!1}}break e}finally{b=null,T=fe,R=!1}ie=void 0}}finally{ie?D():ae=!1}}}var D;if(typeof H=="function")D=function(){H(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,he=I.port2;I.port1.onmessage=M,D=function(){he.postMessage(null)}}else D=function(){U(M,0)};function we(G,ie){A=U(function(){G(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(G){switch(T){case 1:case 2:case 3:var ie=3;break;default:ie=T}var fe=T;T=ie;try{return G()}finally{T=fe}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=T;T=G;try{return ie()}finally{T=fe}},t.unstable_scheduleCallback=function(G,ie,fe){var Re=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Re+fe:Re):fe=Re,G){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=fe+ke,G={id:v++,callback:ie,priorityLevel:G,startTime:fe,expirationTime:ke,sortIndex:-1},fe>Re?(G.sortIndex=fe,e(y,G),n(m)===null&&G===n(y)&&(O?(B(A),A=-1):O=!0,we(te,fe-Re))):(G.sortIndex=ke,e(m,G),k||R||(k=!0,ae||(ae=!0,D()))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var ie=T;return function(){var fe=T;T=ie;try{return G.apply(this,arguments)}finally{T=fe}}}})(Gp)),Gp}var O_;function iN(){return O_||(O_=1,qp.exports=nN()),qp.exports}var Kp={exports:{}},hn={};var L_;function sN(){if(L_)return hn;L_=1;var t=Dy();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:y,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(m,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(m,y,null,v)},hn.flushSync=function(m){var y=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=y,s.p=v,s.d.f()}},hn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},hn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},hn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:R}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},hn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=d(v,y.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(m,y){if(typeof m=="string")if(y){var v=d(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},hn.requestFormReset=function(m){s.d.r(m)},hn.unstable_batchedUpdates=function(m,y){return m(y)},hn.useFormState=function(m,y,v){return u.H.useFormState(m,y,v)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var U_;function rN(){if(U_)return Kp.exports;U_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=sN(),Kp.exports}var B_;function aN(){if(B_)return Ic;B_=1;var t=iN(),e=Dy(),n=rN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===c)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=g;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,c=g;break}if(S===c){_=!0,c=f,o=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===o){_=!0,o=g,c=f;break}if(S===c){_=!0,c=g,o=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function he(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case U:return"Profiler";case V:return"StrictMode";case te:return"Suspense";case ae:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case H:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case X:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return r=i.displayName||null,r!==null?r:he(i.type)||"Memo";case E:r=i._payload,i=i._init;try{return he(i(r))}catch{}}return null}var we=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Re=[],ke=-1;function z(i){return{current:i}}function Z(i){0>ke||(i.current=Re[ke],Re[ke]=null,ke--)}function ce(i,r){ke++,Re[ke]=i.current,i.current=r}var me=z(null),Te=z(null),Ne=z(null),je=z(null);function le(i,r){switch(ce(Ne,r),ce(Te,i),ce(me,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?t_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=t_(r),i=n_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(me),ce(me,i)}function ve(){Z(me),Z(Te),Z(Ne)}function Me(i){i.memoizedState!==null&&ce(je,i);var r=me.current,o=n_(r,i.type);r!==o&&(ce(Te,i),ce(me,o))}function Jt(i){Te.current===i&&(Z(me),Z(Te)),je.current===i&&(Z(je),Sc._currentValue=fe)}var kn,$n;function Yn(i){if(kn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);kn=r&&r[1]||"",$n=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kn+i+$n}var mi=!1;function ys(i,r){if(!i||mi)return"";mi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var Q=J}Reflect.construct(i,[],re)}else{try{re.call()}catch(J){Q=J}i.call(re.prototype)}}else{try{throw Error()}catch(J){Q=J}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),_=g[0],S=g[1];if(_&&S){var L=_.split(`
`),Y=S.split(`
`);for(f=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===L.length||f===Y.length)for(c=L.length-1,f=Y.length-1;1<=c&&0<=f&&L[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(L[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||L[c]!==Y[f]){var ee=`
`+L[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=f);break}}}finally{mi=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Yn(o):""}function Al(i,r){switch(i.tag){case 26:case 27:case 5:return Yn(i.type);case 16:return Yn("Lazy");case 13:return i.child!==r&&r!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return ys(i.type,!1);case 11:return ys(i.type.render,!1);case 1:return ys(i.type,!0);case 31:return Yn("Activity");default:return""}}function Cl(i){try{var r="",o=null;do r+=Al(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var It=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,Ws=t.unstable_cancelCallback,Hd=t.unstable_shouldYield,ku=t.unstable_requestPaint,yn=t.unstable_now,ia=t.unstable_getCurrentPriorityLevel,Rl=t.unstable_ImmediatePriority,Nl=t.unstable_UserBlockingPriority,Js=t.unstable_NormalPriority,qd=t.unstable_LowPriority,ju=t.unstable_IdlePriority,Mu=t.log,Vu=t.unstable_setDisableYieldValue,pi=null,Zt=null;function Qn(i){if(typeof Mu=="function"&&Vu(i),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(pi,i)}catch{}}var Tt=Math.clz32?Math.clz32:Ou,Pu=Math.log,Xa=Math.LN2;function Ou(i){return i>>>=0,i===0?32:31-(Pu(i)/Xa|0)|0}var Li=256,sa=262144,Dt=4194304;function Ui(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Bi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,g=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?f=Ui(c):(_&=S,_!==0?f=Ui(_):o||(o=S&~i,o!==0&&(f=Ui(o))))):(S=c&~g,S!==0?f=Ui(S):_!==0?f=Ui(_):o||(o=c&~i,o!==0&&(f=Ui(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function gi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Gd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var i=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),i}function zi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ra(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kd(i,r,o,c,f,g){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,L=i.expirationTimes,Y=i.hiddenUpdates;for(o=_&~o;0<o;){var ee=31-Tt(o),re=1<<ee;S[ee]=0,L[ee]=-1;var Q=Y[ee];if(Q!==null)for(Y[ee]=null,ee=0;ee<Q.length;ee++){var J=Q[ee];J!==null&&(J.lane&=-536870913)}o&=~re}c!==0&&aa(i,c,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(_&~r))}function aa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Tt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Il(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Tt(o),f=1<<c;f&r|i[c]&r&&(i[c]|=r),o&=~f}}function Dl(i,r){var o=r&-r;return o=(o&42)!==0?1:oa(o),(o&(i.suspendedLanes|r))!==0?0:o}function oa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Uu(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:S_(i.type))}function yi(i,r){var o=ie.p;try{return ie.p=i,r()}finally{ie.p=o}}var vi=Math.random().toString(36).slice(2),kt="__reactFiber$"+vi,Yt="__reactProps$"+vi,Fi="__reactContainer$"+vi,Wa="__reactEvents$"+vi,$d="__reactListeners$"+vi,Bu="__reactHandles$"+vi,zu="__reactResources$"+vi,Hi="__reactMarker$"+vi;function Ja(i){delete i[kt],delete i[Yt],delete i[Wa],delete i[$d],delete i[Bu]}function qi(i){var r=i[kt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Fi]||o[kt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=c_(i);i!==null;){if(o=i[kt])return o;i=c_(i)}return r}i=o,o=i.parentNode}return null}function Xn(i){if(i=i[kt]||i[Fi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function jn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Gi(i){var r=i[zu];return r||(r=i[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(i){i[Hi]=!0}var kl=new Set,jl={};function Ki(i,r){$i(i,r),$i(i+"Capture",r)}function $i(i,r){for(jl[i]=r,i=0;i<r.length;i++)kl.add(r[i])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Pl={};function Fu(i){return It.call(Pl,i)?!0:It.call(Vl,i)?!1:Ml.test(i)?Pl[i]=!0:(Vl[i]=!0,!1)}function Za(i,r,o){if(Fu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Mn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Mt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ol(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function et(i){if(!i._valueTracker){var r=Zs(i)?"checked":"value";i._valueTracker=Ol(i,r,""+i[r])}}function la(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Zs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ca=/[\n"\\]/g;function wn(i){return i.replace(ca,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function eo(i,r,o,c,f,g,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Ll(i,_,Qt(r)):o!=null?Ll(i,_,Qt(o)):c!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Qt(S):i.removeAttribute("name")}function Hu(i,r,o,c,f,g,_,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){et(i);return}o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),et(i)}function Ll(i,r,o){r==="number"&&Yi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function er(i,r,o,c){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function qu(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function tr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(we(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),et(i)}function Tn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Gu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Bl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Ul(i,f,c)}else for(var g in r)r.hasOwnProperty(g)&&Ul(i,g,r[g])}function to(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(i){return nr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function xi(){}var zl=null;function Wn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ir=null,Qi=null;function ua(i){var r=Xn(i);if(r&&(i=r.stateNode)){var o=i[Yt]||null;e:switch(i=r.stateNode,r.type){case"input":if(eo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var f=c[Yt]||null;if(!f)throw Error(s(90));eo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&la(c)}break e;case"textarea":qu(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&er(i,!!o.multiple,r,!1)}}}var io=!1;function sr(i,r,o){if(io)return i(r,o);io=!0;try{var c=i(r);return c}finally{if(io=!1,(ir!==null||Qi!==null)&&(Uh(),ir&&(r=ir,i=Qi,Qi=ir=null,ua(r),i)))for(r=0;r<i.length;r++)ua(i[r])}}function bi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Yt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Jn)try{var it={};Object.defineProperty(it,"passive",{get:function(){ha=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{ha=!1}var Xi=null,Fl=null,fa=null;function Hl(){if(fa)return fa;var i,r=Fl,o=r.length,c,f="value"in Xi?Xi.value:Xi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var _=o-i;for(c=1;c<=_&&r[o-c]===f[g-c];c++);return fa=f.slice(i,1<c?1-c:void 0)}function da(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function xs(){return!0}function _i(){return!1}function en(i){function r(o,c,f,g,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xs:_i,this.isPropagationStopped=_i,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),r}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=en(bs),rr=b({},bs,{view:0,detail:0}),ql=en(rr),ar,so,Ji,ro=b({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(ar=i.screenX-Ji.screenX,so=i.screenY-Ji.screenY):so=ar=0,Ji=i),ar)},movementY:function(i){return"movementY"in i?i.movementY:so}}),Gl=en(ro),ma=b({},ro,{dataTransfer:0}),$u=en(ma),Yu=b({},rr,{relatedTarget:0}),pa=en(Yu),Kl=b({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=en(Kl),ao=b({},bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xu=en(ao),Wu=b({},bs,{data:0}),Zi=en(Wu),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=eh[i])?!!r[i]:!1}function or(){return th}var vn=b({},rr,{key:function(i){if(i.key){var r=Ju[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=da(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(i){return i.type==="keypress"?da(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?da(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nh=en(vn),ih=b({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_s=en(ih),h=b({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),x=en(h),w=b({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=en(w),K=b({},ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=en(K),ue=b({},bs,{newState:0,oldState:0}),Ve=en(ue),Et=[9,13,27,32],Xe=Jn&&"CompositionEvent"in window,dt=null;Jn&&"documentMode"in document&&(dt=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!dt,es=Jn&&(!Xe||dt&&8<dt&&11>=dt),wi=" ",Ti=!1;function ga(i,r){switch(i){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lo=!1;function T2(i,r){switch(i){case"compositionend":return oo(r);case"keypress":return r.which!==32?null:(Ti=!0,wi);case"textInput":return i=r.data,i===wi&&Ti?null:i;default:return null}}function E2(i,r){if(lo)return i==="compositionend"||!Xe&&ga(i,r)?(i=Hl(),fa=Fl=Xi=null,lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return es&&r.locale!=="ko"?null:r.data;default:return null}}var S2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!S2[i.type]:r==="textarea"}function dv(i,r,o,c){ir?Qi?Qi.push(c):Qi=[c]:ir=c,r=Kh(r,"onChange"),0<r.length&&(o=new Wi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var $l=null,Yl=null;function A2(i){Qb(i,0)}function sh(i){var r=jn(i);if(la(r))return i}function mv(i,r){if(i==="change")return r}var pv=!1;if(Jn){var Yd;if(Jn){var Qd="oninput"in document;if(!Qd){var gv=document.createElement("div");gv.setAttribute("oninput","return;"),Qd=typeof gv.oninput=="function"}Yd=Qd}else Yd=!1;pv=Yd&&(!document.documentMode||9<document.documentMode)}function yv(){$l&&($l.detachEvent("onpropertychange",vv),Yl=$l=null)}function vv(i){if(i.propertyName==="value"&&sh(Yl)){var r=[];dv(r,Yl,i,Wn(i)),sr(A2,r)}}function C2(i,r,o){i==="focusin"?(yv(),$l=r,Yl=o,$l.attachEvent("onpropertychange",vv)):i==="focusout"&&yv()}function R2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sh(Yl)}function N2(i,r){if(i==="click")return sh(r)}function I2(i,r){if(i==="input"||i==="change")return sh(r)}function D2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Vn=typeof Object.is=="function"?Object.is:D2;function Ql(i,r){if(Vn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!It.call(r,f)||!Vn(i[f],r[f]))return!1}return!0}function xv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function bv(i,r){var o=xv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xv(o)}}function _v(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?_v(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function wv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Yi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Yi(i.document)}return r}function Xd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var k2=Jn&&"documentMode"in document&&11>=document.documentMode,co=null,Wd=null,Xl=null,Jd=!1;function Tv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jd||co==null||co!==Yi(c)||(c=co,"selectionStart"in c&&Xd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xl&&Ql(Xl,c)||(Xl=c,c=Kh(Wd,"onSelect"),0<c.length&&(r=new Wi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=co)))}function ya(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var uo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Zd={},Ev={};Jn&&(Ev=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function va(i){if(Zd[i])return Zd[i];if(!uo[i])return i;var r=uo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ev)return Zd[i]=r[o];return i}var Sv=va("animationend"),Av=va("animationiteration"),Cv=va("animationstart"),j2=va("transitionrun"),M2=va("transitionstart"),V2=va("transitioncancel"),Rv=va("transitionend"),Nv=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function Ei(i,r){Nv.set(i,r),Ki(r,[i])}var rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ei=[],ho=0,tm=0;function ah(){for(var i=ho,r=tm=ho=0;r<i;){var o=ei[r];ei[r++]=null;var c=ei[r];ei[r++]=null;var f=ei[r];ei[r++]=null;var g=ei[r];if(ei[r++]=null,c!==null&&f!==null){var _=c.pending;_===null?f.next=f:(f.next=_.next,_.next=f),c.pending=f}g!==0&&Iv(o,f,g)}}function oh(i,r,o,c){ei[ho++]=i,ei[ho++]=r,ei[ho++]=o,ei[ho++]=c,tm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function nm(i,r,o,c){return oh(i,r,o,c),lh(i)}function xa(i,r){return oh(i,null,null,r),lh(i)}function Iv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-Tt(o),i=g.hiddenUpdates,c=i[f],c===null?i[f]=[r]:c.push(r),r.lane=o|536870912),g):null}function lh(i){if(50<vc)throw vc=0,hp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var fo={};function P2(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,r,o,c){return new P2(i,r,o,c)}function im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ws(i,r){var o=i.alternate;return o===null?(o=Pn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Dv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ch(i,r,o,c,f,g){var _=0;if(c=i,typeof i=="function")im(i)&&(_=1);else if(typeof i=="string")_=zR(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Pn(31,o,r,f),i.elementType=N,i.lanes=g,i;case O:return ba(o.children,f,g,r);case V:_=8,f|=24;break;case U:return i=Pn(12,o,r,f|2),i.elementType=U,i.lanes=g,i;case te:return i=Pn(13,o,r,f),i.elementType=te,i.lanes=g,i;case ae:return i=Pn(19,o,r,f),i.elementType=ae,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:_=10;break e;case B:_=9;break e;case X:_=11;break e;case A:_=14;break e;case E:_=16,c=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Pn(_,o,r,f),r.elementType=i,r.type=c,r.lanes=g,r}function ba(i,r,o,c){return i=Pn(7,i,c,r),i.lanes=o,i}function sm(i,r,o){return i=Pn(6,i,null,r),i.lanes=o,i}function kv(i){var r=Pn(18,null,null,0);return r.stateNode=i,r}function rm(i,r,o){return r=Pn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var jv=new WeakMap;function ti(i,r){if(typeof i=="object"&&i!==null){var o=jv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Cl(r)},jv.set(i,r),r)}return{value:i,source:r,stack:Cl(r)}}var mo=[],po=0,uh=null,Wl=0,ni=[],ii=0,lr=null,ts=1,ns="";function Ts(i,r){mo[po++]=Wl,mo[po++]=uh,uh=i,Wl=r}function Mv(i,r,o){ni[ii++]=ts,ni[ii++]=ns,ni[ii++]=lr,lr=i;var c=ts;i=ns;var f=32-Tt(c)-1;c&=~(1<<f),o+=1;var g=32-Tt(r)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,ts=1<<32-Tt(r)+f|o<<f|c,ns=g+i}else ts=1<<g|o<<f|c,ns=i}function am(i){i.return!==null&&(Ts(i,1),Mv(i,1,0))}function om(i){for(;i===uh;)uh=mo[--po],mo[po]=null,Wl=mo[--po],mo[po]=null;for(;i===lr;)lr=ni[--ii],ni[ii]=null,ns=ni[--ii],ni[ii]=null,ts=ni[--ii],ni[ii]=null}function Vv(i,r){ni[ii++]=ts,ni[ii++]=ns,ni[ii++]=lr,ts=r.id,ns=r.overflow,lr=i}var tn=null,ut=null,Ke=!1,cr=null,si=!1,lm=Error(s(519));function ur(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(ti(r,i)),lm}function Pv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[kt]=i,r[Yt]=c,o){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<bc.length;o++)Be(bc[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),Hu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),tr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Zb(r.textContent,o)?(c.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),c.onScroll!=null&&Be("scroll",r),c.onScrollEnd!=null&&Be("scrollend",r),c.onClick!=null&&(r.onclick=xi),r=!0):r=!1,r||ur(i,!0)}function Ov(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:tn=tn.return}}function go(i){if(i!==tn)return!1;if(!Ke)return Ov(i),Ke=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ap(i.type,i.memoizedProps)),o=!o),o&&ut&&ur(i),Ov(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ut=l_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ut=l_(i)}else r===27?(r=ut,Er(i.type)?(i=Dp,Dp=null,ut=i):ut=r):ut=tn?ai(i.stateNode.nextSibling):null;return!0}function _a(){ut=tn=null,Ke=!1}function cm(){var i=cr;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),cr=null),i}function Jl(i){cr===null?cr=[i]:cr.push(i)}var um=z(null),wa=null,Es=null;function hr(i,r,o){ce(um,r._currentValue),r._currentValue=o}function Ss(i){i._currentValue=um.current,Z(um)}function hm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function fm(i,r,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var L=0;L<r.length;L++)if(S.context===r[L]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),hm(g.return,o,i),c||(_=null);break e}g=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),hm(_,o,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function yo(i,r,o,c){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;Vn(f.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(f===je.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Sc):i=[Sc])}f=f.return}i!==null&&fm(r,i,o,c),r.flags|=262144}function hh(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){wa=i,Es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return Lv(wa,i)}function fh(i,r){return wa===null&&Ta(i),Lv(i,r)}function Lv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Es===null){if(i===null)throw Error(s(308));Es=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Es=Es.next=r;return o}var O2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},L2=t.unstable_scheduleCallback,U2=t.unstable_NormalPriority,Vt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new O2,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&L2(U2,function(){i.controller.abort()})}var ec=null,mm=0,vo=0,xo=null;function B2(i,r){if(ec===null){var o=ec=[];mm=0,vo=yp(),xo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return mm++,r.then(Uv,Uv),r}function Uv(){if(--mm===0&&ec!==null){xo!==null&&(xo.status="fulfilled");var i=ec;ec=null,vo=0,xo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function z2(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Bv=G.S;G.S=function(i,r){Tb=yn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&B2(i,r),Bv!==null&&Bv(i,r)};var Ea=z(null);function pm(){var i=Ea.current;return i!==null?i:ot.pooledCache}function dh(i,r){r===null?ce(Ea,Ea.current):ce(Ea,r.pool)}function zv(){var i=pm();return i===null?null:{parent:Vt._currentValue,pool:i}}var bo=Error(s(460)),gm=Error(s(474)),mh=Error(s(542)),ph={then:function(){}};function Fv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(xi,xi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gv(i),i;default:if(typeof r.status=="string")r.then(xi,xi);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gv(i),i}throw Aa=r,bo}}function Sa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,bo):o}}var Aa=null;function qv(){if(Aa===null)throw Error(s(459));var i=Aa;return Aa=null,i}function Gv(i){if(i===bo||i===mh)throw Error(s(483))}var _o=null,tc=0;function gh(i){var r=tc;return tc+=1,_o===null&&(_o=[]),Hv(_o,i,r)}function nc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function yh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Kv(i){function r(q,F){if(i){var $=q.deletions;$===null?(q.deletions=[F],q.flags|=16):$.push(F)}}function o(q,F){if(!i)return null;for(;F!==null;)r(q,F),F=F.sibling;return null}function c(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function f(q,F){return q=ws(q,F),q.index=0,q.sibling=null,q}function g(q,F,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<F?(q.flags|=67108866,F):$):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function _(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function S(q,F,$,ne){return F===null||F.tag!==6?(F=sm($,q.mode,ne),F.return=q,F):(F=f(F,$),F.return=q,F)}function L(q,F,$,ne){var xe=$.type;return xe===O?ee(q,F,$.props.children,ne,$.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===E&&Sa(xe)===F.type)?(F=f(F,$.props),nc(F,$),F.return=q,F):(F=ch($.type,$.key,$.props,null,q.mode,ne),nc(F,$),F.return=q,F)}function Y(q,F,$,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=rm($,q.mode,ne),F.return=q,F):(F=f(F,$.children||[]),F.return=q,F)}function ee(q,F,$,ne,xe){return F===null||F.tag!==7?(F=ba($,q.mode,ne,xe),F.return=q,F):(F=f(F,$),F.return=q,F)}function re(q,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=sm(""+F,q.mode,$),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return $=ch(F.type,F.key,F.props,null,q.mode,$),nc($,F),$.return=q,$;case k:return F=rm(F,q.mode,$),F.return=q,F;case E:return F=Sa(F),re(q,F,$)}if(we(F)||D(F))return F=ba(F,q.mode,$,null),F.return=q,F;if(typeof F.then=="function")return re(q,gh(F),$);if(F.$$typeof===H)return re(q,fh(q,F),$);yh(q,F)}return null}function Q(q,F,$,ne){var xe=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return xe!==null?null:S(q,F,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return $.key===xe?L(q,F,$,ne):null;case k:return $.key===xe?Y(q,F,$,ne):null;case E:return $=Sa($),Q(q,F,$,ne)}if(we($)||D($))return xe!==null?null:ee(q,F,$,ne,null);if(typeof $.then=="function")return Q(q,F,gh($),ne);if($.$$typeof===H)return Q(q,F,fh(q,$),ne);yh(q,$)}return null}function J(q,F,$,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get($)||null,S(F,q,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case R:return q=q.get(ne.key===null?$:ne.key)||null,L(F,q,ne,xe);case k:return q=q.get(ne.key===null?$:ne.key)||null,Y(F,q,ne,xe);case E:return ne=Sa(ne),J(q,F,$,ne,xe)}if(we(ne)||D(ne))return q=q.get($)||null,ee(F,q,ne,xe,null);if(typeof ne.then=="function")return J(q,F,$,gh(ne),xe);if(ne.$$typeof===H)return J(q,F,$,fh(F,ne),xe);yh(F,ne)}return null}function ge(q,F,$,ne){for(var xe=null,Ye=null,ye=F,Oe=F=0,Fe=null;ye!==null&&Oe<$.length;Oe++){ye.index>Oe?(Fe=ye,ye=null):Fe=ye.sibling;var Qe=Q(q,ye,$[Oe],ne);if(Qe===null){ye===null&&(ye=Fe);break}i&&ye&&Qe.alternate===null&&r(q,ye),F=g(Qe,F,Oe),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe,ye=Fe}if(Oe===$.length)return o(q,ye),Ke&&Ts(q,Oe),xe;if(ye===null){for(;Oe<$.length;Oe++)ye=re(q,$[Oe],ne),ye!==null&&(F=g(ye,F,Oe),Ye===null?xe=ye:Ye.sibling=ye,Ye=ye);return Ke&&Ts(q,Oe),xe}for(ye=c(ye);Oe<$.length;Oe++)Fe=J(ye,q,Oe,$[Oe],ne),Fe!==null&&(i&&Fe.alternate!==null&&ye.delete(Fe.key===null?Oe:Fe.key),F=g(Fe,F,Oe),Ye===null?xe=Fe:Ye.sibling=Fe,Ye=Fe);return i&&ye.forEach(function(Nr){return r(q,Nr)}),Ke&&Ts(q,Oe),xe}function _e(q,F,$,ne){if($==null)throw Error(s(151));for(var xe=null,Ye=null,ye=F,Oe=F=0,Fe=null,Qe=$.next();ye!==null&&!Qe.done;Oe++,Qe=$.next()){ye.index>Oe?(Fe=ye,ye=null):Fe=ye.sibling;var Nr=Q(q,ye,Qe.value,ne);if(Nr===null){ye===null&&(ye=Fe);break}i&&ye&&Nr.alternate===null&&r(q,ye),F=g(Nr,F,Oe),Ye===null?xe=Nr:Ye.sibling=Nr,Ye=Nr,ye=Fe}if(Qe.done)return o(q,ye),Ke&&Ts(q,Oe),xe;if(ye===null){for(;!Qe.done;Oe++,Qe=$.next())Qe=re(q,Qe.value,ne),Qe!==null&&(F=g(Qe,F,Oe),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe);return Ke&&Ts(q,Oe),xe}for(ye=c(ye);!Qe.done;Oe++,Qe=$.next())Qe=J(ye,q,Oe,Qe.value,ne),Qe!==null&&(i&&Qe.alternate!==null&&ye.delete(Qe.key===null?Oe:Qe.key),F=g(Qe,F,Oe),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe);return i&&ye.forEach(function(JR){return r(q,JR)}),Ke&&Ts(q,Oe),xe}function at(q,F,$,ne){if(typeof $=="object"&&$!==null&&$.type===O&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case R:e:{for(var xe=$.key;F!==null;){if(F.key===xe){if(xe=$.type,xe===O){if(F.tag===7){o(q,F.sibling),ne=f(F,$.props.children),ne.return=q,q=ne;break e}}else if(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===E&&Sa(xe)===F.type){o(q,F.sibling),ne=f(F,$.props),nc(ne,$),ne.return=q,q=ne;break e}o(q,F);break}else r(q,F);F=F.sibling}$.type===O?(ne=ba($.props.children,q.mode,ne,$.key),ne.return=q,q=ne):(ne=ch($.type,$.key,$.props,null,q.mode,ne),nc(ne,$),ne.return=q,q=ne)}return _(q);case k:e:{for(xe=$.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){o(q,F.sibling),ne=f(F,$.children||[]),ne.return=q,q=ne;break e}else{o(q,F);break}else r(q,F);F=F.sibling}ne=rm($,q.mode,ne),ne.return=q,q=ne}return _(q);case E:return $=Sa($),at(q,F,$,ne)}if(we($))return ge(q,F,$,ne);if(D($)){if(xe=D($),typeof xe!="function")throw Error(s(150));return $=xe.call($),_e(q,F,$,ne)}if(typeof $.then=="function")return at(q,F,gh($),ne);if($.$$typeof===H)return at(q,F,fh(q,$),ne);yh(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(o(q,F.sibling),ne=f(F,$),ne.return=q,q=ne):(o(q,F),ne=sm($,q.mode,ne),ne.return=q,q=ne),_(q)):o(q,F)}return function(q,F,$,ne){try{tc=0;var xe=at(q,F,$,ne);return _o=null,xe}catch(ye){if(ye===bo||ye===mh)throw ye;var Ye=Pn(29,ye,null,q.mode);return Ye.lanes=ne,Ye.return=q,Ye}}}var Ca=Kv(!0),$v=Kv(!1),fr=!1;function ym(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function dr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=lh(i),Iv(i,null,o),r}return oh(i,c,r,o),lh(i)}function ic(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Il(i,o)}}function xm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var bm=!1;function sc(){if(bm){var i=xo;if(i!==null)throw i}}function rc(i,r,o,c){bm=!1;var f=i.updateQueue;fr=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var L=S,Y=L.next;L.next=null,_===null?g=Y:_.next=Y,_=L;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==_&&(S===null?ee.firstBaseUpdate=Y:S.next=Y,ee.lastBaseUpdate=L))}if(g!==null){var re=f.baseState;_=0,ee=Y=L=null,S=g;do{var Q=S.lane&-536870913,J=Q!==S.lane;if(J?(ze&Q)===Q:(c&Q)===Q){Q!==0&&Q===vo&&(bm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=i,_e=S;Q=r;var at=o;switch(_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){re=ge.call(at,re,Q);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,Q=typeof ge=="function"?ge.call(at,re,Q):ge,Q==null)break e;re=b({},re,Q);break e;case 2:fr=!0}}Q=S.callback,Q!==null&&(i.flags|=64,J&&(i.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(Y=ee=J,L=re):ee=ee.next=J,_|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;J=S,S=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ee===null&&(L=re),f.baseState=L,f.firstBaseUpdate=Y,f.lastBaseUpdate=ee,g===null&&(f.shared.lanes=0),xr|=_,i.lanes=_,i.memoizedState=re}}function Yv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Qv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yv(o[i],r)}var wo=z(null),vh=z(0);function Xv(i,r){i=Ms,ce(vh,i),ce(wo,r),Ms=i|r.baseLanes}function _m(){ce(vh,Ms),ce(wo,wo.current)}function wm(){Ms=vh.current,Z(wo),Z(vh)}var On=z(null),ri=null;function pr(i){var r=i.alternate;ce(St,St.current&1),ce(On,i),ri===null&&(r===null||wo.current!==null||r.memoizedState!==null)&&(ri=i)}function Tm(i){ce(St,St.current),ce(On,i),ri===null&&(ri=i)}function Wv(i){i.tag===22?(ce(St,St.current),ce(On,i),ri===null&&(ri=i)):gr()}function gr(){ce(St,St.current),ce(On,On.current)}function Ln(i){Z(On),ri===i&&(ri=null),Z(St)}var St=z(0);function xh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Np(o)||Ip(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var As=0,Pe=null,st=null,Pt=null,bh=!1,To=!1,Ra=!1,_h=0,ac=0,Eo=null,F2=0;function bt(){throw Error(s(321))}function Em(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Vn(i[o],r[o]))return!1;return!0}function Sm(i,r,o,c,f,g){return As=g,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=i===null||i.memoizedState===null?Mx:Bm,Ra=!1,g=o(c,f),Ra=!1,To&&(g=Zv(r,o,c,f)),Jv(i),g}function Jv(i){G.H=cc;var r=st!==null&&st.next!==null;if(As=0,Pt=st=Pe=null,bh=!1,ac=0,Eo=null,r)throw Error(s(300));i===null||Ot||(i=i.dependencies,i!==null&&hh(i)&&(Ot=!0))}function Zv(i,r,o,c){Pe=i;var f=0;do{if(To&&(Eo=null),ac=0,To=!1,25<=f)throw Error(s(301));if(f+=1,Pt=st=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}G.H=Vx,g=r(o,c)}while(To);return g}function H2(){var i=G.H,r=i.useState()[0];return r=typeof r.then=="function"?oc(r):r,i=i.useState()[0],(st!==null?st.memoizedState:null)!==i&&(Pe.flags|=1024),r}function Am(){var i=_h!==0;return _h=0,i}function Cm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Rm(i){if(bh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}bh=!1}As=0,Pt=st=Pe=null,To=!1,ac=_h=0,Eo=null}function xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function At(){if(st===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=st.next;var r=Pt===null?Pe.memoizedState:Pt.next;if(r!==null)Pt=r,st=i;else{if(i===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));st=i,i={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Pt===null?Pe.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(i){var r=ac;return ac+=1,Eo===null&&(Eo=[]),i=Hv(Eo,i,r),r=Pe,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Mx:Bm),i}function Th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return oc(i);if(i.$$typeof===H)return nn(i)}throw Error(s(438,String(i)))}function Nm(i){var r=null,o=Pe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wh(),Pe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=P;return r.index++,o}function Cs(i,r){return typeof r=="function"?r(i):r}function Eh(i){var r=At();return Im(r,st,i)}function Im(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,g=c.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}r.baseQueue=f=g,c.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var S=_=null,L=null,Y=r,ee=!1;do{var re=Y.lane&-536870913;if(re!==Y.lane?(ze&re)===re:(As&re)===re){var Q=Y.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),re===vo&&(ee=!0);else if((As&Q)===Q){Y=Y.next,Q===vo&&(ee=!0);continue}else re={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(S=L=re,_=g):L=L.next=re,Pe.lanes|=Q,xr|=Q;re=Y.action,Ra&&o(g,re),g=Y.hasEagerState?Y.eagerState:o(g,re)}else Q={lane:re,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(S=L=Q,_=g):L=L.next=Q,Pe.lanes|=re,xr|=re;Y=Y.next}while(Y!==null&&Y!==r);if(L===null?_=g:L.next=S,!Vn(g,i.memoizedState)&&(Ot=!0,ee&&(o=xo,o!==null)))throw o;i.memoizedState=g,i.baseState=_,i.baseQueue=L,c.lastRenderedState=g}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Dm(i){var r=At(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do g=i(g,_.action),_=_.next;while(_!==f);Vn(g,r.memoizedState)||(Ot=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function ex(i,r,o){var c=Pe,f=At(),g=Ke;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Vn((st||f).memoizedState,o);if(_&&(f.memoizedState=o,Ot=!0),f=f.queue,Mm(ix.bind(null,c,f,i),[i]),f.getSnapshot!==r||_||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,So(9,{destroy:void 0},nx.bind(null,c,f,o,r),null),ot===null)throw Error(s(349));g||(As&127)!==0||tx(c,r,o)}return o}function tx(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Pe.updateQueue,r===null?(r=wh(),Pe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function nx(i,r,o,c){r.value=o,r.getSnapshot=c,sx(r)&&rx(i)}function ix(i,r,o){return o(function(){sx(r)&&rx(i)})}function sx(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Vn(i,o)}catch{return!0}}function rx(i){var r=xa(i,2);r!==null&&Rn(r,i,2)}function km(i){var r=xn();if(typeof i=="function"){var o=i;if(i=o(),Ra){Qn(!0);try{o()}finally{Qn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:i},r}function ax(i,r,o,c){return i.baseState=o,Im(i,st,typeof c=="function"?c:Cs)}function q2(i,r,o,c,f){if(Ch(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};G.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,ox(r,g)):(g.next=o.next,r.pending=o.next=g)}}function ox(i,r){var o=r.action,c=r.payload,f=i.state;if(r.isTransition){var g=G.T,_={};G.T=_;try{var S=o(f,c),L=G.S;L!==null&&L(_,S),lx(i,r,S)}catch(Y){jm(i,r,Y)}finally{g!==null&&_.types!==null&&(g.types=_.types),G.T=g}}else try{g=o(f,c),lx(i,r,g)}catch(Y){jm(i,r,Y)}}function lx(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){cx(i,r,c)},function(c){return jm(i,r,c)}):cx(i,r,o)}function cx(i,r,o){r.status="fulfilled",r.value=o,ux(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,ox(i,o)))}function jm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,ux(r),r=r.next;while(r!==c)}i.action=null}function ux(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function hx(i,r){return r}function fx(i,r){if(Ke){var o=ot.formState;if(o!==null){e:{var c=Pe;if(Ke){if(ut){t:{for(var f=ut,g=si;f.nodeType!==8;){if(!g){f=null;break t}if(f=ai(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ut=ai(f.nextSibling),c=f.data==="F!";break e}}ur(c)}c=!1}c&&(r=o[0])}}return o=xn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hx,lastRenderedState:r},o.queue=c,o=Dx.bind(null,Pe,c),c.dispatch=o,c=km(!1),g=Um.bind(null,Pe,!1,c.queue),c=xn(),f={state:r,dispatch:null,action:i,pending:null},c.queue=f,o=q2.bind(null,Pe,f,g,o),f.dispatch=o,c.memoizedState=i,[r,o,!1]}function dx(i){var r=At();return mx(r,st,i)}function mx(i,r,o){if(r=Im(i,r,hx)[0],i=Eh(Cs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=oc(r)}catch(_){throw _===bo?mh:_}else c=r;r=At();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Pe.flags|=2048,So(9,{destroy:void 0},G2.bind(null,f,o),null)),[c,g,i]}function G2(i,r){i.action=r}function px(i){var r=At(),o=st;if(o!==null)return mx(r,o,i);At(),r=r.memoizedState,o=At();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function So(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=wh(),Pe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function gx(){return At().memoizedState}function Sh(i,r,o,c){var f=xn();Pe.flags|=i,f.memoizedState=So(1|r,{destroy:void 0},o,c===void 0?null:c)}function Ah(i,r,o,c){var f=At();c=c===void 0?null:c;var g=f.memoizedState.inst;st!==null&&c!==null&&Em(c,st.memoizedState.deps)?f.memoizedState=So(r,g,o,c):(Pe.flags|=i,f.memoizedState=So(1|r,g,o,c))}function yx(i,r){Sh(8390656,8,i,r)}function Mm(i,r){Ah(2048,8,i,r)}function K2(i){Pe.flags|=4;var r=Pe.updateQueue;if(r===null)r=wh(),Pe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function vx(i){var r=At().memoizedState;return K2({ref:r,nextImpl:i}),function(){if((We&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function xx(i,r){return Ah(4,2,i,r)}function bx(i,r){return Ah(4,4,i,r)}function _x(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function wx(i,r,o){o=o!=null?o.concat([i]):null,Ah(4,4,_x.bind(null,r,i),o)}function Vm(){}function Tx(i,r){var o=At();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Em(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Ex(i,r){var o=At();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Em(r,c[1]))return c[0];if(c=i(),Ra){Qn(!0);try{i()}finally{Qn(!1)}}return o.memoizedState=[c,r],c}function Pm(i,r,o){return o===void 0||(As&1073741824)!==0&&(ze&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Sb(),Pe.lanes|=i,xr|=i,o)}function Sx(i,r,o,c){return Vn(o,r)?o:wo.current!==null?(i=Pm(i,o,c),Vn(i,r)||(Ot=!0),i):(As&42)===0||(As&1073741824)!==0&&(ze&261930)===0?(Ot=!0,i.memoizedState=o):(i=Sb(),Pe.lanes|=i,xr|=i,r)}function Ax(i,r,o,c,f){var g=ie.p;ie.p=g!==0&&8>g?g:8;var _=G.T,S={};G.T=S,Um(i,!1,r,o);try{var L=f(),Y=G.S;if(Y!==null&&Y(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=z2(L,c);lc(i,r,ee,zn(i))}else lc(i,r,c,zn(i))}catch(re){lc(i,r,{then:function(){},status:"rejected",reason:re},zn())}finally{ie.p=g,_!==null&&S.types!==null&&(_.types=S.types),G.T=_}}function $2(){}function Om(i,r,o,c){if(i.tag!==5)throw Error(s(476));var f=Cx(i).queue;Ax(i,f,r,fe,o===null?$2:function(){return Rx(i),o(c)})}function Cx(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Rx(i){var r=Cx(i);r.next===null&&(r=i.alternate.memoizedState),lc(i,r.next.queue,{},zn())}function Lm(){return nn(Sc)}function Nx(){return At().memoizedState}function Ix(){return At().memoizedState}function Y2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=zn();i=dr(o);var c=mr(r,i,o);c!==null&&(Rn(c,r,o),ic(c,r,o)),r={cache:dm()},i.payload=r;return}r=r.return}}function Q2(i,r,o){var c=zn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ch(i)?kx(r,o):(o=nm(i,r,o,c),o!==null&&(Rn(o,i,c),jx(o,r,c)))}function Dx(i,r,o){var c=zn();lc(i,r,o,c)}function lc(i,r,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ch(i))kx(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,S=g(_,o);if(f.hasEagerState=!0,f.eagerState=S,Vn(S,_))return oh(i,r,f,0),ot===null&&ah(),!1}catch{}if(o=nm(i,r,f,c),o!==null)return Rn(o,i,c),jx(o,r,c),!0}return!1}function Um(i,r,o,c){if(c={lane:2,revertLane:yp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ch(i)){if(r)throw Error(s(479))}else r=nm(i,o,c,2),r!==null&&Rn(r,i,2)}function Ch(i){var r=i.alternate;return i===Pe||r!==null&&r===Pe}function kx(i,r){To=bh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function jx(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Il(i,o)}}var cc={readContext:nn,use:Th,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};cc.useEffectEvent=bt;var Mx={readContext:nn,use:Th,useCallback:function(i,r){return xn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:yx,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Sh(4194308,4,_x.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Sh(4194308,4,i,r)},useInsertionEffect:function(i,r){Sh(4,2,i,r)},useMemo:function(i,r){var o=xn();r=r===void 0?null:r;var c=i();if(Ra){Qn(!0);try{i()}finally{Qn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=xn();if(o!==void 0){var f=o(r);if(Ra){Qn(!0);try{o(r)}finally{Qn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=Q2.bind(null,Pe,i),[c.memoizedState,i]},useRef:function(i){var r=xn();return i={current:i},r.memoizedState=i},useState:function(i){i=km(i);var r=i.queue,o=Dx.bind(null,Pe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Vm,useDeferredValue:function(i,r){var o=xn();return Pm(o,i,r)},useTransition:function(){var i=km(!1);return i=Ax.bind(null,Pe,i.queue,!0,!1),xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Pe,f=xn();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ot===null)throw Error(s(349));(ze&127)!==0||tx(c,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,yx(ix.bind(null,c,g,i),[i]),c.flags|=2048,So(9,{destroy:void 0},nx.bind(null,c,g,o,r),null),o},useId:function(){var i=xn(),r=ot.identifierPrefix;if(Ke){var o=ns,c=ts;o=(c&~(1<<32-Tt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=_h++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=F2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Lm,useFormState:fx,useActionState:fx,useOptimistic:function(i){var r=xn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Um.bind(null,Pe,!0,o),o.dispatch=r,[i,r]},useMemoCache:Nm,useCacheRefresh:function(){return xn().memoizedState=Y2.bind(null,Pe)},useEffectEvent:function(i){var r=xn(),o={impl:i};return r.memoizedState=o,function(){if((We&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Bm={readContext:nn,use:Th,useCallback:Tx,useContext:nn,useEffect:Mm,useImperativeHandle:wx,useInsertionEffect:xx,useLayoutEffect:bx,useMemo:Ex,useReducer:Eh,useRef:gx,useState:function(){return Eh(Cs)},useDebugValue:Vm,useDeferredValue:function(i,r){var o=At();return Sx(o,st.memoizedState,i,r)},useTransition:function(){var i=Eh(Cs)[0],r=At().memoizedState;return[typeof i=="boolean"?i:oc(i),r]},useSyncExternalStore:ex,useId:Nx,useHostTransitionStatus:Lm,useFormState:dx,useActionState:dx,useOptimistic:function(i,r){var o=At();return ax(o,st,i,r)},useMemoCache:Nm,useCacheRefresh:Ix};Bm.useEffectEvent=vx;var Vx={readContext:nn,use:Th,useCallback:Tx,useContext:nn,useEffect:Mm,useImperativeHandle:wx,useInsertionEffect:xx,useLayoutEffect:bx,useMemo:Ex,useReducer:Dm,useRef:gx,useState:function(){return Dm(Cs)},useDebugValue:Vm,useDeferredValue:function(i,r){var o=At();return st===null?Pm(o,i,r):Sx(o,st.memoizedState,i,r)},useTransition:function(){var i=Dm(Cs)[0],r=At().memoizedState;return[typeof i=="boolean"?i:oc(i),r]},useSyncExternalStore:ex,useId:Nx,useHostTransitionStatus:Lm,useFormState:px,useActionState:px,useOptimistic:function(i,r){var o=At();return st!==null?ax(o,st,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:Ix};Vx.useEffectEvent=vx;function zm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Fm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=zn(),f=dr(c);f.payload=r,o!=null&&(f.callback=o),r=mr(i,f,c),r!==null&&(Rn(r,i,c),ic(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=zn(),f=dr(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=mr(i,f,c),r!==null&&(Rn(r,i,c),ic(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=zn(),c=dr(o);c.tag=2,r!=null&&(c.callback=r),r=mr(i,c,o),r!==null&&(Rn(r,i,o),ic(r,i,o))}};function Px(i,r,o,c,f,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,_):r.prototype&&r.prototype.isPureReactComponent?!Ql(o,c)||!Ql(f,g):!0}function Ox(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Fm.enqueueReplaceState(r,r.state,null)}function Na(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function Lx(i){rh(i)}function Ux(i){console.error(i)}function Bx(i){rh(i)}function Rh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function zx(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hm(i,r,o){return o=dr(o),o.tag=3,o.payload={element:null},o.callback=function(){Rh(i,r)},o}function Fx(i){return i=dr(i),i.tag=3,i}function Hx(i,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;i.payload=function(){return f(g)},i.callback=function(){zx(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){zx(r,o,c),typeof f!="function"&&(br===null?br=new Set([this]):br.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function X2(i,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&yo(r,o,f,!0),o=On.current,o!==null){switch(o.tag){case 31:case 13:return ri===null?Bh():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===ph?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),mp(i,c,f)),!1;case 22:return o.flags|=65536,c===ph?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),mp(i,c,f)),!1}throw Error(s(435,o.tag))}return mp(i,c,f),Bh(),!1}if(Ke)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==lm&&(i=Error(s(422),{cause:c}),Jl(ti(i,o)))):(c!==lm&&(r=Error(s(423),{cause:c}),Jl(ti(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=ti(c,o),f=Hm(i.stateNode,c,f),xm(i,f),_t!==4&&(_t=2)),!1;var g=Error(s(520),{cause:c});if(g=ti(g,o),yc===null?yc=[g]:yc.push(g),_t!==4&&(_t=2),r===null)return!0;c=ti(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Hm(o.stateNode,c,i),xm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(br===null||!br.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Fx(f),Hx(f,i,o,c),xm(o,f),!1}o=o.return}while(o!==null);return!1}var qm=Error(s(461)),Ot=!1;function sn(i,r,o,c){r.child=i===null?$v(r,null,o,c):Ca(r,i.child,o,c)}function qx(i,r,o,c,f){o=o.render;var g=r.ref;if("ref"in c){var _={};for(var S in c)S!=="ref"&&(_[S]=c[S])}else _=c;return Ta(r),c=Sm(i,r,o,_,g,f),S=Am(),i!==null&&!Ot?(Cm(i,r,f),Rs(i,r,f)):(Ke&&S&&am(r),r.flags|=1,sn(i,r,c,f),r.child)}function Gx(i,r,o,c,f){if(i===null){var g=o.type;return typeof g=="function"&&!im(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Kx(i,r,g,c,f)):(i=ch(o.type,null,c,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Jm(i,f)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(_,c)&&i.ref===r.ref)return Rs(i,r,f)}return r.flags|=1,i=ws(g,c),i.ref=r.ref,i.return=r,r.child=i}function Kx(i,r,o,c,f){if(i!==null){var g=i.memoizedProps;if(Ql(g,c)&&i.ref===r.ref)if(Ot=!1,r.pendingProps=c=g,Jm(i,f))(i.flags&131072)!==0&&(Ot=!0);else return r.lanes=i.lanes,Rs(i,r,f)}return Gm(i,r,o,c,f)}function $x(i,r,o,c){var f=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~g}else c=0,r.child=null;return Yx(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&dh(r,g!==null?g.cachePool:null),g!==null?Xv(r,g):_m(),Wv(r);else return c=r.lanes=536870912,Yx(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(dh(r,g.cachePool),Xv(r,g),gr(),r.memoizedState=null):(i!==null&&dh(r,null),_m(),gr());return sn(i,r,f,o),r.child}function uc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Yx(i,r,o,c,f){var g=pm();return g=g===null?null:{parent:Vt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&dh(r,null),_m(),Wv(r),i!==null&&yo(i,r,c,!0),r.childLanes=f,null}function Nh(i,r){return r=Dh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Qx(i,r,o){return Ca(r,i.child,null,o),i=Nh(r,r.pendingProps),i.flags|=2,Ln(r),r.memoizedState=null,i}function W2(i,r,o){var c=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ke){if(c.mode==="hidden")return i=Nh(r,c),r.lanes=536870912,uc(null,i);if(Tm(r),(i=ut)?(i=o_(i,si),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:lr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=kv(i),o.return=r,r.child=o,tn=r,ut=null)):i=null,i===null)throw ur(r);return r.lanes=536870912,null}return Nh(r,c)}var g=i.memoizedState;if(g!==null){var _=g.dehydrated;if(Tm(r),f)if(r.flags&256)r.flags&=-257,r=Qx(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ot||yo(i,r,o,!1),f=(o&i.childLanes)!==0,Ot||f){if(c=ot,c!==null&&(_=Dl(c,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,xa(i,_),Rn(c,i,_),qm;Bh(),r=Qx(i,r,o)}else i=g.treeContext,ut=ai(_.nextSibling),tn=r,Ke=!0,cr=null,si=!1,i!==null&&Vv(r,i),r=Nh(r,c),r.flags|=4096;return r}return i=ws(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ih(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Gm(i,r,o,c,f){return Ta(r),o=Sm(i,r,o,c,void 0,f),c=Am(),i!==null&&!Ot?(Cm(i,r,f),Rs(i,r,f)):(Ke&&c&&am(r),r.flags|=1,sn(i,r,o,f),r.child)}function Xx(i,r,o,c,f,g){return Ta(r),r.updateQueue=null,o=Zv(r,c,o,f),Jv(i),c=Am(),i!==null&&!Ot?(Cm(i,r,g),Rs(i,r,g)):(Ke&&c&&am(r),r.flags|=1,sn(i,r,o,g),r.child)}function Wx(i,r,o,c,f){if(Ta(r),r.stateNode===null){var g=fo,_=o.contextType;typeof _=="object"&&_!==null&&(g=nn(_)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Fm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},ym(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?nn(_):fo,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(zm(r,o,_,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Fm.enqueueReplaceState(g,g.state,null),rc(r,c,g,f),sc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,L=Na(o,S);g.props=L;var Y=g.context,ee=o.contextType;_=fo,typeof ee=="object"&&ee!==null&&(_=nn(ee));var re=o.getDerivedStateFromProps;ee=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==_)&&Ox(r,g,c,_),fr=!1;var Q=r.memoizedState;g.state=Q,rc(r,c,g,f),sc(),Y=r.memoizedState,S||Q!==Y||fr?(typeof re=="function"&&(zm(r,o,re,c),Y=r.memoizedState),(L=fr||Px(r,o,L,c,Q,Y,_))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),g.props=c,g.state=Y,g.context=_,c=L):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,vm(i,r),_=r.memoizedProps,ee=Na(o,_),g.props=ee,re=r.pendingProps,Q=g.context,Y=o.contextType,L=fo,typeof Y=="object"&&Y!==null&&(L=nn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==re||Q!==L)&&Ox(r,g,c,L),fr=!1,Q=r.memoizedState,g.state=Q,rc(r,c,g,f),sc();var J=r.memoizedState;_!==re||Q!==J||fr||i!==null&&i.dependencies!==null&&hh(i.dependencies)?(typeof S=="function"&&(zm(r,o,S,c),J=r.memoizedState),(ee=fr||Px(r,o,ee,c,Q,J,L)||i!==null&&i.dependencies!==null&&hh(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,L)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=J),g.props=c,g.state=J,g.context=L,c=ee):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Ih(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Ca(r,i.child,null,f),r.child=Ca(r,null,o,f)):sn(i,r,o,f),r.memoizedState=g.state,i=r.child):i=Rs(i,r,f),i}function Jx(i,r,o,c){return _a(),r.flags|=256,sn(i,r,o,c),r.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $m(i){return{baseLanes:i,cachePool:zv()}}function Ym(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Bn),i}function Zx(i,r,o){var c=r.pendingProps,f=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=i!==null&&i.memoizedState===null?!1:(St.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ke){if(f?pr(r):gr(),(i=ut)?(i=o_(i,si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:lr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=kv(i),o.return=r,r.child=o,tn=r,ut=null)):i=null,i===null)throw ur(r);return Ip(i)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,f?(gr(),f=r.mode,S=Dh({mode:"hidden",children:S},f),c=ba(c,f,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=$m(o),c.childLanes=Ym(i,_,o),r.memoizedState=Km,uc(null,c)):(pr(r),Qm(r,S))}var L=i.memoizedState;if(L!==null&&(S=L.dehydrated,S!==null)){if(g)r.flags&256?(pr(r),r.flags&=-257,r=Xm(i,r,o)):r.memoizedState!==null?(gr(),r.child=i.child,r.flags|=128,r=null):(gr(),S=c.fallback,f=r.mode,c=Dh({mode:"visible",children:c.children},f),S=ba(S,f,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,Ca(r,i.child,null,o),c=r.child,c.memoizedState=$m(o),c.childLanes=Ym(i,_,o),r.memoizedState=Km,r=uc(null,c));else if(pr(r),Ip(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var Y=_.dgst;_=Y,c=Error(s(419)),c.stack="",c.digest=_,Jl({value:c,source:null,stack:null}),r=Xm(i,r,o)}else if(Ot||yo(i,r,o,!1),_=(o&i.childLanes)!==0,Ot||_){if(_=ot,_!==null&&(c=Dl(_,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,xa(i,c),Rn(_,i,c),qm;Np(S)||Bh(),r=Xm(i,r,o)}else Np(S)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,ut=ai(S.nextSibling),tn=r,Ke=!0,cr=null,si=!1,i!==null&&Vv(r,i),r=Qm(r,c.children),r.flags|=4096);return r}return f?(gr(),S=c.fallback,f=r.mode,L=i.child,Y=L.sibling,c=ws(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Y!==null?S=ws(Y,S):(S=ba(S,f,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,uc(null,c),c=r.child,S=i.child.memoizedState,S===null?S=$m(o):(f=S.cachePool,f!==null?(L=Vt._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=zv(),S={baseLanes:S.baseLanes|o,cachePool:f}),c.memoizedState=S,c.childLanes=Ym(i,_,o),r.memoizedState=Km,uc(i.child,c)):(pr(r),o=i.child,i=o.sibling,o=ws(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function Qm(i,r){return r=Dh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Dh(i,r){return i=Pn(22,i,null,r),i.lanes=0,i}function Xm(i,r,o){return Ca(r,i.child,null,o),i=Qm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function eb(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),hm(i.return,r,o)}function Wm(i,r,o,c,f,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=f,_.treeForkCount=g)}function tb(i,r,o){var c=r.pendingProps,f=c.revealOrder,g=c.tail;c=c.children;var _=St.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,ce(St,_),sn(i,r,c,o),c=Ke?Wl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eb(i,o,r);else if(i.tag===19)eb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&xh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Wm(r,!1,f,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&xh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Wm(r,!0,o,null,g,c);break;case"together":Wm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Rs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),xr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(yo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ws(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ws(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Jm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&hh(i)))}function J2(i,r,o){switch(r.tag){case 3:le(r,r.stateNode.containerInfo),hr(r,Vt,i.memoizedState.cache),_a();break;case 27:case 5:Me(r);break;case 4:le(r,r.stateNode.containerInfo);break;case 10:hr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Tm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(pr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Zx(i,r,o):(pr(r),i=Rs(i,r,o),i!==null?i.sibling:null);pr(r);break;case 19:var f=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(yo(i,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return tb(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(St,St.current),c)break;return null;case 22:return r.lanes=0,$x(i,r,o,r.pendingProps);case 24:hr(r,Vt,i.memoizedState.cache)}return Rs(i,r,o)}function nb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ot=!0;else{if(!Jm(i,o)&&(r.flags&128)===0)return Ot=!1,J2(i,r,o);Ot=(i.flags&131072)!==0}else Ot=!1,Ke&&(r.flags&1048576)!==0&&Mv(r,Wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Sa(r.elementType),r.type=i,typeof i=="function")im(i)?(c=Na(i,c),r.tag=1,r=Wx(null,r,i,c,o)):(r.tag=0,r=Gm(null,r,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===X){r.tag=11,r=qx(null,r,i,c,o);break e}else if(f===A){r.tag=14,r=Gx(null,r,i,c,o);break e}}throw r=he(i)||i,Error(s(306,r,""))}}return r;case 0:return Gm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=Na(c,r.pendingProps),Wx(i,r,c,f,o);case 3:e:{if(le(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;f=g.element,vm(i,r),rc(r,c,null,o);var _=r.memoizedState;if(c=_.cache,hr(r,Vt,c),c!==g.cache&&fm(r,[Vt],o,!0),sc(),c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Jx(i,r,c,o);break e}else if(c!==f){f=ti(Error(s(424)),r),Jl(f),r=Jx(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ut=ai(i.firstChild),tn=r,Ke=!0,cr=null,si=!0,o=$v(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(_a(),c===f){r=Rs(i,r,o);break e}sn(i,r,c,o)}r=r.child}return r;case 26:return Ih(i,r),i===null?(o=d_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,i=r.pendingProps,c=$h(Ne.current).createElement(o),c[kt]=r,c[Yt]=i,rn(c,o,i),jt(c),r.stateNode=c):r.memoizedState=d_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Me(r),i===null&&Ke&&(c=r.stateNode=u_(r.type,r.pendingProps,Ne.current),tn=r,si=!0,f=ut,Er(r.type)?(Dp=f,ut=ai(c.firstChild)):ut=f),sn(i,r,r.pendingProps.children,o),Ih(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ke&&((f=c=ut)&&(c=RR(c,r.type,r.pendingProps,si),c!==null?(r.stateNode=c,tn=r,ut=ai(c.firstChild),si=!1,f=!0):f=!1),f||ur(r)),Me(r),f=r.type,g=r.pendingProps,_=i!==null?i.memoizedProps:null,c=g.children,Ap(f,g)?c=null:_!==null&&Ap(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Sm(i,r,H2,null,null,o),Sc._currentValue=f),Ih(i,r),sn(i,r,c,o),r.child;case 6:return i===null&&Ke&&((i=o=ut)&&(o=NR(o,r.pendingProps,si),o!==null?(r.stateNode=o,tn=r,ut=null,i=!0):i=!1),i||ur(r)),null;case 13:return Zx(i,r,o);case 4:return le(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Ca(r,null,c,o):sn(i,r,c,o),r.child;case 11:return qx(i,r,r.type,r.pendingProps,o);case 7:return sn(i,r,r.pendingProps,o),r.child;case 8:return sn(i,r,r.pendingProps.children,o),r.child;case 12:return sn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,hr(r,r.type,c.value),sn(i,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,Ta(r),f=nn(f),c=c(f),r.flags|=1,sn(i,r,c,o),r.child;case 14:return Gx(i,r,r.type,r.pendingProps,o);case 15:return Kx(i,r,r.type,r.pendingProps,o);case 19:return tb(i,r,o);case 31:return W2(i,r,o);case 22:return $x(i,r,o,r.pendingProps);case 24:return Ta(r),c=nn(Vt),i===null?(f=pm(),f===null&&(f=ot,g=dm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:c,cache:f},ym(r),hr(r,Vt,f)):((i.lanes&o)!==0&&(vm(i,r),rc(r,null,null,o),sc()),f=i.memoizedState,g=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),hr(r,Vt,c)):(c=g.cache,hr(r,Vt,c),c!==f.cache&&fm(r,[Vt],o,!0))),sn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ns(i){i.flags|=4}function Zm(i,r,o,c,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Nb())i.flags|=8192;else throw Aa=ph,gm}else i.flags&=-16777217}function ib(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!v_(r))if(Nb())i.flags|=8192;else throw Aa=ph,gm}function kh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Lu():536870912,i.lanes|=r,No|=r)}function hc(i,r){if(!Ke)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ht(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function Z2(i,r,o){var c=r.pendingProps;switch(om(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ss(Vt),ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(go(r)?Ns(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cm())),ht(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(Ns(r),g!==null?(ht(r),ib(r,g)):(ht(r),Zm(r,f,null,c,o))):g?g!==i.memoizedState?(Ns(r),ht(r),ib(r,g)):(ht(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ns(r),ht(r),Zm(r,f,i,c,o)),null;case 27:if(Jt(r),o=Ne.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ns(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ht(r),null}i=me.current,go(r)?Pv(r):(i=u_(f,c,o),r.stateNode=i,Ns(r))}return ht(r),null;case 5:if(Jt(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ns(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(g=me.current,go(r))Pv(r);else{var _=$h(Ne.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?_.createElement(f,{is:c.is}):_.createElement(f)}}g[kt]=r,g[Yt]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(rn(g,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ns(r)}}return ht(r),Zm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ns(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ne.current,go(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,f=tn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[kt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Zb(i.nodeValue,o)),i||ur(r,!0)}else i=$h(i).createTextNode(c),i[kt]=r,r.stateNode=i}return ht(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=go(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[kt]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),i=!1}else o=cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Ln(r),r):(Ln(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=go(r),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),f=!1}else f=cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ln(r),r):(Ln(r),null)}return Ln(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),kh(r,r.updateQueue),ht(r),null);case 4:return ve(),i===null&&_p(r.stateNode.containerInfo),ht(r),null;case 10:return Ss(r.type),ht(r),null;case 19:if(Z(St),c=r.memoizedState,c===null)return ht(r),null;if(f=(r.flags&128)!==0,g=c.rendering,g===null)if(f)hc(c,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=xh(i),g!==null){for(r.flags|=128,hc(c,!1),i=g.updateQueue,r.updateQueue=i,kh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Dv(o,i),o=o.sibling;return ce(St,St.current&1|2),Ke&&Ts(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&yn()>Oh&&(r.flags|=128,f=!0,hc(c,!1),r.lanes=4194304)}else{if(!f)if(i=xh(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,kh(r,i),hc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ke)return ht(r),null}else 2*yn()-c.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,f=!0,hc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=yn(),i.sibling=null,o=St.current,ce(St,f?o&1|2:o&1),Ke&&Ts(r,c.treeForkCount),i):(ht(r),null);case 22:case 23:return Ln(r),wm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),o=r.updateQueue,o!==null&&kh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&Z(Ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ss(Vt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function eR(i,r){switch(om(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ss(Vt),ve(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Jt(r),null;case 31:if(r.memoizedState!==null){if(Ln(r),r.alternate===null)throw Error(s(340));_a()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ln(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));_a()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Z(St),null;case 4:return ve(),null;case 10:return Ss(r.type),null;case 22:case 23:return Ln(r),wm(),i!==null&&Z(Ea),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ss(Vt),null;case 25:return null;default:return null}}function sb(i,r){switch(om(r),r.tag){case 3:Ss(Vt),ve();break;case 26:case 27:case 5:Jt(r);break;case 4:ve();break;case 31:r.memoizedState!==null&&Ln(r);break;case 13:Ln(r);break;case 19:Z(St);break;case 10:Ss(r.type);break;case 22:case 23:Ln(r),wm(),i!==null&&Z(Ea);break;case 24:Ss(Vt)}}function fc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var g=o.create,_=o.inst;c=g(),_.destroy=c}o=o.next}while(o!==f)}}catch(S){nt(r,r.return,S)}}function yr(i,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&i)===i){var _=c.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var L=o,Y=S;try{Y()}catch(ee){nt(f,L,ee)}}}c=c.next}while(c!==g)}}catch(ee){nt(r,r.return,ee)}}function rb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Qv(r,o)}catch(c){nt(i,i.return,c)}}}function ab(i,r,o){o.props=Na(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){nt(i,r,c)}}function dc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){nt(i,r,f)}}function is(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){nt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){nt(i,r,f)}else o.current=null}function ob(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){nt(i,i.return,f)}}function ep(i,r,o){try{var c=i.stateNode;wR(c,i.type,o,r),c[Yt]=r}catch(f){nt(i,i.return,f)}}function lb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Er(i.type)||i.tag===4}function tp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Er(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function np(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=xi));else if(c!==4&&(c===27&&Er(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(np(i,r,o),i=i.sibling;i!==null;)np(i,r,o),i=i.sibling}function jh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Er(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(jh(i,r,o),i=i.sibling;i!==null;)jh(i,r,o),i=i.sibling}function cb(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);rn(r,c,o),r[kt]=i,r[Yt]=o}catch(g){nt(i,i.return,g)}}var Is=!1,Lt=!1,ip=!1,ub=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function tR(i,r){if(i=i.containerInfo,Ep=ef,i=wv(i),Xd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,S=-1,L=-1,Y=0,ee=0,re=i,Q=null;t:for(;;){for(var J;re!==o||f!==0&&re.nodeType!==3||(S=_+f),re!==g||c!==0&&re.nodeType!==3||(L=_+c),re.nodeType===3&&(_+=re.nodeValue.length),(J=re.firstChild)!==null;)Q=re,re=J;for(;;){if(re===i)break t;if(Q===o&&++Y===f&&(S=_),Q===g&&++ee===c&&(L=_),(J=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=J}o=S===-1||L===-1?null:{start:S,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sp={focusedElem:i,selectionRange:o},ef=!1,Xt=r;Xt!==null;)if(r=Xt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Xt=i;else for(;Xt!==null;){switch(r=Xt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ge=Na(o.type,f);i=c.getSnapshotBeforeUpdate(ge,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){nt(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Rp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Xt=i;break}Xt=r.return}}function hb(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ks(i,o),c&4&&fc(5,o);break;case 1:if(ks(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){nt(o,o.return,_)}else{var f=Na(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(o,o.return,_)}}c&64&&rb(o),c&512&&dc(o,o.return);break;case 3:if(ks(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Qv(i,r)}catch(_){nt(o,o.return,_)}}break;case 27:r===null&&c&4&&cb(o);case 26:case 5:ks(i,o),r===null&&c&4&&ob(o),c&512&&dc(o,o.return);break;case 12:ks(i,o);break;case 31:ks(i,o),c&4&&mb(i,o);break;case 13:ks(i,o),c&4&&pb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=uR.bind(null,o),IR(i,o))));break;case 22:if(c=o.memoizedState!==null||Is,!c){r=r!==null&&r.memoizedState!==null||Lt,f=Is;var g=Lt;Is=c,(Lt=r)&&!g?js(i,o,(o.subtreeFlags&8772)!==0):ks(i,o),Is=f,Lt=g}break;case 30:break;default:ks(i,o)}}function fb(i){var r=i.alternate;r!==null&&(i.alternate=null,fb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ja(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var mt=null,En=!1;function Ds(i,r,o){for(o=o.child;o!==null;)db(i,r,o),o=o.sibling}function db(i,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 26:Lt||is(o,r),Ds(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||is(o,r);var c=mt,f=En;Er(o.type)&&(mt=o.stateNode,En=!1),Ds(i,r,o),wc(o.stateNode),mt=c,En=f;break;case 5:Lt||is(o,r);case 6:if(c=mt,f=En,mt=null,Ds(i,r,o),mt=c,En=f,mt!==null)if(En)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(g){nt(o,r,g)}else try{mt.removeChild(o.stateNode)}catch(g){nt(o,r,g)}break;case 18:mt!==null&&(En?(i=mt,r_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Oo(i)):r_(mt,o.stateNode));break;case 4:c=mt,f=En,mt=o.stateNode.containerInfo,En=!0,Ds(i,r,o),mt=c,En=f;break;case 0:case 11:case 14:case 15:yr(2,o,r),Lt||yr(4,o,r),Ds(i,r,o);break;case 1:Lt||(is(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ab(o,r,c)),Ds(i,r,o);break;case 21:Ds(i,r,o);break;case 22:Lt=(c=Lt)||o.memoizedState!==null,Ds(i,r,o),Lt=c;break;default:Ds(i,r,o)}}function mb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oo(i)}catch(o){nt(r,r.return,o)}}}function pb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oo(i)}catch(o){nt(r,r.return,o)}}function nR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ub),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ub),r;default:throw Error(s(435,i.tag))}}function Mh(i,r){var o=nR(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var f=hR.bind(null,i,c);c.then(f,f)}})}function Sn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=i,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Er(S.type)){mt=S.stateNode,En=!1;break e}break;case 5:mt=S.stateNode,En=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,En=!0;break e}S=S.return}if(mt===null)throw Error(s(160));db(g,_,f),mt=null,En=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)gb(r,i),r=r.sibling}var Si=null;function gb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(r,i),An(i),c&4&&(yr(3,i,i.return),fc(3,i),yr(5,i,i.return));break;case 1:Sn(r,i),An(i),c&512&&(Lt||o===null||is(o,o.return)),c&64&&Is&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Si;if(Sn(r,i),An(i),c&512&&(Lt||o===null||is(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Hi]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),rn(g,c,o),g[kt]=i,jt(g),c=g;break e;case"link":var _=g_("link","href",f).get(c+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(g=_[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}g=f.createElement(c),rn(g,c,o),f.head.appendChild(g);break;case"meta":if(_=g_("meta","content",f).get(c+(o.content||""))){for(S=0;S<_.length;S++)if(g=_[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}g=f.createElement(c),rn(g,c,o),f.head.appendChild(g);break;default:throw Error(s(468,c))}g[kt]=i,jt(g),c=g}i.stateNode=c}else y_(f,i.type,i.stateNode);else i.stateNode=p_(f,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?y_(f,i.type,i.stateNode):p_(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ep(i,i.memoizedProps,o.memoizedProps)}break;case 27:Sn(r,i),An(i),c&512&&(Lt||o===null||is(o,o.return)),o!==null&&c&4&&ep(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Sn(r,i),An(i),c&512&&(Lt||o===null||is(o,o.return)),i.flags&32){f=i.stateNode;try{Tn(f,"")}catch(ge){nt(i,i.return,ge)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,ep(i,f,o!==null?o.memoizedProps:f)),c&1024&&(ip=!0);break;case 6:if(Sn(r,i),An(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ge){nt(i,i.return,ge)}}break;case 3:if(Xh=null,f=Si,Si=Yh(r.containerInfo),Sn(r,i),Si=f,An(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(r.containerInfo)}catch(ge){nt(i,i.return,ge)}ip&&(ip=!1,yb(i));break;case 4:c=Si,Si=Yh(i.stateNode.containerInfo),Sn(r,i),An(i),Si=c;break;case 12:Sn(r,i),An(i);break;case 31:Sn(r,i),An(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 13:Sn(r,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ph=yn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 22:f=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Y=Is,ee=Lt;if(Is=Y||f,Lt=ee||L,Sn(r,i),Lt=ee,Is=Y,An(i),c&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||L||Is||Lt||Ia(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(g=L.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=L.stateNode;var re=L.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){nt(L,L.return,ge)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(ge){nt(L,L.return,ge)}}}else if(r.tag===18){if(o===null){L=r;try{var J=L.stateNode;f?a_(J,!0):a_(L.stateNode,!1)}catch(ge){nt(L,L.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(i,o))));break;case 19:Sn(r,i),An(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 30:break;case 21:break;default:Sn(r,i),An(i)}}function An(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(lb(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=tp(i);jh(i,g,f);break;case 5:var _=o.stateNode;o.flags&32&&(Tn(_,""),o.flags&=-33);var S=tp(i);jh(i,S,_);break;case 3:case 4:var L=o.stateNode.containerInfo,Y=tp(i);np(i,Y,L);break;default:throw Error(s(161))}}catch(ee){nt(i,i.return,ee)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function yb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;yb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ks(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)hb(i,r.alternate,r),r=r.sibling}function Ia(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:yr(4,r,r.return),Ia(r);break;case 1:is(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ab(r,r.return,o),Ia(r);break;case 27:wc(r.stateNode);case 26:case 5:is(r,r.return),Ia(r);break;case 22:r.memoizedState===null&&Ia(r);break;case 30:Ia(r);break;default:Ia(r)}i=i.sibling}}function js(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=i,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:js(f,g,o),fc(4,g);break;case 1:if(js(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){nt(c,c.return,Y)}if(c=g,f=c.updateQueue,f!==null){var S=c.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)Yv(L[f],S)}catch(Y){nt(c,c.return,Y)}}o&&_&64&&rb(g),dc(g,g.return);break;case 27:cb(g);case 26:case 5:js(f,g,o),o&&c===null&&_&4&&ob(g),dc(g,g.return);break;case 12:js(f,g,o);break;case 31:js(f,g,o),o&&_&4&&mb(f,g);break;case 13:js(f,g,o),o&&_&4&&pb(f,g);break;case 22:g.memoizedState===null&&js(f,g,o),dc(g,g.return);break;case 30:break;default:js(f,g,o)}r=r.sibling}}function sp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zl(o))}function rp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i))}function Ai(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vb(i,r,o,c),r=r.sibling}function vb(i,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(i,r,o,c),f&2048&&fc(9,r);break;case 1:Ai(i,r,o,c);break;case 3:Ai(i,r,o,c),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zl(i)));break;case 12:if(f&2048){Ai(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,_=g.id,S=g.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){nt(r,r.return,L)}}else Ai(i,r,o,c);break;case 31:Ai(i,r,o,c);break;case 13:Ai(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?Ai(i,r,o,c):mc(i,r):g._visibility&2?Ai(i,r,o,c):(g._visibility|=2,Ao(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sp(_,r);break;case 24:Ai(i,r,o,c),f&2048&&rp(r.alternate,r);break;default:Ai(i,r,o,c)}}function Ao(i,r,o,c,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,_=r,S=o,L=c,Y=_.flags;switch(_.tag){case 0:case 11:case 15:Ao(g,_,S,L,f),fc(8,_);break;case 23:break;case 22:var ee=_.stateNode;_.memoizedState!==null?ee._visibility&2?Ao(g,_,S,L,f):mc(g,_):(ee._visibility|=2,Ao(g,_,S,L,f)),f&&Y&2048&&sp(_.alternate,_);break;case 24:Ao(g,_,S,L,f),f&&Y&2048&&rp(_.alternate,_);break;default:Ao(g,_,S,L,f)}r=r.sibling}}function mc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,f=c.flags;switch(c.tag){case 22:mc(o,c),f&2048&&sp(c.alternate,c);break;case 24:mc(o,c),f&2048&&rp(c.alternate,c);break;default:mc(o,c)}r=r.sibling}}var pc=8192;function Co(i,r,o){if(i.subtreeFlags&pc)for(i=i.child;i!==null;)xb(i,r,o),i=i.sibling}function xb(i,r,o){switch(i.tag){case 26:Co(i,r,o),i.flags&pc&&i.memoizedState!==null&&FR(o,Si,i.memoizedState,i.memoizedProps);break;case 5:Co(i,r,o);break;case 3:case 4:var c=Si;Si=Yh(i.stateNode.containerInfo),Co(i,r,o),Si=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=pc,pc=16777216,Co(i,r,o),pc=c):Co(i,r,o));break;default:Co(i,r,o)}}function bb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function gc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Xt=c,wb(c,i)}bb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_b(i),i=i.sibling}function _b(i){switch(i.tag){case 0:case 11:case 15:gc(i),i.flags&2048&&yr(9,i,i.return);break;case 3:gc(i);break;case 12:gc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Vh(i)):gc(i);break;default:gc(i)}}function Vh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Xt=c,wb(c,i)}bb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:yr(8,r,r.return),Vh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Vh(r));break;default:Vh(r)}i=i.sibling}}function wb(i,r){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:yr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Xt=c;else e:for(o=i;Xt!==null;){c=Xt;var f=c.sibling,g=c.return;if(fb(c),c===o){Xt=null;break e}if(f!==null){f.return=g,Xt=f;break e}Xt=g}}}var iR={getCacheForType:function(i){var r=nn(Vt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return nn(Vt).controller.signal}},sR=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Ue=null,ze=0,tt=0,Un=null,vr=!1,Ro=!1,ap=!1,Ms=0,_t=0,xr=0,Da=0,op=0,Bn=0,No=0,yc=null,Cn=null,lp=!1,Ph=0,Tb=0,Oh=1/0,Lh=null,br=null,qt=0,_r=null,Io=null,Vs=0,cp=0,up=null,Eb=null,vc=0,hp=null;function zn(){return(We&2)!==0&&ze!==0?ze&-ze:G.T!==null?yp():Uu()}function Sb(){if(Bn===0)if((ze&536870912)===0||Ke){var i=sa;sa<<=1,(sa&3932160)===0&&(sa=262144),Bn=i}else Bn=536870912;return i=On.current,i!==null&&(i.flags|=32),Bn}function Rn(i,r,o){(i===ot&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(Do(i,0),wr(i,ze,Bn,!1)),ra(i,o),((We&2)===0||i!==ot)&&(i===ot&&((We&2)===0&&(Da|=o),_t===4&&wr(i,ze,Bn,!1)),ss(i))}function Ab(i,r,o){if((We&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||gi(i,r),f=c?oR(i,r):dp(i,r,!0),g=c;do{if(f===0){Ro&&!c&&wr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!rR(o)){f=dp(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=i;f=yc;var L=S.current.memoizedState.isDehydrated;if(L&&(Do(S,_).flags|=256),_=dp(S,_,!1),_!==2){if(ap&&!L){S.errorRecoveryDisabledLanes|=g,Da|=g,f=4;break e}g=Cn,Cn=f,g!==null&&(Cn===null?Cn=g:Cn.push.apply(Cn,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){Do(i,0),wr(i,r,0,!0);break}e:{switch(c=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:wr(c,r,Bn,!vr);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ph+300-yn(),10<f)){if(wr(c,r,Bn,!vr),Bi(c,0,!0)!==0)break e;Vs=r,c.timeoutHandle=i_(Cb.bind(null,c,o,Cn,Lh,lp,r,Bn,Da,No,vr,g,"Throttled",-0,0),f);break e}Cb(c,o,Cn,Lh,lp,r,Bn,Da,No,vr,g,null,-0,0)}}break}while(!0);ss(i)}function Cb(i,r,o,c,f,g,_,S,L,Y,ee,re,Q,J){if(i.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},xb(r,g,re);var ge=(g&62914560)===g?Ph-yn():(g&4194048)===g?Tb-yn():0;if(ge=HR(re,ge),ge!==null){Vs=g,i.cancelPendingCommit=ge(Vb.bind(null,i,r,g,o,c,f,_,S,L,ee,re,null,Q,J)),wr(i,g,_,!Y);return}}Vb(i,r,g,o,c,f,_,S,L)}function rR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!Vn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function wr(i,r,o,c){r&=~op,r&=~Da,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var f=r;0<f;){var g=31-Tt(f),_=1<<g;c[g]=-1,f&=~_}o!==0&&aa(i,o,r)}function Uh(){return(We&6)===0?(xc(0),!1):!0}function fp(){if(Ue!==null){if(tt===0)var i=Ue.return;else i=Ue,Es=wa=null,Rm(i),_o=null,tc=0,i=Ue;for(;i!==null;)sb(i.alternate,i),i=i.return;Ue=null}}function Do(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,SR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Vs=0,fp(),ot=i,Ue=o=ws(i.current,null),ze=r,tt=0,Un=null,vr=!1,Ro=gi(i,r),ap=!1,No=Bn=op=Da=xr=_t=0,Cn=yc=null,lp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var f=31-Tt(c),g=1<<f;r|=i[f],c&=~g}return Ms=r,ah(),o}function Rb(i,r){Pe=null,G.H=cc,r===bo||r===mh?(r=qv(),tt=3):r===gm?(r=qv(),tt=4):tt=r===qm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,Ue===null&&(_t=1,Rh(i,ti(r,i.current)))}function Nb(){var i=On.current;return i===null?!0:(ze&4194048)===ze?ri===null:(ze&62914560)===ze||(ze&536870912)!==0?i===ri:!1}function Ib(){var i=G.H;return G.H=cc,i===null?cc:i}function Db(){var i=G.A;return G.A=iR,i}function Bh(){_t=4,vr||(ze&4194048)!==ze&&On.current!==null||(Ro=!0),(xr&134217727)===0&&(Da&134217727)===0||ot===null||wr(ot,ze,Bn,!1)}function dp(i,r,o){var c=We;We|=2;var f=Ib(),g=Db();(ot!==i||ze!==r)&&(Lh=null,Do(i,r)),r=!1;var _=_t;e:do try{if(tt!==0&&Ue!==null){var S=Ue,L=Un;switch(tt){case 8:fp(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var Y=tt;if(tt=0,Un=null,ko(i,S,L,Y),o&&Ro){_=0;break e}break;default:Y=tt,tt=0,Un=null,ko(i,S,L,Y)}}aR(),_=_t;break}catch(ee){Rb(i,ee)}while(!0);return r&&i.shellSuspendCounter++,Es=wa=null,We=c,G.H=f,G.A=g,Ue===null&&(ot=null,ze=0,ah()),_}function aR(){for(;Ue!==null;)kb(Ue)}function oR(i,r){var o=We;We|=2;var c=Ib(),f=Db();ot!==i||ze!==r?(Lh=null,Oh=yn()+500,Do(i,r)):Ro=gi(i,r);e:do try{if(tt!==0&&Ue!==null){r=Ue;var g=Un;t:switch(tt){case 1:tt=0,Un=null,ko(i,r,g,1);break;case 2:case 9:if(Fv(g)){tt=0,Un=null,jb(r);break}r=function(){tt!==2&&tt!==9||ot!==i||(tt=7),ss(i)},g.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Fv(g)?(tt=0,Un=null,jb(r)):(tt=0,Un=null,ko(i,r,g,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var S=Ue;if(_?v_(_):S.stateNode.complete){tt=0,Un=null;var L=S.sibling;if(L!==null)Ue=L;else{var Y=S.return;Y!==null?(Ue=Y,zh(Y)):Ue=null}break t}}tt=0,Un=null,ko(i,r,g,5);break;case 6:tt=0,Un=null,ko(i,r,g,6);break;case 8:fp(),_t=6;break e;default:throw Error(s(462))}}lR();break}catch(ee){Rb(i,ee)}while(!0);return Es=wa=null,G.H=c,G.A=f,We=o,Ue!==null?0:(ot=null,ze=0,ah(),_t)}function lR(){for(;Ue!==null&&!Hd();)kb(Ue)}function kb(i){var r=nb(i.alternate,i,Ms);i.memoizedProps=i.pendingProps,r===null?zh(i):Ue=r}function jb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Xx(o,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Xx(o,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Rm(r);default:sb(o,r),r=Ue=Dv(r,Ms),r=nb(o,r,Ms)}i.memoizedProps=i.pendingProps,r===null?zh(i):Ue=r}function ko(i,r,o,c){Es=wa=null,Rm(r),_o=null,tc=0;var f=r.return;try{if(X2(i,f,r,o,ze)){_t=1,Rh(i,ti(o,i.current)),Ue=null;return}}catch(g){if(f!==null)throw Ue=f,g;_t=1,Rh(i,ti(o,i.current)),Ue=null;return}r.flags&32768?(Ke||c===1?i=!0:Ro||(ze&536870912)!==0?i=!1:(vr=i=!0,(c===2||c===9||c===3||c===6)&&(c=On.current,c!==null&&c.tag===13&&(c.flags|=16384))),Mb(r,i)):zh(r)}function zh(i){var r=i;do{if((r.flags&32768)!==0){Mb(r,vr);return}i=r.return;var o=Z2(r.alternate,r,Ms);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=i}while(r!==null);_t===0&&(_t=5)}function Mb(i,r){do{var o=eR(i.alternate,i);if(o!==null){o.flags&=32767,Ue=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=o}while(i!==null);_t=6,Ue=null}function Vb(i,r,o,c,f,g,_,S,L){i.cancelPendingCommit=null;do Fh();while(qt!==0);if((We&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=tm,Kd(i,o,g,_,S,L),i===ot&&(Ue=ot=null,ze=0),Io=r,_r=i,Vs=o,cp=g,up=f,Eb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,fR(Js,function(){return Bb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,f=ie.p,ie.p=2,_=We,We|=4;try{tR(i,r,o)}finally{We=_,ie.p=f,G.T=c}}qt=1,Pb(),Ob(),Lb()}}function Pb(){if(qt===1){qt=0;var i=_r,r=Io,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var c=ie.p;ie.p=2;var f=We;We|=4;try{gb(r,i);var g=Sp,_=wv(i.containerInfo),S=g.focusedElem,L=g.selectionRange;if(_!==S&&S&&S.ownerDocument&&_v(S.ownerDocument.documentElement,S)){if(L!==null&&Xd(S)){var Y=L.start,ee=L.end;if(ee===void 0&&(ee=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ee,S.value.length);else{var re=S.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),ge=S.textContent.length,_e=Math.min(L.start,ge),at=L.end===void 0?_e:Math.min(L.end,ge);!J.extend&&_e>at&&(_=at,at=_e,_e=_);var q=bv(S,_e),F=bv(S,at);if(q&&F&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==F.node||J.focusOffset!==F.offset)){var $=re.createRange();$.setStart(q.node,q.offset),J.removeAllRanges(),_e>at?(J.addRange($),J.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),J.addRange($))}}}}for(re=[],J=S;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var ne=re[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ef=!!Ep,Sp=Ep=null}finally{We=f,ie.p=c,G.T=o}}i.current=r,qt=2}}function Ob(){if(qt===2){qt=0;var i=_r,r=Io,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var c=ie.p;ie.p=2;var f=We;We|=4;try{hb(i,r.alternate,r)}finally{We=f,ie.p=c,G.T=o}}qt=3}}function Lb(){if(qt===4||qt===3){qt=0,ku();var i=_r,r=Io,o=Vs,c=Eb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Io=_r=null,Ub(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(br=null),vs(o),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(pi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=G.T,f=ie.p,ie.p=2,G.T=null;try{for(var g=i.onRecoverableError,_=0;_<c.length;_++){var S=c[_];g(S.value,{componentStack:S.stack})}}finally{G.T=r,ie.p=f}}(Vs&3)!==0&&Fh(),ss(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===hp?vc++:(vc=0,hp=i):vc=0,xc(0)}}function Ub(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Zl(r)))}function Fh(){return Pb(),Ob(),Lb(),Bb()}function Bb(){if(qt!==5)return!1;var i=_r,r=cp;cp=0;var o=vs(Vs),c=G.T,f=ie.p;try{ie.p=32>o?32:o,G.T=null,o=up,up=null;var g=_r,_=Vs;if(qt=0,Io=_r=null,Vs=0,(We&6)!==0)throw Error(s(331));var S=We;if(We|=4,_b(g.current),vb(g,g.current,_,o),We=S,xc(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(pi,g)}catch{}return!0}finally{ie.p=f,G.T=c,Ub(i,r)}}function zb(i,r,o){r=ti(o,r),r=Hm(i.stateNode,r,2),i=mr(i,r,2),i!==null&&(ra(i,2),ss(i))}function nt(i,r,o){if(i.tag===3)zb(i,i,o);else for(;r!==null;){if(r.tag===3){zb(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(br===null||!br.has(c))){i=ti(o,i),o=Fx(2),c=mr(r,o,2),c!==null&&(Hx(o,c,r,i),ra(c,2),ss(c));break}}r=r.return}}function mp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new sR;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(ap=!0,f.add(o),i=cR.bind(null,i,r,o),r.then(i,i))}function cR(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ot===i&&(ze&o)===o&&(_t===4||_t===3&&(ze&62914560)===ze&&300>yn()-Ph?(We&2)===0&&Do(i,0):op|=o,No===ze&&(No=0)),ss(i)}function Fb(i,r){r===0&&(r=Lu()),i=xa(i,r),i!==null&&(ra(i,r),ss(i))}function uR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Fb(i,o)}function hR(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Fb(i,o)}function fR(i,r){return Ht(i,r)}var Hh=null,jo=null,pp=!1,qh=!1,gp=!1,Tr=0;function ss(i){i!==jo&&i.next===null&&(jo===null?Hh=jo=i:jo=jo.next=i),qh=!0,pp||(pp=!0,mR())}function xc(i,r){if(!gp&&qh){gp=!0;do for(var o=!1,c=Hh;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var _=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Tt(42|i)+1)-1,g&=f&~(_&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Kb(c,g))}else g=ze,g=Bi(c,c===ot?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||gi(c,g)||(o=!0,Kb(c,g));c=c.next}while(o);gp=!1}}function dR(){Hb()}function Hb(){qh=pp=!1;var i=0;Tr!==0&&ER()&&(i=Tr);for(var r=yn(),o=null,c=Hh;c!==null;){var f=c.next,g=qb(c,r);g===0?(c.next=null,o===null?Hh=f:o.next=f,f===null&&(jo=o)):(o=c,(i!==0||(g&3)!==0)&&(qh=!0)),c=f}qt!==0&&qt!==5||xc(i),Tr!==0&&(Tr=0)}function qb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var _=31-Tt(g),S=1<<_,L=f[_];L===-1?((S&o)===0||(S&c)!==0)&&(f[_]=Gd(S,r)):L<=r&&(i.expiredLanes|=S),g&=~S}if(r=ot,o=ze,o=Bi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ws(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||gi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Ws(c),vs(o)){case 2:case 8:o=Nl;break;case 32:o=Js;break;case 268435456:o=ju;break;default:o=Js}return c=Gb.bind(null,i),o=Ht(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Ws(c),i.callbackPriority=2,i.callbackNode=null,2}function Gb(i,r){if(qt!==0&&qt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Fh()&&i.callbackNode!==o)return null;var c=ze;return c=Bi(i,i===ot?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Ab(i,c,r),qb(i,yn()),i.callbackNode!=null&&i.callbackNode===o?Gb.bind(null,i):null)}function Kb(i,r){if(Fh())return null;Ab(i,r,!0)}function mR(){AR(function(){(We&6)!==0?Ht(Rl,dR):Hb()})}function yp(){if(Tr===0){var i=vo;i===0&&(i=Li,Li<<=1,(Li&261888)===0&&(Li=256)),Tr=i}return Tr}function $b(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:no(""+i)}function Yb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function pR(i,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var g=$b((f[Yt]||null).action),_=c.submitter;_&&(r=(r=_[Yt]||null)?$b(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var S=new Wi("action","action",null,c,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Tr!==0){var L=_?Yb(f,_):new FormData(f);Om(o,{pending:!0,data:L,method:f.method,action:g},null,L)}}else typeof g=="function"&&(S.preventDefault(),L=_?Yb(f,_):new FormData(f),Om(o,{pending:!0,data:L,method:f.method,action:g},g,L))},currentTarget:f}]})}}for(var vp=0;vp<em.length;vp++){var xp=em[vp],gR=xp.toLowerCase(),yR=xp[0].toUpperCase()+xp.slice(1);Ei(gR,"on"+yR)}Ei(Sv,"onAnimationEnd"),Ei(Av,"onAnimationIteration"),Ei(Cv,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(j2,"onTransitionRun"),Ei(M2,"onTransitionStart"),Ei(V2,"onTransitionCancel"),Ei(Rv,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function Qb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],L=S.instance,Y=S.currentTarget;if(S=S.listener,L!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(ee){rh(ee)}f.currentTarget=null,g=L}else for(_=0;_<c.length;_++){if(S=c[_],L=S.instance,Y=S.currentTarget,S=S.listener,L!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(ee){rh(ee)}f.currentTarget=null,g=L}}}}function Be(i,r){var o=r[Wa];o===void 0&&(o=r[Wa]=new Set);var c=i+"__bubble";o.has(c)||(Xb(r,i,2,!1),o.add(c))}function bp(i,r,o){var c=0;r&&(c|=4),Xb(o,i,c,r)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function _p(i){if(!i[Gh]){i[Gh]=!0,kl.forEach(function(o){o!=="selectionchange"&&(vR.has(o)||bp(o,!1,i),bp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Gh]||(r[Gh]=!0,bp("selectionchange",!1,r))}}function Xb(i,r,o,c){switch(S_(r)){case 2:var f=KR;break;case 8:f=$R;break;default:f=Pp}o=f.bind(null,r,o,i),f=void 0,!ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function wp(i,r,o,c,f){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=c.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=qi(S),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){c=g=_;continue e}S=S.parentNode}}c=c.return}sr(function(){var Y=g,ee=Wn(o),re=[];e:{var Q=Nv.get(i);if(Q!==void 0){var J=Wi,ge=i;switch(i){case"keypress":if(da(o)===0)break e;case"keydown":case"keyup":J=nh;break;case"focusin":ge="focus",J=pa;break;case"focusout":ge="blur",J=pa;break;case"beforeblur":case"afterblur":J=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=x;break;case Sv:case Av:case Cv:J=Qu;break;case Rv:J=C;break;case"scroll":case"scrollend":J=ql;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=_s;break;case"toggle":case"beforetoggle":J=Ve}var _e=(r&4)!==0,at=!_e&&(i==="scroll"||i==="scrollend"),q=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var F=Y,$;F!==null;){var ne=F;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||q===null||(ne=bi(F,q),ne!=null&&_e.push(_c(F,ne,$))),at)break;F=F.return}0<_e.length&&(Q=new J(Q,ge,null,o,ee),re.push({event:Q,listeners:_e}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Q&&o!==zl&&(ge=o.relatedTarget||o.fromElement)&&(qi(ge)||ge[Fi]))break e;if((J||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(ge=o.relatedTarget||o.toElement,J=Y,ge=ge?qi(ge):null,ge!==null&&(at=l(ge),_e=ge.tag,ge!==at||_e!==5&&_e!==27&&_e!==6)&&(ge=null)):(J=null,ge=Y),J!==ge)){if(_e=Gl,ne="onMouseLeave",q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(_e=_s,ne="onPointerLeave",q="onPointerEnter",F="pointer"),at=J==null?Q:jn(J),$=ge==null?Q:jn(ge),Q=new _e(ne,F+"leave",J,o,ee),Q.target=at,Q.relatedTarget=$,ne=null,qi(ee)===Y&&(_e=new _e(q,F+"enter",ge,o,ee),_e.target=$,_e.relatedTarget=at,ne=_e),at=ne,J&&ge)t:{for(_e=xR,q=J,F=ge,$=0,ne=q;ne;ne=_e(ne))$++;ne=0;for(var xe=F;xe;xe=_e(xe))ne++;for(;0<$-ne;)q=_e(q),$--;for(;0<ne-$;)F=_e(F),ne--;for(;$--;){if(q===F||F!==null&&q===F.alternate){_e=q;break t}q=_e(q),F=_e(F)}_e=null}else _e=null;J!==null&&Wb(re,Q,J,_e,!1),ge!==null&&at!==null&&Wb(re,at,ge,_e,!0)}}e:{if(Q=Y?jn(Y):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var Ye=mv;else if(fv(Q))if(pv)Ye=I2;else{Ye=R2;var ye=C2}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&to(Y.elementType)&&(Ye=mv):Ye=N2;if(Ye&&(Ye=Ye(i,Y))){dv(re,Ye,o,ee);break e}ye&&ye(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ll(Q,"number",Q.value)}switch(ye=Y?jn(Y):window,i){case"focusin":(fv(ye)||ye.contentEditable==="true")&&(co=ye,Wd=Y,Xl=null);break;case"focusout":Xl=Wd=co=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,Tv(re,o,ee);break;case"selectionchange":if(k2)break;case"keydown":case"keyup":Tv(re,o,ee)}var Oe;if(Xe)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else lo?ga(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(es&&o.locale!=="ko"&&(lo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&lo&&(Oe=Hl()):(Xi=ee,Fl="value"in Xi?Xi.value:Xi.textContent,lo=!0)),ye=Kh(Y,Fe),0<ye.length&&(Fe=new Zi(Fe,i,null,o,ee),re.push({event:Fe,listeners:ye}),Oe?Fe.data=Oe:(Oe=oo(o),Oe!==null&&(Fe.data=Oe)))),(Oe=Zn?T2(i,o):E2(i,o))&&(Fe=Kh(Y,"onBeforeInput"),0<Fe.length&&(ye=new Zi("onBeforeInput","beforeinput",null,o,ee),re.push({event:ye,listeners:Fe}),ye.data=Oe)),pR(re,i,Y,o,ee)}Qb(re,r)})}function _c(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Kh(i,r){for(var o=r+"Capture",c=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=bi(i,o),f!=null&&c.unshift(_c(i,f,g)),f=bi(i,r),f!=null&&c.push(_c(i,f,g))),i.tag===3)return c;i=i.return}return[]}function xR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Wb(i,r,o,c,f){for(var g=r._reactName,_=[];o!==null&&o!==c;){var S=o,L=S.alternate,Y=S.stateNode;if(S=S.tag,L!==null&&L===c)break;S!==5&&S!==26&&S!==27||Y===null||(L=Y,f?(Y=bi(o,g),Y!=null&&_.unshift(_c(o,Y,L))):f||(Y=bi(o,g),Y!=null&&_.push(_c(o,Y,L)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var bR=/\r\n?/g,_R=/\u0000|\uFFFD/g;function Jb(i){return(typeof i=="string"?i:""+i).replace(bR,`
`).replace(_R,"")}function Zb(i,r){return r=Jb(r),Jb(i)===r}function rt(i,r,o,c,f,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Tn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Tn(i,""+c);break;case"className":Mn(i,"class",c);break;case"tabIndex":Mn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(i,o,c);break;case"style":Bl(i,c,g);break;case"data":if(r!=="object"){Mn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=no(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&rt(i,r,"name",f.name,f,null),rt(i,r,"formEncType",f.formEncType,f,null),rt(i,r,"formMethod",f.formMethod,f,null),rt(i,r,"formTarget",f.formTarget,f,null)):(rt(i,r,"encType",f.encType,f,null),rt(i,r,"method",f.method,f,null),rt(i,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=no(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=xi);break;case"onScroll":c!=null&&Be("scroll",i);break;case"onScrollEnd":c!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=no(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Be("beforetoggle",i),Be("toggle",i),Za(i,"popover",c);break;case"xlinkActuate":Mt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Za(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ku.get(o)||o,Za(i,o,c))}}function Tp(i,r,o,c,f,g){switch(o){case"style":Bl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Tn(i,c):(typeof c=="number"||typeof c=="bigint")&&Tn(i,""+c);break;case"onScroll":c!=null&&Be("scroll",i);break;case"onScrollEnd":c!=null&&Be("scrollend",i);break;case"onClick":c!=null&&(i.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[Yt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Za(i,o,c)}}}function rn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(i,r,g,_,o,null)}}f&&rt(i,r,"srcSet",o.srcSet,o,null),c&&rt(i,r,"src",o.src,o,null);return;case"input":Be("invalid",i);var S=g=_=f=null,L=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":f=ee;break;case"type":_=ee;break;case"checked":L=ee;break;case"defaultChecked":Y=ee;break;case"value":g=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:rt(i,r,c,ee,o,null)}}Hu(i,g,S,L,Y,_,f,!1);return;case"select":Be("invalid",i),c=_=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":_=S;break;case"multiple":c=S;default:rt(i,r,f,S,o,null)}r=g,o=_,i.multiple=!!c,r!=null?er(i,!!c,r,!1):o!=null&&er(i,!!c,o,!0);return;case"textarea":Be("invalid",i),g=f=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":c=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:rt(i,r,_,S,o,null)}tr(i,c,f,g);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":rt(i,r,L,c,o,null));return;case"dialog":Be("beforetoggle",i),Be("toggle",i),Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(c=0;c<bc.length;c++)Be(bc[c],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(i,r,Y,c,o,null)}return;default:if(to(r)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&Tp(i,r,ee,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&rt(i,r,S,c,o,null))}function wR(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,S=null,L=null,Y=null,ee=null;for(J in o){var re=o[J];if(o.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=re;default:c.hasOwnProperty(J)||rt(i,r,J,null,c,re)}}for(var Q in c){var J=c[Q];if(re=o[Q],c.hasOwnProperty(Q)&&(J!=null||re!=null))switch(Q){case"type":g=J;break;case"name":f=J;break;case"checked":Y=J;break;case"defaultChecked":ee=J;break;case"value":_=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:J!==re&&rt(i,r,Q,J,c,re)}}eo(i,_,S,L,Y,ee,g,f);return;case"select":J=_=S=Q=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":J=L;default:c.hasOwnProperty(g)||rt(i,r,g,null,c,L)}for(f in c)if(g=c[f],L=o[f],c.hasOwnProperty(f)&&(g!=null||L!=null))switch(f){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":_=g;default:g!==L&&rt(i,r,f,g,c,L)}r=S,o=_,c=J,Q!=null?er(i,!!o,Q,!1):!!c!=!!o&&(r!=null?er(i,!!o,r,!0):er(i,!!o,o?[]:"",!1));return;case"textarea":J=Q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(i,r,S,null,c,f)}for(_ in c)if(f=c[_],g=o[_],c.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":Q=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&rt(i,r,_,f,c,g)}qu(i,Q,J);return;case"option":for(var ge in o)Q=o[ge],o.hasOwnProperty(ge)&&Q!=null&&!c.hasOwnProperty(ge)&&(ge==="selected"?i.selected=!1:rt(i,r,ge,null,c,Q));for(L in c)Q=c[L],J=o[L],c.hasOwnProperty(L)&&Q!==J&&(Q!=null||J!=null)&&(L==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":rt(i,r,L,Q,c,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Q=o[_e],o.hasOwnProperty(_e)&&Q!=null&&!c.hasOwnProperty(_e)&&rt(i,r,_e,null,c,Q);for(Y in c)if(Q=c[Y],J=o[Y],c.hasOwnProperty(Y)&&Q!==J&&(Q!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:rt(i,r,Y,Q,c,J)}return;default:if(to(r)){for(var at in o)Q=o[at],o.hasOwnProperty(at)&&Q!==void 0&&!c.hasOwnProperty(at)&&Tp(i,r,at,void 0,c,Q);for(ee in c)Q=c[ee],J=o[ee],!c.hasOwnProperty(ee)||Q===J||Q===void 0&&J===void 0||Tp(i,r,ee,Q,c,J);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!c.hasOwnProperty(q)&&rt(i,r,q,null,c,Q);for(re in c)Q=c[re],J=o[re],!c.hasOwnProperty(re)||Q===J||Q==null&&J==null||rt(i,r,re,Q,c,J)}function e_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],g=f.transferSize,_=f.initiatorType,S=f.duration;if(g&&S&&e_(_)){for(_=0,S=f.responseEnd,c+=1;c<o.length;c++){var L=o[c],Y=L.startTime;if(Y>S)break;var ee=L.transferSize,re=L.initiatorType;ee&&e_(re)&&(L=L.responseEnd,_+=ee*(L<S?1:(S-Y)/(L-Y)))}if(--c,r+=8*(g+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ep=null,Sp=null;function $h(i){return i.nodeType===9?i:i.ownerDocument}function t_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ap(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cp=null;function ER(){var i=window.event;return i&&i.type==="popstate"?i===Cp?!1:(Cp=i,!0):(Cp=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(i){return s_.resolve(null).then(i).catch(CR)}:i_;function CR(i){setTimeout(function(){throw i})}function Er(i){return i==="head"}function r_(i,r){var o=r,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),Oo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")wc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,wc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[Hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&wc(i.ownerDocument.body);o=f}while(o);Oo(r)}function a_(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Rp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rp(o),Ja(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function RR(i,r,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Hi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function NR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ai(i.nextSibling),i===null))return null;return i}function o_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ai(i.nextSibling),i===null))return null;return i}function Np(i){return i.data==="$?"||i.data==="$~"}function Ip(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function IR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ai(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Dp=null;function l_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ai(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function c_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function u_(i,r,o){switch(r=$h(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function wc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ja(i)}var oi=new Map,h_=new Set;function Yh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ps=ie.d;ie.d={f:DR,r:kR,D:jR,C:MR,L:VR,m:PR,X:LR,S:OR,M:UR};function DR(){var i=Ps.f(),r=Uh();return i||r}function kR(i){var r=Xn(i);r!==null&&r.tag===5&&r.type==="form"?Rx(r):Ps.r(i)}var Mo=typeof document>"u"?null:document;function f_(i,r,o){var c=Mo;if(c&&typeof r=="string"&&r){var f=wn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),h_.has(f)||(h_.add(f),i={rel:i,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),rn(r,"link",i),jt(r),c.head.appendChild(r)))}}function jR(i){Ps.D(i),f_("dns-prefetch",i,null)}function MR(i,r){Ps.C(i,r),f_("preconnect",i,r)}function VR(i,r,o){Ps.L(i,r,o);var c=Mo;if(c&&i&&r){var f='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+wn(o.imageSizes)+'"]')):f+='[href="'+wn(i)+'"]';var g=f;switch(r){case"style":g=Vo(i);break;case"script":g=Po(i)}oi.has(g)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),oi.set(g,i),c.querySelector(f)!==null||r==="style"&&c.querySelector(Tc(g))||r==="script"&&c.querySelector(Ec(g))||(r=c.createElement("link"),rn(r,"link",i),jt(r),c.head.appendChild(r)))}}function PR(i,r){Ps.m(i,r);var o=Mo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+wn(c)+'"][href="'+wn(i)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Po(i)}if(!oi.has(g)&&(i=b({rel:"modulepreload",href:i},r),oi.set(g,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ec(g)))return}c=o.createElement("link"),rn(c,"link",i),jt(c),o.head.appendChild(c)}}}function OR(i,r,o){Ps.S(i,r,o);var c=Mo;if(c&&i){var f=Gi(c).hoistableStyles,g=Vo(i);r=r||"default";var _=f.get(g);if(!_){var S={loading:0,preload:null};if(_=c.querySelector(Tc(g)))S.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=oi.get(g))&&kp(i,o);var L=_=c.createElement("link");jt(L),rn(L,"link",i),L._p=new Promise(function(Y,ee){L.onload=Y,L.onerror=ee}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qh(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(g,_)}}}function LR(i,r){Ps.X(i,r);var o=Mo;if(o&&i){var c=Gi(o).hoistableScripts,f=Po(i),g=c.get(f);g||(g=o.querySelector(Ec(f)),g||(i=b({src:i,async:!0},r),(r=oi.get(f))&&jp(i,r),g=o.createElement("script"),jt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function UR(i,r){Ps.M(i,r);var o=Mo;if(o&&i){var c=Gi(o).hoistableScripts,f=Po(i),g=c.get(f);g||(g=o.querySelector(Ec(f)),g||(i=b({src:i,async:!0,type:"module"},r),(r=oi.get(f))&&jp(i,r),g=o.createElement("script"),jt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function d_(i,r,o,c){var f=(f=Ne.current)?Yh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Vo(o.href),o=Gi(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Vo(o.href);var g=Gi(f).hoistableStyles,_=g.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,_),(g=f.querySelector(Tc(i)))&&!g._p&&(_.instance=g,_.state.loading=5),oi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oi.set(i,o),g||BR(f,i,o,_.state))),r&&c===null)throw Error(s(528,""));return _}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(o),o=Gi(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Vo(i){return'href="'+wn(i)+'"'}function Tc(i){return'link[rel="stylesheet"]['+i+"]"}function m_(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function BR(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),rn(r,"link",o),jt(r),i.head.appendChild(r))}function Po(i){return'[src="'+wn(i)+'"]'}function Ec(i){return"script[async]"+i}function p_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+wn(o.href)+'"]');if(c)return r.instance=c,jt(c),c;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),jt(c),rn(c,"style",f),Qh(c,o.precedence,i),r.instance=c;case"stylesheet":f=Vo(o.href);var g=i.querySelector(Tc(f));if(g)return r.state.loading|=4,r.instance=g,jt(g),g;c=m_(o),(f=oi.get(f))&&kp(c,f),g=(i.ownerDocument||i).createElement("link"),jt(g);var _=g;return _._p=new Promise(function(S,L){_.onload=S,_.onerror=L}),rn(g,"link",c),r.state.loading|=4,Qh(g,o.precedence,i),r.instance=g;case"script":return g=Po(o.src),(f=i.querySelector(Ec(g)))?(r.instance=f,jt(f),f):(c=o,(f=oi.get(g))&&(c=b({},o),jp(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),jt(f),rn(f,"link",c),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Qh(c,o.precedence,i));return r.instance}function Qh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,_=0;_<c.length;_++){var S=c[_];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function jp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Xh=null;function g_(i,r,o){if(Xh===null){var c=new Map,f=Xh=new Map;f.set(o,c)}else f=Xh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Hi]||g[kt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=i+_;var S=c.get(_);S?S.push(g):c.set(_,[g])}}return c}function y_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function zR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function v_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function FR(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Vo(c.href),g=r.querySelector(Tc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Wh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,jt(g);return}g=r.ownerDocument||r,c=m_(c),(f=oi.get(f))&&kp(c,f),g=g.createElement("link"),jt(g);var _=g;_._p=new Promise(function(S,L){_.onload=S,_.onerror=L}),rn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Wh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Mp=0;function HR(i,r){return i.stylesheets&&i.count===0&&Zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Mp===0&&(Mp=62500*TR());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Zh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Mp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jh=null;function Zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jh=new Map,r.forEach(qR,i),Jh=null,Wh.call(i))}function qR(i,r){if(!(r.state.loading&4)){var o=Jh.get(i);if(o)var c=o.get(null);else{o=new Map,Jh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}f=r.instance,_=f.getAttribute("data-precedence"),g=o.get(_)||c,g===c&&o.set(null,f),o.set(_,f),this.count++,c=Wh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Sc={$$typeof:H,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function GR(i,r,o,c,f,g,_,S,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function x_(i,r,o,c,f,g,_,S,L,Y,ee,re){return i=new GR(i,r,o,_,L,Y,ee,re,S),r=1,g===!0&&(r|=24),g=Pn(3,null,null,r),i.current=g,g.stateNode=i,r=dm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},ym(g),i}function b_(i){return i?(i=fo,i):fo}function __(i,r,o,c,f,g){f=b_(f),c.context===null?c.context=f:c.pendingContext=f,c=dr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=mr(i,c,r),o!==null&&(Rn(o,i,r),ic(o,i,r))}function w_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Vp(i,r){w_(i,r),(i=i.alternate)&&w_(i,r)}function T_(i){if(i.tag===13||i.tag===31){var r=xa(i,67108864);r!==null&&Rn(r,i,67108864),Vp(i,67108864)}}function E_(i){if(i.tag===13||i.tag===31){var r=zn();r=oa(r);var o=xa(i,r);o!==null&&Rn(o,i,r),Vp(i,r)}}var ef=!0;function KR(i,r,o,c){var f=G.T;G.T=null;var g=ie.p;try{ie.p=2,Pp(i,r,o,c)}finally{ie.p=g,G.T=f}}function $R(i,r,o,c){var f=G.T;G.T=null;var g=ie.p;try{ie.p=8,Pp(i,r,o,c)}finally{ie.p=g,G.T=f}}function Pp(i,r,o,c){if(ef){var f=Op(c);if(f===null)wp(i,r,c,tf,o),A_(i,c);else if(QR(f,i,r,o,c))c.stopPropagation();else if(A_(i,c),r&4&&-1<YR.indexOf(i)){for(;f!==null;){var g=Xn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Ui(g.pendingLanes);if(_!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var L=1<<31-Tt(_);S.entanglements[1]|=L,_&=~L}ss(g),(We&6)===0&&(Oh=yn()+500,xc(0))}}break;case 31:case 13:S=xa(g,2),S!==null&&Rn(S,g,2),Uh(),Vp(g,2)}if(g=Op(c),g===null&&wp(i,r,c,tf,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else wp(i,r,c,null,o)}}function Op(i){return i=Wn(i),Lp(i)}var tf=null;function Lp(i){if(tf=null,i=qi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return tf=i,null}function S_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case Rl:return 2;case Nl:return 8;case Js:case qd:return 32;case ju:return 268435456;default:return 32}default:return 32}}var Up=!1,Sr=null,Ar=null,Cr=null,Ac=new Map,Cc=new Map,Rr=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(i,r){switch(i){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Ac.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(r.pointerId)}}function Rc(i,r,o,c,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Xn(r),r!==null&&T_(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function QR(i,r,o,c,f){switch(r){case"focusin":return Sr=Rc(Sr,i,r,o,c,f),!0;case"dragenter":return Ar=Rc(Ar,i,r,o,c,f),!0;case"mouseover":return Cr=Rc(Cr,i,r,o,c,f),!0;case"pointerover":var g=f.pointerId;return Ac.set(g,Rc(Ac.get(g)||null,i,r,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Cc.set(g,Rc(Cc.get(g)||null,i,r,o,c,f)),!0}return!1}function C_(i){var r=qi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,yi(i.priority,function(){E_(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,yi(i.priority,function(){E_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Op(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);zl=c,o.target.dispatchEvent(c),zl=null}else return r=Xn(o),r!==null&&T_(r),i.blockedOn=o,!1;r.shift()}return!0}function R_(i,r,o){nf(i)&&o.delete(r)}function XR(){Up=!1,Sr!==null&&nf(Sr)&&(Sr=null),Ar!==null&&nf(Ar)&&(Ar=null),Cr!==null&&nf(Cr)&&(Cr=null),Ac.forEach(R_),Cc.forEach(R_)}function sf(i,r){i.blockedOn===r&&(i.blockedOn=null,Up||(Up=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XR)))}var rf=null;function N_(i){rf!==i&&(rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rf===i&&(rf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],f=i[r+2];if(typeof c!="function"){if(Lp(c||o)===null)continue;break}var g=Xn(o);g!==null&&(i.splice(r,3),r-=3,Om(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Oo(i){function r(L){return sf(L,i)}Sr!==null&&sf(Sr,i),Ar!==null&&sf(Ar,i),Cr!==null&&sf(Cr,i),Ac.forEach(r),Cc.forEach(r);for(var o=0;o<Rr.length;o++){var c=Rr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Rr.length&&(o=Rr[0],o.blockedOn===null);)C_(o),o.blockedOn===null&&Rr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],_=f[Yt]||null;if(typeof g=="function")_||N_(o);else if(_){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[Yt]||null)S=_.formAction;else if(Lp(f)!==null)continue}else S=_.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),N_(o)}}}function I_(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bp(i){this._internalRoot=i}af.prototype.render=Bp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=zn();__(o,c,i,r,null,null)},af.prototype.unmount=Bp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;__(i.current,2,null,i,null,null),Uh(),r[Fi]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var r=Uu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Rr.length&&r!==0&&r<Rr[o].priority;o++);Rr.splice(o,0,i),o===0&&C_(i)}};var D_=e.version;if(D_!=="19.2.3")throw Error(s(527,D_,"19.2.3"));ie.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var WR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{pi=of.inject(WR),Zt=of}catch{}}return Ic.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",f=Lx,g=Ux,_=Bx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=x_(i,1,!1,null,null,o,c,null,f,g,_,I_),i[Fi]=r.current,_p(i),new Bp(r)},Ic.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,f="",g=Lx,_=Ux,S=Bx,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=x_(i,1,!0,r,o??null,c,f,L,g,_,S,I_),r.context=b_(null),o=r.current,c=zn(),c=oa(c),f=dr(c),f.callback=null,mr(o,f,c),o=c,r.current.lanes=o,ra(r,o),ss(r),i[Fi]=r.current,_p(i),new af(r)},Ic.version="19.2.3",Ic}var z_;function oN(){if(z_)return Hp.exports;z_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hp.exports=aN(),Hp.exports}var lN=oN();var F_="popstate";function cN(t={}){function e(s,a){let{pathname:l,search:u,hash:d}=s.location;return Ng("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xc(a)}return hN(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uN(){return Math.random().toString(36).substring(2,10)}function H_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||s||uN()}}function Xc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function hN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function b(){d="POP";let V=v(),U=V==null?null:V-y;y=V,m&&m({action:d,location:O.location,delta:U})}function T(V,U){d="PUSH";let B=Ng(O.location,V,U);y=v()+1;let H=H_(B,y),X=O.createHref(B);try{u.pushState(H,"",X)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(X)}l&&m&&m({action:d,location:O.location,delta:1})}function R(V,U){d="REPLACE";let B=Ng(O.location,V,U);y=v();let H=H_(B,y),X=O.createHref(B);u.replaceState(H,"",X),l&&m&&m({action:d,location:O.location,delta:0})}function k(V){return fN(V)}let O={get action(){return d},get location(){return t(a,u)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(F_,b),m=V,()=>{a.removeEventListener(F_,b),m=null}},createHref(V){return e(a,V)},createURL:k,encodeLocation(V){let U=k(V);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:T,replace:R,go(V){return u.go(V)}};return O}function fN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function zE(t,e,n="/"){return dN(t,e,n,!1)}function dN(t,e,n,s){let a=typeof e=="string"?fl(e):e,l=Hs(a.pathname||"/",n);if(l==null)return null;let u=FE(t);mN(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let y=SN(l);d=TN(u[m],y,s)}return d}function FE(t,e=[],n=[],s="",a=!1){let l=(u,d,m=a,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;gt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Bs([s,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),FE(u.children,e,T,b,m)),!(u.path==null&&!u.index)&&e.push({path:b,score:_N(b,u.index),routesMeta:T})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of HE(u.path))l(u,d,!0,m)}),e}function HE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=HE(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function mN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var pN=/^:[\w-]+$/,gN=3,yN=2,vN=1,xN=10,bN=-2,q_=t=>t==="*";function _N(t,e){let n=t.split("/"),s=n.length;return n.some(q_)&&(s+=bN),e&&(s+=yN),n.filter(a=>!q_(a)).reduce((a,l)=>a+(pN.test(l)?gN:l===""?vN:xN),s)}function wN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function TN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],y=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},v),T=m.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Bs([l,b.pathname]),pathnameBase:NN(Bs([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Bs([l,b.pathnameBase]))}return u}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=EN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:b},T)=>{if(v==="*"){let k=d[T]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const R=d[T];return b&&!R?y[v]=void 0:y[v]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:t}}function EN(t,e=!1,n=!0){Gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function SN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AN=t=>qE.test(t);function CN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?fl(t):t,l;if(n)if(AN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=G_(n.substring(1),"/"):l=G_(n,e)}else l=e;return{pathname:l,search:IN(s),hash:DN(a)}}function G_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function $p(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ky(t){let e=RN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function jy(t,e,n,s=!1){let a;typeof t=="string"?a=fl(t):(a={...t},gt(!a.pathname||!a.pathname.includes("?"),$p("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),$p("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),$p("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),b-=1;a.pathname=T.join("/")}d=b>=0?e[b]:"/"}let m=CN(a,d),y=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||v)&&(m.pathname+="/"),m}var Bs=t=>t.join("/").replace(/\/\/+/g,"/"),NN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,kN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function MN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KE(t,e){let n=t;if(typeof n!="string"||!qE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(GE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Hs(u.pathname,e);u.origin===l.origin&&d!=null?n=d+u.search+u.hash:a=!0}catch{Gn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var VN=["GET",...$E];new Set(VN);var dl=j.createContext(null);dl.displayName="DataRouter";var pd=j.createContext(null);pd.displayName="DataRouterState";var PN=j.createContext(!1),YE=j.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var ON=j.createContext(new Map);ON.displayName="Fetchers";var LN=j.createContext(null);LN.displayName="Await";var Kn=j.createContext(null);Kn.displayName="Navigation";var uu=j.createContext(null);uu.displayName="Location";var Mi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var My=j.createContext(null);My.displayName="RouteError";var QE="REACT_ROUTER_ERROR",UN="REDIRECT",BN="ROUTE_ERROR_RESPONSE";function zN(t){if(t.startsWith(`${QE}:${UN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function FN(t){if(t.startsWith(`${QE}:${BN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new kN(e.status,e.statusText,e.data)}catch{}}function HN(t,{relative:e}={}){gt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Kn),{hash:a,pathname:l,search:u}=hu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Bs([n,l])),s.createHref({pathname:d,search:u,hash:a})}function ml(){return j.useContext(uu)!=null}function Vi(){return gt(ml(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(uu).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(t){j.useContext(Kn).static||j.useLayoutEffect(t)}function Pi(){let{isDataRoute:t}=j.useContext(Mi);return t?nI():qN()}function qN(){gt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(dl),{basename:e,navigator:n}=j.useContext(Kn),{matches:s}=j.useContext(Mi),{pathname:a}=Vi(),l=JSON.stringify(ky(s)),u=j.useRef(!1);return WE(()=>{u.current=!0}),j.useCallback((m,y={})=>{if(Gn(u.current,XE),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=jy(m,JSON.parse(l),a,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Bs([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,l,a,t])}j.createContext(null);function gd(){let{matches:t}=j.useContext(Mi),e=t[t.length-1];return e?e.params:{}}function hu(t,{relative:e}={}){let{matches:n}=j.useContext(Mi),{pathname:s}=Vi(),a=JSON.stringify(ky(n));return j.useMemo(()=>jy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function GN(t,e){return JE(t,e)}function JE(t,e,n,s,a){gt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Kn),{matches:u}=j.useContext(Mi),d=u[u.length-1],m=d?d.params:{},y=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let B=b&&b.path||"";e1(y,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Vi(),R;if(e){let B=typeof e=="string"?fl(e):e;gt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=T;let k=R.pathname||"/",O=k;if(v!=="/"){let B=v.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=zE(t,{pathname:O});Gn(b||V!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Gn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=XN(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Bs([v,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Bs([v,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,s,a);return e&&U?j.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},U):U}function KN(){let t=tI(),e=jN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,u)}var $N=j.createElement(KN,null),ZE=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=FN(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(Mi.Provider,{value:this.props.routeContext},j.createElement(My.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(YN,{error:t},e):e}};ZE.contextType=PN;var Yp=new WeakMap;function YN({children:t,error:e}){let{basename:n}=j.useContext(Kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=zN(e.digest);if(s){let a=Yp.get(e);if(a)throw a;let l=KE(s.location,n);if(GE&&!Yp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Yp.set(e,u),u}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function QN({routeContext:t,match:e,children:n}){let s=j.useContext(dl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Mi.Provider,{value:t},n)}function XN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);gt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:T,errors:R}=n,k=b.route.loader&&!T.hasOwnProperty(b.route.id)&&(!R||R[b.route.id]===void 0);if(b.route.lazy||k){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let y=n&&s?(v,b)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:MN(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,T)=>{let R,k=!1,O=null,V=null;n&&(R=u&&b.route.id?u[b.route.id]:void 0,O=b.route.errorElement||$N,d&&(m<0&&T===0?(e1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,V=null):m===T&&(k=!0,V=b.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,T+1)),B=()=>{let H;return R?H=O:k?H=V:b.route.Component?H=j.createElement(b.route.Component,null):b.route.element?H=b.route.element:H=v,j.createElement(QN,{match:b,routeContext:{outlet:v,matches:U,isDataRoute:n!=null},children:H})};return n&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?j.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:O,error:R,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:y}):B()},null)}function Vy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WN(t){let e=j.useContext(dl);return gt(e,Vy(t)),e}function JN(t){let e=j.useContext(pd);return gt(e,Vy(t)),e}function ZN(t){let e=j.useContext(Mi);return gt(e,Vy(t)),e}function Py(t){let e=ZN(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function eI(){return Py("useRouteId")}function tI(){let t=j.useContext(My),e=JN("useRouteError"),n=Py("useRouteError");return t!==void 0?t:e.errors?.[n]}function nI(){let{router:t}=WN("useNavigate"),e=Py("useNavigate"),n=j.useRef(!1);return WE(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{Gn(n.current,XE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var K_={};function e1(t,e,n){!e&&!K_[t]&&(K_[t]=!0,Gn(!1,n))}j.memo(iI);function iI({routes:t,future:e,state:n,onError:s}){return JE(t,void 0,n,s,e)}function t1({to:t,replace:e,state:n,relative:s}){gt(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Kn);Gn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Mi),{pathname:u}=Vi(),d=Pi(),m=jy(t,ky(l),u,s==="path"),y=JSON.stringify(m);return j.useEffect(()=>{d(JSON.parse(y),{replace:e,state:n,relative:s})},[d,y,s,e,n]),null}function rs(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){gt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof n=="string"&&(n=fl(n));let{pathname:y="/",search:v="",hash:b="",state:T=null,key:R="default"}=n,k=j.useMemo(()=>{let O=Hs(y,d);return O==null?null:{location:{pathname:O,search:v,hash:b,state:T,key:R},navigationType:s}},[d,y,v,b,T,R,s]);return Gn(k!=null,`<Router basename="${d}"> is not able to match the URL "${y}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(Kn.Provider,{value:m},j.createElement(uu.Provider,{children:e,value:k}))}function rI({children:t,location:e}){return GN(Ig(t),e)}function Ig(t,e=[]){let n=[];return j.Children.forEach(t,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){n.push.apply(n,Ig(s.props.children,l));return}gt(s.type===rs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Ig(s.props.children,l)),n.push(u)}),n}var Tf="get",Ef="application/x-www-form-urlencoded";function yd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function aI(t){return yd(t)&&t.tagName.toLowerCase()==="button"}function oI(t){return yd(t)&&t.tagName.toLowerCase()==="form"}function lI(t){return yd(t)&&t.tagName.toLowerCase()==="input"}function cI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uI(t,e){return t.button===0&&(!e||e==="_self")&&!cI(t)}function Dg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function hI(t,e){let n=Dg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var lf=null;function fI(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var dI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(t){return t!=null&&!dI.has(t)?(Gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function mI(t,e){let n,s,a,l,u;if(oI(t)){let d=t.getAttribute("action");s=d?Hs(d,e):null,n=t.getAttribute("method")||Tf,a=Qp(t.getAttribute("enctype"))||Ef,l=new FormData(t)}else if(aI(t)||lI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Hs(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Tf,a=Qp(t.getAttribute("formenctype"))||Qp(d.getAttribute("enctype"))||Ef,l=new FormData(d,t),!fI()){let{name:y,type:v,value:b}=t;if(v==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,b)}}else{if(yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tf,s=null,a=Ef,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Hs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function gI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await gI(l,n);return u.links?u.links():[]}return[]}));return wI(s.flat(1).filter(yI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $_(t,e,n,s,a,l){let u=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,d=(m,y)=>n[y].pathname!==m.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,y)=>u(m,y)||d(m,y)):l==="data"?e.filter((m,y)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,y)||d(m,y))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function xI(t,e,{includeHydrateFallback:n}={}){return bI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function bI(t){return[...new Set(t)]}function _I(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function wI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(_I(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function n1(){let t=j.useContext(dl);return Oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TI(){let t=j.useContext(pd);return Oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ly=j.createContext(void 0);Ly.displayName="FrameworkContext";function i1(){let t=j.useContext(Ly);return Oy(t,"You must render this element inside a <HydratedRouter> element"),t}function EI(t,e){let n=j.useContext(Ly),[s,a]=j.useState(!1),[l,u]=j.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=e,T=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=U=>{U.forEach(B=>{u(B.isIntersecting)})},V=new IntersectionObserver(O,{threshold:.5});return T.current&&V.observe(T.current),()=>{V.disconnect()}}},[t]),j.useEffect(()=>{if(s){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[s]);let R=()=>{a(!0)},k=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Dc(d,R),onBlur:Dc(m,k),onMouseEnter:Dc(y,R),onMouseLeave:Dc(v,k),onTouchStart:Dc(b,R)}]:[!1,T,{}]}function Dc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SI({page:t,...e}){let{router:n}=n1(),s=j.useMemo(()=>zE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(CI,{page:t,matches:s,...e}):null}function AI(t){let{manifest:e,routeModules:n}=i1(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return vI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function CI({page:t,matches:e,...n}){let s=Vi(),{manifest:a,routeModules:l}=i1(),{basename:u}=n1(),{loaderData:d,matches:m}=TI(),y=j.useMemo(()=>$_(t,e,m,a,s,"data"),[t,e,m,a,s]),v=j.useMemo(()=>$_(t,e,m,a,s,"assets"),[t,e,m,a,s]),b=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,O=!1;if(e.forEach(U=>{let B=a.routes[U.route.id];!B||!B.hasLoader||(!y.some(H=>H.route.id===U.route.id)&&U.route.id in d&&l[U.route.id]?.shouldRevalidate||B.hasClientLoader?O=!0:k.add(U.route.id))}),k.size===0)return[];let V=pI(t,u,"data");return O&&k.size>0&&V.searchParams.set("_routes",e.filter(U=>k.has(U.route.id)).map(U=>U.route.id).join(",")),[V.pathname+V.search]},[u,d,s,a,y,e,t,l]),T=j.useMemo(()=>xI(v,a),[v,a]),R=AI(v);return j.createElement(j.Fragment,null,b.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),T.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),R.map(({key:k,link:O})=>j.createElement("link",{key:k,nonce:n.nonce,...O})))}function RI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NI&&(window.__reactRouterVersion="7.11.0")}catch{}function II({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=j.useRef();a.current==null&&(a.current=cN({window:s,v5Compat:!0}));let l=a.current,[u,d]=j.useState({action:l.action,location:l.location}),m=j.useCallback(y=>{n===!1?d(y):j.startTransition(()=>d(y))},[n]);return j.useLayoutEffect(()=>l.listen(m),[l,m]),j.createElement(sI,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r1=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:y,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T,...R},k){let{basename:O,unstable_useTransitions:V}=j.useContext(Kn),U=typeof y=="string"&&s1.test(y),B=KE(y,O);y=B.to;let H=HN(y,{relative:a}),[X,te,ae]=EI(s,R),A=MI(y,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:T,unstable_useTransitions:V});function E(P){e&&e(P),P.defaultPrevented||A(P)}let N=j.createElement("a",{...R,...ae,href:B.absoluteURL||H,onClick:B.isExternal||l?e:E,ref:RI(k,te),target:m,"data-discover":!U&&n==="render"?"true":void 0});return X&&!U?j.createElement(j.Fragment,null,N,j.createElement(SI,{page:H})):N});r1.displayName="Link";var DI=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...y},v){let b=hu(u,{relative:y.relative}),T=Vi(),R=j.useContext(pd),{navigator:k,basename:O}=j.useContext(Kn),V=R!=null&&UI(b)&&d===!0,U=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,B=T.pathname,H=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(B=B.toLowerCase(),H=H?H.toLowerCase():null,U=U.toLowerCase()),H&&O&&(H=Hs(H,O)||H);const X=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let te=B===U||!a&&B.startsWith(U)&&B.charAt(X)==="/",ae=H!=null&&(H===U||!a&&H.startsWith(U)&&H.charAt(U.length)==="/"),A={isActive:te,isPending:ae,isTransitioning:V},E=te?e:void 0,N;typeof s=="function"?N=s(A):N=[s,te?"active":null,ae?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(A):l;return j.createElement(r1,{...y,"aria-current":E,className:N,ref:v,style:P,to:u,viewTransition:d},typeof m=="function"?m(A):m)});DI.displayName="NavLink";var kI=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Tf,action:d,onSubmit:m,relative:y,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T,...R},k)=>{let{unstable_useTransitions:O}=j.useContext(Kn),V=OI(),U=LI(d,{relative:y}),B=u.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&s1.test(d),X=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let ae=te.nativeEvent.submitter,A=ae?.getAttribute("formmethod")||u,E=()=>V(ae||te.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:a,state:l,relative:y,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T});O&&n!==!1?j.startTransition(()=>E()):E()};return j.createElement("form",{ref:k,method:B,action:U,onSubmit:s?m:X,...R,"data-discover":!H&&t==="render"?"true":void 0})});kI.displayName="Form";function jI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(t){let e=j.useContext(dl);return gt(e,jI(t)),e}function MI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let y=Pi(),v=Vi(),b=hu(t,{relative:l});return j.useCallback(T=>{if(uI(T,e)){T.preventDefault();let R=n!==void 0?n:Xc(v)===Xc(b),k=()=>y(t,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?j.startTransition(()=>k()):k()}},[v,y,b,n,s,e,t,a,l,u,d,m])}function Uy(t){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Dg(t)),n=j.useRef(!1),s=Vi(),a=j.useMemo(()=>hI(s.search,n.current?null:e.current),[s.search]),l=Pi(),u=j.useCallback((d,m)=>{const y=Dg(typeof d=="function"?d(new URLSearchParams(a)):d);n.current=!0,l("?"+y,m)},[l,a]);return[a,u]}var VI=0,PI=()=>`__${String(++VI)}__`;function OI(){let{router:t}=a1("useSubmit"),{basename:e}=j.useContext(Kn),n=eI(),s=t.fetch,a=t.navigate;return j.useCallback(async(l,u={})=>{let{action:d,method:m,encType:y,formData:v,body:b}=mI(l,e);if(u.navigate===!1){let T=u.fetcherKey||PI();await s(T,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||m,formEncType:u.encType||y,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||m,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function LI(t,{relative:e}={}){let{basename:n}=j.useContext(Kn),s=j.useContext(Mi);gt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...hu(t||".",{relative:e})},u=Vi();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Bs([n,l.pathname])),Xc(l)}function UI(t,{relative:e}={}){let n=j.useContext(YE);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=a1("useViewTransitionState"),a=hu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Hs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Hs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uf(a.pathname,u)!=null||Uf(a.pathname,l)!=null}const BI=()=>{};var Y_={};const o1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,y=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let T=(d&15)<<2|y>>6,R=y&63;m||(R=64,u||(T=64)),s.push(n[v],n[b],n[T],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const y=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||y==null||b==null)throw new FI;const T=l<<2|d>>4;if(s.push(T),y!==64){const R=d<<4&240|y>>2;if(s.push(R),b!==64){const k=y<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HI=function(t){const e=o1(t);return l1.encodeByteArray(e,!0)},Bf=function(t){return HI(t).replace(/\./g,"")},c1=function(t){try{return l1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GI=()=>qI().__FIREBASE_DEFAULTS__,KI=()=>{if(typeof process>"u"||typeof Y_>"u")return;const t=Y_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c1(t[1]);return e&&JSON.parse(e)},vd=()=>{try{return BI()||GI()||KI()||$I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u1=t=>vd()?.emulatorHosts?.[t],YI=t=>{const e=u1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},h1=()=>vd()?.config,f1=t=>vd()?.[`_${t}`];class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d1(t){return(await fetch(t,{credentials:"include"})).ok}function XI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bf(JSON.stringify(n)),Bf(JSON.stringify(u)),""].join(".")}const Bc={};function WI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?t.emulator.push(e):t.prod.push(e);return t}function JI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q_=!1;function m1(t,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||Bc[t]===e||Bc[t]||Q_)return;Bc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=WI().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Q_=!0,u()},T}function v(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=JI(s),R=n("text"),k=document.getElementById(R)||document.createElement("span"),O=n("learnmore"),V=document.getElementById(O)||document.createElement("a"),U=n("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),v(V,O);const X=y();m(B,U),H.append(B,k,V,X),document.body.appendChild(H)}l?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function eD(){const t=vd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sD(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rD(){return!eD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aD(){try{return typeof indexedDB=="object"}catch{return!1}}function oD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const lD="FirebaseError";class Xs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lD,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?cD(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Xs(a,d,s)}}function cD(t,e){return t.replace(uD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const uD=/\{\$([^}]+)}/g;function hD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(X_(l)&&X_(u)){if(!Fa(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function X_(t){return t!==null&&typeof t=="object"}function du(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fD(t,e){const n=new dD(t,e);return n.subscribe.bind(n)}class dD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");mD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Xp),a.error===void 0&&(a.error=Xp),a.complete===void 0&&(a.complete=Xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xp(){}function vt(t){return t&&t._delegate?t._delegate:t}class Ha{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class pD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new QI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yD(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gD(t){return t===ja?void 0:t}function yD(t){return t.instantiationMode==="EAGER"}class vD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const xD={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},bD=He.INFO,_D={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},wD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=_D[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=bD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const TD=(t,e)=>e.some(n=>t instanceof n);let W_,J_;function ED(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,kg=new WeakMap,g1=new WeakMap,Wp=new WeakMap,zy=new WeakMap;function AD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Lr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,t)}).catch(()=>{}),zy.set(e,t),e}function CD(t){if(kg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});kg.set(t,e)}let jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RD(t){jg=t(jg)}function ND(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Jp(this),e,...n);return g1.set(s,e.sort?e.sort():[e]),Lr(s)}:SD().includes(t)?function(...e){return t.apply(Jp(this),e),Lr(p1.get(this))}:function(...e){return Lr(t.apply(Jp(this),e))}}function ID(t){return typeof t=="function"?ND(t):(t instanceof IDBTransaction&&CD(t),TD(t,ED())?new Proxy(t,jg):t)}function Lr(t){if(t instanceof IDBRequest)return AD(t);if(Wp.has(t))return Wp.get(t);const e=ID(t);return e!==t&&(Wp.set(t,e),zy.set(e,t)),e}const Jp=t=>zy.get(t);function DD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=Lr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Lr(u.result),m.oldVersion,m.newVersion,Lr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const kD=["get","getKey","getAll","getAllKeys","count"],jD=["put","add","delete","clear"],Zp=new Map;function Z_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=jD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||kD.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[n](...d),a&&m.done]))[0]};return Zp.set(e,l),l}RD(t=>({...t,get:(e,n,s)=>Z_(e,n)||t.get(e,n,s),has:(e,n)=>!!Z_(e,n)||t.has(e,n)}));class MD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VD(t){return t.getComponent()?.type==="VERSION"}const Mg="@firebase/app",ew="0.14.6";const qs=new By("@firebase/app"),PD="@firebase/app-compat",OD="@firebase/analytics-compat",LD="@firebase/analytics",UD="@firebase/app-check-compat",BD="@firebase/app-check",zD="@firebase/auth",FD="@firebase/auth-compat",HD="@firebase/database",qD="@firebase/data-connect",GD="@firebase/database-compat",KD="@firebase/functions",$D="@firebase/functions-compat",YD="@firebase/installations",QD="@firebase/installations-compat",XD="@firebase/messaging",WD="@firebase/messaging-compat",JD="@firebase/performance",ZD="@firebase/performance-compat",e4="@firebase/remote-config",t4="@firebase/remote-config-compat",n4="@firebase/storage",i4="@firebase/storage-compat",s4="@firebase/firestore",r4="@firebase/ai",a4="@firebase/firestore-compat",o4="firebase",l4="12.6.0";const Vg="[DEFAULT]",c4={[Mg]:"fire-core",[PD]:"fire-core-compat",[LD]:"fire-analytics",[OD]:"fire-analytics-compat",[BD]:"fire-app-check",[UD]:"fire-app-check-compat",[zD]:"fire-auth",[FD]:"fire-auth-compat",[HD]:"fire-rtdb",[qD]:"fire-data-connect",[GD]:"fire-rtdb-compat",[KD]:"fire-fn",[$D]:"fire-fn-compat",[YD]:"fire-iid",[QD]:"fire-iid-compat",[XD]:"fire-fcm",[WD]:"fire-fcm-compat",[JD]:"fire-perf",[ZD]:"fire-perf-compat",[e4]:"fire-rc",[t4]:"fire-rc-compat",[n4]:"fire-gcs",[i4]:"fire-gcs-compat",[s4]:"fire-fst",[a4]:"fire-fst-compat",[r4]:"fire-vertex","fire-js":"fire-js",[o4]:"fire-js-all"};const zf=new Map,u4=new Map,Pg=new Map;function tw(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tl(t){const e=t.name;if(Pg.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of zf.values())tw(n,t);for(const n of u4.values())tw(n,t);return!0}function Fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}const h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new fu("app","Firebase",h4);class f4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}const gl=l4;function y1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Vg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ur.create("bad-app-name",{appName:String(a)});if(n||(n=h1()),!n)throw Ur.create("no-options");const l=zf.get(a);if(l){if(Fa(n,l.options)&&Fa(s,l.config))return l;throw Ur.create("duplicate-app",{appName:a})}const u=new vD(a);for(const m of Pg.values())u.addComponent(m);const d=new f4(n,s,u);return zf.set(a,d),d}function v1(t=Vg){const e=zf.get(t);if(!e&&t===Vg&&h1())return y1();if(!e)throw Ur.create("no-app",{appName:t});return e}function Br(t,e,n){let s=c4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(u.join(" "));return}tl(new Ha(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const d4="firebase-heartbeat-database",m4=1,Wc="firebase-heartbeat-store";let eg=null;function x1(){return eg||(eg=DD(d4,m4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),eg}async function p4(t){try{const n=(await x1()).transaction(Wc),s=await n.objectStore(Wc).get(b1(t));return await n.done,s}catch(e){if(e instanceof Xs)qs.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e?.message});qs.warn(n.message)}}}async function nw(t,e){try{const s=(await x1()).transaction(Wc,"readwrite");await s.objectStore(Wc).put(e,b1(t)),await s.done}catch(n){if(n instanceof Xs)qs.warn(n.message);else{const s=Ur.create("idb-set",{originalErrorMessage:n?.message});qs.warn(s.message)}}}function b1(t){return`${t.name}!${t.options.appId}`}const g4=1024,y4=30;class v4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>y4){const a=_4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iw(),{heartbeatsToSend:n,unsentEntries:s}=x4(this._heartbeatsCache.heartbeats),a=Bf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return qs.warn(e),""}}}function iw(){return new Date().toISOString().substring(0,10)}function x4(t,e=g4){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),sw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class b4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aD()?oD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sw(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}function _4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function w4(t){tl(new Ha("platform-logger",e=>new MD(e),"PRIVATE")),tl(new Ha("heartbeat",e=>new v4(e),"PRIVATE")),Br(Mg,ew,t),Br(Mg,ew,"esm2020"),Br("fire-js","")}w4("");function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T4=_1,w1=new fu("auth","Firebase",_1());const Ff=new By("@firebase/auth");function E4(t,...e){Ff.logLevel<=He.WARN&&Ff.warn(`Auth (${gl}): ${t}`,...e)}function Sf(t,...e){Ff.logLevel<=He.ERROR&&Ff.error(`Auth (${gl}): ${t}`,...e)}function fi(t,...e){throw qy(t,...e)}function ki(t,...e){return qy(t,...e)}function Hy(t,e,n){const s={...T4(),[e]:n};return new fu("auth","Firebase",s).create(e,{appName:t.name})}function zs(t){return Hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S4(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&fi(t,"argument-error"),Hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return w1.create(t,...e)}function Ee(t,e,...n){if(!t)throw qy(e,...n)}function Ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Gs(t,e){t||Ls(e)}function Og(){return typeof self<"u"&&self.location?.href||""}function A4(){return rw()==="http:"||rw()==="https:"}function rw(){return typeof self<"u"&&self.location?.protocol||null}function C4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A4()||nD()||"connection"in navigator)?navigator.onLine:!0}function R4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=ZI()||iD()}get(){return C4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gy(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class T1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const I4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D4=new mu(3e4,6e4);function ps(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oi(t,e,n,s,a={}){return E1(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=du({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:m,...l};return tD()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&pl(t.emulatorConfig.host)&&(y.credentials="include"),T1.fetch()(await S1(t,t.config.apiHost,n,d),y)})}async function E1(t,e,n){t._canInitEmulator=!1;const s={...N4,...e};try{const a=new j4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw cf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,y]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw cf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw cf(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Hy(t,v,y);fi(t,v)}}catch(a){if(a instanceof Xs)throw a;fi(t,"network-request-failed",{message:String(a)})}}async function pu(t,e,n,s,a={}){const l=await Oi(t,e,n,s,a);return"mfaPendingCredential"in l&&fi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function S1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Gy(t.config,a):`${t.config.apiScheme}://${a}`;return I4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function k4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),D4.get())})}}function cf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ki(t,e,s);return a.customData._tokenResponse=n,a}function aw(t){return t!==void 0&&t.enterprise!==void 0}class M4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V4(t,e){return Oi(t,"GET","/v2/recaptchaConfig",ps(t,e))}async function P4(t,e){return Oi(t,"POST","/v1/accounts:delete",e)}async function Hf(t,e){return Oi(t,"POST","/v1/accounts:lookup",e)}function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O4(t,e=!1){const n=vt(t),s=await n.getIdToken(e),a=Ky(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:zc(tg(a.auth_time)),issuedAtTime:zc(tg(a.iat)),expirationTime:zc(tg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function tg(t){return Number(t)*1e3}function Ky(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=c1(n);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ow(t){const e=Ky(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Xs&&L4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function L4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class U4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qf(t){const e=t.auth,n=await t.getIdToken(),s=await nl(t,Hf(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?A1(a.providerUserInfo):[],u=z4(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,y=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function B4(t){const e=vt(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function A1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function F4(t,e){const n=await E1(t,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await S1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&pl(t.emulatorConfig.host)&&(m.credentials="include"),T1.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H4(t,e){return Oi(t,"POST","/v2/accounts:revokeToken",ps(t,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await F4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Yo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Ls("not implemented")}}function Ir(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new U4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O4(this,e)}reload(){return B4(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await nl(this,P4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:R,providerData:k,stsTokenManager:O}=n;Ee(b&&O,e,"internal-error");const V=Yo.fromJSON(this.name,O);Ee(typeof b=="string",e,"internal-error"),Ir(s,e.name),Ir(a,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof R=="boolean",e,"internal-error"),Ir(l,e.name),Ir(u,e.name),Ir(d,e.name),Ir(m,e.name),Ir(y,e.name),Ir(v,e.name);const U=new Di({uid:b,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:V,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(U.providerData=k.map(B=>({...B}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new Yo;a.updateFromServerResponse(n);const l=new Di({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await qf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?A1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new Yo;d.updateFromIdToken(s);const m=new Di({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,y),m}}const lw=new Map;function Us(t){Gs(t instanceof Function,"Expected a class definition");let e=lw.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lw.set(t,e),e)}class C1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C1.type="NONE";const cw=C1;function Af(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hf(this.auth,{idToken:e}).catch(()=>{});return n?Di._fromGetAccountInfoResponse(this.auth,n,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qo(Us(cw),e,s);const a=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||Us(cw);const u=Af(s,e.config.apiKey,e.name);let d=null;for(const y of n)try{const v=await y._get(u);if(v){let b;if(typeof v=="string"){const T=await Hf(e,{idToken:v}).catch(()=>{});if(!T)break;b=await Di._fromGetAccountInfoResponse(e,T,v)}else b=Di._fromJSON(e,v);y!==l&&(d=b),l=y;break}}catch{}const m=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Qo(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Qo(l,e,s))}}function uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j1(e))return"Blackberry";if(M1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(k1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function R1(t=gn()){return/firefox\//i.test(t)}function N1(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(t=gn()){return/crios\//i.test(t)}function D1(t=gn()){return/iemobile/i.test(t)}function k1(t=gn()){return/android/i.test(t)}function j1(t=gn()){return/blackberry/i.test(t)}function M1(t=gn()){return/webos/i.test(t)}function $y(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q4(t=gn()){return $y(t)&&!!window.navigator?.standalone}function G4(){return sD()&&document.documentMode===10}function V1(t=gn()){return $y(t)||k1(t)||M1(t)||j1(t)||/windows phone/i.test(t)||D1(t)}function P1(t,e=[]){let n;switch(t){case"Browser":n=uw(gn());break;case"Worker":n=`${uw(gn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gl}/${s}`}class K4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function $4(t,e={}){return Oi(t,"GET","/v2/passwordPolicy",ps(t,e))}const Y4=6;class Q4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Y4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class X4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hw(this),this.idTokenSubscription=new hw(this),this.beforeStateQueue=new K4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hf(this,{idToken:e}),s=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(zs(this));const n=e?vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $4(this),n=new Q4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await H4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Us(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&E4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jr(t){return vt(t)}class hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=fD(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W4(t){xd=t}function O1(t){return xd.loadJS(t)}function J4(){return xd.recaptchaEnterpriseScript}function Z4(){return xd.gapiScript}function ek(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tk{constructor(){this.enterprise=new nk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ik="recaptcha-enterprise",L1="NO_RECAPTCHA";class sk{constructor(e){this.type=ik,this.auth=Jr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{V4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new M4(m);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;aw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(L1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&aw(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=J4();m.length!==0&&(m+=d),O1(m).then(()=>{a(d,l,u)}).catch(y=>{u(y)})}}).catch(d=>{u(d)})})}}async function fw(t,e,n,s=!1,a=!1){const l=new sk(t);let u;if(a)u=L1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ug(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await fw(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await fw(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function rk(t,e){const n=Fy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fa(l,e??{}))return a;fi(a,"already-initialized")}return n.initialize({options:e})}function ak(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Us);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function ok(t,e,n){const s=Jr(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=U1(e),{host:u,port:d}=lk(e),m=d===null?"":`:${d}`,y={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Fa(y,s.config.emulator)&&Fa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,pl(u)?(d1(`${l}//${u}${m}`),m1("Auth",!0)):ck()}function U1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lk(t){const e=U1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:dw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:dw(u)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ck(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Yy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,n){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}async function uk(t,e){return Oi(t,"POST","/v1/accounts:signUp",e)}async function hk(t,e){return Oi(t,"POST","/v1/accounts:update",ps(t,e))}async function fk(t,e){return pu(t,"POST","/v1/accounts:signInWithPassword",ps(t,e))}async function dk(t,e){return Oi(t,"POST","/v1/accounts:sendOobCode",ps(t,e))}async function mk(t,e){return dk(t,e)}async function pk(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}async function gk(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}class Jc extends Yy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,n,"signInWithPassword",fk);case"emailLink":return pk(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(e,s,"signUpPassword",uk);case"emailLink":return gk(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xo(t,e){return pu(t,"POST","/v1/accounts:signInWithIdp",ps(t,e))}const yk="http://localhost";class qa extends Yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new qa(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:yk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}function vk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xk(t){const e=jc(Mc(t)).link,n=e?jc(Mc(e)).deep_link_id:null,s=jc(Mc(t)).deep_link_id;return(s?jc(Mc(s)).link:null)||s||n||e||t}class Qy{constructor(e){const n=jc(Mc(e)),s=n.apiKey??null,a=n.oobCode??null,l=vk(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xk(e);try{return new Qy(n)}catch{return null}}}class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Qy.parseLink(n);return Ee(s,"argument-error"),Jc._fromEmailAndCode(e,s.code,s.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Xy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kr extends gu{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";class Os extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Os.credential(n,s)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";class jr extends gu{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";class Mr extends gu{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";async function bk(t,e){return pu(t,"POST","/v1/accounts:signUp",ps(t,e))}class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Di._fromIdTokenResponse(e,s,a),u=mw(s);return new Ga({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=mw(s);return new Ga({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Gf extends Xs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Gf(e,n,s,a)}}function B1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,l,e,s):l})}async function _k(t,e,n=!1){const s=await nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ga._forOperation(t,"link",s)}async function wk(t,e,n=!1){const{auth:s}=t;if(Hn(s.app))return Promise.reject(zs(s));const a="reauthenticate";try{const l=await nl(t,B1(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const u=Ky(l.idToken);Ee(u,s,"internal-error");const{sub:d}=u;return Ee(t.uid===d,s,"user-mismatch"),Ga._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&fi(s,"user-mismatch"),l}}async function z1(t,e,n=!1){if(Hn(t.app))return Promise.reject(zs(t));const s="signIn",a=await B1(t,s,e),l=await Ga._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Tk(t,e){return z1(Jr(t),e)}async function F1(t){const e=Jr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H1(t,e){await hk(vt(t),{oobCode:e})}async function Ek(t,e,n){if(Hn(t.app))return Promise.reject(zs(t));const s=Jr(t),u=await Ug(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&F1(t),m}),d=await Ga._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function Sk(t,e,n){return Hn(t.app)?Promise.reject(zs(t)):Tk(vt(t),yl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&F1(t),s})}async function q1(t,e){const n=vt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await mk(n.auth,a);l!==t.email&&await t.reload()}async function Ak(t,e){return Oi(t,"POST","/v1/accounts:update",e)}async function Ck(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=vt(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await nl(s,Ak(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function Rk(t,e,n,s){return vt(t).onIdTokenChanged(e,n,s)}function Nk(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function Ik(t,e,n,s){return vt(t).onAuthStateChanged(e,n,s)}function Dk(t){return vt(t).signOut()}const Kf="__sak";class G1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kk=1e3,jk=10;class K1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);G4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,jk):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const Mk=K1;class $1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$1.type="SESSION";const Y1=$1;function Vk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new bd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async y=>y(n.origin,l)),m=await Vk(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];function Wy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const y=Wy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function os(){return window}function Ok(t){os().location.href=t}function Q1(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function Lk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uk(){return navigator?.serviceWorker?.controller||null}function Bk(){return Q1()?self:null}const X1="firebaseLocalStorageDb",zk=1,$f="firebaseLocalStorage",W1="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function Fk(){const t=indexedDB.deleteDatabase(X1);return new yu(t).toPromise()}function Bg(){const t=indexedDB.open(X1,zk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore($f,{keyPath:W1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains($f)?e(s):(s.close(),await Fk(),e(await Bg()))})})}async function pw(t,e,n){const s=_d(t,!0).put({[W1]:e,value:n});return new yu(s).toPromise()}async function Hk(t,e){const n=_d(t,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function gw(t,e){const n=_d(t,!0).delete(e);return new yu(n).toPromise()}const qk=800,Gk=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Gk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(Bk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Lk(),!this.activeServiceWorker)return;this.sender=new Pk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await pw(e,Kf,"1"),await gw(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Hk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=_d(a,!1).getAll();return new yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const Kk=J1;new mu(3e4,6e4);function Z1(t,e){return e?Us(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Jy extends Yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $k(t){return z1(t.auth,new Jy(t),t.bypassAuthState)}function Yk(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),wk(n,new Jy(t),t.bypassAuthState)}async function Qk(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),_k(n,new Jy(t),t.bypassAuthState)}class eS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $k;case"linkViaPopup":case"linkViaRedirect":return Qk;case"reauthViaPopup":case"reauthViaRedirect":return Yk;default:fi(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xk=new mu(2e3,1e4);async function Wk(t,e,n){if(Hn(t.app))return Promise.reject(ki(t,"operation-not-supported-in-this-environment"));const s=Jr(t);S4(t,e,Xy);const a=Z1(s,n);return new Va(s,"signInViaPopup",e,a).executeNotNull()}class Va extends eS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xk.get())};e()}}Va.currentPopupAction=null;const Jk="pendingRedirect",Cf=new Map;class Zk extends eS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const s=await ej(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ej(t,e){const n=ij(e),s=nj(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function tj(t,e){Cf.set(t._key(),e)}function nj(t){return Us(t._redirectPersistence)}function ij(t){return Af(Jk,t.config.apiKey,t.name)}async function sj(t,e,n=!1){if(Hn(t.app))return Promise.reject(zs(t));const s=Jr(t),a=Z1(s,e),u=await new Zk(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const rj=600*1e3;class aj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(t);default:return!1}}async function lj(t,e={}){return Oi(t,"GET","/v1/projects",e)}const cj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uj=/^https?/;async function hj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lj(t);for(const n of e)try{if(fj(n))return}catch{}fi(t,"unauthorized-domain")}function fj(t){const e=Og(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!uj.test(n))return!1;if(cj.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const dj=new mu(3e4,6e4);function vw(){const t=os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mj(t){return new Promise((e,n)=>{function s(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),n(ki(t,"network-request-failed"))},timeout:dj.get()})}if(os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(os().gapi?.load)s();else{const a=ek("iframefcb");return os()[a]=()=>{gapi.load?s():n(ki(t,"network-request-failed"))},O1(`${Z4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function pj(t){return Rf=Rf||mj(t),Rf}const gj=new mu(5e3,15e3),yj="__/auth/iframe",vj="emulator/auth/iframe",xj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _j(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gy(e,vj):`https://${t.config.authDomain}/${yj}`,s={apiKey:e.apiKey,appName:t.name,v:gl},a=bj.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${du(s).slice(1)}`}async function wj(t){const e=await pj(t),n=os().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:_j(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xj,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ki(t,"network-request-failed"),d=os().setTimeout(()=>{l(u)},gj.get());function m(){os().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const Tj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ej=500,Sj=600,Aj="_blank",Cj="http://localhost";class xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rj(t,e,n,s=Ej,a=Sj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...Tj,width:s.toString(),height:a.toString(),top:l,left:u},y=gn().toLowerCase();n&&(d=I1(y)?Aj:n),R1(y)&&(e=e||Cj,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[R,k])=>`${T}${R}=${k},`,"");if(q4(y)&&d!=="_self")return Nj(e||"",d),new xw(null);const b=window.open(e||"",d,v);Ee(b,t,"popup-blocked");try{b.focus()}catch{}return new xw(b)}function Nj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Ij="__/auth/handler",Dj="emulator/auth/handler",kj=encodeURIComponent("fac");async function bw(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:gl,eventId:a};if(e instanceof Xy){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",hD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof gu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),y=m?`#${kj}=${encodeURIComponent(m)}`:"";return`${jj(t)}?${du(d).slice(1)}${y}`}function jj({config:t}){return t.emulator?Gy(t,Dj):`https://${t.authDomain}/${Ij}`}const ng="webStorageSupport";class Mj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=sj,this._overrideRedirectResult=tj}async _openPopup(e,n,s,a){Gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await bw(e,n,s,Og(),a);return Rj(e,l,Wy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await bw(e,n,s,Og(),a);return Ok(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Gs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wj(e),s=new aj(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},a=>{const l=a?.[0]?.[ng];l!==void 0&&n(!!l),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V1()||N1()||$y()}}const Vj=Mj;var _w="@firebase/auth",ww="1.12.0";class Pj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Oj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lj(t){tl(new Ha("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P1(t)},y=new X4(s,a,l,m);return ak(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),tl(new Ha("auth-internal",e=>{const n=Jr(e.getProvider("auth").getImmediate());return(s=>new Pj(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(_w,ww,Oj(t)),Br(_w,ww,"esm2020")}const Uj=300,Bj=f1("authIdTokenMaxAge")||Uj;let Tw=null;const zj=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Bj)return;const a=n?.token;Tw!==a&&(Tw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Fj(t=v1()){const e=Fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rk(t,{popupRedirectResolver:Vj,persistence:[Kk,Mk,Y1]}),s=f1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=zj(l.toString());Nk(n,u,()=>u(n.currentUser)),Rk(n,d=>u(d))}}const a=u1("auth");return a&&ok(n,`http://${a}`),n}function Hj(){return document.getElementsByTagName("head")?.[0]??document}W4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ki("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Hj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lj("Browser");var Ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zr,nS;(function(){var t;function e(A,E){function N(){}N.prototype=E.prototype,A.F=E.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(P,M,D){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return E.prototype[M].apply(P,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,E,N){N||(N=0);const P=Array(16);if(typeof E=="string")for(var M=0;M<16;++M)P[M]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(M=0;M<16;++M)P[M]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=A.g[0],N=A.g[1],M=A.g[2];let D=A.g[3],I;I=E+(D^N&(M^D))+P[0]+3614090360&4294967295,E=N+(I<<7&4294967295|I>>>25),I=D+(M^E&(N^M))+P[1]+3905402710&4294967295,D=E+(I<<12&4294967295|I>>>20),I=M+(N^D&(E^N))+P[2]+606105819&4294967295,M=D+(I<<17&4294967295|I>>>15),I=N+(E^M&(D^E))+P[3]+3250441966&4294967295,N=M+(I<<22&4294967295|I>>>10),I=E+(D^N&(M^D))+P[4]+4118548399&4294967295,E=N+(I<<7&4294967295|I>>>25),I=D+(M^E&(N^M))+P[5]+1200080426&4294967295,D=E+(I<<12&4294967295|I>>>20),I=M+(N^D&(E^N))+P[6]+2821735955&4294967295,M=D+(I<<17&4294967295|I>>>15),I=N+(E^M&(D^E))+P[7]+4249261313&4294967295,N=M+(I<<22&4294967295|I>>>10),I=E+(D^N&(M^D))+P[8]+1770035416&4294967295,E=N+(I<<7&4294967295|I>>>25),I=D+(M^E&(N^M))+P[9]+2336552879&4294967295,D=E+(I<<12&4294967295|I>>>20),I=M+(N^D&(E^N))+P[10]+4294925233&4294967295,M=D+(I<<17&4294967295|I>>>15),I=N+(E^M&(D^E))+P[11]+2304563134&4294967295,N=M+(I<<22&4294967295|I>>>10),I=E+(D^N&(M^D))+P[12]+1804603682&4294967295,E=N+(I<<7&4294967295|I>>>25),I=D+(M^E&(N^M))+P[13]+4254626195&4294967295,D=E+(I<<12&4294967295|I>>>20),I=M+(N^D&(E^N))+P[14]+2792965006&4294967295,M=D+(I<<17&4294967295|I>>>15),I=N+(E^M&(D^E))+P[15]+1236535329&4294967295,N=M+(I<<22&4294967295|I>>>10),I=E+(M^D&(N^M))+P[1]+4129170786&4294967295,E=N+(I<<5&4294967295|I>>>27),I=D+(N^M&(E^N))+P[6]+3225465664&4294967295,D=E+(I<<9&4294967295|I>>>23),I=M+(E^N&(D^E))+P[11]+643717713&4294967295,M=D+(I<<14&4294967295|I>>>18),I=N+(D^E&(M^D))+P[0]+3921069994&4294967295,N=M+(I<<20&4294967295|I>>>12),I=E+(M^D&(N^M))+P[5]+3593408605&4294967295,E=N+(I<<5&4294967295|I>>>27),I=D+(N^M&(E^N))+P[10]+38016083&4294967295,D=E+(I<<9&4294967295|I>>>23),I=M+(E^N&(D^E))+P[15]+3634488961&4294967295,M=D+(I<<14&4294967295|I>>>18),I=N+(D^E&(M^D))+P[4]+3889429448&4294967295,N=M+(I<<20&4294967295|I>>>12),I=E+(M^D&(N^M))+P[9]+568446438&4294967295,E=N+(I<<5&4294967295|I>>>27),I=D+(N^M&(E^N))+P[14]+3275163606&4294967295,D=E+(I<<9&4294967295|I>>>23),I=M+(E^N&(D^E))+P[3]+4107603335&4294967295,M=D+(I<<14&4294967295|I>>>18),I=N+(D^E&(M^D))+P[8]+1163531501&4294967295,N=M+(I<<20&4294967295|I>>>12),I=E+(M^D&(N^M))+P[13]+2850285829&4294967295,E=N+(I<<5&4294967295|I>>>27),I=D+(N^M&(E^N))+P[2]+4243563512&4294967295,D=E+(I<<9&4294967295|I>>>23),I=M+(E^N&(D^E))+P[7]+1735328473&4294967295,M=D+(I<<14&4294967295|I>>>18),I=N+(D^E&(M^D))+P[12]+2368359562&4294967295,N=M+(I<<20&4294967295|I>>>12),I=E+(N^M^D)+P[5]+4294588738&4294967295,E=N+(I<<4&4294967295|I>>>28),I=D+(E^N^M)+P[8]+2272392833&4294967295,D=E+(I<<11&4294967295|I>>>21),I=M+(D^E^N)+P[11]+1839030562&4294967295,M=D+(I<<16&4294967295|I>>>16),I=N+(M^D^E)+P[14]+4259657740&4294967295,N=M+(I<<23&4294967295|I>>>9),I=E+(N^M^D)+P[1]+2763975236&4294967295,E=N+(I<<4&4294967295|I>>>28),I=D+(E^N^M)+P[4]+1272893353&4294967295,D=E+(I<<11&4294967295|I>>>21),I=M+(D^E^N)+P[7]+4139469664&4294967295,M=D+(I<<16&4294967295|I>>>16),I=N+(M^D^E)+P[10]+3200236656&4294967295,N=M+(I<<23&4294967295|I>>>9),I=E+(N^M^D)+P[13]+681279174&4294967295,E=N+(I<<4&4294967295|I>>>28),I=D+(E^N^M)+P[0]+3936430074&4294967295,D=E+(I<<11&4294967295|I>>>21),I=M+(D^E^N)+P[3]+3572445317&4294967295,M=D+(I<<16&4294967295|I>>>16),I=N+(M^D^E)+P[6]+76029189&4294967295,N=M+(I<<23&4294967295|I>>>9),I=E+(N^M^D)+P[9]+3654602809&4294967295,E=N+(I<<4&4294967295|I>>>28),I=D+(E^N^M)+P[12]+3873151461&4294967295,D=E+(I<<11&4294967295|I>>>21),I=M+(D^E^N)+P[15]+530742520&4294967295,M=D+(I<<16&4294967295|I>>>16),I=N+(M^D^E)+P[2]+3299628645&4294967295,N=M+(I<<23&4294967295|I>>>9),I=E+(M^(N|~D))+P[0]+4096336452&4294967295,E=N+(I<<6&4294967295|I>>>26),I=D+(N^(E|~M))+P[7]+1126891415&4294967295,D=E+(I<<10&4294967295|I>>>22),I=M+(E^(D|~N))+P[14]+2878612391&4294967295,M=D+(I<<15&4294967295|I>>>17),I=N+(D^(M|~E))+P[5]+4237533241&4294967295,N=M+(I<<21&4294967295|I>>>11),I=E+(M^(N|~D))+P[12]+1700485571&4294967295,E=N+(I<<6&4294967295|I>>>26),I=D+(N^(E|~M))+P[3]+2399980690&4294967295,D=E+(I<<10&4294967295|I>>>22),I=M+(E^(D|~N))+P[10]+4293915773&4294967295,M=D+(I<<15&4294967295|I>>>17),I=N+(D^(M|~E))+P[1]+2240044497&4294967295,N=M+(I<<21&4294967295|I>>>11),I=E+(M^(N|~D))+P[8]+1873313359&4294967295,E=N+(I<<6&4294967295|I>>>26),I=D+(N^(E|~M))+P[15]+4264355552&4294967295,D=E+(I<<10&4294967295|I>>>22),I=M+(E^(D|~N))+P[6]+2734768916&4294967295,M=D+(I<<15&4294967295|I>>>17),I=N+(D^(M|~E))+P[13]+1309151649&4294967295,N=M+(I<<21&4294967295|I>>>11),I=E+(M^(N|~D))+P[4]+4149444226&4294967295,E=N+(I<<6&4294967295|I>>>26),I=D+(N^(E|~M))+P[11]+3174756917&4294967295,D=E+(I<<10&4294967295|I>>>22),I=M+(E^(D|~N))+P[2]+718787259&4294967295,M=D+(I<<15&4294967295|I>>>17),I=N+(D^(M|~E))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+D&4294967295}s.prototype.v=function(A,E){E===void 0&&(E=A.length);const N=E-this.blockSize,P=this.C;let M=this.h,D=0;for(;D<E;){if(M==0)for(;D<=N;)a(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<E;)if(P[M++]=A.charCodeAt(D++),M==this.blockSize){a(this,P),M=0;break}}else for(;D<E;)if(P[M++]=A[D++],M==this.blockSize){a(this,P),M=0;break}}this.h=M,this.o+=E},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;E=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=E&255,E/=256;for(this.v(A),A=Array(16),E=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)A[E++]=this.g[N]>>>P&255;return A};function l(A,E){var N=d;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=E(A)}function u(A,E){this.h=E;const N=[];let P=!0;for(let M=A.length-1;M>=0;M--){const D=A[M]|0;P&&D==E||(N[M]=D,P=!1)}this.g=N}var d={};function m(A){return-128<=A&&A<128?l(A,function(E){return new u([E|0],E<0?-1:0)}):new u([A|0],A<0?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return b;if(A<0)return V(y(-A));const E=[];let N=1;for(let P=0;A>=N;P++)E[P]=A/N|0,N*=4294967296;return new u(E,0)}function v(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return V(v(A.substring(1),E));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(E,8));let P=b;for(let D=0;D<A.length;D+=8){var M=Math.min(8,A.length-D);const I=parseInt(A.substring(D,D+M),E);M<8?(M=y(Math.pow(E,M)),P=P.j(M).add(y(I))):(P=P.j(N),P=P.add(y(I)))}return P}var b=m(0),T=m(1),R=m(16777216);t=u.prototype,t.m=function(){if(O(this))return-V(this).m();let A=0,E=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);A+=(P>=0?P:4294967296+P)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(O(this))return"-"+V(this).toString(A);const E=y(Math.pow(A,6));var N=this;let P="";for(;;){const M=X(N,E).g;N=U(N,M.j(E));let D=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=M,k(N))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(let E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function O(A){return A.h==-1}t.l=function(A){return A=U(this,A),O(A)?-1:k(A)?0:1};function V(A){const E=A.g.length,N=[];for(let P=0;P<E;P++)N[P]=~A.g[P];return new u(N,~A.h).add(T)}t.abs=function(){return O(this)?V(this):this},t.add=function(A){const E=Math.max(this.g.length,A.g.length),N=[];let P=0;for(let M=0;M<=E;M++){let D=P+(this.i(M)&65535)+(A.i(M)&65535),I=(D>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);P=I>>>16,D&=65535,I&=65535,N[M]=I<<16|D}return new u(N,N[N.length-1]&-2147483648?-1:0)};function U(A,E){return A.add(V(E))}t.j=function(A){if(k(this)||k(A))return b;if(O(this))return O(A)?V(this).j(V(A)):V(V(this).j(A));if(O(A))return V(this.j(V(A)));if(this.l(R)<0&&A.l(R)<0)return y(this.m()*A.m());const E=this.g.length+A.g.length,N=[];for(var P=0;P<2*E;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<A.g.length;M++){const D=this.i(P)>>>16,I=this.i(P)&65535,he=A.i(M)>>>16,we=A.i(M)&65535;N[2*P+2*M]+=I*we,B(N,2*P+2*M),N[2*P+2*M+1]+=D*we,B(N,2*P+2*M+1),N[2*P+2*M+1]+=I*he,B(N,2*P+2*M+1),N[2*P+2*M+2]+=D*he,B(N,2*P+2*M+2)}for(A=0;A<E;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=E;A<2*E;A++)N[A]=0;return new u(N,0)};function B(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function H(A,E){this.g=A,this.h=E}function X(A,E){if(k(E))throw Error("division by zero");if(k(A))return new H(b,b);if(O(A))return E=X(V(A),E),new H(V(E.g),V(E.h));if(O(E))return E=X(A,V(E)),new H(V(E.g),E.h);if(A.g.length>30){if(O(A)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var N=T,P=E;P.l(A)<=0;)N=te(N),P=te(P);var M=ae(N,1),D=ae(P,1);for(P=ae(P,2),N=ae(N,2);!k(P);){var I=D.add(P);I.l(A)<=0&&(M=M.add(N),D=I),P=ae(P,1),N=ae(N,1)}return E=U(A,M.j(E)),new H(M,E)}for(M=b;A.l(E)>=0;){for(N=Math.max(1,Math.floor(A.m()/E.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=y(N),I=D.j(E);O(I)||I.l(A)>0;)N-=P,D=y(N),I=D.j(E);k(D)&&(D=T),M=M.add(D),A=U(A,I)}return new H(M,A)}t.B=function(A){return X(this,A).h},t.and=function(A){const E=Math.max(this.g.length,A.g.length),N=[];for(let P=0;P<E;P++)N[P]=this.i(P)&A.i(P);return new u(N,this.h&A.h)},t.or=function(A){const E=Math.max(this.g.length,A.g.length),N=[];for(let P=0;P<E;P++)N[P]=this.i(P)|A.i(P);return new u(N,this.h|A.h)},t.xor=function(A){const E=Math.max(this.g.length,A.g.length),N=[];for(let P=0;P<E;P++)N[P]=this.i(P)^A.i(P);return new u(N,this.h^A.h)};function te(A){const E=A.g.length+1,N=[];for(let P=0;P<E;P++)N[P]=A.i(P)<<1|A.i(P-1)>>>31;return new u(N,A.h)}function ae(A,E){const N=E>>5;E%=32;const P=A.g.length-N,M=[];for(let D=0;D<P;D++)M[D]=E>0?A.i(D+N)>>>E|A.i(D+N+1)<<32-E:A.i(D+N);return new u(M,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,zr=u}).apply(typeof Ew<"u"?Ew:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iS,Vc,sS,Nf,zg,rS,aS,oS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function a(h,x){if(x)e:{var w=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var K=h[C];if(!(K in w))break e;w=w[K]}h=h[h.length-1],C=w[h],x=x(C),x!=C&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var w=[],C;for(C in x)Object.prototype.hasOwnProperty.call(x,C)&&w.push([C,x[C]]);return w}});var l=l||{},u=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,w){return h.call.apply(h.bind,arguments)}function y(h,x,w){return y=m,y.apply(null,arguments)}function v(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function b(h,x){function w(){}w.prototype=x.prototype,h.Z=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(C,K,W){for(var ue=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ue[Ve-2]=arguments[Ve];return x.prototype[K].apply(C,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const x=h.length;if(x>0){const w=Array(x);for(let C=0;C<x;C++)w[C]=h[C];return w}return[]}function k(h,x){for(let C=1;C<arguments.length;C++){const K=arguments[C];var w=typeof K;if(w=w!="object"?w:K?Array.isArray(K)?"array":w:"null",w=="array"||w=="object"&&typeof K.length=="number"){w=h.length||0;const W=K.length||0;h.length=w+W;for(let ue=0;ue<W;ue++)h[w+ue]=K[ue]}else h.push(K)}}class O{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function V(h){u.setTimeout(()=>{throw h},0)}function U(){var h=A;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class B{constructor(){this.h=this.g=null}add(x,w){const C=H.get();C.set(x,w),this.h?this.h.next=C:this.g=C,this.h=C}}var H=new O(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ae=!1,A=new B,E=()=>{const h=Promise.resolve(void 0);te=()=>{h.then(N)}};function N(){for(var h;h=U();){try{h.h.call(h.g)}catch(w){V(w)}var x=H;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ae=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,x),u.removeEventListener("test",w,x)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function he(h,x){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(he,M),he.prototype.init=function(h,x){const w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(h,x,w,C,K){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!C,this.ha=K,this.key=++G,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h,x,w){for(const C in h)x.call(w,h[C],C,h)}function ke(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function z(h){const x={};for(const w in h)x[w]=h[w];return x}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,x){let w,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(w in C)h[w]=C[w];for(let W=0;W<Z.length;W++)w=Z[W],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,x,w,C,K){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const ue=Ne(h,x,C,K);return ue>-1?(x=h[ue],w||(x.fa=!1)):(x=new ie(x,this.src,W,!!C,K),x.fa=w,h.push(x)),x};function Te(h,x){const w=x.type;if(w in h.g){var C=h.g[w],K=Array.prototype.indexOf.call(C,x,void 0),W;(W=K>=0)&&Array.prototype.splice.call(C,K,1),W&&(fe(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ne(h,x,w,C){for(let K=0;K<h.length;++K){const W=h[K];if(!W.da&&W.listener==x&&W.capture==!!w&&W.ha==C)return K}return-1}var je="closure_lm_"+(Math.random()*1e6|0),le={};function ve(h,x,w,C,K){if(Array.isArray(x)){for(let W=0;W<x.length;W++)ve(h,x[W],w,C,K);return null}return w=Cl(w),h&&h[we]?h.J(x,w,d(C)?!!C.capture:!1,K):Me(h,x,w,!1,C,K)}function Me(h,x,w,C,K,W){if(!x)throw Error("Invalid event type");const ue=d(K)?!!K.capture:!!K;let Ve=ys(h);if(Ve||(h[je]=Ve=new me(h)),w=Ve.add(x,w,C,ue,W),w.proxy)return w;if(C=Jt(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)D||(K=ue),K===void 0&&(K=!1),h.addEventListener(x.toString(),C,K);else if(h.attachEvent)h.attachEvent(Yn(x.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Jt(){function h(w){return x.call(h.src,h.listener,w)}const x=mi;return h}function kn(h,x,w,C,K){if(Array.isArray(x))for(var W=0;W<x.length;W++)kn(h,x[W],w,C,K);else C=d(C)?!!C.capture:!!C,w=Cl(w),h&&h[we]?(h=h.i,W=String(x).toString(),W in h.g&&(x=h.g[W],w=Ne(x,w,C,K),w>-1&&(fe(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete h.g[W],h.h--)))):h&&(h=ys(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ne(x,w,C,K)),(w=h>-1?x[h]:null)&&$n(w))}function $n(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[we])Te(x.i,h);else{var w=h.type,C=h.proxy;x.removeEventListener?x.removeEventListener(w,C,h.capture):x.detachEvent?x.detachEvent(Yn(w),C):x.addListener&&x.removeListener&&x.removeListener(C),(w=ys(x))?(Te(w,h),w.h==0&&(w.src=null,x[je]=null)):fe(h)}}}function Yn(h){return h in le?le[h]:le[h]="on"+h}function mi(h,x){if(h.da)h=!0;else{x=new he(x,this);const w=h.listener,C=h.ha||h.src;h.fa&&$n(h),h=w.call(C,x)}return h}function ys(h){return h=h[je],h instanceof me?h:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cl(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(x){return h.handleEvent(x)}),h[Al])}function It(){P.call(this),this.i=new me(this),this.M=this,this.G=null}b(It,P),It.prototype[we]=!0,It.prototype.removeEventListener=function(h,x,w,C){kn(this,h,x,w,C)};function Ht(h,x){var w,C=h.G;if(C)for(w=[];C;C=C.G)w.push(C);if(h=h.M,C=x.type||x,typeof x=="string")x=new M(x,h);else if(x instanceof M)x.target=x.target||h;else{var K=x;x=new M(C,h),ce(x,K)}K=!0;let W,ue;if(w)for(ue=w.length-1;ue>=0;ue--)W=x.g=w[ue],K=Ws(W,C,!0,x)&&K;if(W=x.g=h,K=Ws(W,C,!0,x)&&K,K=Ws(W,C,!1,x)&&K,w)for(ue=0;ue<w.length;ue++)W=x.g=w[ue],K=Ws(W,C,!1,x)&&K}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const w=h.g[x];for(let C=0;C<w.length;C++)fe(w[C]);delete h.g[x],h.h--}}this.G=null},It.prototype.J=function(h,x,w,C){return this.i.add(String(h),x,!1,w,C)},It.prototype.K=function(h,x,w,C){return this.i.add(String(h),x,!0,w,C)};function Ws(h,x,w,C){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let W=0;W<x.length;++W){const ue=x[W];if(ue&&!ue.da&&ue.capture==w){const Ve=ue.listener,Et=ue.ha||ue.src;ue.fa&&Te(h.i,ue),K=Ve.call(Et,C)!==!1&&K}}return K&&!C.defaultPrevented}function Hd(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(h,x||0)}function ku(h){h.g=Hd(()=>{h.g=null,h.i&&(h.i=!1,ku(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class yn extends P{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(h){P.call(this),this.h=h,this.g={}}b(ia,P);var Rl=[];function Nl(h){Re(h.g,function(x,w){this.g.hasOwnProperty(w)&&$n(x)},h),h.g={}}ia.prototype.N=function(){ia.Z.N.call(this),Nl(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=u.JSON.stringify,qd=u.JSON.parse,ju=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Mu(){}function Vu(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){M.call(this,"d")}b(Zt,M);function Qn(){M.call(this,"c")}b(Qn,M);var Tt={},Pu=null;function Xa(){return Pu=Pu||new It}Tt.Ia="serverreachability";function Ou(h){M.call(this,Tt.Ia,h)}b(Ou,M);function Li(h){const x=Xa();Ht(x,new Ou(x))}Tt.STAT_EVENT="statevent";function sa(h,x){M.call(this,Tt.STAT_EVENT,h),this.stat=x}b(sa,M);function Dt(h){const x=Xa();Ht(x,new sa(x,h))}Tt.Ja="timingevent";function Ui(h,x){M.call(this,Tt.Ja,h),this.size=x}b(Ui,M);function Bi(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},x)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function Gd(h,x,w,C,K,W){h.info(function(){if(h.g)if(W){var ue="",Ve=W.split("&");for(let Xe=0;Xe<Ve.length;Xe++){var Et=Ve[Xe].split("=");if(Et.length>1){const dt=Et[0];Et=Et[1];const Zn=dt.split("_");ue=Zn.length>=2&&Zn[1]=="type"?ue+(dt+"="+Et+"&"):ue+(dt+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+x+`
`+w+`
`+ue})}function Lu(h,x,w,C,K,W,ue){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+x+`
`+w+`
`+W+" "+ue})}function zi(h,x,w,C){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Kd(h,w)+(C?" "+C:"")})}function ra(h,x){h.info(function(){return"TIMEOUT: "+x})}gi.prototype.info=function(){};function Kd(h,x){if(!h.g)return x;if(!x)return null;try{const W=JSON.parse(x);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var w=W[h];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var K=C[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return Js(W)}catch{return x}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function oa(){}b(oa,Mu),oa.prototype.g=function(){return new XMLHttpRequest},Dl=new oa;function vs(h){return encodeURIComponent(String(h))}function Uu(h){var x=1;h=h.split(":");const w=[];for(;x>0&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function yi(h,x,w,C){this.j=h,this.i=x,this.l=w,this.S=C||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var kt={},Yt={};function Fi(h,x,w){h.M=1,h.A=la(Mt(x)),h.u=w,h.R=!0,Wa(h,null)}function Wa(h,x){h.F=Date.now(),Hi(h),h.B=Mt(h.A);var w=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),to(w.i,"t",C),h.C=0,w=h.j.L,h.h=new vi,h.g=eh(h.j,w?x:null,!h.u),h.P>0&&(h.O=new yn(y(h.Y,h,h.g),h.P)),x=h.V,w=h.g,C=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Rl[0]=K.toString()),K=Rl);for(let W=0;W<K.length;W++){const ue=ve(w,K[W],C||x.handleEvent,!1,x.h||x);if(!ue)break;x.g[ue.key]=ue}x=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Li(),Gd(h.i,h.v,h.B,h.l,h.S,h.u)}yi.prototype.ba=function(h){h=h.target;const x=this.O;x&&_i(h)==3?x.j():this.Y(h)},yi.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=_i(this.g),Et=this.g.ya(),Xe=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ve!=4||Et==7||(Et==8||Xe<=0?Li(3):Li(2)),qi(this);var x=this.g.ca();this.X=x;var w=$d(this);if(this.o=x==200,Lu(this.i,this.v,this.B,this.l,this.S,Ve,x),this.o){if(this.U&&!this.L){t:{if(this.g){var C,K=this.g;if((C=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var W=C;break t}}W=null}if(h=W)zi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gi(this,h);else{this.o=!1,this.m=3,Dt(12),jn(this),Xn(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<w.length;)if(dt=zu(this,w),dt==Yt){Ve==4&&(this.m=4,Dt(14),h=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==kt){this.m=4,Dt(15),zi(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else zi(this.i,this.l,dt,null),Gi(this,dt);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||w.length!=0||this.h.h||(this.m=1,Dt(16),h=!1),this.o=this.o&&h,!h)zi(this.i,this.l,w,"[Invalid Chunked Response]"),jn(this),Xn(this);else if(w.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Kl(ue),ue.P=!0,Dt(11))}}else zi(this.i,this.l,w,null),Gi(this,w);Ve==4&&jn(this),this.o&&!this.K&&(Ve==4?Xu(this.j,this):(this.o=!1,Hi(this)))}else bs(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),jn(this),Xn(this)}}}catch{}};function $d(h){if(!Bu(h))return h.g.la();const x=en(h.g);if(x==="")return"";let w="";const C=x.length,K=_i(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),Xn(h),"";h.h.i=new u.TextDecoder}for(let W=0;W<C;W++)h.h.h=!0,w+=h.h.i.decode(x[W],{stream:!(K&&W==C-1)});return x.length=0,h.h.g+=w,h.C=0,h.h.g}function Bu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zu(h,x){var w=h.C,C=x.indexOf(`
`,w);return C==-1?Yt:(w=Number(x.substring(w,C)),isNaN(w)?kt:(C+=1,C+w>x.length?Yt:(x=x.slice(C,C+w),h.C=C+w,x)))}yi.prototype.cancel=function(){this.K=!0,jn(this)};function Hi(h){h.T=Date.now()+h.H,Ja(h,h.H)}function Ja(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Bi(y(h.aa,h),x)}function qi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}yi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ra(this.i,this.B),this.M!=2&&(Li(),Dt(17)),jn(this),this.m=2,Xn(this)):Ja(this,this.T-h)};function Xn(h){h.j.I==0||h.K||Xu(h.j,h)}function jn(h){qi(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Nl(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Gi(h,x){try{var w=h.j;if(w.I!=0&&(w.g==h||$i(w.h,h))){if(!h.L&&$i(w.h,h)&&w.I==3){try{var C=w.Ba.g.parse(x)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)ao(w),ar(w);else break e;pa(w),Dt(18)}}else w.xa=K[1],0<w.xa-w.K&&K[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Bi(y(w.Va,w),6e3));Ki(w.h)<=1&&w.ta&&(w.ta=void 0)}else Zi(w,11)}else if((h.L||w.g==h)&&ao(w),!I(x))for(K=w.Ba.g.parse(x),x=0;x<K.length;x++){let Xe=K[x];const dt=Xe[0];if(!(dt<=w.K))if(w.K=dt,Xe=Xe[1],w.I==2)if(Xe[0]=="c"){w.M=Xe[1],w.ba=Xe[2];const Zn=Xe[3];Zn!=null&&(w.ka=Zn,w.j.info("VER="+w.ka));const es=Xe[4];es!=null&&(w.za=es,w.j.info("SVER="+w.za));const wi=Xe[5];wi!=null&&typeof wi=="number"&&wi>0&&(C=1.5*wi,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Ti=h.g;if(Ti){const ga=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var W=C.h;W.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ml(W,W.h),W.h=null))}if(C.G){const oo=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(C.wa=oo,et(C.J,C.G,oo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var ue=h;if(C.na=Zu(C,C.L?C.ba:null,C.W),ue.L){Vl(C.h,ue);var Ve=ue,Et=C.O;Et&&(Ve.H=Et),Ve.D&&(qi(Ve),Hi(Ve)),C.g=ue}else Yu(C);w.i.length>0&&Ji(w)}else Xe[0]!="stop"&&Xe[0]!="close"||Zi(w,7);else w.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Zi(w,7):ql(w):Xe[0]!="noop"&&w.l&&w.l.qa(Xe),w.A=0)}}Li(4)}catch{}}var jt=class{constructor(h,x){this.g=h,this.map=x}};function kl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ki(h){return h.h?1:h.g?h.g.size:0}function $i(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ml(h,x){h.g?h.g.add(x):h.h=x}function Vl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}kl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.G);return x}return R(h.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(h,x){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const C=h[w].indexOf("=");let K,W=null;C>=0?(K=h[w].substring(0,C),W=h[w].substring(C+1)):K=h[w],x(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Mn?(this.l=h.l,Qt(this,h.j),this.o=h.o,this.g=h.g,Zs(this,h.u),this.h=h.h,Ol(this,Ku(h.i)),this.m=h.m):h&&(x=String(h).match(Fu))?(this.l=!1,Qt(this,x[1]||"",!0),this.o=Yi(x[2]||""),this.g=Yi(x[3]||"",!0),Zs(this,x[4]),this.h=Yi(x[5]||"",!0),Ol(this,x[6]||"",!0),this.m=Yi(x[7]||"")):(this.l=!1,this.i=new tr(null,this.l))}Mn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ca(x,eo,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ca(x,eo,!0),"@"),h.push(vs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ca(w,w.charAt(0)=="/"?Ll:Hu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ca(w,qu)),h.join("")},Mn.prototype.resolve=function(h){const x=Mt(this);let w=!!h.j;w?Qt(x,h.j):w=!!h.o,w?x.o=h.o:w=!!h.g,w?x.g=h.g:w=h.u!=null;var C=h.h;if(w)Zs(x,h.u);else if(w=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var K=x.h.lastIndexOf("/");K!=-1&&(C=x.h.slice(0,K+1)+C)}if(K=C,K==".."||K==".")C="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){C=K.lastIndexOf("/",0)==0,K=K.split("/");const W=[];for(let ue=0;ue<K.length;){const Ve=K[ue++];Ve=="."?C&&ue==K.length&&W.push(""):Ve==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),C&&ue==K.length&&W.push("")):(W.push(Ve),C=!0)}C=W.join("/")}else C=K}return w?x.h=C:w=h.i.toString()!=="",w?Ol(x,Ku(h.i)):w=!!h.m,w&&(x.m=h.m),x};function Mt(h){return new Mn(h)}function Qt(h,x,w){h.j=w?Yi(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Zs(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Ol(h,x,w){x instanceof tr?(h.i=x,no(h.i,h.l)):(w||(x=ca(x,er)),h.i=new tr(x,h.l))}function et(h,x,w){h.i.set(x,w)}function la(h){return et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Yi(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ca(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,wn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eo=/[#\/\?@]/g,Hu=/[#\?:]/g,Ll=/[#\?]/g,er=/[#\?@]/g,qu=/#/g;function tr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Za(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=tr.prototype,t.add=function(h,x){Tn(this),this.i=null,h=nr(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Gu(h,x){Tn(h),x=nr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ul(h,x){return Tn(h),x=nr(h,x),h.g.has(x)}t.forEach=function(h,x){Tn(this),this.g.forEach(function(w,C){w.forEach(function(K){h.call(x,K,C,this)},this)},this)};function Bl(h,x){Tn(h);let w=[];if(typeof x=="string")Ul(h,x)&&(w=w.concat(h.g.get(nr(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)w=w.concat(h[x]);return w}t.set=function(h,x){return Tn(this),this.i=null,h=nr(this,h),Ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Bl(this,h),h.length>0?String(h[0]):x):x};function to(h,x,w){Gu(h,x),w.length>0&&(h.i=null,h.g.set(nr(h,x),R(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let C=0;C<x.length;C++){var w=x[C];const K=vs(w);w=Bl(this,w);for(let W=0;W<w.length;W++){let ue=K;w[W]!==""&&(ue+="="+vs(w[W])),h.push(ue)}}return this.i=h.join("&")};function Ku(h){const x=new tr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function nr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function no(h,x){x&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(w,C){const K=C.toLowerCase();C!=K&&(Gu(this,C),to(this,K,w))},h)),h.j=x}function xi(h,x){const w=new gi;if(u.Image){const C=new Image;C.onload=v(Wn,w,"TestLoadImage: loaded",!0,x,C),C.onerror=v(Wn,w,"TestLoadImage: error",!1,x,C),C.onabort=v(Wn,w,"TestLoadImage: abort",!1,x,C),C.ontimeout=v(Wn,w,"TestLoadImage: timeout",!1,x,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else x(!1)}function zl(h,x){const w=new gi,C=new AbortController,K=setTimeout(()=>{C.abort(),Wn(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:C.signal}).then(W=>{clearTimeout(K),W.ok?Wn(w,"TestPingServer: ok",!0,x):Wn(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),Wn(w,"TestPingServer: error",!1,x)})}function Wn(h,x,w,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(w)}catch{}}function ir(){this.g=new ju}function Qi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Qi,Mu),Qi.prototype.g=function(){return new ua(this.i,this.h)};function ua(h,x){It.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ua,It),t=ua.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,bi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;io(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function io(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?sr(this):bi(this),this.readyState==3&&io(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,sr(this))},t.Na=function(h){this.g&&(this.response=h,sr(this))},t.ga=function(){this.g&&sr(this)};function sr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,bi(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let x="";return Re(h,function(w,C){x+=C,x+=":",x+=w,x+=`\r
`}),x}function ha(h,x,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Jn(w),typeof h=="string"?w!=null&&vs(w):et(h,x,w))}function it(h){It.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(it,It);var Xi=/^https?$/i,Fl=["POST","PUT"];t=it.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(W){fa(this,W);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)w.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const W of C.keys())w.set(W,C.get(W));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Fl,x,void 0)>=0)||C||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of w)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){fa(this,W)}};function fa(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Hl(h),xs(h)}function Hl(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},t.Xa=function(){da(this)};function da(h){if(h.h&&typeof l<"u"){if(h.v&&_i(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),_i(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var C;if(C=W===0){let ue=String(h.D).match(Fu)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),C=!Xi.test(ue?ue.toLowerCase():"")}w=C}if(w)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var K=_i(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Hl(h)}}finally{xs(h)}}}}function xs(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,x||Ht(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _i(h){return h.g?h.g.readyState:0}t.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),qd(x)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(h){const x={};h=(h.g&&_i(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(I(h[C]))continue;var w=Uu(h[C]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=x[K]||[];x[K]=W,W.push(w)}ke(x,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function rr(h){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wi("baseRetryDelayMs",5e3,h),this.Za=Wi("retryDelaySeedMs",1e4,h),this.Ta=Wi("forwardChannelMaxRetries",2,h),this.va=Wi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(h&&h.concurrentRequestLimit),this.Ba=new ir,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=rr.prototype,t.ka=8,t.I=1,t.connect=function(h,x,w,C){Dt(0),this.W=h,this.H=x||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=Zu(this,null,this.W),Ji(this)};function ql(h){if(so(h),h.I==3){var x=h.V++,w=Mt(h.J);if(et(w,"SID",h.M),et(w,"RID",x),et(w,"TYPE","terminate"),ma(h,w),x=new yi(h,h.j,x),x.M=2,x.A=la(Mt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=x.A,w=!0),w||(x.g=eh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Hi(x)}Ju(h)}function ar(h){h.g&&(Kl(h),h.g.cancel(),h.g=null)}function so(h){ar(h),h.v&&(u.clearTimeout(h.v),h.v=null),ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ji(h){if(!jl(h.h)&&!h.m){h.m=!0;var x=h.Ea;te||E(),ae||(te(),ae=!0),A.add(x,h),h.D=0}}function ro(h,x){return Ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Bi(y(h.Ea,h,x),Wu(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new yi(this,this.j,h);let W=this.o;if(this.U&&(W?(W=z(W),ce(W,this.U)):W=this.U),this.u!==null||this.R||(K.J=W,W=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(x+=C,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=$u(this,K,x),w=Mt(this.J),et(w,"RID",h),et(w,"CVER",22),this.G&&et(w,"X-HTTP-Session-Id",this.G),ma(this,w),W&&(this.R?x="headers="+vs(Jn(W))+"&"+x:this.u&&ha(w,this.u,W)),Ml(this.h,K),this.Ra&&et(w,"TYPE","init"),this.S?(et(w,"$req",x),et(w,"SID","null"),K.U=!0,Fi(K,w,null)):Fi(K,w,x),this.I=2}}else this.I==3&&(h?Gl(this,h):this.i.length==0||jl(this.h)||Gl(this))};function Gl(h,x){var w;x?w=x.l:w=h.V++;const C=Mt(h.J);et(C,"SID",h.M),et(C,"RID",w),et(C,"AID",h.K),ma(h,C),h.u&&h.o&&ha(C,h.u,h.o),w=new yi(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),x&&(h.i=x.G.concat(h.i)),x=$u(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ml(h.h,w),Fi(w,C,x)}function ma(h,x){h.H&&Re(h.H,function(w,C){et(x,C,w)}),h.l&&Re({},function(w,C){et(x,C,w)})}function $u(h,x,w){w=Math.min(h.i.length,w);const C=h.l?y(h.l.Ka,h.l,h):null;e:{var K=h.i;let Ve=-1;for(;;){const Et=["count="+w];Ve==-1?w>0?(Ve=K[0].g,Et.push("ofs="+Ve)):Ve=0:Et.push("ofs="+Ve);let Xe=!0;for(let dt=0;dt<w;dt++){var W=K[dt].g;const Zn=K[dt].map;if(W-=Ve,W<0)Ve=Math.max(0,K[dt].g-100),Xe=!1;else try{W="req"+W+"_"||"";try{var ue=Zn instanceof Map?Zn:Object.entries(Zn);for(const[es,wi]of ue){let Ti=wi;d(wi)&&(Ti=Js(wi)),Et.push(W+es+"="+encodeURIComponent(Ti))}}catch(es){throw Et.push(W+"type="+encodeURIComponent("_badmap")),es}}catch{C&&C(Zn)}}if(Xe){ue=Et.join("&");break e}}ue=void 0}return h=h.i.splice(0,w),x.G=h,ue}function Yu(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;te||E(),ae||(te(),ae=!0),A.add(x,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Bi(y(h.Da,h),Wu(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Bi(y(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),ar(this),Qu(this))};function Kl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Qu(h){h.g=new yi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Mt(h.na);et(x,"RID","rpc"),et(x,"SID",h.M),et(x,"AID",h.K),et(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&et(x,"TO",h.ia),et(x,"TYPE","xmlhttp"),ma(h,x),h.u&&h.o&&ha(x,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=la(Mt(x)),w.u=null,w.R=!0,Wa(w,h)}t.Va=function(){this.C!=null&&(this.C=null,ar(this),pa(this),Dt(19))};function ao(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Xu(h,x){var w=null;if(h.g==x){ao(h),Kl(h),h.g=null;var C=2}else if($i(h.h,x))w=x.G,Vl(h.h,x),C=1;else return;if(h.I!=0){if(x.o)if(C==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var K=h.D;C=Xa(),Ht(C,new Ui(C,w)),Ji(h)}else Yu(h);else if(K=x.m,K==3||K==0&&x.X>0||!(C==1&&ro(h,x)||C==2&&pa(h)))switch(w&&w.length>0&&(x=h.h,x.i=x.i.concat(w)),K){case 1:Zi(h,5);break;case 4:Zi(h,10);break;case 3:Zi(h,6);break;default:Zi(h,2)}}}function Wu(h,x){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*x}function Zi(h,x){if(h.j.info("Error code "+x),x==2){var w=y(h.bb,h),C=h.Ua;const K=!C;C=new Mn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(C,"https"),la(C),K?xi(C.toString(),w):zl(C.toString(),w)}else Dt(2);h.I=0,h.l&&h.l.pa(x),Ju(h),so(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ju(h){if(h.I=0,h.ja=[],h.l){const x=Pl(h.h);(x.length!=0||h.i.length!=0)&&(k(h.ja,x),k(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Zu(h,x,w){var C=w instanceof Mn?Mt(w):new Mn(w);if(C.g!="")x&&(C.g=x+"."+C.g),Zs(C,C.u);else{var K=u.location;C=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const W=new Mn(null);C&&Qt(W,C),x&&(W.g=x),K&&Zs(W,K),w&&(W.h=w),C=W}return w=h.G,x=h.wa,w&&x&&et(C,w,x),et(C,"VER",h.ka),ma(h,C),C}function eh(h,x,w){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new it(new Qi({ab:w})):new it(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function or(){}or.prototype.g=function(h,x){return new vn(h,x)};function vn(h,x){It.call(this),this.g=new rr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!I(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!I(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new _s(this)}b(vn,It),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ql(this.g)},vn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Js(h),h=w);x.i.push(new jt(x.Ya++,h)),x.I==3&&Ji(x)},vn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,vn.Z.N.call(this)};function nh(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(nh,Zt);function ih(){Qn.call(this),this.status=1}b(ih,Qn);function _s(h){this.g=h}b(_s,th),_s.prototype.ra=function(){Ht(this.g,"a")},_s.prototype.qa=function(h){Ht(this.g,new nh(h))},_s.prototype.pa=function(h){Ht(this.g,new ih)},_s.prototype.oa=function(){Ht(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,oS=function(){return new or},aS=function(){return Xa()},rS=Tt,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Nf=aa,Il.COMPLETE="complete",sS=Il,Vu.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",It.prototype.listen=It.prototype.J,Vc=Vu,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,iS=it}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const Sw="@firebase/firestore",Aw="4.9.3";let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let vl="12.7.0";const Ka=new By("@firebase/firestore");function Uo(){return Ka.logLevel}function pe(t,...e){if(Ka.logLevel<=He.DEBUG){const n=e.map(Zy);Ka.debug(`Firestore (${vl}): ${t}`,...n)}}function Ks(t,...e){if(Ka.logLevel<=He.ERROR){const n=e.map(Zy);Ka.error(`Firestore (${vl}): ${t}`,...n)}}function il(t,...e){if(Ka.logLevel<=He.WARN){const n=e.map(Zy);Ka.warn(`Firestore (${vl}): ${t}`,...n)}}function Zy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,lS(t,s,n)}function lS(t,e,n){let s=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ks(s),new Error(s)}function Je(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||lS(e,a,s)}function De(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class cS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class Gj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Kj{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new cS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class $j{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yj{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $j(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class e0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Xj(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function Fg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ig(a)===ig(l)?qe(a,l):ig(a)?1:-1}return qe(t.length,e.length)}const Wj=55296,Jj=57343;function ig(t){const e=t.charCodeAt(0);return e>=Wj&&e<=Jj}function sl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Rw="__name__";class as{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return as.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof as?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=as.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=as.isNumericId(e),a=as.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?as.extractNumericId(e).compare(as.extractNumericId(n)):Fg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zr.fromString(e.substring(4,e.length-2))}}class ct extends as{construct(e,n,s){return new ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const Zj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends as{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return Zj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new ln([Rw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}function uS(t,e,n){if(!n)throw new de(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eM(t,e,n,s){if(e===!0&&s===!0)throw new de(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nw(t){if(!be.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iw(t){if(be.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(t);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function vu(t,e){if(!hS(t))throw new de(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new de(se.INVALID_ARGUMENT,n);return!0}const Dw=-62135596800,kw=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*kw);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dw)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kw}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ft("string",ft._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ft(0,0))}static max(){return new Ce(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zc=-1;function tM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new qr(a,be.empty(),e)}function nM(t){return new qr(t.readTime,t.key,Zc)}class qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(Ce.min(),be.empty(),Zc)}static max(){return new qr(Ce.max(),be.empty(),Zc)}}function iM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}const sM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==sM)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const y=m;n(e[y]).next((v=>{u[y]=v,++d,d===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function aM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}class Td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Td.ce=-1;const t0=-1;function Ed(t){return t==null}function Yf(t){return t===0&&1/t==-1/0}function oM(t){return typeof t=="number"&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const fS="";function lM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jw(e)),e=cM(t.get(n),e);return jw(e)}function cM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case fS:n+="";break;default:n+=l}}return n}function jw(t){return t+fS+""}function Mw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new on(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vw(this.data.getIterator())}getIteratorFrom(e){return new Vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new qn([])}unionWith(e){let n=new $t(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class mS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mS("Invalid base64 string: "+l):l}})(e);return new un(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const uM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=uM.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}const pS="server_timestamp",gS="__type__",yS="__previous_value__",vS="__local_write_time__";function n0(t){return(t?.mapValue?.fields||{})[gS]?.stringValue===pS}function Sd(t){const e=t.mapValue.fields[yS];return n0(e)?Sd(e):e}function eu(t){const e=Gr(t.mapValue.fields[vS].timestampValue);return new ft(e.seconds,e.nanos)}class hM{constructor(e,n,s,a,l,u,d,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=v}}const Qf="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Qf}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const xS="__type__",fM="__max__",ff={mapValue:{}},bS="__vector__",Xf="value";function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n0(t)?4:mM(t)?9007199254740991:dM(t)?10:11:Se(28295,{value:t})}function ms(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Gr(a.timestampValue),d=Gr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Kr(a.bytesValue).isEqual(Kr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Rt(a.doubleValue),d=Rt(l.doubleValue);return u===d?Yf(u)===Yf(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Mw(u)!==Mw(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!ms(u[m],d[m])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function nu(t,e){return(t.values||[]).find((n=>ms(n,e)))!==void 0}function rl(t,e){if(t===e)return 0;const n=$r(t),s=$r(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Rt(l.integerValue||l.doubleValue),m=Rt(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Pw(t.timestampValue,e.timestampValue);case 4:return Pw(eu(t),eu(e));case 5:return Fg(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=Kr(l),m=Kr(u);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let y=0;y<d.length&&y<m.length;y++){const v=qe(d[y],m[y]);if(v!==0)return v}return qe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=qe(Rt(l.latitude),Rt(u.latitude));return d!==0?d:qe(Rt(l.longitude),Rt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ow(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},y=d[Xf]?.arrayValue,v=m[Xf]?.arrayValue,b=qe(y?.values?.length||0,v?.values?.length||0);return b!==0?b:Ow(y,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===ff.mapValue&&u===ff.mapValue)return 0;if(l===ff.mapValue)return 1;if(u===ff.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),y=u.fields||{},v=Object.keys(y);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const T=Fg(m[b],v[b]);if(T!==0)return T;const R=rl(d[m[b]],y[v[b]]);if(R!==0)return R}return qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Gr(t),s=Gr(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function Ow(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=rl(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function al(t){return Hg(t)}function Hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Kr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Hg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Hg(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function If(t){switch($r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return Kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+If(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Zr(s.fields,((l,u)=>{a+=l.length+If(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function Lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function i0(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function Bw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function dM(t){return(t?.mapValue?.fields||{})[xS]?.stringValue===bS}function Fc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return{...t}}function mM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fM}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=ln.emptyPath(),s={},a=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=Fc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Df(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Zr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new In(Fc(this.value))}}function _S(t){const e=[];return Zr(t.fields,((n,s)=>{const a=new ln([n]);if(Df(s)){const l=_S(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new qn(e)}class mn{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,Ce.min(),Ce.min(),Ce.min(),In.empty(),0)}static newFoundDocument(e,n,s,a){return new mn(e,1,n,Ce.min(),s,a,0)}static newNoDocument(e,n){return new mn(e,2,n,Ce.min(),Ce.min(),In.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Ce.min(),Ce.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function zw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(u.referenceValue),n.key):s=rl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ms(t.position[n],e.position[n]))return!1;return!0}class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function pM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class wS{}class zt extends wS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new yM(e,n,s):n==="array-contains"?new bM(e,s):n==="in"?new _M(e,s):n==="not-in"?new wM(e,s):n==="array-contains-any"?new TM(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new vM(e,s):new xM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends wS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ji(e,n)}matches(e){return TS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TS(t){return t.op==="and"}function ES(t){return gM(t)&&TS(t)}function gM(t){for(const e of t.filters)if(e instanceof ji)return!1;return!0}function Gg(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+al(t.value);if(ES(t))return t.filters.map((e=>Gg(e))).join(",");{const e=t.filters.map((n=>Gg(n))).join(",");return`${t.op}(${e})`}}function SS(t,e){return t instanceof zt?(function(s,a){return a instanceof zt&&s.op===a.op&&s.field.isEqual(a.field)&&ms(s.value,a.value)})(t,e):t instanceof ji?(function(s,a){return a instanceof ji&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,d)=>l&&SS(u,a.filters[d])),!0):!1})(t,e):void Se(19439)}function AS(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${al(n.value)}`})(t):t instanceof ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"})(t):"Filter"}class yM extends zt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class vM extends zt{constructor(e,n){super(e,"in",n),this.keys=CS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xM extends zt{constructor(e,n){super(e,"not-in",n),this.keys=CS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CS(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class bM extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i0(n)&&nu(n.arrayValue,this.value)}}class _M extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class wM extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class TM extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class EM{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function Hw(t,e=null,n=[],s=[],a=null,l=null,u=null){return new EM(t,e,n,s,a,l,u)}function s0(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>al(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>al(s))).join(",")),e.Te=n}return e.Te}function r0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fw(t.startAt,e.startAt)&&Fw(t.endAt,e.endAt)}function Kg(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class xu{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SM(t,e,n,s,a,l,u,d){return new xu(t,e,n,s,a,l,u,d)}function a0(t){return new xu(t)}function qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RS(t){return t.collectionGroup!==null}function Hc(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new $t(ln.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Jf(l,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new Jf(ln.keyField(),s))}return e.Ie}function ls(t){const e=De(t);return e.Ee||(e.Ee=AM(e,Hc(t))),e.Ee}function AM(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jf(a.field,l)}));const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function $g(t,e){const n=t.filters.concat([e]);return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yg(t,e,n){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return r0(ls(t),ls(e))&&t.limitType===e.limitType}function NS(t){return`${s0(ls(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>AS(a))).join(", ")}]`),Ed(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>al(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>al(a))).join(",")),`Target(${s})`})(ls(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Hc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,d,m){const y=zw(u,d,m);return u.inclusive?y<=0:y<0})(s.startAt,Hc(s),a)||s.endAt&&!(function(u,d,m){const y=zw(u,d,m);return u.inclusive?y>=0:y>0})(s.endAt,Hc(s),a))})(t,e)}function CM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IS(t){return(e,n)=>{let s=!1;for(const a of Hc(t)){const l=RM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function RM(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,u,d){const m=u.data.field(l),y=d.data.field(l);return m!==null&&y!==null?rl(m,y):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:t.dir})}}class Ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return dS(this.inner)}size(){return this.innerSize}}const NM=new xt(be.comparator);function $s(){return NM}const DS=new xt(be.comparator);function Pc(...t){let e=DS;for(const n of t)e=e.insert(n.key,n);return e}function kS(t){let e=DS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Pa(){return qc()}function jS(){return qc()}function qc(){return new Ya((t=>t.toString()),((t,e)=>t.isEqual(e)))}const IM=new xt(be.comparator),DM=new $t(be.comparator);function Ge(...t){let e=DM;for(const n of t)e=e.add(n);return e}const kM=new $t(qe);function jM(){return kM}function o0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function MM(t,e){return oM(e)?MS(e):o0(t,e)}class Rd{constructor(){this._=void 0}}function VM(t,e,n){return t instanceof Zf?(function(a,l){const u={fields:{[gS]:{stringValue:pS},[vS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&n0(l)&&(l=Sd(l)),l&&(u.fields[yS]=l),{mapValue:u}})(n,e):t instanceof iu?PS(t,e):t instanceof su?OS(t,e):(function(a,l){const u=VS(a,l),d=Gw(u)+Gw(a.Ae);return qg(u)&&qg(a.Ae)?MS(d):o0(a.serializer,d)})(t,e)}function PM(t,e,n){return t instanceof iu?PS(t,e):t instanceof su?OS(t,e):n}function VS(t,e){return t instanceof ed?(function(s){return qg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zf extends Rd{}class iu extends Rd{constructor(e){super(),this.elements=e}}function PS(t,e){const n=LS(e);for(const s of t.elements)n.some((a=>ms(a,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Rd{constructor(e){super(),this.elements=e}}function OS(t,e){let n=LS(e);for(const s of t.elements)n=n.filter((a=>!ms(a,s)));return{arrayValue:{values:n}}}class ed extends Rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gw(t){return Rt(t.integerValue||t.doubleValue)}function LS(t){return i0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OM(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof iu&&a instanceof iu||s instanceof su&&a instanceof su?sl(s.elements,a.elements,ms):s instanceof ed&&a instanceof ed?ms(s.Ae,a.Ae):s instanceof Zf&&a instanceof Zf})(t.transform,e.transform)}class LM{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function US(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Id(t.key,_n.none()):new bu(t.key,t.data,_n.none());{const n=t.data,s=In.empty();let a=new $t(ln.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new ea(t.key,s,new qn(a.toArray()),_n.none())}}function UM(t,e,n){t instanceof bu?(function(a,l,u){const d=a.value.clone(),m=$w(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ea?(function(a,l,u){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=$w(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(BS(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Gc(t,e,n,s){return t instanceof bu?(function(l,u,d,m){if(!kf(l.precondition,u))return d;const y=l.value.clone(),v=Yw(l.fieldTransforms,m,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,s):t instanceof ea?(function(l,u,d,m){if(!kf(l.precondition,u))return d;const y=Yw(l.fieldTransforms,m,u),v=u.data;return v.setAll(BS(l)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,d){return kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function BM(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=VS(s.transform,a||null);l!=null&&(n===null&&(n=In.empty()),n.set(s.field,l))}return n||null}function Kw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&sl(s,a,((l,u)=>OM(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends Nd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ea extends Nd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function BS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function $w(t,e,n){const s=new Map;Je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,PM(u,d,n[a]))}return s}function Yw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,VM(l,u,e))}return s}class Id extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zM extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FM{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&UM(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=US(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((n,s)=>Kw(n,s)))&&sl(this.baseMutations,e.baseMutations,((n,s)=>Kw(n,s)))}}class l0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return IM})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new l0(e,n,s,a)}}class HM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,$e;function GM(t){switch(t){case se.OK:return Se(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function zS(t){if(t===void 0)return Ks("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return Se(39323,{code:t})}}($e=Ut||(Ut={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function KM(){return new TextEncoder}const $M=new zr([4294967295,4294967295],0);function Qw(t){const e=KM().encode(t),n=new nS;return n.update(e),new Uint8Array(n.digest())}function Xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zr([n,s],0),new zr([a,l],0)]}class c0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(s<0)throw new Oc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(zr.fromNumber(s)));return a.compare($M)===1&&(a=new zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Qw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new c0(l,a,n);return s.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const n=Qw(e),[s,a]=Xw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dd(Ce.min(),a,new xt(qe),$s(),Ge())}}class _u{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Ge(),Ge(),Ge())}}class jf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class FS{constructor(e,n){this.targetId=e,this.Ce=n}}class HS{constructor(e,n,s=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Ww{constructor(){this.ve=0,this.Fe=Jw(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),s=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Se(38017,{changeType:l})}})),new _u(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Jw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YM{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=df(),this.He=df(),this.Ye=new xt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Kg(l))if(s===0){const u=new be(l.path);this.et(n,u,mn.newNoDocument(u,Ce.min()))}else Je(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Kr(s).toUint8Array()}catch(m){if(m instanceof mS)return il("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new c0(u,a,l)}catch(m){return il(m instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&Kg(d.target)){const m=new be(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,mn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Ge();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Dd(e,n,this.Ye,this.je,s);return this.je=$s(),this.Je=df(),this.He=df(),this.Ye=new xt(qe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ww,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ww),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function df(){return new xt(be.comparator)}function Jw(){return new xt(be.comparator)}const QM={asc:"ASCENDING",desc:"DESCENDING"},XM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WM={and:"AND",or:"OR"};class JM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qg(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZM(t,e){return td(t,e.toTimestamp())}function cs(t){return Je(!!t,49232),Ce.fromTimestamp((function(n){const s=Gr(n);return new ft(s.seconds,s.nanos)})(t))}function u0(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){const n=(function(a){return new ct(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function GS(t){const e=ct.fromString(t);return Je(XS(e),10190,{key:e.toString()}),e}function Wg(t,e){return u0(t.databaseId,e.path)}function sg(t,e){const n=GS(e);if(n.get(1)!==t.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be($S(n))}function KS(t,e){return u0(t.databaseId,e)}function eV(t){const e=GS(t);return e.length===4?ct.emptyPath():$S(e)}function Jg(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $S(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zw(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function tV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(y,v){return y.useProto3Json?(Je(v===void 0||typeof v=="string",58123),un.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),un.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(y){const v=y.code===void 0?se.UNKNOWN:zS(y.code);return new de(v,y.message||"")})(u);n=new HS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=sg(t,s.document.name),l=cs(s.document.updateTime),u=s.document.createTime?cs(s.document.createTime):Ce.min(),d=new In({mapValue:{fields:s.document.fields}}),m=mn.newFoundDocument(a,l,u,d),y=s.targetIds||[],v=s.removedTargetIds||[];n=new jf(y,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=sg(t,s.document),l=s.readTime?cs(s.readTime):Ce.min(),u=mn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new jf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=sg(t,s.document),l=s.removedTargetIds||[];n=new jf([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new qM(a,l),d=s.targetId;n=new FS(d,u)}}return n}function nV(t,e){let n;if(e instanceof bu)n={update:Zw(t,e.key,e.value)};else if(e instanceof Id)n={delete:Wg(t,e.key)};else if(e instanceof ea)n={update:Zw(t,e.key,e.data),updateMask:hV(e.fieldMask)};else{if(!(e instanceof zM))return Se(16599,{Vt:e.type});n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const d=u.transform;if(d instanceof Zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ed)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ZM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function iV(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?cs(a.updateTime):cs(l);return u.isEqual(Ce.min())&&(u=cs(l)),new LM(u,a.transformResults||[])})(n,e)))):[]}function sV(t,e){return{documents:[KS(t,e.path)]}}function rV(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=KS(t,a);const l=(function(y){if(y.length!==0)return QS(ji.create(y,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(y){if(y.length!==0)return y.map((v=>(function(T){return{field:zo(T.field),direction:lV(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Qg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:a}}function aV(t){let e=eV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Je(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const T=YS(b);return T instanceof ji&&ES(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((T=>(function(k){return new Jf(Fo(k.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let T;return T=typeof b=="object"?b.value:b,Ed(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(b){const T=!!b.before,R=b.values||[];return new Wf(R,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const T=!b.before,R=b.values||[];return new Wf(R,T)})(n.endAt)),SM(e,a,u,l,d,"F",m,y)}function oV(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fo(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Fo(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fo(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fo(n.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(Fo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ji.create(n.compositeFilter.filters.map((s=>YS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function lV(t){return QM[t]}function cV(t){return XM[t]}function uV(t){return WM[t]}function zo(t){return{fieldPath:t.canonicalString()}}function Fo(t){return ln.fromServerFormat(t.fieldPath)}function QS(t){return t instanceof zt?(function(n){if(n.op==="=="){if(Bw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(n.field),op:cV(n.op),value:n.value}}})(t):t instanceof ji?(function(n){const s=n.getFilters().map((a=>QS(a)));return s.length===1?s[0]:{compositeFilter:{op:uV(n.op),filters:s}}})(t):Se(54877,{filter:t})}function hV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Or{constructor(e,n,s,a,l=Ce.min(),u=Ce.min(),d=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fV{constructor(e){this.yt=e}}function dV(t){const e=aV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yg(e,e.limit,"L"):e}class mV{constructor(){this.Cn=new pV}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(qr.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class pV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(ct.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(ct.comparator)).toArray()}}const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WS=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(WS,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const tT="LruGarbageCollector",gV=1048576;function nT([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class yV{constructor(e){this.Ir=e,this.buffer=new $t(nT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(tT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?pe(tT,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Vr(3e5)}))}}class xV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Td.ce);const s=new yV(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(eT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,d,m,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Uo()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(y-m)+`ms
Total Duration: ${y-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function bV(t,e){return new xV(t,e)}class _V{constructor(){this.changes=new Ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TV{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Gc(s.mutation,a,qn.empty(),ft.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ge()){const a=Pa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Pc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Pa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ge())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,s,a){let l=$s();const u=qc(),d=(function(){return qc()})();return n.forEach(((m,y)=>{const v=s.get(y.key);a.has(y.key)&&(v===void 0||v.mutation instanceof ea)?l=l.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),Gc(v.mutation,y,v.mutation.getFieldMask(),ft.now())):u.set(y.key,qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((y,v)=>u.set(y,v))),n.forEach(((y,v)=>d.set(y,new wV(v,u.get(y)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=qc();let a=new xt(((u,d)=>u-d)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let v=s.get(m)||qn.empty();v=d.applyToLocalView(y,v),s.set(m,v);const b=(a.get(d.batchId)||Ge()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),y=m.key,v=m.value,b=jS();v.forEach((T=>{if(!l.has(T)){const R=US(n.get(T),s.get(T));R!==null&&b.set(T,R),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return oe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(Pa());let d=Zc,m=l;return u.next((y=>oe.forEach(y,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,m,y,Ge()))).next((v=>({batchId:d,changes:kS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let a=Pc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Pc();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(m=>{const y=(function(b,T){return new xu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next((v=>{v.forEach(((b,T)=>{u=u.insert(b,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,mn.newInvalidDocument(v)))}));let d=Pc();return u.forEach(((m,y)=>{const v=l.get(m);v!==void 0&&Gc(v.mutation,y,qn.empty(),ft.now()),Cd(n,y)&&(d=d.insert(m,y))})),d}))}}class EV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:cs(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:dV(a.bundledQuery),readTime:cs(a.readTime)}})(n)),oe.resolve()}}class SV{constructor(){this.overlays=new xt(be.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pa();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=Pa(),l=n.length+1,u=new be(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new xt(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let v=l.get(y.largestBatchId);v===null&&(v=Pa(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=Pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=a)););return oe.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new HM(n,s));let l=this.qr.get(n);l===void 0&&(l=Ge(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class AV{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class h0{constructor(){this.Qr=new $t(Wt.$r),this.Ur=new $t(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new ct([])),s=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new ct([])),s=new Wt(n,e),a=new Wt(n,e+1);let l=Ge();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class CV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Wt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new FM(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?t0:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const d=this.Xr(u.Yr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(qe);return n.forEach((a=>{const l=new Wt(a,0),u=new Wt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{s=s.add(d.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const u=new Wt(new be(l),0);let d=new $t(qe);return this.Zr.forEachWhile((m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(d=d.add(m.Yr)),!0)}),u),oe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RV{constructor(e){this.ri=e,this.docs=(function(){return new xt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=$s();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=$s();const u=n.path,d=new be(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:y,value:{document:v}}=m.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||iM(nM(v),s)<=0||(a.has(v.key)||Cd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Se(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new NV(this)}getSize(e){return oe.resolve(this.size)}}class NV extends _V{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class IV{constructor(e){this.persistence=e,this.si=new Ya((n=>s0(n)),r0),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new h0,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}class JS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new AV,this.referenceDelegate=e(this),this.Pi=new IV(this),this.indexManager=new mV,this.remoteDocumentCache=(function(a){return new RV(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new fV(n),this.Ii=new EV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new CV(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const a=new DV(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class DV extends rM{constructor(e){super(),this.currentSequenceNumber=e}}class f0{constructor(e){this.persistence=e,this.Ri=new h0,this.Vi=null}static mi(e){return new f0(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=be.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nd{constructor(e,n){this.persistence=e,this.pi=new Ya((s=>lM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=bV(this,n)}static mi(e,n){return new nd(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((d=>{d||(s++,l.removeEntry(u,Ce.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class d0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new d0(e,n.fromCache,s,a)}}class kV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rD()?8:aM(gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new kV;return this.Ss(e,n,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,u,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Uo()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Uo()<=He.DEBUG&&pe("QueryEngine","Query:",Bo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Uo()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):oe.resolve())}ys(e,n){if(qw(n))return oe.resolve(null);let s=ls(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Yg(n,null,"F"),s=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ge(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const y=this.Ds(n,d);return this.Cs(n,y,u,m.readTime)?this.ys(e,Yg(n,null,"F")):this.vs(e,y,n,m)}))))})))))}ws(e,n,s,a){return qw(n)||a.isEqual(Ce.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?oe.resolve(null):(Uo()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(n)),this.vs(e,u,n,tM(a,Zc)).next((d=>d)))}))}Ds(e,n){let s=new $t(IS(e));return n.forEach(((a,l)=>{Cd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Uo()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.ps.getDocumentsMatchingQuery(e,n,qr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const m0="LocalStore",MV=3e8;class VV{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new xt(qe),this.xs=new Ya((l=>s0(l)),r0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function PV(t,e,n,s){return new VV(t,e,n,s)}async function ZS(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],d=[];let m=Ge();for(const y of a){u.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}for(const y of l){d.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:d})))}))}))}function OV(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,y,v){const b=y.batch,T=b.keys();let R=oe.resolve();return T.forEach((k=>{R=R.next((()=>v.getEntry(m,k))).next((O=>{const V=y.docVersions.get(k);Je(V!==null,48541),O.version.compareTo(V)<0&&(b.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),v.addEntry(O)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Ge();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(m=m.add(d.batch.mutations[y].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function eA(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function LV(t,e){const n=De(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,b)=>{const T=a.get(b);if(!T)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(un.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(b,R),(function(O,V,U){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=MV?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,R,v)&&d.push(n.Pi.updateTargetData(l,R))}));let m=$s(),y=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(UV(l,u,e.documentUpdates).next((v=>{m=v.ks,y=v.qs}))),!s.isEqual(Ce.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return oe.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,y))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function UV(t,e,n){let s=Ge(),a=Ge();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=$s();return n.forEach(((d,m)=>{const y=l.get(d);m.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):pe(m0,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function BV(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=t0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zV(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Or(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Zg(t,e,n){const s=De(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!bl(u))throw u;pe(m0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function iT(t,e,n){const s=De(t);let a=Ce.min(),l=Ge();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,y,v){const b=De(m),T=b.xs.get(v);return T!==void 0?oe.resolve(b.Ms.get(T)):b.Pi.getTargetData(y,v)})(s,u,ls(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:Ge()))).next((d=>(FV(s,CM(e),d),{documents:d,Qs:l})))))}function FV(t,e,n){let s=t.Os.get(e)||Ce.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class sT{constructor(){this.activeTargetIds=jM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HV{constructor(){this.Mo=new sT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qV{Oo(e){}shutdown(){}}const rT="ConnectivityMonitor";class aT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(rT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mf=null;function ey(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}const rg="RestConnection",GV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Qf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=ey(),d=this.zo(e,n.toUriEncodedString());pe(rg,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:y}=new URL(d),v=pl(y);return this.Jo(e,d,m,s,v).then((b=>(pe(rg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw il(rg,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",s),b}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=GV[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class $V{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class YV extends KV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=ey();return new Promise(((d,m)=>{const y=new iS;y.setWithCredentials(!0),y.listenOnce(sS.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nf.NO_ERROR:const b=y.getResponseJson();pe(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Nf.TIMEOUT:pe(fn,`RPC '${e}' ${u} timed out`),m(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const T=y.getStatus();if(pe(fn,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const O=(function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(B)>=0?B:se.UNKNOWN})(k.status);m(new de(O,k.message))}else m(new de(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new de(se.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(fn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);pe(fn,`RPC '${e}' ${u} sending request:`,a),y.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=ey(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oS(),d=aS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");pe(fn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=u.createWebChannel(v,m);this.I_(b);let T=!1,R=!1;const k=new $V({Yo:V=>{R?pe(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(T||(pe(fn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),T=!0),pe(fn,`RPC '${e}' stream ${a} sending:`,V),b.send(V))},Zo:()=>b.close()}),O=(V,U,B)=>{V.listen(U,(H=>{try{B(H)}catch(X){setTimeout((()=>{throw X}),0)}}))};return O(b,Vc.EventType.OPEN,(()=>{R||(pe(fn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),O(b,Vc.EventType.CLOSE,(()=>{R||(R=!0,pe(fn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(b))})),O(b,Vc.EventType.ERROR,(V=>{R||(R=!0,il(fn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),k.a_(new de(se.UNAVAILABLE,"The operation could not be completed")))})),O(b,Vc.EventType.MESSAGE,(V=>{if(!R){const U=V.data[0];Je(!!U,16349);const B=U,H=B?.error||B[0]?.error;if(H){pe(fn,`RPC '${e}' stream ${a} received error:`,H);const X=H.status;let te=(function(E){const N=Ut[E];if(N!==void 0)return zS(N)})(X),ae=H.message;te===void 0&&(te=se.INTERNAL,ae="Unknown error status: "+X+" with message "+H.message),R=!0,k.a_(new de(te,ae)),b.close()}else pe(fn,`RPC '${e}' stream ${a} received:`,U),k.u_(U)}})),O(d,rS.STAT_EVENT,(V=>{V.stat===zg.PROXY?pe(fn,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===zg.NOPROXY&&pe(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ag(){return typeof document<"u"?document:null}function kd(t){return new JM(t,!0)}class tA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const oT="PersistentStream";class nA{constructor(e,n,s,a,l,u,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ks(n.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new de(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QV extends nA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?cs(u.readTime):Ce.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Jg(this.serializer),n.addTarget=(function(l,u){let d;const m=u.target;if(d=Kg(m)?{documents:sV(l,m)}:{query:rV(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=qS(l,u.resumeToken);const y=Qg(l,u.expectedCount);y!==null&&(d.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ce.min())>0){d.readTime=td(l,u.snapshotVersion.toTimestamp());const y=Qg(l,u.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const s=oV(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Jg(this.serializer),n.removeTarget=e,this.q_(n)}}class XV extends nA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iV(e.writeResults,e.commitTime),s=cs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Jg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>nV(this.serializer,s)))};this.q_(n)}}class WV{}class JV extends WV{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Xg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(se.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Xg(n,s),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ks(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $a="RemoteStore";class eP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Qa(this)&&(pe($a,"Restarting streams for network reachability change."),await(async function(m){const y=De(m);y.Ea.add(4),await wu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await jd(y)})(this))}))})),this.Ra=new ZV(s,a)}}async function jd(t){if(Qa(t))for(const e of t.da)await e(!0)}async function wu(t){for(const e of t.da)await e(!1)}function iA(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),v0(n)?y0(n):_l(n).O_()&&g0(n,e))}function p0(t,e){const n=De(t),s=_l(n);n.Ia.delete(e),s.O_()&&sA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Qa(n)&&n.Ra.set("Unknown"))}function g0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Y_(e)}function sA(t,e){t.Va.Ue(e),_l(t).Z_(e)}function y0(t){t.Va=new YM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Ra.ua()}function v0(t){return Qa(t)&&!_l(t).x_()&&t.Ia.size>0}function Qa(t){return De(t).Ea.size===0}function rA(t){t.Va=void 0}async function tP(t){t.Ra.set("Online")}async function nP(t){t.Ia.forEach(((e,n)=>{g0(t,e)}))}async function iP(t,e){rA(t),v0(t)?(t.Ra.ha(e),y0(t)):t.Ra.set("Unknown")}async function sP(t,e,n){if(t.Ra.set("Online"),e instanceof HS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){pe($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await id(t,s)}else if(e instanceof jf?t.Va.Ze(e):e instanceof FS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const s=await eA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,y)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),sA(l,m);const b=new Or(v.target,m,y,v.sequenceNumber);g0(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){pe($a,"Failed to raise snapshot:",s),await id(t,s)}}async function id(t,e,n){if(!bl(e))throw e;t.Ea.add(1),await wu(t),t.Ra.set("Offline"),n||(n=()=>eA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe($a,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jd(t)}))}function aA(t,e){return e().catch((n=>id(t,n,e)))}async function Md(t){const e=De(t),n=Yr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:t0;for(;rP(e);)try{const a=await BV(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,aP(e,a)}catch(a){await id(e,a)}oA(e)&&lA(e)}function rP(t){return Qa(t)&&t.Ta.length<10}function aP(t,e){t.Ta.push(e);const n=Yr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oA(t){return Qa(t)&&!Yr(t).x_()&&t.Ta.length>0}function lA(t){Yr(t).start()}async function oP(t){Yr(t).ra()}async function lP(t){const e=Yr(t);for(const n of t.Ta)e.ea(n.mutations)}async function cP(t,e,n){const s=t.Ta.shift(),a=l0.from(s,e,n);await aA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Md(t)}async function uP(t,e){e&&Yr(t).X_&&await(async function(s,a){if((function(u){return GM(u)&&u!==se.ABORTED})(a.code)){const l=s.Ta.shift();Yr(s).B_(),await aA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Md(s)}})(t,e),oA(t)&&lA(t)}async function lT(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),pe($a,"RemoteStore received new credentials");const s=Qa(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jd(n)}async function hP(t,e){const n=De(t);e?(n.Ea.delete(2),await jd(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function _l(t){return t.ma||(t.ma=(function(n,s,a){const l=De(n);return l.sa(),new QV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:tP.bind(null,t),t_:nP.bind(null,t),r_:iP.bind(null,t),H_:sP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),v0(t)?y0(t):t.Ra.set("Unknown")):(await t.ma.stop(),rA(t))}))),t.ma}function Yr(t){return t.fa||(t.fa=(function(n,s,a){const l=De(n);return l.sa(),new XV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:oP.bind(null,t),r_:uP.bind(null,t),ta:lP.bind(null,t),na:cP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Md(t)):(await t.fa.stop(),t.Ta.length>0&&(pe($a,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class x0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new x0(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(Ks("AsyncQueue",`${e}: ${t}`),bl(t))return new de(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Pc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class cT{constructor(){this.ga=new xt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ll{constructor(e,n,s,a,l,u,d,m,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new ll(e,n,Wo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class fP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dP{constructor(){this.queries=uT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=De(n),l=a.queries;a.queries=uT(),l.forEach(((u,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new de(se.ABORTED,"Firestore shutting down"))}}function uT(){return new Ya((t=>NS(t)),Ad)}async function cA(t,e){const n=De(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new fP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=b0(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&_0(n)}async function uA(t,e){const n=De(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mP(t,e){const n=De(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(s=!0);u.wa=a}}s&&_0(n)}function pP(t,e,n){const s=De(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function _0(t){t.Ca.forEach((e=>{e.next()}))}var ty,hT;(hT=ty||(ty={})).Ma="default",hT.Cache="cache";class hA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ty.Cache}}class fA{constructor(e){this.key=e}}class dA{constructor(e){this.key=e}}class gP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=IS(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new cT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const T=a.get(v),R=Cd(this.query,b)?b:null,k=!!T&&this.mutatedKeys.has(T.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let V=!1;T&&R?T.data.isEqual(R.data)?k!==O&&(s.track({type:3,doc:R}),V=!0):this.su(T,R)||(s.track({type:2,doc:R}),V=!0,(m&&this.eu(R,m)>0||y&&this.eu(R,y)<0)&&(d=!0)):!T&&R?(s.track({type:0,doc:R}),V=!0):T&&!R&&(s.track({type:1,doc:T}),V=!0,(m||y)&&(d=!0)),V&&(R?(u=u.add(R),l=O?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(R,k){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:V})}};return O(R)-O(k)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,y=m!==this.Za;return this.Za=m,u.length!==0||y?{snapshot:new ll(this.query,e.tu,l,u,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new dA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new fA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const w0="SyncEngine";class yP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class vP{constructor(e){this.key=e,this.hu=!1}}class xP{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ya((d=>NS(d)),Ad),this.Iu=new Map,this.Eu=new Set,this.du=new xt(be.comparator),this.Au=new Map,this.Ru=new h0,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bP(t,e,n=!0){const s=xA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await mA(s,e,n,!0),a}async function _P(t,e){const n=xA(t);await mA(n,e,!0,!1)}async function mA(t,e,n,s){const a=await zV(t.localStore,ls(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await wP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&iA(t.remoteStore,a),d}async function wP(t,e,n,s,a){t.pu=(b,T,R)=>(async function(O,V,U,B){let H=V.view.ru(U);H.Cs&&(H=await iT(O.localStore,V.query,!1).then((({documents:A})=>V.view.ru(A,H))));const X=B&&B.targetChanges.get(V.targetId),te=B&&B.targetMismatches.get(V.targetId)!=null,ae=V.view.applyChanges(H,O.isPrimaryClient,X,te);return dT(O,V.targetId,ae.au),ae.snapshot})(t,b,T,R);const l=await iT(t.localStore,e,!0),u=new gP(e,l.Qs),d=u.ru(l.documents),m=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),y=u.applyChanges(d,t.isPrimaryClient,m);dT(t,n,y.au);const v=new yP(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function TP(t,e,n){const s=De(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Ad(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Zg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&p0(s.remoteStore,a.targetId),ny(s,a.targetId)})).catch(xl)):(ny(s,a.targetId),await Zg(s.localStore,a.targetId,!0))}async function EP(t,e){const n=De(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),p0(n.remoteStore,s.targetId))}async function SP(t,e,n){const s=kP(t);try{const a=await(function(u,d){const m=De(u),y=ft.now(),v=d.reduce(((R,k)=>R.add(k.key)),Ge());let b,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=$s(),O=Ge();return m.Ns.getEntries(R,v).next((V=>{k=V,k.forEach(((U,B)=>{B.isValidDocument()||(O=O.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,k))).next((V=>{b=V;const U=[];for(const B of d){const H=BM(B,b.get(B.key).overlayedDocument);H!=null&&U.push(new ea(B.key,H,_S(H.value.mapValue),_n.exists(!0)))}return m.mutationQueue.addMutationBatch(R,y,U,d)})).next((V=>{T=V;const U=V.applyToLocalDocumentSet(b,O);return m.documentOverlayCache.saveOverlays(R,V.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:kS(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let y=u.Vu[u.currentUser.toKey()];y||(y=new xt(qe)),y=y.insert(d,m),u.Vu[u.currentUser.toKey()]=y})(s,a.batchId,n),await Tu(s,a.changes),await Md(s.remoteStore)}catch(a){const l=b0(a,"Failed to persist write");n.reject(l)}}async function pA(t,e){const n=De(t);try{const s=await LV(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Je(u.hu,14607):a.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await Tu(n,s,e)}catch(s){await xl(s)}}function fT(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=De(u);m.onlineState=d;let y=!1;m.queries.forEach(((v,b)=>{for(const T of b.Sa)T.va(d)&&(y=!0)})),y&&_0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AP(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new xt(be.comparator);u=u.insert(l,mn.newNoDocument(l,Ce.min()));const d=Ge().add(l),m=new Dd(Ce.min(),new Map,new xt(qe),u,d);await pA(s,m),s.du=s.du.remove(l),s.Au.delete(e),T0(s)}else await Zg(s.localStore,e,!1).then((()=>ny(s,e,n))).catch(xl)}async function CP(t,e){const n=De(t),s=e.batch.batchId;try{const a=await OV(n.localStore,e);yA(n,s,null),gA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,a)}catch(a){await xl(a)}}async function RP(t,e,n){const s=De(t);try{const a=await(function(u,d){const m=De(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return m.mutationQueue.lookupMutationBatch(y,d).next((b=>(Je(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(y,b)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>m.localDocuments.getDocuments(y,v)))}))})(s.localStore,e);yA(s,e,n),gA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,a)}catch(a){await xl(a)}}function gA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yA(t,e,n){const s=De(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||vA(t,s)}))}function vA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(p0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),T0(t))}function dT(t,e,n){for(const s of n)s instanceof fA?(t.Ru.addReference(s.key,e),NP(t,s)):s instanceof dA?(pe(w0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||vA(t,s.key)):Se(19791,{wu:s})}function NP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(pe(w0,"New document in limbo: "+n),t.Eu.add(s),T0(t))}function T0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(ct.fromString(e)),s=t.fu.next();t.Au.set(s,new vP(n)),t.du=t.du.insert(n,s),iA(t.remoteStore,new Or(ls(a0(n.path)),s,"TargetPurposeLimboResolution",Td.ce))}}async function Tu(t,e,n){const s=De(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{u.push(s.pu(m,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const v=y?!y.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(y){a.push(y);const v=d0.As(m.targetId,y);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,y){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(y,(T=>oe.forEach(T.Es,(R=>v.persistence.referenceDelegate.addReference(b,T.targetId,R))).next((()=>oe.forEach(T.ds,(R=>v.persistence.referenceDelegate.removeReference(b,T.targetId,R)))))))))}catch(b){if(!bl(b))throw b;pe(m0,"Failed to update sequence numbers: "+b)}for(const b of y){const T=b.targetId;if(!b.fromCache){const R=v.Ms.get(T),k=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(T,O)}}})(s.localStore,l))}async function IP(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){pe(w0,"User change. New user:",e.toKey());const s=await ZS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new de(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function DP(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const d=n.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function xA(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AP.bind(null,e),e.Pu.H_=mP.bind(null,e.eventManager),e.Pu.yu=pP.bind(null,e.eventManager),e}function kP(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RP.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PV(this.persistence,new jV,e.initialUser,this.serializer)}Cu(e){return new JS(f0.mi,this.serializer)}Du(e){return new HV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class jP extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof nd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new JS((s=>nd.mi(s,n)),this.serializer)}}class iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=IP.bind(null,this.syncEngine),await hP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dP})()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),s=(function(l){return new YV(l)})(e.databaseInfo);return(function(l,u,d,m){return new JV(l,u,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,d){return new eP(s,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>fT(this.syncEngine,n,0)),(function(){return aT.v()?new aT:new qV})())}createSyncEngine(e,n){return(function(a,l,u,d,m,y,v){const b=new xP(a,l,u,d,m,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);pe($a,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}iy.provider={build:()=>new iy};class bA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Qr="FirestoreClient";class MP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=e0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{pe(Qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(pe(Qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=b0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await ZS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function mT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VP(t);pe(Qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>lT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>lT(e.remoteStore,a))),t._onlineComponents=e}async function VP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Qr,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new sd)}}else pe(Qr,"Using default OfflineComponentProvider"),await og(t,new jP(void 0));return t._offlineComponents}async function _A(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Qr,"Using user provided OnlineComponentProvider"),await mT(t,t._uninitializedComponentsProvider._online)):(pe(Qr,"Using default OnlineComponentProvider"),await mT(t,new iy))),t._onlineComponents}function PP(t){return _A(t).then((e=>e.syncEngine))}async function wA(t){const e=await _A(t),n=e.eventManager;return n.onListen=bP.bind(null,e.syncEngine),n.onUnlisten=TP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_P.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EP.bind(null,e.syncEngine),n}function OP(t,e,n={}){const s=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,y){const v=new bA({next:T=>{v.Nu(),u.enqueueAndForget((()=>uA(l,b)));const R=T.docs.has(d);!R&&T.fromCache?y.reject(new de(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?y.reject(new de(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new hA(a0(d.path),v,{includeMetadataChanges:!0,qa:!0});return cA(l,b)})(await wA(t),t.asyncQueue,e,n,s))),s.promise}function LP(t,e,n={}){const s=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,y){const v=new bA({next:T=>{v.Nu(),u.enqueueAndForget((()=>uA(l,b))),T.fromCache&&m.source==="server"?y.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new hA(d,v,{includeMetadataChanges:!0,qa:!0});return cA(l,b)})(await wA(t),t.asyncQueue,e,n,s))),s.promise}function TA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const pT=new Map;const EA="firestore.googleapis.com",gT=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EA,this.ssl=gT}else this.host=e.host,this.ssl=e.ssl??gT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gV)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new qj;switch(s.type){case"firstParty":return new Yj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=pT.get(n);s&&(pe("ComponentProvider","Removing Datastore"),pT.delete(n),s.terminate())})(this),Promise.resolve()}}function UP(t,e,n,s={}){t=di(t,Vd);const a=pl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(d1(`https://${d}`),m1("Firestore",!0)),l.host!==EA&&l.host!==d&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Fa(m,u)&&(t._setSettings(m),s.mockUserToken)){let y,v;if(typeof s.mockUserToken=="string")y=s.mockUserToken,v=dn.MOCK_USER;else{y=XI(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(b)}t._authCredentials=new Gj(new cS(y,v))}}class wl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wl(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,Nt._jsonSchema))return new Nt(e,s||null,new be(ct.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Ft("string",Nt._jsonSchemaVersion),referencePath:Ft("string")};class Fr extends wl{constructor(e,n,s){super(e,n,a0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new be(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function Ni(t,e,...n){if(t=vt(t),uS("collection","path",e),t instanceof Vd){const s=ct.fromString(e,...n);return Iw(s),new Fr(t,null,s)}{if(!(t instanceof Nt||t instanceof Fr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ct.fromString(e,...n));return Iw(s),new Fr(t.firestore,null,s)}}function lt(t,e,...n){if(t=vt(t),arguments.length===1&&(e=e0.newId()),uS("doc","path",e),t instanceof Vd){const s=ct.fromString(e,...n);return Nw(s),new Nt(t,null,new be(s))}{if(!(t instanceof Nt||t instanceof Fr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ct.fromString(e,...n));return Nw(s),new Nt(t.firestore,t instanceof Fr?t.converter:null,new be(s))}}const vT="AsyncQueue";class xT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tA(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&pe(vT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;pe(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ks("INTERNAL UNHANDLED ERROR: ",bT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=x0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:bT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ta extends Vd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new xT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xT(e),this._firestoreClient=void 0,await e}}}function BP(t,e){const n=typeof t=="object"?t:v1(),s=typeof t=="string"?t:Qf,a=Fy(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=YI("firestore");l&&UP(a,...l)}return a}function Pd(t){if(t._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zP(t),t._firestoreClient}function zP(t){const e=t._freezeSettings(),n=(function(a,l,u,d){return new hM(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(un.fromBase64String(e))}catch(n){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Ft("string",ci._jsonSchemaVersion),bytes:Ft("string")};class Eu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class E0{constructor(e){this._methodName=e}}class us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:us._jsonSchemaVersion}}static fromJSON(e){if(vu(e,us._jsonSchema))return new us(e.latitude,e.longitude)}}us._jsonSchemaVersion="firestore/geoPoint/1.0",us._jsonSchema={type:Ft("string",us._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class hs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hs(e.vectorValues);throw new de(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hs._jsonSchemaVersion="firestore/vectorValue/1.0",hs._jsonSchema={type:Ft("string",hs._jsonSchemaVersion),vectorValues:Ft("object")};const FP=/^__.*__$/;class HP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class S0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new S0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AA(this.Ac)&&FP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kd(e)}Cc(e,n,s,a=!1){return new S0({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new qP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A0(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);C0("Data must be an object, but it was:",u,s);const d=NA(s,u);let m,y;if(l.merge)m=new qn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=sy(e,b,n);if(!u.contains(T))throw new de(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);DA(v,T)||v.push(T)}m=new qn(v),y=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,y=u.fieldTransforms;return new HP(new In(d),m,y)}class Od extends E0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}function CA(t,e,n,s){const a=t.Cc(1,e,n);C0("Data must be an object, but it was:",a,s);const l=[],u=In.empty();Zr(s,((m,y)=>{const v=R0(e,m,n);y=vt(y);const b=a.yc(v);if(y instanceof Od)l.push(v);else{const T=Au(y,b);T!=null&&(l.push(v),u.set(v,T))}}));const d=new qn(l);return new SA(u,d,a.fieldTransforms)}function RA(t,e,n,s,a,l){const u=t.Cc(1,e,n),d=[sy(e,s,n)],m=[a];if(l.length%2!=0)throw new de(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(sy(e,l[T])),m.push(l[T+1]);const y=[],v=In.empty();for(let T=d.length-1;T>=0;--T)if(!DA(y,d[T])){const R=d[T];let k=m[T];k=vt(k);const O=u.yc(R);if(k instanceof Od)y.push(R);else{const V=Au(k,O);V!=null&&(y.push(R),v.set(R,V))}}const b=new qn(y);return new SA(v,b,u.fieldTransforms)}function GP(t,e,n,s=!1){return Au(n,t.Cc(s?4:3,e))}function Au(t,e){if(IA(t=vt(t)))return C0("Unsupported field value:",e,t),NA(t,e);if(t instanceof E0)return(function(s,a){if(!AA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const d of s){let m=Au(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:td(a.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(a.serializer,l)}}if(s instanceof us)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ci)return{bytesValue:qS(a.serializer,s._byteString)};if(s instanceof Nt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:u0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof hs)return(function(u,d){return{mapValue:{fields:{[xS]:{stringValue:bS},[Xf]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return o0(d.serializer,y)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${wd(s)}`)})(t,e)}function NA(t,e){const n={};return dS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,((s,a)=>{const l=Au(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function IA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof us||t instanceof ci||t instanceof Nt||t instanceof E0||t instanceof hs)}function C0(t,e,n){if(!IA(n)||!hS(n)){const s=wd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function sy(t,e,n){if((e=vt(e))instanceof Eu)return e._internalPath;if(typeof e=="string")return R0(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const KP=new RegExp("[~\\*/\\[\\]]");function R0(t,e,n){if(e.search(KP)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new de(se.INVALID_ARGUMENT,d+t+m)}function DA(t,e){return t.some((n=>n.isEqual(e)))}class kA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $P(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $P extends kA{data(){return super.data()}}function N0(t,e){return typeof e=="string"?R0(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}function YP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class QP extends I0{}function Vr(t,e,...n){let s=[];e instanceof I0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof D0)).length,d=l.filter((m=>m instanceof Ld)).length;if(u>1||u>0&&d>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Ld extends QP{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ld(e,n,s)}_apply(e){const n=this._parse(e);return jA(e._query,n),new wl(e.firestore,e.converter,$g(e._query,n))}_parse(e){const n=Su(e.firestore);return(function(l,u,d,m,y,v,b){let T;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wT(b,v);const k=[];for(const O of b)k.push(_T(m,l,O));T={arrayValue:{values:k}}}else T=_T(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wT(b,v),T=GP(d,u,b,v==="in"||v==="not-in");return zt.create(y,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ii(t,e,n){const s=e,a=N0("where",t);return Ld._create(a,s,n)}class D0 extends I0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)jA(u,m),u=$g(u,m)})(e._query,n),new wl(e.firestore,e.converter,$g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _T(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&n.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ct.fromString(n));if(!be.isDocumentKey(s))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lw(t,new be(s))}if(n instanceof Nt)return Lw(t,n._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function wT(t,e){if(!Array.isArray(t)||t.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jA(t,e){const n=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XP{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Xf].arrayValue?.values?.map((s=>Rt(s.doubleValue)));return new hs(n)}convertGeoPoint(e){return new us(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Sd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ct.fromString(e);Je(XS(s),9688,{name:e});const a=new tu(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||Ks(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function k0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends kA{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(N0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:Ft("string",Ua._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Mf extends Ua{data(e={}){return super.data(e)}}class Jo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Mf(this._firestore,this._userDataWriter,s.key,s,new Lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new Mf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Lc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Mf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Lc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,v=-1;return d.type!==0&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:WP(d.type),doc:m,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=e0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}function cn(t){t=di(t,Nt);const e=di(t.firestore,ta);return OP(Pd(e),t._key).then((n=>e3(e,t,n)))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:Ft("string",Jo._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class MA extends XP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function Pr(t){t=di(t,wl);const e=di(t.firestore,ta),n=Pd(e),s=new MA(e);return YP(t._query),LP(n,t._query).then((a=>new Jo(e,s,t,a)))}function Zo(t,e,n){t=di(t,Nt);const s=di(t.firestore,ta),a=k0(t.converter,e,n);return Cu(s,[A0(Su(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_n.none())])}function JP(t,e,n,...s){t=di(t,Nt);const a=di(t.firestore,ta),l=Su(a);let u;return u=typeof(e=vt(e))=="string"||e instanceof Eu?RA(l,"updateDoc",t._key,e,n,s):CA(l,"updateDoc",t._key,e),Cu(a,[u.toMutation(t._key,_n.exists(!0))])}function ZP(t){return Cu(di(t.firestore,ta),[new Id(t._key,_n.none())])}function lg(t,e){const n=di(t.firestore,ta),s=lt(t),a=k0(t.converter,e);return Cu(n,[A0(Su(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,_n.exists(!1))]).then((()=>s))}function Cu(t,e){return(function(s,a){const l=new Fs;return s.asyncQueue.enqueueAndForget((async()=>SP(await PP(s),a,l))),l.promise})(Pd(t),e)}function e3(t,e,n){const s=n.docs.get(e._key),a=new MA(t);return new Ua(t,a,e._key,s,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}class t3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,n,s){this._verifyNotCommitted();const a=cg(e,this._firestore),l=k0(a.converter,n,s),u=A0(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,_n.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=cg(e,this._firestore);let u;return u=typeof(n=vt(n))=="string"||n instanceof Eu?RA(this._dataReader,"WriteBatch.update",l._key,n,s,a):CA(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cg(e,this._firestore);return this._mutations=this._mutations.concat(new Id(n._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cg(t,e){if((t=vt(t)).firestore!==e)throw new de(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function VA(t){return Pd(t=di(t,ta)),new t3(t,(e=>Cu(t,e)))}(function(e,n=!0){(function(a){vl=a})(gl),tl(new Ha("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new ta(new Kj(s.getProvider("auth-internal")),new Qj(u,s.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(y.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Br(Sw,Aw,e),Br(Sw,Aw,"esm2020")})();var n3="firebase",i3="12.7.0";Br(n3,i3,"app");const s3={apiKey:"AIzaSyBaGcQdywx3EHrWuo7KAa4ed4oXOMvsFYM",authDomain:"nfl-bracket-b3140.firebaseapp.com",projectId:"nfl-bracket-b3140",storageBucket:"nfl-bracket-b3140.firebasestorage.app",messagingSenderId:"965277224800",appId:"1:965277224800:web:83afd415384e97b6d51805"};let ug,Kt,Le;try{ug=y1(s3),Kt=Fj(ug),Le=BP(ug)}catch(t){console.error("Firebase initialization error:",t),console.warn("Please configure Firebase credentials in .env file")}const PA=j.createContext(),gs=()=>j.useContext(PA),hg="drewpdewitt@gmail.com".split(",").map(t=>t.trim())||[],r3=({children:t})=>{const[e,n]=j.useState(null),[s,a]=j.useState(!0),[l,u]=j.useState(null),[d,m]=j.useState(!1),[y,v]=j.useState(null),[b,T]=j.useState(!1);j.useEffect(()=>{if(!Kt){u("Firebase not configured. Please add .env file with Firebase credentials."),a(!1);return}return Ik(Kt,async H=>{if(H){await H.reload();const X=Kt.currentUser;n(X),m(X?hg.includes(X.email):!1);const te=await cn(lt(Le,"users",X.uid));if(te.exists()){const ae=te.data();v(ae.username),T(!ae.hasSeenTutorial)}else v(X.displayName||X.email.split("@")[0]),T(!0)}else n(null),m(!1),v(null),T(!1);a(!1)})},[]);const R=async(B,H)=>{if(!Kt)throw new Error("Firebase not configured");const X=await Sk(Kt,B,H);await X.user.reload(),await X.user.getIdToken(!0);const te=Date.now();for(;Date.now()-te<3e3;)if(await new Promise(ae=>setTimeout(ae,100)),Kt.currentUser&&Kt.currentUser.uid===X.user.uid){await new Promise(ae=>setTimeout(ae,200));break}return X},k=async(B,H,X)=>{if(!Kt)throw new Error("Firebase not configured");const te=await Ek(Kt,B,H);await Ck(te.user,{displayName:X});const ae=hg.includes(B);return await Zo(lt(Le,"users",te.user.uid),{username:X,email:B,isAdmin:ae,createdAt:new Date,emailVerified:!1,hasSeenTutorial:!1}),await q1(te.user),te},O=async()=>{if(!Kt)throw new Error("Firebase not configured");const B=new Os,H=await Wk(Kt,B),X=await cn(lt(Le,"users",H.user.uid)),te=hg.includes(H.user.email);return X.exists()||await Zo(lt(Le,"users",H.user.uid),{username:H.user.displayName||H.user.email.split("@")[0],email:H.user.email,isAdmin:te,createdAt:new Date,hasSeenTutorial:!1}),await new Promise(ae=>setTimeout(ae,1500)),H},V=()=>{if(!Kt)throw new Error("Firebase not configured");return Dk(Kt)};if(l)return p.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md",children:[p.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:" Configuration Required"}),p.jsx("p",{className:"text-gray-700 mb-4",children:l}),p.jsxs("div",{className:"bg-gray-100 p-4 rounded text-sm",children:[p.jsx("p",{className:"font-semibold mb-2",children:"Quick Setup:"}),p.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[p.jsx("li",{children:"Create Firebase project at console.firebase.google.com"}),p.jsx("li",{children:"Enable Authentication (Email/Password)"}),p.jsx("li",{children:"Create Firestore database"}),p.jsx("li",{children:"Copy .env.example to .env"}),p.jsx("li",{children:"Add your Firebase credentials to .env"}),p.jsx("li",{children:"Restart dev server"})]})]})]})});const U=async()=>{e&&(await Zo(lt(Le,"users",e.uid),{hasSeenTutorial:!0},{merge:!0}),T(!1))};return p.jsx(PA.Provider,{value:{user:e,login:R,signup:k,loginWithGoogle:O,logout:V,loading:s,isAdmin:d,username:y,isFirstLogin:b,markTutorialSeen:U},children:t})};const a3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),TT=t=>{const e=o3(t);return e.charAt(0).toUpperCase()+e.slice(1)},OA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),l3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var c3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u3=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},m)=>j.createElement("svg",{ref:m,...c3,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:OA("lucide",a),...!l&&!l3(d)&&{"aria-hidden":"true"},...d},[...u.map(([y,v])=>j.createElement(y,v)),...Array.isArray(l)?l:[l]]));const Ze=(t,e)=>{const n=j.forwardRef(({className:s,...a},l)=>j.createElement(u3,{ref:l,iconNode:e,className:OA(`lucide-${a3(TT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=TT(t),n};const h3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hr=Ze("arrow-left",h3);const f3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fg=Ze("arrow-right",f3);const d3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],m3=Ze("award",d3);const p3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],g3=Ze("calendar",p3);const y3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LA=Ze("chart-column",y3);const v3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],x3=Ze("check",v3);const b3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_3=Ze("chevron-left",b3);const w3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],T3=Ze("chevron-right",w3);const E3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ad=Ze("circle-alert",E3);const S3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],od=Ze("circle-check-big",S3);const A3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C3=Ze("circle-question-mark",A3);const R3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],N3=Ze("circle-x",R3);const I3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D3=Ze("eye",I3);const k3=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],j3=Ze("loader",k3);const M3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],V3=Ze("lock-open",M3);const P3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dg=Ze("lock",P3);const O3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],L3=Ze("log-out",O3);const U3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ry=Ze("mail",U3);const B3=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],z3=Ze("medal",B3);const F3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ET=Ze("plus",F3);const H3=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],q3=Ze("radio",H3);const G3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UA=Ze("refresh-cw",G3);const K3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$3=Ze("save",K3);const Y3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q3=Ze("settings",Y3);const X3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ay=Ze("share-2",X3);const W3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BA=Ze("trash-2",W3);const J3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cl=Ze("trophy",J3);const Z3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eO=Ze("user",Z3);const tO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oy=Ze("users",tO);const nO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iO=Ze("x",nO);function sO(){const[t,e]=j.useState(!0),[n,s]=j.useState(""),[a,l]=j.useState(""),[u,d]=j.useState(""),[m,y]=j.useState(""),[v,b]=j.useState(""),[T,R]=j.useState(!1),{login:k,signup:O,loginWithGoogle:V}=gs(),U=Pi(),B=Vi(),[H]=Uy(),X=B.state?.from||"/rooms",te=H.get("mode"),ae=H.get("oobCode"),[A,E]=j.useState(!1),[N,P]=j.useState(!1);j.useEffect(()=>{(async()=>{if(te==="verifyEmail"&&ae){E(!0);try{await H1(Kt,ae),P(!0),e(!0)}catch(we){b("Verification failed: "+we.message)}E(!1)}})()},[te,ae]);const M=he=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(he),D=async he=>{if(he.preventDefault(),b(""),R(!1),!t){if(!M(n)){b("Please enter a valid email address");return}if(a!==u){b("Passwords do not match");return}if(a.length<6){b("Password must be at least 6 characters");return}}try{t?(await k(n,a),U(X,{replace:!0})):(await O(n,a,m),R(!0))}catch(we){b(we.message)}},I=async()=>{b("");try{await V(),U(X,{replace:!0})}catch(he){b(he.message)}};return p.jsxs("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),p.jsxs("div",{className:"relative z-10 bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[p.jsx("div",{className:"flex items-center justify-center mb-6",children:p.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:p.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[14px] flex items-center justify-center text-white text-2xl font-black italic",children:"NFL"})})}),p.jsx("h1",{className:"text-3xl font-black text-center mb-2 text-white uppercase tracking-tight",children:"Mixin it up Family Bracket"}),p.jsx("p",{className:"text-center text-slate-400 mb-6 text-sm",children:t?"Sign in to continue":"Create your account"}),A&&p.jsxs("div",{className:"bg-blue-500/10 border-2 border-blue-500/30 rounded-lg p-4 mb-4 flex items-start gap-3",children:[p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-blue-400 font-bold text-base mb-1",children:"Verifying Email..."}),p.jsx("p",{className:"text-blue-200 text-sm",children:"Please wait while we verify your email address."})]})]}),N&&p.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-4 mb-4 flex items-start gap-3",children:[p.jsx(od,{className:"w-6 h-6 text-green-400 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-green-400 font-bold text-base mb-1",children:" Email Verified!"}),p.jsx("p",{className:"text-green-200 text-sm",children:"Your email has been verified. Please sign in to continue."})]})]}),T?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-green-500/10 border-2 border-green-500/30 rounded-lg p-6 text-center",children:[p.jsx(ry,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-bold text-green-400 mb-2",children:"Verification Email Sent!"}),p.jsx("p",{className:"text-slate-300 mb-4",children:"Please check your email and click the verification link to activate your account. After verifying, sign in to continue."}),p.jsx("button",{onClick:()=>{R(!1),e(!0)},className:"text-green-400 font-semibold hover:underline",children:"Back to Sign In"}),X!=="/rooms"&&p.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"You'll be redirected to join the room after signing in."})]}),p.jsx("div",{className:"bg-yellow-500/10 border-2 border-yellow-500/50 rounded-lg p-4 animate-pulse",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(ad,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-yellow-400 font-bold text-base mb-1",children:" CHECK YOUR SPAM FOLDER!"}),p.jsx("p",{className:"text-yellow-200 text-sm",children:"The verification email may be in your spam or junk folder. Please check there if you don't see it in your inbox within a few minutes."})]})]})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:D,className:"space-y-4",children:[!t&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Username"}),p.jsx("input",{type:"text",value:m,onChange:he=>y(he.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),p.jsx("input",{type:"email",value:n,onChange:he=>s(he.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),p.jsx("input",{type:"password",value:a,onChange:he=>l(he.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),!t&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Confirm Password"}),p.jsx("input",{type:"password",value:u,onChange:he=>d(he.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!t})]}),v&&p.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",children:[p.jsx(ad,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),p.jsx("p",{className:"text-red-400 text-sm",children:v})]}),p.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition font-bold uppercase tracking-wide",children:t?"Sign In":"Sign Up"})]}),p.jsxs("div",{className:"relative my-6",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-700"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-slate-900/60 text-slate-400",children:"Or continue with"})})]}),p.jsxs("button",{onClick:I,className:"w-full flex items-center justify-center gap-3 bg-white/10 border border-white/20 text-white py-3 rounded-lg hover:bg-white/20 transition font-semibold",children:[p.jsx(ry,{className:"w-5 h-5"}),"Google"]}),p.jsxs("p",{className:"text-center mt-4 text-sm text-slate-400",children:[t?"Don't have an account? ":"Already have an account? ",p.jsx("button",{onClick:()=>e(!t),className:"text-blue-400 font-semibold hover:underline",children:t?"Sign Up":"Sign In"})]})]})]})]})}function rO({isOpen:t,onClose:e}){const[n,s]=j.useState(0);if(j.useEffect(()=>{t&&s(0)},[t]),!t)return null;const a=[{title:"Welcome to NFL Bracket!",icon:cl,content:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300 text-lg",children:"Compete with friends by predicting NFL playoff game winners. The more accurate your predictions, the more points you earn!"}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50",children:[p.jsx("h4",{className:"text-yellow-600/90 font-bold mb-3 text-lg",children:"Quick Overview:"}),p.jsxs("ul",{className:"space-y-2 text-slate-300",children:[p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"Join or create a room with friends"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"Pick winners for each playoff game"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"Submit your bracket before games start"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"Earn points for correct predictions"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"Compete on the leaderboard!"})]})]})]})]})},{title:"Joining a Room",icon:oy,content:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300",children:"Rooms let you compete with specific groups of friends. Each room has a unique 6-character code."}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"To Join a Room:"}),p.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[p.jsx("li",{children:"Get a room code from a friend"}),p.jsx("li",{children:'Enter the code in the "Join Room" box'}),p.jsx("li",{children:'Click "Join" to enter the room'}),p.jsx("li",{children:"You'll be taken to the bracket page automatically"})]})]}),p.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[p.jsx("div",{className:"text-center mb-2",children:p.jsx("input",{type:"text",value:"ABC123",readOnly:!0,className:"w-48 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white text-center font-bold tracking-wider"})}),p.jsx("p",{className:"text-slate-400 text-sm text-center",children:"Example room code"})]})]})]})},{title:"Sharing a Room",icon:ay,content:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300",children:"Invite friends to your room by sharing the room code or link."}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"How to Share:"}),p.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[p.jsx("li",{children:'Find your room in "My Rooms"'}),p.jsx("li",{children:"Click the green share button"}),p.jsx("li",{children:"Send the link or code to friends"})]})]}),p.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-green-500/20 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-3 py-1 rounded-lg",children:p.jsx("span",{className:"text-white font-bold tracking-wider",children:"ABC123"})}),p.jsx("span",{className:"text-white font-semibold",children:"Room ABC123"})]}),p.jsx("button",{className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400",children:p.jsx(ay,{className:"w-4 h-4"})})]})]})]})},{title:"Filling Out Your Bracket",icon:od,content:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300",children:"Pick the winner for each playoff matchup. Your picks automatically advance through the rounds."}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"How to Pick:"}),p.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[p.jsx("li",{children:"Click on a team to select them as the winner"}),p.jsx("li",{children:"Your pick will highlight in gold"}),p.jsx("li",{children:"Winners automatically advance to the next round"}),p.jsx("li",{children:"Continue until you've picked a Super Bowl champion"})]})]}),p.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[p.jsx("p",{className:"text-slate-400 text-xs mb-3 text-center",children:"Example Matchup:"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 border-2 border-yellow-600/50 rounded-lg cursor-pointer",children:[p.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold",children:"KC"}),p.jsx("span",{className:"text-white font-semibold flex-grow",children:"Kansas City Chiefs"}),p.jsx("span",{className:"text-yellow-600/90 font-bold",children:"#1"})]}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg cursor-pointer opacity-60",children:[p.jsx("div",{className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-xs font-bold",children:"BUF"}),p.jsx("span",{className:"text-white font-semibold flex-grow",children:"Buffalo Bills"}),p.jsx("span",{className:"text-slate-400 font-bold",children:"#2"})]})]}),p.jsx("p",{className:"text-slate-400 text-xs mt-3 text-center",children:"Click a team to select them"})]})]})]})},{title:"Submitting Your Bracket",icon:od,content:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300",children:"Once you've made all your picks, submit your bracket to lock it in."}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[p.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[p.jsxs("h4",{className:"text-red-400 font-bold mb-2 flex items-center gap-2",children:[p.jsx("span",{children:""})," Important:"]}),p.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[p.jsx("li",{children:" You must complete ALL picks before submitting"}),p.jsx("li",{children:" Once submitted, your bracket is LOCKED"}),p.jsx("li",{children:" You cannot change picks after submission"}),p.jsx("li",{children:" Submit before the first playoff game starts!"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"To Submit:"}),p.jsxs("ol",{className:"space-y-2 text-slate-300 list-decimal list-inside",children:[p.jsx("li",{children:"Complete all matchup picks"}),p.jsx("li",{children:"Review your selections"}),p.jsx("li",{children:'Click "Submit Bracket" at the top'}),p.jsx("li",{children:"Confirm your submission"})]})]}),p.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-green-500/20 text-center",children:[p.jsx("button",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg",children:"Submit Bracket"}),p.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"Click when ready to lock in picks"})]})]})]})},{title:"Point System",icon:cl,content:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300",children:"Earn points for each correct prediction. Later rounds are worth more points!"}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-3",children:[p.jsx("h4",{className:"text-yellow-600/90 font-bold mb-3 text-center",children:"Points Per Round:"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[p.jsx("span",{className:"text-white font-semibold",children:"Wild Card Round"}),p.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"1 pt"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[p.jsx("span",{className:"text-white font-semibold",children:"Divisional Round"}),p.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"2 pts"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[p.jsx("span",{className:"text-white font-semibold",children:"Conference Championship"}),p.jsx("span",{className:"text-yellow-600/90 font-bold text-xl",children:"3 pts"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 rounded-lg border-2 border-yellow-600/50",children:[p.jsx("span",{className:"text-white font-bold",children:"Super Bowl"}),p.jsx("span",{className:"text-yellow-600/90 font-bold text-2xl",children:"5 pts"})]})]}),p.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mt-4",children:p.jsxs("p",{className:"text-blue-300 text-sm text-center",children:[p.jsx("strong",{children:"Maximum possible score: 23 points"}),p.jsx("br",{}),"(6 Wild Card + 4 Divisional + 2 Conference + 1 Super Bowl)"]})})]}),p.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[p.jsxs("h4",{className:"text-orange-300 font-bold mb-2 flex items-center gap-2",children:[p.jsx("span",{children:""})," Tiebreaker:"]}),p.jsxs("p",{className:"text-orange-200 text-sm",children:["If multiple players have the same points, the winner is determined by who predicted closest to the ",p.jsx("strong",{children:"total points scored in the Super Bowl"}),". You must enter your tiebreaker prediction when filling out your bracket!"]})]})]})},{title:"Viewing the Leaderboard",icon:LA,content:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-slate-300",children:"Track your performance and see how you stack up against friends!"}),p.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700/50 space-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-yellow-600/90 font-bold mb-2",children:"Leaderboard Features:"}),p.jsxs("ul",{className:"space-y-2 text-slate-300",children:[p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"Found at the top of the bracket page"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"See all participants ranked by points"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"View correct picks (green) and incorrect picks (red)"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"Updates automatically as games finish"})]}),p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"text-yellow-600/90 mt-1",children:""}),p.jsx("span",{children:"Only visible after you submit your bracket"})]})]})]}),p.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-yellow-600/20",children:[p.jsx("p",{className:"text-slate-400 text-xs mb-3 text-center",children:"Example Leaderboard:"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-600/10 border border-yellow-600/30 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-yellow-600/90 font-bold text-lg",children:"1."}),p.jsx("span",{className:"text-white font-semibold",children:"John"})]}),p.jsx("span",{className:"text-yellow-600/90 font-bold text-lg",children:"15 pts"})]}),p.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-slate-400 font-bold",children:"2."}),p.jsx("span",{className:"text-white font-semibold",children:"Sarah"})]}),p.jsx("span",{className:"text-slate-300 font-bold",children:"12 pts"})]}),p.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-slate-400 font-bold",children:"3."}),p.jsx("span",{className:"text-white font-semibold",children:"Mike"})]}),p.jsx("span",{className:"text-slate-300 font-bold",children:"10 pts"})]})]})]})]}),p.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[p.jsx("h4",{className:"text-blue-300 font-bold mb-2",children:" Pro Tip:"}),p.jsx("p",{className:"text-blue-200 text-sm",children:"Game results are tracked in real-time on the bracket page. You can see which games have been completed and who won as the playoffs progress!"})]}),p.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:p.jsx("p",{className:"text-green-300 text-center font-semibold",children:" Good luck and may the best bracket win! "})})]})}],l=a[n],u=l.icon;return p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-yellow-700/20 border-b border-white/10 p-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg",children:p.jsx(u,{className:"w-6 h-6 text-white"})}),p.jsx("h2",{className:"text-2xl font-bold text-white",children:l.title})]}),p.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition text-slate-400 hover:text-white",children:p.jsx(iO,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-200px)]",children:l.content}),p.jsxs("div",{className:"bg-slate-800/50 border-t border-white/10 p-4 sm:p-6 flex items-center justify-between gap-2",children:[p.jsxs("button",{onClick:()=>s(d=>Math.max(0,d-1)),disabled:n===0,className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white text-sm sm:text-base disabled:opacity-30 disabled:cursor-not-allowed hover:bg-slate-700 transition flex-shrink-0",children:[p.jsx(_3,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),p.jsx("div",{className:"flex gap-2 items-center flex-shrink-0",children:a.map((d,m)=>p.jsx("button",{onClick:()=>s(m),className:`h-2 rounded-full transition-all duration-300 ${m===n?"bg-yellow-600/90 w-8":"bg-slate-600 hover:bg-slate-500 w-2"}`},m))}),n===a.length-1?p.jsx("button",{onClick:e,className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 rounded-lg text-white text-sm sm:text-base font-semibold hover:from-yellow-600/90 hover:to-yellow-700/90 transition shadow-lg flex-shrink-0",children:"Get Started!"}):p.jsxs("button",{onClick:()=>s(d=>Math.min(a.length-1,d+1)),className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 rounded-lg text-white text-sm sm:text-base font-semibold hover:from-yellow-600/90 hover:to-yellow-700/90 transition shadow-lg flex-shrink-0",children:[p.jsx("span",{className:"hidden sm:inline",children:"Next"}),p.jsx(T3,{className:"w-4 h-4"})]})]})]})})}function aO(){const[t,e]=j.useState(""),[n,s]=j.useState([]),[a,l]=j.useState(!1),{user:u,logout:d,isAdmin:m,username:y,isFirstLogin:v,markTutorialSeen:b}=gs(),T=Pi(),[R]=Uy();j.useEffect(()=>{k(),v&&l(!0);const A=R.get("join");A&&(e(A.toUpperCase()),setTimeout(()=>{H(A.toUpperCase())},100))},[u,R,v]);const k=async()=>{const A=Vr(Ni(Le,"userRooms"),Ii("userId","==",u.uid)),E=await Pr(A),N=[];for(const P of E.docs){const M=P.data(),D=await cn(lt(Le,"rooms",M.roomId));D.exists()&&N.push({id:P.id,...M,isCreator:D.data().createdBy===u.uid})}s(N)},O=A=>{const E=`${window.location.origin}/rooms?join=${A}`;navigator.share?navigator.share({title:"Join my NFL Bracket Room",text:`Join my NFL playoff bracket room with code: ${A}`,url:E}).catch(()=>{V(E,A)}):V(E,A)},V=(A,E)=>{navigator.clipboard.writeText(A).then(()=>{alert(`Room link copied! Share this link or use code: ${E}`)}).catch(()=>{alert(`Share this link: ${A}

Or use room code: ${E}`)})},U=async()=>{const A=Math.random().toString(36).substring(2,8).toUpperCase(),E=await lg(Ni(Le,"rooms"),{code:A,createdAt:new Date,createdBy:u.uid});await lg(Ni(Le,"userRooms"),{userId:u.uid,roomId:E.id,roomCode:A}),T(`/bracket/${E.id}`)},B=async A=>{A.preventDefault(),await H(t)},H=async A=>{const E=Vr(Ni(Le,"rooms"),Ii("code","==",A.toUpperCase())),N=await Pr(E);if(N.empty)alert("Room not found. Please check the code and try again.");else{const P=N.docs[0].id,M=Vr(Ni(Le,"userRooms"),Ii("userId","==",u.uid),Ii("roomId","==",P));(await Pr(M)).empty&&await lg(Ni(Le,"userRooms"),{userId:u.uid,roomId:P,roomCode:A.toUpperCase()}),T(`/bracket/${P}`)}},X=async(A,E)=>{if(window.confirm(`Are you sure you want to delete room ${E}? This will delete all brackets in this room and cannot be undone.`))try{console.log("Starting room deletion for:",A),console.log("Fetching brackets...");const N=Vr(Ni(Le,"brackets"),Ii("roomId","==",A)),P=await Pr(N);console.log("Found brackets:",P.docs.length),console.log("Fetching userRooms...");const M=Vr(Ni(Le,"userRooms"),Ii("roomId","==",A)),D=await Pr(M);console.log("Found userRooms:",D.docs.length);const I=VA(Le);console.log("Adding brackets to batch delete..."),P.docs.forEach(he=>{I.delete(he.ref)}),console.log("Adding userRooms to batch delete..."),D.docs.forEach(he=>{I.delete(he.ref)}),console.log("Adding room to batch delete..."),I.delete(lt(Le,"rooms",A)),console.log("Committing batch..."),await I.commit(),console.log("Room deleted successfully!"),alert("Room deleted successfully!"),k()}catch(N){console.error("Full error object:",N),console.error("Error code:",N.code),console.error("Error message:",N.message),alert(`Error deleting room: ${N.message}

Check console for details.`)}},te=()=>{l(!1),b()},ae=n.length===0;return p.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),p.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),p.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),p.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 sm:mb-12",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px] transition-transform duration-500",children:p.jsx("div",{className:"bg-[#020617] w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] sm:text-[14px] font-black italic",children:"NFL"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl sm:text-4xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),p.jsxs("p",{className:"text-blue-200 text-xs sm:text-sm",children:["Welcome back, ",y||"User"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[p.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-1 sm:gap-2 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 text-blue-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-blue-500/30 transition-all duration-300 shadow-lg hover:shadow-blue-500/20 text-sm sm:text-base",title:"How to Use",children:[p.jsx(C3,{className:"w-4 h-4"})," ",p.jsx("span",{className:"hidden sm:inline",children:"Rules & Help"}),p.jsx("span",{className:"sm:hidden",children:"Help"})]}),p.jsxs("button",{onClick:d,className:"flex items-center gap-1 sm:gap-2 bg-red-500/20 backdrop-blur-sm border border-red-400/30 text-red-200 px-3 sm:px-6 py-2 sm:py-3 rounded-xl hover:bg-red-500/30 transition-all duration-300 shadow-lg hover:shadow-red-500/20 text-sm sm:text-base",children:[p.jsx(L3,{className:"w-4 h-4"})," ",p.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),ae?p.jsx("div",{className:"max-w-2xl mx-auto",children:p.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-3xl p-12 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 rounded-2xl mb-6 shadow-lg shadow-yellow-600/10",children:p.jsx(oy,{className:"w-10 h-10 text-white"})}),p.jsx("h2",{className:"text-4xl font-bold text-white mb-3",children:"Join a Room"}),p.jsx("p",{className:"text-slate-300 text-lg",children:"Enter a room code to get started with your bracket predictions"})]}),p.jsxs("form",{onSubmit:B,className:"space-y-6",children:[p.jsx("div",{children:p.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-6 py-5 bg-slate-800/50 backdrop-blur-sm border-2 border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center text-2xl font-bold tracking-widest focus:ring-4 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all duration-300",maxLength:"6",required:!0})}),p.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-5 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-bold text-lg shadow-xl shadow-yellow-600/10 hover:shadow-2xl hover:scale-105 flex items-center justify-center gap-3",children:["Join Room ",p.jsx(fg,{className:"w-5 h-5"})]})]}),m&&p.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10",children:[p.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Or create a new room as admin"}),p.jsxs("button",{onClick:U,className:"w-full bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 text-white py-4 rounded-xl hover:bg-slate-700/50 transition-all duration-300 font-semibold flex items-center justify-center gap-2",children:[p.jsx(ET,{className:"w-5 h-5"})," Create New Room"]})]})]})}):p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:p.jsx(oy,{className:"w-6 h-6 text-white"})}),p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Join Room"})]}),p.jsxs("form",{onSubmit:B,className:"space-y-4",children:[p.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value.toUpperCase()),placeholder:"ENTER CODE",className:"w-full px-4 py-3 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl text-white placeholder-slate-400 text-center font-bold tracking-wider focus:ring-2 focus:ring-yellow-600/30 focus:border-yellow-600/50 transition-all",maxLength:"6",required:!0}),p.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl flex items-center justify-center gap-2",children:["Join ",p.jsx(fg,{className:"w-4 h-4"})]})]})]}),m&&p.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl shadow-lg shadow-yellow-600/10",children:p.jsx(ET,{className:"w-6 h-6 text-white"})}),p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Room"})]}),p.jsx("p",{className:"text-slate-300 mb-6",children:"Start a new bracket room and share the code with friends"}),p.jsx("button",{onClick:U,className:"w-full bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white py-3 rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition-all duration-300 font-semibold shadow-lg shadow-yellow-600/10 hover:shadow-xl",children:"Create New Room"})]})]}),p.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-4 sm:p-8 shadow-xl",children:[p.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-center gap-3",children:[p.jsx(cl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600/90"}),"My Rooms"]}),p.jsx("div",{className:"grid gap-3 sm:gap-4",children:n.map(A=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-4 sm:p-6 bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl hover:bg-slate-800/50 transition-all duration-300 hover:shadow-lg",children:[p.jsxs("button",{onClick:()=>T(`/bracket/${A.roomId}`),className:"flex items-center gap-3 sm:gap-4 flex-grow text-left w-full sm:w-auto",children:[p.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 px-3 sm:px-4 py-1 sm:py-2 rounded-lg shadow-lg shadow-yellow-600/10",children:p.jsx("span",{className:"text-white font-bold text-base sm:text-lg tracking-wider",children:A.roomCode})}),p.jsxs("span",{className:"text-white font-semibold text-base sm:text-lg",children:["Room ",A.roomCode]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto justify-end",children:[p.jsx("button",{onClick:E=>{E.stopPropagation(),O(A.roomCode)},className:"p-2 bg-green-500/20 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition text-green-400",title:"Share Room",children:p.jsx(ay,{className:"w-4 h-4"})}),m&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:E=>{E.stopPropagation(),T(`/admin/brackets/${A.roomId}`)},className:"p-2 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition text-blue-400",title:"View Submitted Brackets (Admin)",children:p.jsx(D3,{className:"w-4 h-4"})}),p.jsx("button",{onClick:E=>{E.stopPropagation(),X(A.roomId,A.roomCode)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Room (Admin)",children:p.jsx(BA,{className:"w-4 h-4"})})]}),p.jsx(fg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600/70 hidden sm:block"})]})]},A.id))})]})]})]}),p.jsx(rO,{isOpen:a,onClose:te}),p.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const oO="https://site.web.api.espn.com/apis/v2/sports/football/nfl/standings?region=us&lang=en&contentorigin=espn&season=2025&type=0",lO=async()=>{try{const e=await(await fetch(oO)).json(),n={};return e.children?.forEach(s=>{s.standings?.entries?.forEach(a=>{const l=a.team?.id,u=a.stats?.find(d=>d.name==="playoffSeed");l&&u&&(n[l]={seed:u.value,abbreviation:a.team.abbreviation,name:a.team.name,location:a.team.location,displayName:a.team.displayName})})}),n}catch(t){return console.error("Error fetching playoff seeds:",t),{}}},pf="https://site.api.espn.com/apis/site/v2/sports/football/nfl/scoreboard?seasontype=3",ld=async()=>{try{const t=await lO(),e=await Promise.all([fetch(`${pf}&week=1`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=2`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=3`).then(n=>n.json()).catch(()=>({events:[]})),fetch(`${pf}&week=4`).then(n=>n.json()).catch(()=>({events:[]}))]);return{wildCard:gf(e[0],"wc",1,t),divisional:gf(e[1],"div",2,t),conference:gf(e[2],"conf",3,t),superBowl:gf(e[3],"sb",4,t)}}catch(t){return console.error("Error fetching playoff games:",t),{wildCard:[],divisional:[],conference:[],superBowl:[]}}},gf=(t,e,n,s)=>{const a=t?.events||[],l=[],u=[];if(a.forEach((d,m)=>{const y=d.competitions?.[0];if(!y)return;const v=y.competitors||[],b=v.find(U=>U.homeAway==="home"),T=v.find(U=>U.homeAway==="away"),R=y.status,k=b?.team?.id==="-1"||T?.team?.id==="-1";let O="UNKNOWN";n===4?O="SB":!k&&b?.team&&(O=FA(b.team.abbreviation),O==="UNKNOWN"&&(O=zA(b.team.id)));const V={id:`${O.toLowerCase()}-${e}-${O==="AFC"?l.length:O==="NFC"?u.length:0}`,espnId:d.id,team1:k?null:yf(b,!0,s),team2:k?null:yf(T,!1,s),status:R?.type?.description||"Scheduled",statusDetail:R?.type?.shortDetail||"Game Not Started",isCompleted:R?.type?.completed||!1,isInProgress:R?.type?.state==="in",winner:ST(b,T,R),conference:O,date:d.date,isTBD:k,homeScore:k?null:parseInt(b?.score)||0,awayScore:k?null:parseInt(T?.score)||0};O==="AFC"?l.push(V):O==="NFC"&&u.push(V)}),n===4&&a.length>0){const d=a[0],m=d.competitions?.[0],y=m?.competitors||[],v=y.find(k=>k.homeAway==="home"),b=y.find(k=>k.homeAway==="away"),T=m?.status,R=v?.team?.id==="-1"||b?.team?.id==="-1";return[{id:"super-bowl",espnId:d.id,team1:R?null:yf(v,!0,s),team2:R?null:yf(b,!1,s),status:T?.type?.description||"Scheduled",statusDetail:T?.type?.shortDetail||"Game Not Started",isCompleted:T?.type?.completed||!1,isInProgress:T?.type?.state==="in",winner:ST(v,b,T),conference:"SB",date:d.date,isTBD:R,homeScore:R?null:parseInt(v?.score)||0,awayScore:R?null:parseInt(b?.score)||0}]}return[...l,...u]},yf=(t,e,n)=>{if(!t||t.id==="-1")return null;const s=t.team,a=s.id,l=n?.[a],u=zA(a),d=FA(s.abbreviation);return{id:a,name:s.name||s.displayName,city:s.location,abbreviation:s.abbreviation,displayName:s.displayName,score:parseInt(t.score)||0,seed:l?.seed||cO(t),conference:d!=="UNKNOWN"?d:u,color:uO(s.abbreviation),isHome:e}},ST=(t,e,n)=>{if(!n?.type?.completed)return null;const s=parseInt(t?.score)||0,a=parseInt(e?.score)||0;return s>a?t?.team?.id:a>s?e?.team?.id:null},cO=t=>t.curatedRank?.current||t.rank||parseInt(t.team?.displayName?.match(/\((\d+)\)/)?.[1])||null,zA=t=>{const e=["1","2","3","4","5","6","7","8","9","10","11","12","33","34"],n=["13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],s=String(t);return e.includes(s)?"AFC":n.includes(s)?"NFC":"UNKNOWN"},FA=t=>{const e=["KC","BUF","BAL","HOU","PIT","LAC","DEN","MIA","CIN","CLE","LV","IND","TEN","JAX","NE"],n=["DET","PHI","LAR","TB","MIN","WAS","GB","SF","DAL","SEA","ATL","NO","CAR","ARI","CHI","NYG"];return e.includes(t)?"AFC":n.includes(t)?"NFC":"UNKNOWN"},uO=t=>({KC:"#E31837",BUF:"#00338D",BAL:"#241773",HOU:"#03202F",PIT:"#FFB612",LAC:"#0080C6",DEN:"#FB4F14",MIA:"#008E97",CIN:"#FB4F14",CLE:"#FF3C00",LV:"#000000",IND:"#002C5F",TEN:"#0C2340",JAX:"#006778",NE:"#002244",DET:"#0076B6",PHI:"#004C54",LAR:"#003594",TB:"#D50A0A",MIN:"#4F2683",WAS:"#5A1414",GB:"#203731",SF:"#AA0000",DAL:"#041E42",SEA:"#002244",ATL:"#A71930",NO:"#D3BC8D",CAR:"#0085CA",ARI:"#97233F",CHI:"#0B162A",NYG:"#0B2265",NYJ:"#125740"})[t]||"#64748b",j0=j.createContext({});function M0(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const V0=typeof window<"u",HA=V0?j.useLayoutEffect:j.useEffect,Ud=j.createContext(null);function P0(t,e){t.indexOf(e)===-1&&t.push(e)}function O0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ys=(t,e,n)=>n>e?e:n<t?t:n;let L0=()=>{};const Qs={},qA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function GA(t){return typeof t=="object"&&t!==null}const KA=t=>/^0[^.\s]+$/u.test(t);function U0(t){let e;return()=>(e===void 0&&(e=t()),e)}const hi=t=>t,hO=(t,e)=>n=>e(t(n)),Ru=(...t)=>t.reduce(hO),ru=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class B0{constructor(){this.subscriptions=[]}add(e){return P0(this.subscriptions,e),()=>O0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fs=t=>t*1e3,ui=t=>t/1e3;function $A(t,e){return e?t*(1e3/e):0}const YA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fO=1e-7,dO=12;function mO(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=YA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>fO&&++d<dO);return u}function Nu(t,e,n,s){if(t===e&&n===s)return hi;const a=l=>mO(l,0,1,t,n);return l=>l===0||l===1?l:YA(a(l),e,s)}const QA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,XA=t=>e=>1-t(1-e),WA=Nu(.33,1.53,.69,.99),z0=XA(WA),JA=QA(z0),ZA=t=>(t*=2)<1?.5*z0(t):.5*(2-Math.pow(2,-10*(t-1))),F0=t=>1-Math.sin(Math.acos(t)),eC=XA(F0),tC=QA(F0),pO=Nu(.42,0,1,1),gO=Nu(0,0,.58,1),nC=Nu(.42,0,.58,1),yO=t=>Array.isArray(t)&&typeof t[0]!="number",iC=t=>Array.isArray(t)&&typeof t[0]=="number",vO={linear:hi,easeIn:pO,easeInOut:nC,easeOut:gO,circIn:F0,circInOut:tC,circOut:eC,backIn:z0,backInOut:JA,backOut:WA,anticipate:ZA},xO=t=>typeof t=="string",AT=t=>{if(iC(t)){L0(t.length===4);const[e,n,s,a]=t;return Nu(e,n,s,a)}else if(xO(t))return vO[t];return t},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(y.schedule(v),t()),v(d)}const y={schedule:(v,b=!1,T=!1)=>{const k=T&&a?n:s;return b&&u.add(v),k.has(v)||k.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,y.process(v))}};return y}const _O=40;function sC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=vf.reduce((H,X)=>(H[X]=bO(l),H),{}),{setup:d,read:m,resolveKeyframes:y,preUpdate:v,update:b,preRender:T,render:R,postRender:k}=u,O=()=>{const H=Qs.useManualTiming?a.timestamp:performance.now();n=!1,Qs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,_O),1)),a.timestamp=H,a.isProcessing=!0,d.process(a),m.process(a),y.process(a),v.process(a),b.process(a),T.process(a),R.process(a),k.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},V=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:vf.reduce((H,X)=>{const te=u[X];return H[X]=(ae,A=!1,E=!1)=>(n||V(),te.schedule(ae,A,E)),H},{}),cancel:H=>{for(let X=0;X<vf.length;X++)u[vf[X]].cancel(H)},state:a,steps:u}}const{schedule:pt,cancel:Xr,state:an,steps:mg}=sC(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0);let Vf;function wO(){Vf=void 0}const Dn={now:()=>(Vf===void 0&&Dn.set(an.isProcessing||Qs.useManualTiming?an.timestamp:performance.now()),Vf),set:t=>{Vf=t,queueMicrotask(wO)}},rC=t=>e=>typeof e=="string"&&e.startsWith(t),aC=rC("--"),TO=rC("var(--"),H0=t=>TO(t)?EO.test(t.split("/*")[0].trim()):!1,EO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},au={...Tl,transform:t=>Ys(0,1,t)},xf={...Tl,default:1},Kc=t=>Math.round(t*1e5)/1e5,q0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SO(t){return t==null}const AO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G0=(t,e)=>n=>!!(typeof n=="string"&&AO.test(n)&&n.startsWith(t)||e&&!SO(n)&&Object.prototype.hasOwnProperty.call(n,e)),oC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(q0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},CO=t=>Ys(0,255,t),pg={...Tl,transform:t=>Math.round(CO(t))},Oa={test:G0("rgb","red"),parse:oC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+pg.transform(t)+", "+pg.transform(e)+", "+pg.transform(n)+", "+Kc(au.transform(s))+")"};function RO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ly={test:G0("#"),parse:RO,transform:Oa.transform},Iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dr=Iu("deg"),ds=Iu("%"),Ae=Iu("px"),NO=Iu("vh"),IO=Iu("vw"),CT={...ds,parse:t=>ds.parse(t)/100,transform:t=>ds.transform(t*100)},Ho={test:G0("hsl","hue"),parse:oC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ds.transform(Kc(e))+", "+ds.transform(Kc(n))+", "+Kc(au.transform(s))+")"},Bt={test:t=>Oa.test(t)||ly.test(t)||Ho.test(t),parse:t=>Oa.test(t)?Oa.parse(t):Ho.test(t)?Ho.parse(t):ly.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):Ho.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},DO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kO(t){return isNaN(t)&&typeof t=="string"&&(t.match(q0)?.length||0)+(t.match(DO)?.length||0)>0}const lC="number",cC="color",jO="var",MO="var(",RT="${}",VO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ou(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(VO,m=>(Bt.test(m)?(s.color.push(l),a.push(cC),n.push(Bt.parse(m))):m.startsWith(MO)?(s.var.push(l),a.push(jO),n.push(m)):(s.number.push(l),a.push(lC),n.push(parseFloat(m))),++l,RT)).split(RT);return{values:n,split:d,indexes:s,types:a}}function uC(t){return ou(t).values}function hC(t){const{split:e,types:n}=ou(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===lC?l+=Kc(a[u]):d===cC?l+=Bt.transform(a[u]):l+=a[u]}return l}}const PO=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function OO(t){const e=uC(t);return hC(t)(e.map(PO))}const Wr={test:kO,parse:uC,createTransformer:hC,getAnimatableNone:OO};function gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=gg(m,d,t+1/3),l=gg(m,d,t),u=gg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function cd(t,e){return n=>n>0?e:t}const yt=(t,e,n)=>t+(e-t)*n,yg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},UO=[ly,Oa,Ho],BO=t=>UO.find(e=>e.test(t));function NT(t){const e=BO(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=LO(n)),n}const IT=(t,e)=>{const n=NT(t),s=NT(e);if(!n||!s)return cd(t,e);const a={...n};return l=>(a.red=yg(n.red,s.red,l),a.green=yg(n.green,s.green,l),a.blue=yg(n.blue,s.blue,l),a.alpha=yt(n.alpha,s.alpha,l),Oa.transform(a))},cy=new Set(["none","hidden"]);function zO(t,e){return cy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FO(t,e){return n=>yt(t,e,n)}function K0(t){return typeof t=="number"?FO:typeof t=="string"?H0(t)?cd:Bt.test(t)?IT:GO:Array.isArray(t)?fC:typeof t=="object"?Bt.test(t)?IT:HO:cd}function fC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>K0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function HO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=K0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function qO(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const GO=(t,e)=>{const n=Wr.createTransformer(e),s=ou(t),a=ou(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?cy.has(t)&&!a.values.length||cy.has(e)&&!s.values.length?zO(t,e):Ru(fC(qO(s,a),a.values),n):cd(t,e)};function dC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):K0(t)(t,e)}const KO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pt.update(e,n),stop:()=>Xr(e),now:()=>an.isProcessing?an.timestamp:Dn.now()}},mC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ud=2e4;function $0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ud;)e+=n,s=t.next(e);return e>=ud?1/0:e}function $O(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min($0(s),ud);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ui(a)}}const YO=5;function pC(t,e,n){const s=Math.max(e-YO,0);return $A(n-t(s),e-s)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vg=.001;function QO({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:s=wt.mass}){let a,l,u=1-e;u=Ys(wt.minDamping,wt.maxDamping,u),t=Ys(wt.minDuration,wt.maxDuration,ui(t)),u<1?(a=y=>{const v=y*u,b=v*t,T=v-n,R=uy(y,u),k=Math.exp(-b);return vg-T/R*k},l=y=>{const b=y*u*t,T=b*n+n,R=Math.pow(u,2)*Math.pow(y,2)*t,k=Math.exp(-b),O=uy(Math.pow(y,2),u);return(-a(y)+vg>0?-1:1)*((T-R)*k)/O}):(a=y=>{const v=Math.exp(-y*t),b=(y-n)*t+1;return-vg+v*b},l=y=>{const v=Math.exp(-y*t),b=(n-y)*(t*t);return v*b});const d=5/t,m=WO(a,l,d);if(t=fs(t),isNaN(m))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const y=Math.pow(m,2)*s;return{stiffness:y,damping:u*2*Math.sqrt(s*y),duration:t}}}const XO=12;function WO(t,e,n){let s=n;for(let a=1;a<XO;a++)s=s-t(s)/e(s);return s}function uy(t,e){return t*Math.sqrt(1-e*e)}const JO=["duration","bounce"],ZO=["stiffness","damping","mass"];function DT(t,e){return e.some(n=>t[n]!==void 0)}function e6(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!DT(t,ZO)&&DT(t,JO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ys(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:wt.mass,stiffness:a,damping:l}}else{const n=QO(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function hd(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:y,mass:v,duration:b,velocity:T,isResolvedFromDuration:R}=e6({...n,velocity:-ui(n.velocity||0)}),k=T||0,O=y/(2*Math.sqrt(m*v)),V=u-l,U=ui(Math.sqrt(m/v)),B=Math.abs(V)<5;s||(s=B?wt.restSpeed.granular:wt.restSpeed.default),a||(a=B?wt.restDelta.granular:wt.restDelta.default);let H;if(O<1){const te=uy(U,O);H=ae=>{const A=Math.exp(-O*U*ae);return u-A*((k+O*U*V)/te*Math.sin(te*ae)+V*Math.cos(te*ae))}}else if(O===1)H=te=>u-Math.exp(-U*te)*(V+(k+U*V)*te);else{const te=U*Math.sqrt(O*O-1);H=ae=>{const A=Math.exp(-O*U*ae),E=Math.min(te*ae,300);return u-A*((k+O*U*V)*Math.sinh(E)+te*V*Math.cosh(E))/te}}const X={calculatedDuration:R&&b||null,next:te=>{const ae=H(te);if(R)d.done=te>=b;else{let A=te===0?k:0;O<1&&(A=te===0?fs(k):pC(H,te,ae));const E=Math.abs(A)<=s,N=Math.abs(u-ae)<=a;d.done=E&&N}return d.value=d.done?u:ae,d},toString:()=>{const te=Math.min($0(X),ud),ae=mC(A=>X.next(te*A).value,te,30);return te+"ms "+ae},toTransition:()=>{}};return X}hd.applyToOptions=t=>{const e=$O(t,100,hd);return t.ease=e.ease,t.duration=fs(e.duration),t.type="keyframes",t};function hy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:y=.5,restSpeed:v}){const b=t[0],T={done:!1,value:b},R=E=>d!==void 0&&E<d||m!==void 0&&E>m,k=E=>d===void 0?m:m===void 0||Math.abs(d-E)<Math.abs(m-E)?d:m;let O=n*e;const V=b+O,U=u===void 0?V:u(V);U!==V&&(O=U-b);const B=E=>-O*Math.exp(-E/s),H=E=>U+B(E),X=E=>{const N=B(E),P=H(E);T.done=Math.abs(N)<=y,T.value=T.done?U:P};let te,ae;const A=E=>{R(T.value)&&(te=E,ae=hd({keyframes:[T.value,k(T.value)],velocity:pC(H,E,T.value),damping:a,stiffness:l,restDelta:y,restSpeed:v}))};return A(0),{calculatedDuration:null,next:E=>{let N=!1;return!ae&&te===void 0&&(N=!0,X(E),A(E)),te!==void 0&&E>=te?ae.next(E-te):(!N&&X(E),T)}}}function t6(t,e,n){const s=[],a=n||Qs.mix||dC,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||hi:e;d=Ru(m,d)}s.push(d)}return s}function n6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(L0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=t6(e,s,a),m=d.length,y=v=>{if(u&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const T=ru(t[b],t[b+1],v);return d[b](T)};return n?v=>y(Ys(t[0],t[l-1],v)):y}function i6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ru(0,e,s);t.push(yt(n,1,a))}}function s6(t){const e=[0];return i6(e,t.length-1),e}function r6(t,e){return t.map(n=>n*e)}function a6(t,e){return t.map(()=>e||nC).splice(0,t.length-1)}function $c({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=yO(s)?s.map(AT):AT(s),l={done:!1,value:e[0]},u=r6(n&&n.length===e.length?n:s6(e),t),d=n6(u,e,{ease:Array.isArray(a)?a:a6(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const o6=t=>t!==null;function Y0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(o6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const l6={decay:hy,inertia:hy,tween:$c,keyframes:$c,spring:hd};function gC(t){typeof t.type=="string"&&(t.type=l6[t.type])}class Q0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const c6=t=>t/100;class X0 extends Q0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gC(e);const{type:n=$c,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||$c;m!==$c&&typeof d[0]!="number"&&(this.mixKeyframes=Ru(c6,dC(d[0],d[1])),d=[0,100]);const y=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=$0(y));const{calculatedDuration:v}=y;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=y}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:y=0,keyframes:v,repeat:b,repeatType:T,repeatDelay:R,type:k,onUpdate:O,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-y*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,X=s;if(b){const E=Math.min(this.currentTime,a)/d;let N=Math.floor(E),P=E%1;!P&&E>=1&&(P=1),P===1&&N--,N=Math.min(N,b+1),N%2&&(T==="reverse"?(P=1-P,R&&(P-=R/d)):T==="mirror"&&(X=u)),H=Ys(0,1,P)*d}const te=B?{done:!1,value:v[0]}:X.next(H);l&&(te.value=l(te.value));let{done:ae}=te;!B&&m!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return A&&k!==hy&&(te.value=Y0(v,this.options,V,this.speed)),O&&O(te.value),A&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return ui(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ui(e)}get time(){return ui(this.currentTime)}set time(e){e=fs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KO,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function u6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const La=t=>t*180/Math.PI,fy=t=>{const e=La(Math.atan2(t[1],t[0]));return dy(e)},h6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fy,rotateZ:fy,skewX:t=>La(Math.atan(t[1])),skewY:t=>La(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dy=t=>(t=t%360,t<0&&(t+=360),t),kT=fy,jT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),MT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),f6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jT,scaleY:MT,scale:t=>(jT(t)+MT(t))/2,rotateX:t=>dy(La(Math.atan2(t[6],t[5]))),rotateY:t=>dy(La(Math.atan2(-t[2],t[0]))),rotateZ:kT,rotate:kT,skewX:t=>La(Math.atan(t[4])),skewY:t=>La(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function my(t){return t.includes("scale")?1:0}function py(t,e){if(!t||t==="none")return my(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=f6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=h6,a=d}if(!a)return my(e);const l=s[e],u=a[1].split(",").map(m6);return typeof l=="function"?l(u):u[l]}const d6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return py(n,e)};function m6(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(El),VT=t=>t===Tl||t===Ae,p6=new Set(["x","y","z"]),g6=El.filter(t=>!p6.has(t));function y6(t){const e=[];return g6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>py(e,"x"),y:(t,{transform:e})=>py(e,"y")};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const za=new Set;let gy=!1,yy=!1,vy=!1;function yC(){if(yy){const t=Array.from(za).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=y6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}yy=!1,gy=!1,za.forEach(t=>t.complete(vy)),za.clear()}function vC(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yy=!0)})}function v6(){vy=!0,vC(),yC(),vy=!1}class W0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),gy||(gy=!0,pt.read(vC),pt.resolveKeyframes(yC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}u6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const x6=t=>t.startsWith("--");function b6(t,e,n){x6(e)?t.style.setProperty(e,n):t.style[e]=n}const _6=U0(()=>window.ScrollTimeline!==void 0),w6={};function T6(t,e){const n=U0(t);return()=>w6[e]??n()}const xC=T6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,PT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uc([0,.65,.55,1]),circOut:Uc([.55,0,1,.45]),backIn:Uc([.31,.01,.66,-.59]),backOut:Uc([.33,1.53,.69,.99])};function bC(t,e){if(t)return typeof t=="function"?xC()?mC(t,e):"ease-out":iC(t)?Uc(t):Array.isArray(t)?t.map(n=>bC(n,e)||PT.easeOut):PT[t]}function E6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},y=void 0){const v={[e]:n};m&&(v.offset=m);const b=bC(d,a);Array.isArray(b)&&(v.easing=b);const T={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return y&&(T.pseudoElement=y),t.animate(v,T)}function _C(t){return typeof t=="function"&&"applyToOptions"in t}function S6({type:t,...e}){return _C(t)&&xC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class A6 extends Q0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,L0(typeof e.type!="string");const y=S6(e);this.animation=E6(n,s,a,y,l),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Y0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):b6(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ui(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ui(e)}get time(){return ui(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=fs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&_6()?(this.animation.timeline=e,hi):n(this)}}const wC={anticipate:ZA,backInOut:JA,circInOut:tC};function C6(t){return t in wC}function R6(t){typeof t.ease=="string"&&C6(t.ease)&&(t.ease=wC[t.ease])}const OT=10;class N6 extends A6{constructor(e){R6(e),gC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new X0({...u,autoplay:!1}),m=fs(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-OT).value,d.sample(m).value,OT),d.stop()}}const LT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url("));function I6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function D6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=LT(a,e),d=LT(l,e);return!u||!d?!1:I6(t)||(n==="spring"||_C(n))&&s}function xy(t){t.duration=0,t.type="keyframes"}const k6=new Set(["opacity","clipPath","filter","transform"]),j6=U0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:y}=e.owner.getProps();return j6()&&n&&k6.has(n)&&(n!=="transform"||!y)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const V6=40;class P6 extends Q0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:y,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:y,element:v,...b},R=v?.KeyframeResolver||W0;this.keyframeResolver=new R(d,(k,O,V)=>this.onKeyframesResolved(k,O,T,!V),m,y,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:y,onUpdate:v}=s;this.resolvedAt=Dn.now(),D6(e,l,u,d)||((Qs.instantAnimations||!m)&&v?.(Y0(e,s,n)),e[0]=e[e.length-1],xy(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>V6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!y&&M6(T)?new N6({...T,element:T.motionValue.owner.current}):new X0(T);R.finished.then(()=>this.notifyFinished()).catch(hi),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const O6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L6(t){const e=O6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function TC(t,e,n=1){const[s,a]=L6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return qA(u)?parseFloat(u):u}return H0(a)?TC(a,e,n+1):a}function J0(t,e){return t?.[e]??t?.default??t}const EC=new Set(["width","height","top","left","right","bottom",...El]),U6={test:t=>t==="auto",parse:t=>t},SC=t=>e=>e.test(t),AC=[Tl,Ae,ds,Dr,IO,NO,U6],UT=t=>AC.find(SC(t));function B6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KA(t):!0}const z6=new Set(["brightness","contrast","saturate","opacity"]);function F6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(q0)||[];if(!s)return t;const a=n.replace(s,"");let l=z6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const H6=/\b([a-z-]*)\(.*?\)/gu,by={...Wr,getAnimatableNone:t=>{const e=t.match(H6);return e?e.map(F6).join(" "):t}},BT={...Tl,transform:Math.round},q6={rotate:Dr,rotateX:Dr,rotateY:Dr,rotateZ:Dr,scale:xf,scaleX:xf,scaleY:xf,scaleZ:xf,skew:Dr,skewX:Dr,skewY:Dr,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:au,originX:CT,originY:CT,originZ:Ae},Z0={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...q6,zIndex:BT,fillOpacity:au,strokeOpacity:au,numOctaves:BT},G6={...Z0,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:by,WebkitFilter:by},CC=t=>G6[t];function RC(t,e){let n=CC(t);return n!==by&&(n=Wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const K6=new Set(["auto","none","0"]);function $6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!K6.has(l)&&ou(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=RC(n,a)}class Y6 extends W0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let y=e[m];if(typeof y=="string"&&(y=y.trim(),H0(y))){const v=TC(y,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!EC.has(s)||e.length!==2)return;const[a,l]=e,u=UT(a),d=UT(l);if(u!==d)if(VT(u)&&VT(d))for(let m=0;m<e.length;m++){const y=e[m];typeof y=="string"&&(e[m]=parseFloat(y))}else Ba[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||B6(e[a]))&&s.push(a);s.length&&$6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Ba[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function Q6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const NC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function IC(t){return GA(t)&&"offsetHeight"in t}const zT=30,X6=t=>!isNaN(parseFloat(t));class W6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=X6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B0);const s=this.events[e].add(n);return e==="change"?()=>{s(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zT);return $A(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(t,e){return new W6(t,e)}const{schedule:ev}=sC(queueMicrotask,!1),Ri={x:!1,y:!1};function DC(){return Ri.x||Ri.y}function J6(t){return t==="x"||t==="y"?Ri[t]?null:(Ri[t]=!0,()=>{Ri[t]=!1}):Ri.x||Ri.y?null:(Ri.x=Ri.y=!0,()=>{Ri.x=Ri.y=!1})}function kC(t,e){const n=Q6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function FT(t){return!(t.pointerType==="touch"||DC())}function Z6(t,e,n={}){const[s,a,l]=kC(t,n),u=d=>{if(!FT(d))return;const{target:m}=d,y=e(m,d);if(typeof y!="function"||!m)return;const v=b=>{FT(b)&&(y(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const jC=(t,e)=>e?t===e?!0:jC(t,e.parentElement):!1,tv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,e5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t5(t){return e5.has(t.tagName)||t.tabIndex!==-1}const Pf=new WeakSet;function HT(t){return e=>{e.key==="Enter"&&t(e)}}function xg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n5=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=HT(()=>{if(Pf.has(n))return;xg(n,"down");const a=HT(()=>{xg(n,"up")}),l=()=>xg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function qT(t){return tv(t)&&!DC()}function i5(t,e,n={}){const[s,a,l]=kC(t,n),u=d=>{const m=d.currentTarget;if(!qT(d))return;Pf.add(m);const y=e(m,d),v=(R,k)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",T),Pf.has(m)&&Pf.delete(m),qT(R)&&typeof y=="function"&&y(R,{success:k})},b=R=>{v(R,m===window||m===document||n.useGlobalTarget||jC(m,R.target))},T=R=>{v(R,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),IC(d)&&(d.addEventListener("focus",y=>n5(y,a)),!t5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function MC(t){return GA(t)&&"ownerSVGElement"in t}function s5(t){return MC(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),r5=[...AC,Bt,Wr],a5=t=>r5.find(SC(t)),nv=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function GT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function o5(...t){return e=>{let n=!1;const s=t.map(a=>{const l=GT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():GT(t[a],null)}}}}function l5(...t){return j.useCallback(o5(...t),t)}class c5 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=IC(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u5({children:t,isPresent:e,anchorX:n,root:s}){const a=j.useId(),l=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=j.useContext(nv),m=l5(l,t?.ref);return j.useInsertionEffect(()=>{const{width:y,height:v,top:b,left:T,right:R}=u.current;if(e||!l.current||!y||!v)return;const k=n==="left"?`left: ${T}`:`right: ${R}`;l.current.dataset.motionPopId=a;const O=document.createElement("style");d&&(O.nonce=d);const V=s??document.head;return V.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${k}px !important;
            top: ${b}px !important;
          }
        `),()=>{V.contains(O)&&V.removeChild(O)}},[e]),p.jsx(c5,{isPresent:e,childRef:l,sizeRef:u,children:j.cloneElement(t,{ref:m})})}const h5=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:m})=>{const y=M0(f5),v=j.useId();let b=!0,T=j.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:R=>{y.set(R,!0);for(const k of y.values())if(!k)return;s&&s()},register:R=>(y.set(R,!1),()=>y.delete(R))}),[n,y,s]);return l&&b&&(T={...T}),j.useMemo(()=>{y.forEach((R,k)=>y.set(k,!1))},[n]),j.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),u==="popLayout"&&(t=p.jsx(u5,{isPresent:n,anchorX:d,root:m,children:t})),p.jsx(Ud.Provider,{value:T,children:t})};function f5(){return new Map}function VC(t=!0){const e=j.useContext(Ud);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=j.useId();j.useEffect(()=>{if(t)return a(l)},[t]);const u=j.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const bf=t=>t.key||"";function KT(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const PC=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[y,v]=VC(u),b=j.useMemo(()=>KT(t),[t]),T=u&&!y?[]:b.map(bf),R=j.useRef(!0),k=j.useRef(b),O=M0(()=>new Map),[V,U]=j.useState(b),[B,H]=j.useState(b);HA(()=>{R.current=!1,k.current=b;for(let ae=0;ae<B.length;ae++){const A=bf(B[ae]);T.includes(A)?O.delete(A):O.get(A)!==!0&&O.set(A,!1)}},[B,T.length,T.join("-")]);const X=[];if(b!==V){let ae=[...b];for(let A=0;A<B.length;A++){const E=B[A],N=bf(E);T.includes(N)||(ae.splice(A,0,E),X.push(E))}return l==="wait"&&X.length&&(ae=X),H(KT(ae)),U(b),null}const{forceRender:te}=j.useContext(j0);return p.jsx(p.Fragment,{children:B.map(ae=>{const A=bf(ae),E=u&&!y?!1:b===B||T.includes(A),N=()=>{if(O.has(A))O.set(A,!0);else return;let P=!0;O.forEach(M=>{M||(P=!1)}),P&&(te?.(),H(k.current),u&&v?.(),s&&s())};return p.jsx(h5,{isPresent:E,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:E?void 0:N,anchorX:d,children:ae},A)})})},OC=j.createContext({strict:!1}),$T={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const t in $T)hl[t]={isEnabled:e=>$T[t].some(n=>!!e[n])};function d5(t){for(const e in t)hl[e]={...hl[e],...t[e]}}const m5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||m5.has(t)}let LC=t=>!fd(t);function p5(t){typeof t=="function"&&(LC=e=>e.startsWith("on")?!fd(e):t(e))}try{p5(require("@emotion/is-prop-valid").default)}catch{}function g5(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(LC(a)||n===!0&&fd(a)||!e&&!fd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Bd=j.createContext({});function zd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function lu(t){return typeof t=="string"||Array.isArray(t)}const iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sv=["initial",...iv];function Fd(t){return zd(t.animate)||sv.some(e=>lu(t[e]))}function UC(t){return!!(Fd(t)||t.variants)}function y5(t,e){if(Fd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||lu(n)?n:void 0,animate:lu(s)?s:void 0}}return t.inherit!==!1?e:{}}function v5(t){const{initial:e,animate:n}=y5(t,j.useContext(Bd));return j.useMemo(()=>({initial:e,animate:n}),[YT(e),YT(n)])}function YT(t){return Array.isArray(t)?t.join(" "):t}function QT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=QT(t,e.target.x),s=QT(t,e.target.y);return`${n}% ${s}%`}},x5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Wr.parse(t);if(a.length>5)return s;const l=Wr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const y=yt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=y),typeof a[3+u]=="number"&&(a[3+u]/=y),l(a)}},_y={borderRadius:{...kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kc,borderTopRightRadius:kc,borderBottomLeftRadius:kc,borderBottomRightRadius:kc,boxShadow:x5};function BC(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_y[t]||t==="opacity")}const b5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_5=El.length;function w5(t,e,n){let s="",a=!0;for(let l=0;l<_5;l++){const u=El[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const y=NC(d,Z0[u]);if(!m){a=!1;const v=b5[u]||u;s+=`${v}(${y}) `}n&&(e[u]=y)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function rv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const y=e[m];if(Sl.has(m)){u=!0;continue}else if(aC(m)){a[m]=y;continue}else{const v=NC(y,Z0[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=w5(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:y="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${y} ${v}`}}const av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zC(t,e,n){for(const s in e)!pn(e[s])&&!BC(s,n)&&(t[s]=e[s])}function T5({transformTemplate:t},e){return j.useMemo(()=>{const n=av();return rv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function E5(t,e){const n=t.style||{},s={};return zC(s,n,t),Object.assign(s,T5(t,e)),s}function S5(t,e){const n={},s=E5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const A5={offset:"stroke-dashoffset",array:"stroke-dasharray"},C5={offset:"strokeDashoffset",array:"strokeDasharray"};function R5(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?A5:C5;t[l.offset]=Ae.transform(-s);const u=Ae.transform(e),d=Ae.transform(n);t[l.array]=`${u} ${d}`}function FC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,y,v){if(rv(t,d,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:T}=t;b.transform&&(T.transform=b.transform,delete b.transform),(T.transform||b.transformOrigin)&&(T.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&R5(b,a,l,u,!1)}const HC=()=>({...av(),attrs:{}}),qC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function N5(t,e,n,s){const a=j.useMemo(()=>{const l=HC();return FC(l,e,qC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};zC(l,t.style,t),a.style={...l,...a.style}}return a}const I5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ov(t){return typeof t!="string"||t.includes("-")?!1:!!(I5.indexOf(t)>-1||/[A-Z]/u.test(t))}function D5(t,e,n,{latestValues:s},a,l=!1){const d=(ov(t)?N5:S5)(e,s,a,t),m=g5(e,typeof t=="string",l),y=t!==j.Fragment?{...m,...d,ref:n}:{},{children:v}=e,b=j.useMemo(()=>pn(v)?v.get():v,[v]);return j.createElement(t,{...y,children:b})}function XT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function lv(t,e,n,s){if(typeof e=="function"){const[a,l]=XT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=XT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Of(t){return pn(t)?t.get():t}function k5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:j5(n,s,a,t),renderState:e()}}function j5(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Of(l[T]);let{initial:u,animate:d}=t;const m=Fd(t),y=UC(t);e&&y&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const b=v?d:u;if(b&&typeof b!="boolean"&&!zd(b)){const T=Array.isArray(b)?b:[b];for(let R=0;R<T.length;R++){const k=lv(t,T[R]);if(k){const{transitionEnd:O,transition:V,...U}=k;for(const B in U){let H=U[B];if(Array.isArray(H)){const X=v?H.length-1:0;H=H[X]}H!==null&&(a[B]=H)}for(const B in O)a[B]=O[B]}}}return a}const GC=t=>(e,n)=>{const s=j.useContext(Bd),a=j.useContext(Ud),l=()=>k5(t,e,s,a);return n?l():M0(l)};function cv(t,e,n){const{style:s}=t,a={};for(const l in s)(pn(s[l])||e.style&&pn(e.style[l])||BC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const M5=GC({scrapeMotionValuesFromProps:cv,createRenderState:av});function KC(t,e,n){const s=cv(t,e,n);for(const a in t)if(pn(t[a])||pn(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const V5=GC({scrapeMotionValuesFromProps:KC,createRenderState:HC}),P5=Symbol.for("motionComponentSymbol");function qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O5(t,e,n){return j.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qo(n)&&(n.current=s))},[e])}const uv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L5="framerAppearId",$C="data-"+uv(L5),YC=j.createContext({});function U5(t,e,n,s,a){const{visualElement:l}=j.useContext(Bd),u=j.useContext(OC),d=j.useContext(Ud),m=j.useContext(nv).reducedMotion,y=j.useRef(null);s=s||u.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=y.current,b=j.useContext(YC);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&B5(y.current,n,a,b);const T=j.useRef(!1);j.useInsertionEffect(()=>{v&&T.current&&v.update(n,d)});const R=n[$C],k=j.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return HA(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),j.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),k.current=!1),v.enteringChildren=void 0)}),v}function B5(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:y,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&qo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:y})}function QC(t){if(t)return t.options.allowProjection!==!1?t.projection:QC(t.parent)}function bg(t,{forwardMotionProps:e=!1}={},n,s){n&&d5(n);const a=ov(t)?V5:M5;function l(d,m){let y;const v={...j.useContext(nv),...d,layoutId:z5(d)},{isStatic:b}=v,T=v5(d),R=a(d,b);if(!b&&V0){F5();const k=H5(v);y=k.MeasureLayout,T.visualElement=U5(t,R,v,s,k.ProjectionNode)}return p.jsxs(Bd.Provider,{value:T,children:[y&&T.visualElement?p.jsx(y,{visualElement:T.visualElement,...v}):null,D5(t,d,O5(R,T.visualElement,m),R,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=j.forwardRef(l);return u[P5]=t,u}function z5({layoutId:t}){const e=j.useContext(j0).id;return e&&t!==void 0?e+"-"+t:t}function F5(t,e){j.useContext(OC).strict}function H5(t){const{drag:e,layout:n}=hl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function q5(t,e){if(typeof Proxy>"u")return bg;const n=new Map,s=(l,u)=>bg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,bg(u,void 0,t,e)),n.get(u))})}function XC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function G5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function K5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function _g(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!_g(t)||!_g(e)||!_g(n)}function Ma(t){return wy(t)||WC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WC(t){return WT(t.x)||WT(t.y)}function WT(t){return t&&t!=="0%"}function dd(t,e,n){const s=t-n,a=e*s;return n+a}function JT(t,e,n,s,a){return a!==void 0&&(t=dd(t,a,s)),dd(t,n,s)+e}function Ty(t,e=0,n=1,s,a){t.min=JT(t.min,e,n,s,a),t.max=JT(t.max,e,n,s,a)}function JC(t,{x:e,y:n}){Ty(t.x,e.translate,e.scale,e.originPoint),Ty(t.y,n.translate,n.scale,n.originPoint)}const ZT=.999999999999,eE=1.0000000000001;function $5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ko(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,JC(t,u)),s&&Ma(l.latestValues)&&Ko(t,l.latestValues))}e.x<eE&&e.x>ZT&&(e.x=1),e.y<eE&&e.y>ZT&&(e.y=1)}function Go(t,e){t.min=t.min+e,t.max=t.max+e}function tE(t,e,n,s,a=.5){const l=yt(t.min,t.max,a);Ty(t,e,n,l,s)}function Ko(t,e){tE(t.x,e.x,e.scaleX,e.scale,e.originX),tE(t.y,e.y,e.scaleY,e.scale,e.originY)}function ZC(t,e){return XC(K5(t.getBoundingClientRect(),e))}function Y5(t,e,n){const s=ZC(t,n),{scroll:a}=e;return a&&(Go(s.x,a.offset.x),Go(s.y,a.offset.y)),s}const nE=()=>({translate:0,scale:1,origin:0,originPoint:0}),$o=()=>({x:nE(),y:nE()}),iE=()=>({min:0,max:0}),Gt=()=>({x:iE(),y:iE()}),Ey={current:null},e2={current:!1};function Q5(){if(e2.current=!0,!!V0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addEventListener("change",e),e()}else Ey.current=!1}const X5=new WeakMap;function W5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(pn(a))t.addValue(s,a);else if(pn(l))t.addValue(s,ul(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,ul(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const sE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Dn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,pt.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Fd(n),this.isVariantNode=UC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in b){const R=b[T];m[T]!==void 0&&pn(R)&&R.set(m[T])}}mount(e){this.current=e,X5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),e2.current||Q5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Sl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&pt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hl){const n=hl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<sE.length;s++){const a=sE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=W5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ul(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(qA(s)||KA(s))?s=parseFloat(s):!a5(s)&&Wr.test(n)&&(s=RC(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=lv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!pn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ev.render(this.render)}}class t2 extends J5{constructor(){super(...arguments),this.KeyframeResolver=Y6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function n2(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Z5(t){return window.getComputedStyle(t)}class eL extends t2{constructor(){super(...arguments),this.type="html",this.renderInstance=n2}readValueFromInstance(e,n){if(Sl.has(n))return this.projection?.isProjecting?my(n):d6(e,n);{const s=Z5(e),a=(aC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZC(e,n)}build(e,n,s){rv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return cv(e,n,s)}}const i2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tL(t,e,n,s){n2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(i2.has(a)?a:uv(a),e.attrs[a])}class nL extends t2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const s=CC(n);return s&&s.default||0}return n=i2.has(n)?n:uv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return KC(e,n,s)}build(e,n,s){FC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){tL(e,n,s,a)}mount(e){this.isSVGTag=qC(e.tagName),super.mount(e)}}const iL=(t,e)=>ov(t)?new nL(e):new eL(e,{allowProjection:t!==j.Fragment});function el(t,e,n){const s=t.getProps();return lv(s,e,n!==void 0?n:s.custom,t)}const Sy=t=>Array.isArray(t);function sL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ul(n))}function rL(t){return Sy(t)?t[t.length-1]||0:t}function aL(t,e){const n=el(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=rL(l[u]);sL(t,u,d)}}function oL(t){return!!(pn(t)&&t.add)}function Ay(t,e){const n=t.getValue("willChange");if(oL(n))return n.add(e);if(!n&&Qs.WillChange){const s=new Qs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function s2(t){return t.props[$C]}const lL=t=>t!==null;function cL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(lL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const uL={type:"spring",stiffness:500,damping:25,restSpeed:10},hL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fL={type:"keyframes",duration:.8},dL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mL=(t,{keyframes:e})=>e.length>2?fL:Sl.has(t)?t.startsWith("scale")?hL(e[1]):uL:dL;function pL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:y,...v}){return!!Object.keys(v).length}const hv=(t,e,n,s={},a,l)=>u=>{const d=J0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:y=0}=s;y=y-fs(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-y,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};pL(d)||Object.assign(v,mL(t,v)),v.duration&&(v.duration=fs(v.duration)),v.repeatDelay&&(v.repeatDelay=fs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(xy(v),v.delay===0&&(b=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(b=!0,xy(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const T=cL(v.keyframes,d);if(T!==void 0){pt.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new X0(v):new P6(v)};function gL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function r2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const b=t.getValue(v,t.latestValues[v]??null),T=d[v];if(T===void 0||y&&gL(y,v))continue;const R={delay:n,...J0(l||{},v)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(T)&&T===k&&!R.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const U=s2(t);if(U){const B=window.MotionHandoffAnimation(U,v,pt);B!==null&&(R.startTime=B,O=!0)}}Ay(t,v),b.start(hv(v,b,T,t.shouldReduceMotion&&EC.has(v)?{type:!1}:R,t,O));const V=b.animation;V&&m.push(V)}return u&&Promise.all(m).then(()=>{pt.update(()=>{u&&aL(t,u)})}),m}function a2(t,e,n,s=0,a=1){const l=Array.from(t).sort((y,v)=>y.sortNodePosition(v)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}function Cy(t,e,n={}){const s=el(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(r2(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=a;return yL(t,e,m,y,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,y]=d==="beforeChildren"?[l,u]:[u,l];return m().then(()=>y())}else return Promise.all([l(),u(n.delay)])}function yL(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Cy(m,e,{...u,delay:n+(typeof s=="function"?0:s)+a2(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function vL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Cy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Cy(t,e,n);else{const a=typeof e=="function"?el(t,e,n.custom):e;s=Promise.all(r2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function o2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const xL=sv.length;function l2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?l2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xL;n++){const s=sv[n],a=t.props[s];(lu(a)||a===!1)&&(e[s]=a)}return e}const bL=[...iv].reverse(),_L=iv.length;function wL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>vL(t,n,s)))}function TL(t){let e=wL(t),n=rE(),s=!0;const a=m=>(y,v)=>{const b=el(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:T,transitionEnd:R,...k}=b;y={...y,...k,...R}}return y};function l(m){e=m(t)}function u(m){const{props:y}=t,v=l2(t.parent)||{},b=[],T=new Set;let R={},k=1/0;for(let V=0;V<_L;V++){const U=bL[V],B=n[U],H=y[U]!==void 0?y[U]:v[U],X=lu(H),te=U===m?B.isActive:null;te===!1&&(k=V);let ae=H===v[U]&&H!==y[U]&&X;if(ae&&s&&t.manuallyAnimateOnMount&&(ae=!1),B.protectedKeys={...R},!B.isActive&&te===null||!H&&!B.prevProp||zd(H)||typeof H=="boolean")continue;const A=EL(B.prevProp,H);let E=A||U===m&&B.isActive&&!ae&&X||V>k&&X,N=!1;const P=Array.isArray(H)?H:[H];let M=P.reduce(a(U),{});te===!1&&(M={});const{prevResolvedValues:D={}}=B,I={...D,...M},he=ie=>{E=!0,T.has(ie)&&(N=!0,T.delete(ie)),B.needsAnimating[ie]=!0;const fe=t.getValue(ie);fe&&(fe.liveStyle=!1)};for(const ie in I){const fe=M[ie],Re=D[ie];if(R.hasOwnProperty(ie))continue;let ke=!1;Sy(fe)&&Sy(Re)?ke=!o2(fe,Re):ke=fe!==Re,ke?fe!=null?he(ie):T.add(ie):fe!==void 0&&T.has(ie)?he(ie):B.protectedKeys[ie]=!0}B.prevProp=H,B.prevResolvedValues=M,B.isActive&&(R={...R,...M}),s&&t.blockInitialAnimation&&(E=!1);const we=ae&&A;E&&(!we||N)&&b.push(...P.map(ie=>{const fe={type:U};if(typeof ie=="string"&&s&&!we&&t.manuallyAnimateOnMount&&t.parent){const{parent:Re}=t,ke=el(Re,ie);if(Re.enteringChildren&&ke){const{delayChildren:z}=ke.transition||{};fe.delay=a2(Re.enteringChildren,t,z)}}return{animation:ie,options:fe}}))}if(T.size){const V={};if(typeof y.initial!="boolean"){const U=el(t,Array.isArray(y.initial)?y.initial[0]:y.initial);U&&U.transition&&(V.transition=U.transition)}T.forEach(U=>{const B=t.getBaseTarget(U),H=t.getValue(U);H&&(H.liveStyle=!0),V[U]=B??null}),b.push({animation:V})}let O=!!b.length;return s&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(b):Promise.resolve()}function d(m,y){if(n[m].isActive===y)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,y)),n[m].isActive=y;const v=u(m);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=rE()}}}function EL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!o2(e,t):!1}function ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rE(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}class na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SL extends na{constructor(e){super(e),e.animationState||(e.animationState=TL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let AL=0;class CL extends na{constructor(){super(...arguments),this.id=AL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RL={animation:{Feature:SL},exit:{Feature:CL}};function cu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Du(t){return{point:{x:t.pageX,y:t.pageY}}}const NL=t=>e=>tv(e)&&t(e,Du(e));function Yc(t,e,n,s){return cu(t,e,NL(n),s)}const c2=1e-4,IL=1-c2,DL=1+c2,u2=.01,kL=0-u2,jL=0+u2;function bn(t){return t.max-t.min}function ML(t,e,n){return Math.abs(t-e)<=n}function aE(t,e,n,s=.5){t.origin=s,t.originPoint=yt(e.min,e.max,t.origin),t.scale=bn(n)/bn(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=IL&&t.scale<=DL||isNaN(t.scale))&&(t.scale=1),(t.translate>=kL&&t.translate<=jL||isNaN(t.translate))&&(t.translate=0)}function Qc(t,e,n,s){aE(t.x,e.x,n.x,s?s.originX:void 0),aE(t.y,e.y,n.y,s?s.originY:void 0)}function oE(t,e,n){t.min=n.min+e.min,t.max=t.min+bn(e)}function VL(t,e,n){oE(t.x,e.x,n.x),oE(t.y,e.y,n.y)}function lE(t,e,n){t.min=e.min-n.min,t.max=t.min+bn(e)}function md(t,e,n){lE(t.x,e.x,n.x),lE(t.y,e.y,n.y)}function li(t){return[t("x"),t("y")]}const h2=({current:t})=>t?t.ownerDocument.defaultView:null,cE=(t,e)=>Math.abs(t-e);function PL(t,e){const n=cE(t.x,e.x),s=cE(t.y,e.y);return Math.sqrt(n**2+s**2)}class f2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Tg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,k=PL(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!k)return;const{point:O}=T,{timestamp:V}=an;this.history.push({...O,timestamp:V});const{onStart:U,onMove:B}=this.handlers;R||(U&&U(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,R)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=wg(R,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(T,R)=>{this.end();const{onEnd:k,onSessionEnd:O,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Tg(T.type==="pointercancel"?this.lastMoveEventInfo:wg(R,this.transformPagePoint),this.history);this.startEvent&&k&&k(T,U),O&&O(T,U)},!tv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const d=Du(e),m=wg(d,this.transformPagePoint),{point:y}=m,{timestamp:v}=an;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Tg(m,this.history)),this.removeListeners=Ru(Yc(this.contextWindow,"pointermove",this.handlePointerMove),Yc(this.contextWindow,"pointerup",this.handlePointerUp),Yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xr(this.updatePoint)}}function wg(t,e){return e?{point:e(t.point)}:t}function uE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tg({point:t},e){return{point:t,delta:uE(t,d2(e)),offset:uE(t,OL(e)),velocity:LL(e,.1)}}function OL(t){return t[0]}function d2(t){return t[t.length-1]}function LL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=d2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>fs(e)));)n--;if(!s)return{x:0,y:0};const l=ui(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function UL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?yt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?yt(n,t,s.max):Math.min(t,n)),t}function hE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BL(t,{top:e,left:n,bottom:s,right:a}){return{x:hE(t.x,n,a),y:hE(t.y,e,s)}}function fE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function zL(t,e){return{x:fE(t.x,e.x),y:fE(t.y,e.y)}}function FL(t,e){let n=.5;const s=bn(t),a=bn(e);return a>s?n=ru(e.min,e.max-s,t.min):s>a&&(n=ru(t.min,t.max-a,e.min)),Ys(0,1,n)}function HL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ry=.35;function qL(t=Ry){return t===!1?t=0:t===!0&&(t=Ry),{x:dE(t,"left","right"),y:dE(t,"top","bottom")}}function dE(t,e,n){return{min:mE(t,e),max:mE(t,n)}}function mE(t,e){return typeof t=="number"?t:t[e]||0}const GL=new WeakMap;class KL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Du(b).point)},u=(b,T)=>{const{drag:R,dragPropagation:k,onDragStart:O}=this.getProps();if(R&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J6(R),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(U=>{let B=this.getAxisMotionValue(U).get()||0;if(ds.test(B)){const{projection:H}=this.visualElement;if(H&&H.layout){const X=H.layout.layoutBox[U];X&&(B=bn(X)*(parseFloat(B)/100))}}this.originPoint[U]=B}),O&&pt.postRender(()=>O(b,T)),Ay(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},d=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T;const{dragPropagation:R,dragDirectionLock:k,onDirectionLock:O,onDrag:V}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:U}=T;if(k&&this.currentDirection===null){this.currentDirection=$L(U),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,U),this.updateAxis("y",T.point,U),this.visualElement.render(),V&&V(b,T)},m=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T,this.stop(b,T),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>li(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new f2(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:h2(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&pt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!_f(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=UL(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=BL(s.layoutBox,e):this.constraints=!1,this.elastic=qL(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&li(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Y5(s,a.root,this.visualElement.getTransformPagePoint());let u=zL(a.layout.layoutBox,l);if(n){const d=n(G5(u));this.hasMutatedConstraints=!!d,d&&(u=XC(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},y=li(v=>{if(!_f(v,n,this.currentDirection))return;let b=m&&m[v]||{};u&&(b={min:0,max:0});const T=a?200:1e6,R=a?40:1e7,k={type:"inertia",velocity:s?e[v]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,k)});return Promise.all(y).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ay(this.visualElement,e),s.start(hv(e,s,0,n,this.visualElement,!1))}stopAnimation(){li(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){li(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){li(n=>{const{drag:s}=this.getProps();if(!_f(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-yt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};li(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=FL({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),li(u=>{if(!_f(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:y}=this.constraints[u];d.set(yt(m,y,a[u]))})}addListeners(){if(!this.visualElement.current)return;GL.set(this.visualElement,this);const e=this.visualElement.current,n=Yc(e,"pointerdown",m=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),pt.read(s);const u=cu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(li(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Ry,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function _f(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $L(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YL extends na{constructor(e){super(e),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new KL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const pE=t=>(e,n)=>{t&&pt.postRender(()=>t(e,n))};class QL extends na{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(e){this.session=new f2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:pE(e),onStart:pE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&pt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Eg=!1;class XL extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Eg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Eg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||pt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Eg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function m2(t){const[e,n]=VC(),s=j.useContext(j0);return p.jsx(XL,{...t,layoutGroup:s,switchLayoutGroup:j.useContext(YC),isPresent:e,safeToRemove:n})}function WL(t,e,n){const s=pn(t)?t:ul(t);return s.start(hv("",s,e,n)),s.animation}const JL=(t,e)=>t.depth-e.depth;class ZL{constructor(){this.children=[],this.isDirty=!1}add(e){P0(this.children,e),this.isDirty=!0}remove(e){O0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JL),this.isDirty=!1,this.children.forEach(e)}}function e9(t,e){const n=Dn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Xr(s),t(l-e))};return pt.setup(s,!0),()=>Xr(s)}const p2=["TopLeft","TopRight","BottomLeft","BottomRight"],t9=p2.length,gE=t=>typeof t=="string"?parseFloat(t):t,yE=t=>typeof t=="number"||Ae.test(t);function n9(t,e,n,s,a,l){a?(t.opacity=yt(0,n.opacity??1,i9(s)),t.opacityExit=yt(e.opacity??1,0,s9(s))):l&&(t.opacity=yt(e.opacity??1,n.opacity??1,s));for(let u=0;u<t9;u++){const d=`border${p2[u]}Radius`;let m=vE(e,d),y=vE(n,d);if(m===void 0&&y===void 0)continue;m||(m=0),y||(y=0),m===0||y===0||yE(m)===yE(y)?(t[d]=Math.max(yt(gE(m),gE(y),s),0),(ds.test(y)||ds.test(m))&&(t[d]+="%")):t[d]=y}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,s))}function vE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const i9=g2(0,.5,eC),s9=g2(.5,.95,hi);function g2(t,e,n){return s=>s<t?0:s>e?1:n(ru(t,e,s))}function xE(t,e){t.min=e.min,t.max=e.max}function Ci(t,e){xE(t.x,e.x),xE(t.y,e.y)}function bE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _E(t,e,n,s,a){return t-=e,t=dd(t,1/n,s),a!==void 0&&(t=dd(t,1/a,s)),t}function r9(t,e=0,n=1,s=.5,a,l=t,u=t){if(ds.test(e)&&(e=parseFloat(e),e=yt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=yt(l.min,l.max,s);t===l&&(d-=e),t.min=_E(t.min,e,n,d,a),t.max=_E(t.max,e,n,d,a)}function wE(t,e,[n,s,a],l,u){r9(t,e[n],e[s],e[a],e.scale,l,u)}const a9=["x","scaleX","originX"],o9=["y","scaleY","originY"];function TE(t,e,n,s){wE(t.x,e,a9,n?n.x:void 0,s?s.x:void 0),wE(t.y,e,o9,n?n.y:void 0,s?s.y:void 0)}function EE(t){return t.translate===0&&t.scale===1}function y2(t){return EE(t.x)&&EE(t.y)}function SE(t,e){return t.min===e.min&&t.max===e.max}function l9(t,e){return SE(t.x,e.x)&&SE(t.y,e.y)}function AE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function v2(t,e){return AE(t.x,e.x)&&AE(t.y,e.y)}function CE(t){return bn(t.x)/bn(t.y)}function RE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class c9{constructor(){this.members=[]}add(e){P0(this.members,e),e.scheduleRender()}remove(e){if(O0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:y,rotate:v,rotateX:b,rotateY:T,skewX:R,skewY:k}=n;y&&(s=`perspective(${y}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),T&&(s+=`rotateY(${T}deg) `),R&&(s+=`skewX(${R}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Sg=["","X","Y","Z"],h9=1e3;let f9=0;function Ag(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function x2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=s2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&x2(s)}function b2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=f9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(p9),this.nodes.forEach(x9),this.nodes.forEach(b9),this.nodes.forEach(g9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZL)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new B0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=MC(u)&&!s5(u),this.instance=u;const{layoutId:d,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const T=()=>this.root.updateBlockedByResize=!1;pt.read(()=>{b=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==b&&(b=R,this.root.updateBlockedByResize=!0,v&&v(),v=e9(T,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(DE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:T,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||S9,{onLayoutAnimationStart:O,onLayoutAnimationComplete:V}=y.getProps(),U=!this.targetLayout||!v2(this.targetLayout,R),B=!b&&T;if(this.options.layoutRoot||this.resumeFrom||B||b&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...J0(k,"layout"),onPlay:O,onComplete:V};(y.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(v,B)}else b||DE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&x2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(IE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(v9),this.nodes.forEach(d9),this.nodes.forEach(m9)):this.nodes.forEach(IE),this.clearAllSnapshots();const d=Dn.now();an.delta=Ys(0,1e3/60,d-an.timestamp),an.timestamp=d,an.isProcessing=!0,mg.update.process(an),mg.preRender.process(an),mg.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y9),this.sharedNodes.forEach(w9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bn(this.snapshot.measuredBox.x)&&!bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!y2(this.projectionDelta),m=this.getTransformTemplate(),y=m?m(this.latestValues,""):void 0,v=y!==this.prevTransformTemplateValue;u&&this.instance&&(d||Ma(this.latestValues)||v)&&(a(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),A9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(C9))){const{scroll:y}=this.root;y&&(Go(d.x,y.offset.x),Go(d.y,y.offset.y))}return d}removeElementScroll(u){const d=Gt();if(Ci(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Ci(d,u),Go(d.x,v.offset.x),Go(d.y,v.offset.y))}return d}applyTransform(u,d=!1){const m=Gt();Ci(m,u);for(let y=0;y<this.path.length;y++){const v=this.path[y];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ko(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ma(v.latestValues)&&Ko(m,v.latestValues)}return Ma(this.latestValues)&&Ko(m,this.latestValues),m}removeTransform(u){const d=Gt();Ci(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];if(!y.instance||!Ma(y.latestValues))continue;wy(y.latestValues)&&y.updateSnapshot();const v=Gt(),b=y.measurePageBox();Ci(v,b),TE(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,v)}return Ma(this.latestValues)&&TE(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=an.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ci(this.target,this.layout.layoutBox),JC(this.target,this.targetDelta)):Ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||WC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),md(this.relativeTargetOrigin,d,m),Ci(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===an.timestamp&&(m=!1),m)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;Ci(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,T=this.treeScale.y;$5(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bE(this.prevProjectionDelta.x,this.projectionDelta.x),bE(this.prevProjectionDelta.y,this.projectionDelta.y)),Qc(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==T||!RE(this.projectionDelta.x,this.prevProjectionDelta.x)||!RE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$o(),this.projectionDelta=$o(),this.projectionDeltaWithTransform=$o()}setAnimationOrigin(u,d=!1){const m=this.snapshot,y=m?m.latestValues:{},v={...this.latestValues},b=$o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Gt(),R=m?m.source:void 0,k=this.layout?this.layout.source:void 0,O=R!==k,V=this.getStack(),U=!V||V.members.length<=1,B=!!(O&&!U&&this.options.crossfade===!0&&!this.path.some(E9));this.animationProgress=0;let H;this.mixTargetDelta=X=>{const te=X/1e3;kE(b.x,u.x,te),kE(b.y,u.y,te),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(md(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T9(this.relativeTarget,this.relativeTargetOrigin,T,te),H&&l9(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Gt()),Ci(H,this.relativeTarget)),O&&(this.animationValues=v,n9(v,y,this.latestValues,te,B,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ul(0)),this.currentAnimation=WL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:y,latestValues:v}=u;if(!(!d||!m||!y)){if(this!==u&&this.layout&&y&&_2(this.options.animationType,this.layout.layoutBox,y.layoutBox)){m=this.target||Gt();const b=bn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const T=bn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}Ci(d,m),Ko(d,v),Qc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new c9),this.sharedNodes.get(u).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const y=this.getStack();y&&y.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const y={};m.z&&Ag("z",u,y,this.animationValues);for(let v=0;v<Sg.length;v++)Ag(`rotate${Sg[v]}`,u,y,this.animationValues),Ag(`skew${Sg[v]}`,u,y,this.animationValues);u.render();for(const v in y)u.setStaticValue(v,y[v]),this.animationValues&&(this.animationValues[v]=y[v]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Of(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Of(d?.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=y.animationValues||y.latestValues;this.applyTransformsToTarget();let b=u9(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),u.transform=b;const{x:T,y:R}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,y.animationValues?u.opacity=y===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in _y){if(v[k]===void 0)continue;const{correct:O,applyTo:V,isCSSVariable:U}=_y[k],B=b==="none"?v[k]:O(v[k],y);if(V){const H=V.length;for(let X=0;X<H;X++)u[V[X]]=B}else U?this.options.visualElement.renderState.vars[k]=B:u[k]=B}this.options.layoutId&&(u.pointerEvents=y===this?Of(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(NE),this.root.sharedNodes.clear()}}}function d9(t){t.updateLayout()}function m9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?li(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],T=bn(b);b.min=n[v].min,b.max=b.min+T}):_2(a,e.layoutBox,n)&&li(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],T=bn(n[v]);b.max=b.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=$o();Qc(u,n,e.layoutBox);const d=$o();l?Qc(d,t.applyTransform(s,!0),e.measuredBox):Qc(d,n,e.layoutBox);const m=!y2(u);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:T}=v;if(b&&T){const R=Gt();md(R,e.layoutBox,b.layoutBox);const k=Gt();md(k,n,T.layoutBox),v2(R,k)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=R,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function p9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function g9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function y9(t){t.clearSnapshot()}function NE(t){t.clearMeasurements()}function IE(t){t.isLayoutDirty=!1}function v9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function x9(t){t.resolveTargetDelta()}function b9(t){t.calcProjection()}function _9(t){t.resetSkewAndRotation()}function w9(t){t.removeLeadSnapshot()}function kE(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jE(t,e,n,s){t.min=yt(e.min,n.min,s),t.max=yt(e.max,n.max,s)}function T9(t,e,n,s){jE(t.x,e.x,n.x,s),jE(t.y,e.y,n.y,s)}function E9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const S9={duration:.45,ease:[.4,0,.1,1]},ME=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VE=ME("applewebkit/")&&!ME("chrome/")?Math.round:hi;function PE(t){t.min=VE(t.min),t.max=VE(t.max)}function A9(t){PE(t.x),PE(t.y)}function _2(t,e,n){return t==="position"||t==="preserve-aspect"&&!ML(CE(e),CE(n),.2)}function C9(t){return t!==t.root&&t.scroll?.wasRoot}const R9=b2({attachResizeListener:(t,e)=>cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},w2=b2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cg.current){const t=new R9({});t.mount(window),t.setOptions({layoutScroll:!0}),Cg.current=t}return Cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),N9={pan:{Feature:QL},drag:{Feature:YL,ProjectionNode:w2,MeasureLayout:m2}};function OE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&pt.postRender(()=>l(e,Du(e)))}class I9 extends na{mount(){const{current:e}=this.node;e&&(this.unmount=Z6(e,(n,s)=>(OE(this.node,s,"Start"),a=>OE(this.node,a,"End"))))}unmount(){}}class D9 extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&pt.postRender(()=>l(e,Du(e)))}class k9 extends na{mount(){const{current:e}=this.node;e&&(this.unmount=i5(e,(n,s)=>(LE(this.node,s,"Start"),(a,{success:l})=>LE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ny=new WeakMap,Rg=new WeakMap,j9=t=>{const e=Ny.get(t.target);e&&e(t)},M9=t=>{t.forEach(j9)};function V9({root:t,...e}){const n=t||document;Rg.has(n)||Rg.set(n,{});const s=Rg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(M9,{root:t,...e})),s[a]}function P9(t,e,n){const s=V9(e);return Ny.set(t,n),s.observe(t),()=>{Ny.delete(t),s.unobserve(t)}}const O9={some:0,all:1};class L9 extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:O9[a]},d=m=>{const{isIntersecting:y}=m;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),T=y?v:b;T&&T(m)};return P9(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(U9(e,n))&&this.startObserver()}unmount(){}}function U9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const B9={inView:{Feature:L9},tap:{Feature:k9},focus:{Feature:D9},hover:{Feature:I9}},z9={layout:{ProjectionNode:w2,MeasureLayout:m2}},F9={...RL,...B9,...N9,...z9},Fn=q5(F9,iL);function Ct({matchup:t,onPickWinner:e,isLocked:n=!1}){if(!t)return p.jsxs("div",{className:"w-40 lg:w-48 flex-shrink-0 opacity-50",children:[p.jsx("div",{className:"text-center mb-1",children:p.jsx("span",{className:"text-[8px] lg:text-[9px] font-bold uppercase tracking-wider text-slate-500",children:"Game Not Started"})}),p.jsxs("div",{className:"shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm",children:[p.jsx("div",{className:"h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-t-xl border-x border-t border-slate-800/40",children:p.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})}),p.jsx("div",{className:"h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-b-xl border-x border-b border-slate-800/40",children:p.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})})]})]});const{team1:s,team2:a,winner:l,espnWinner:u,statusDetail:d,homeScore:m,awayScore:y,isInProgress:v,isCompleted:b,conference:T,actualTeam1:R,actualTeam2:k}=t,O=R&&k,V=O&&s&&(s.id===R.id||s.abbreviation===R.abbreviation),U=O&&a&&(a.id===k.id||a.abbreviation===k.abbreviation),B=V&&U,H=V&&!U||!V&&U,X=O&&!V&&!U;b&&u&&l&&B&&l.id,b&&u&&l&&B&&l.id;const te=()=>!s||!a?"Game Not Started":O&&(H||X)?b||v?`${R.abbreviation} ${R.score||0} - ${k.score||0} ${k.abbreviation}`:`Actual: ${R.abbreviation} vs ${k.abbreviation}`:b&&m!==null&&y!==null?`Final: ${s.isHome?m:y} - ${s.isHome?y:m}`:v&&m!==null&&y!==null?`Live: ${s.isHome?m:y} - ${s.isHome?y:m}`:d||"Game Not Started",ae=()=>O?X?"text-red-400":H?"text-yellow-400":b?"text-green-400":v?"text-yellow-400":"text-slate-500":"text-slate-500",A=()=>v?T==="AFC"?"ring-2 ring-red-500 shadow-lg shadow-red-500/50":T==="NFC"?"ring-2 ring-blue-500 shadow-lg shadow-blue-500/50":T==="SB"?"ring-2 ring-yellow-500 shadow-lg shadow-yellow-500/50":"":"",E=(N,P)=>{if(!N)return p.jsx("div",{className:`h-9 lg:h-11 flex items-center px-3 lg:px-4 bg-slate-900/30 italic text-slate-600 rounded-${P?"b":"t"}-xl border-x border-slate-800/40 ${P?"border-b":"border-t"}`,children:p.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold uppercase tracking-[0.2em] opacity-30",children:"TBD"})});const M=l?.id===N.id,D=l&&l.id!==N.id,I=!n&&N,he=R?.id===N.id||k?.id===N.id,we=b&&u&&he&&N.id===u;b&&u&&he&&N.id;const G=b&&M&&we&&B,ie=b&&M&&we===!1&&B&&he;return p.jsxs(Fn.button,{whileHover:I?{backgroundColor:"rgba(30, 41, 59, 0.9)",x:2}:{},whileTap:I?{scale:.98}:{},onClick:()=>I&&e(t.id,N),disabled:!I,className:`w-full h-9 lg:h-11 px-3 lg:px-4 flex items-center justify-between transition-all relative overflow-hidden
          ${P?"rounded-b-xl":"rounded-t-xl"} 
          ${G?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":ie?"bg-red-900/40 ring-1 ring-inset ring-red-400/50":M?"bg-slate-800/80 ring-1 ring-inset ring-blue-400/30":we?"bg-green-900/40 ring-1 ring-inset ring-green-400/50":"bg-slate-900/60"} 
          ${D&&!we?"opacity-20 grayscale":"opacity-100"}
          ${I?"cursor-pointer":"cursor-not-allowed"}
          border-x border-slate-800/50 ${P?"border-b":"border-t"}`,children:[(M||we)&&p.jsx(Fn.div,{layoutId:`winner-glow-${t.id}-${N.id}`,className:`absolute inset-0 pointer-events-none ${G?"bg-gradient-to-r from-green-500/20 to-transparent":ie?"bg-gradient-to-r from-red-500/20 to-transparent":we?"bg-gradient-to-r from-green-500/20 to-transparent":"bg-gradient-to-r from-blue-500/10 to-transparent"}`}),p.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 z-10",children:[p.jsx("div",{className:"w-5 h-5 lg:w-6 lg:h-6 rounded flex items-center justify-center font-bold text-[9px] lg:text-[10px] text-white shadow-lg border border-white/10",style:{backgroundColor:N.color},children:N.seed}),p.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[p.jsx("span",{className:"text-[7px] lg:text-[8px] text-slate-500 font-bold uppercase tracking-wider",children:N.city}),p.jsx("span",{className:"font-bold text-[11px] lg:text-[13px] text-slate-100 uppercase tracking-tight",children:N.name})]})]}),p.jsx(PC,{children:(M||we)&&p.jsx(Fn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:G?"text-green-400":ie?"text-red-400":we?"text-green-400":"text-blue-400",children:p.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 lg:w-4 lg:h-4",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})};return p.jsxs("div",{className:`w-40 lg:w-48 flex-shrink-0 relative group transition-all duration-500 ${!s||!a?"opacity-50":"opacity-100"}`,children:[p.jsxs("div",{className:"text-center mb-1",children:[p.jsx("span",{className:`text-[8px] lg:text-[9px] font-bold uppercase tracking-wider ${ae()}`,children:te()}),X&&p.jsx("div",{className:"text-[7px] text-red-400 mt-0.5",children:" Wrong matchup"}),H&&p.jsx("div",{className:"text-[7px] text-yellow-400 mt-0.5",children:" 1 team correct"})]}),p.jsxs("div",{className:`shadow-2xl rounded-xl overflow-hidden flex flex-col border border-white/5 bg-slate-900/20 backdrop-blur-sm ${A()}`,children:[E(s,!1),E(a,!0)]})]})}const Iy="/assets/super_bowl_lx-logo_brandlogos.net_3b9vb-STySwuiF.png";function H9(){const{roomId:t}=gd(),{user:e,isAdmin:n}=gs(),s=Pi(),[a,l]=j.useState(null),[u,d]=j.useState(null),[m,y]=j.useState(!0),[v,b]=j.useState(null),[T,R]=j.useState({});j.useEffect(()=>{O();const le=setInterval(()=>{k()},3e4);return()=>clearInterval(le)},[t,e]);const k=async()=>{const le=await ld();le&&l(le),await V()},O=async()=>{const le=await ld();le&&l(le),await B(),await U(),await V(),y(!1)},V=async()=>{const le=await cn(lt(Le,"gameResults",t));le.exists()&&R(le.data().results||{})},U=async()=>{const le=await cn(lt(Le,"rooms",t));le.exists()&&b(le.data().createdBy)},B=async()=>{const le=lt(Le,"brackets",`${t}_${e.uid}`),ve=await cn(le);ve.exists()&&d(ve.data())},H=async(le,ve=!1,Me=null)=>{const Jt=lt(Le,"brackets",`${t}_${e.uid}`),kn={userId:e.uid,roomId:t,picks:le,submitted:ve,submittedAt:ve?new Date:null,tiebreakerPoints:Me!==null?Me:u?.tiebreakerPoints||null};await Zo(Jt,kn),d(kn)},X=(le,ve)=>{if(u?.submitted||!ve||!ve.id)return;const Me={...u?.picks||{},[le]:ve.id};H(Me,!1,null)},te=le=>{u?.submitted||H(u?.picks||{},!1,le)},ae=async()=>{if(!u?.picks||Object.keys(u.picks).length===0){alert("Please make at least one pick before submitting");return}const ve=[...D.map(Me=>Me.id),...I.map(Me=>Me.id),...we.map(Me=>Me.id),...G.map(Me=>Me.id),ke.id,z.id,je.id].filter(Me=>!u.picks[Me]);if(ve.length>0){alert(`Please complete your bracket! You're missing ${ve.length} pick(s).

You must pick a winner for every game in all rounds including the Super Bowl.`);return}if(!u.tiebreakerPoints||u.tiebreakerPoints<0){alert("Please enter your tiebreaker prediction for total points in the Super Bowl!");return}await H(u.picks,!0,u.tiebreakerPoints)},A=async()=>{if(window.confirm("Are you sure you want to reset ALL brackets in this room? This cannot be undone."))try{const le=Vr(Ni(Le,"brackets"),Ii("roomId","==",t)),ve=await Pr(le);if(ve.empty){alert("No brackets to reset.");return}const Me=VA(Le);ve.docs.forEach(Jt=>{Me.delete(Jt.ref)}),await Me.commit(),d(null),alert(`Successfully reset ${ve.docs.length} bracket(s)!`),window.location.reload()}catch(le){console.error("Error resetting brackets:",le),alert(`Error resetting brackets: ${le.message}`)}};if(m||!a)return p.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:p.jsx("div",{className:"text-white text-xl",children:"Loading bracket..."})});const E=u?.submitted===!0,N=v===e.uid,P=(le,ve)=>{const Me=u?.picks?.[le];return Me?ve?.team1?.id===Me?ve.team1:ve?.team2?.id===Me?ve.team2:null:null},M=le=>{if(!le||!le.id)return le;const ve=P(le.id,le);let Me=null;return le.isCompleted&&le.winner&&(Me=le.winner),{...le,actualTeam1:le.team1,actualTeam2:le.team2,espnWinner:Me,winner:ve}},D=(a?.wildCard?.filter(le=>le?.conference==="AFC")||[]).map(M),I=(a?.wildCard?.filter(le=>le?.conference==="NFC")||[]).map(M),he=(le,ve)=>{const Me=a?.divisional?.filter(mi=>mi?.conference===ve)||[];if(Me.length>0&&Me[0].team1&&Me[0].team2)return Me.map(M);const Jt=le.map(mi=>mi.winner).filter(Boolean).sort((mi,ys)=>(mi.seed||99)-(ys.seed||99)),kn=ve==="AFC"?{id:"7",name:"Broncos",city:"Denver",abbreviation:"DEN",seed:1,conference:"AFC",color:"#FB4F14"}:{id:"26",name:"Seahawks",city:"Seattle",abbreviation:"SEA",seed:1,conference:"NFC",color:"#002244"},$n={id:`${ve.toLowerCase()}-div-0`,team1:kn,team2:Jt[2]||null,conference:ve,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"},Yn={id:`${ve.toLowerCase()}-div-1`,team1:Jt[0]||null,team2:Jt[1]||null,conference:ve,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"};return[M($n),M(Yn)]},we=he(D,"AFC"),G=he(I,"NFC"),ie=we[0]?.team1||null,fe=G[0]?.team1||null,Re=(le,ve)=>{const Me=a?.conference?.find($n=>$n?.conference===ve);if(Me&&Me.team1&&Me.team2)return M(Me);const Jt=le.map($n=>$n.winner).filter(Boolean),kn={id:`${ve.toLowerCase()}-conf`,team1:Jt[0]||null,team2:Jt[1]||null,conference:ve,isInProgress:!1,isCompleted:!1,statusDetail:"Game Not Started"};return M(kn)},ke=Re(we,"AFC"),z=Re(G,"NFC"),Z=a?.superBowl?.[0],ce=Z&&Z.team1&&Z.team2&&Z.team1.id!=="31"&&Z.team1.id!=="32"&&Z.team2.id!=="31"&&Z.team2.id!=="32",me=ke?.winner,Te=z?.winner;console.log("AFC Championship winner:",me),console.log("NFC Championship winner:",Te),console.log("Has ESPN Super Bowl:",ce);const Ne={id:"super-bowl",team1:ce?Z.team1:me,team2:ce?Z.team2:Te,conference:"SB",isInProgress:ce?Z.isInProgress:!1,isCompleted:ce?Z.isCompleted:!1,statusDetail:ce?Z.statusDetail:"Game Not Started",homeScore:ce?Z.homeScore:null,awayScore:ce?Z.awayScore:null,winner:null};console.log("Super Bowl base:",Ne);const je=M(Ne);return console.log("Super Bowl after addPickToGame:",je),p.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100 relative selection:bg-blue-500/30",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"}),p.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between px-3 lg:px-10 py-3 lg:h-[70px] bg-slate-950/60 backdrop-blur-xl border-b border-white/5 z-50",children:[p.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-5",children:[p.jsx("button",{onClick:()=>s("/rooms"),className:"text-slate-400 hover:text-white transition p-2 lg:p-0",children:p.jsx(Hr,{className:"w-7 h-7 lg:w-6 lg:h-6"})}),p.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-gradient-to-tr from-red-600 via-slate-100 to-blue-600 p-[2px]",children:p.jsx("div",{className:"bg-slate-950 w-full h-full rounded-[10px] flex items-center justify-center text-white text-[12px] lg:text-[14px] font-black italic",children:"NFL"})}),p.jsxs("div",{className:"hidden sm:block",children:[p.jsx("h1",{className:"text-lg lg:text-2xl font-black uppercase tracking-tighter text-white leading-none",children:"Mixin it up Family Bracket"}),p.jsx("p",{className:"text-[8px] lg:text-[10px] text-slate-500 font-bold uppercase tracking-[0.4em] mt-1 opacity-60",children:"Professional Playoff Simulator"})]})]}),p.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-6",children:[p.jsxs("button",{onClick:()=>s(`/leaderboard/${t}`),className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-yellow-600/20 border border-yellow-600/30 text-yellow-400 rounded-lg hover:bg-yellow-600/30 transition",children:[p.jsx(LA,{className:"w-6 h-6 lg:w-4 lg:h-4"}),p.jsx("span",{className:"text-[9px] lg:text-xs font-bold uppercase tracking-wider",children:"Board"})]}),n&&p.jsxs("button",{onClick:()=>s(`/game-results/${t}`),className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg hover:bg-blue-500/30 transition text-xs font-bold uppercase tracking-wider",children:[p.jsx(Q3,{className:"w-4 h-4"})," Game Results"]}),p.jsxs("div",{className:"hidden lg:flex items-center space-x-8 text-[11px] font-bold uppercase tracking-[0.2em] text-slate-500",children:[p.jsxs("div",{className:"flex items-center space-x-2.5",children:[p.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-600 shadow-lg shadow-red-600/30"}),p.jsx("span",{children:"AFC Bracket"})]}),p.jsxs("div",{className:"flex items-center space-x-2.5",children:[p.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-600 shadow-lg shadow-blue-600/30"}),p.jsx("span",{children:"NFC Bracket"})]})]}),n&&N&&p.jsxs(Fn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:"hidden lg:flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-500/30 text-red-400 rounded-lg hover:bg-red-500/30 transition text-xs font-bold uppercase tracking-wider",children:[p.jsx(V3,{className:"w-4 h-4"})," Reset All Brackets"]}),!E&&u?.picks&&Object.keys(u.picks).length>0&&p.jsxs(Fn.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ae,className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-6 py-2 lg:py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-xl",children:[p.jsx(dg,{className:"w-6 h-6 lg:w-4 lg:h-4"}),p.jsx("span",{className:"text-[9px] lg:text-sm",children:"Submit"})]}),E&&p.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-0.5 lg:gap-2 px-2 lg:px-4 py-2 lg:py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400 font-bold",children:[p.jsx(dg,{className:"w-6 h-6 lg:w-4 lg:h-4"}),p.jsx("span",{className:"text-[9px] lg:text-xs uppercase",children:"Done"})]})]})]}),p.jsxs("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 relative overflow-x-auto",children:[p.jsxs("div",{className:"hidden lg:flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-90 lg:scale-95 xl:scale-100",children:[p.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[p.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),D.map(le=>p.jsx(Ct,{matchup:le,onPickWinner:X,isLocked:E},le.id)),p.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[p.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),p.jsxs("div",{className:"text-left overflow-hidden",children:[p.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),p.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:ie?`${ie.city} ${ie.name}`:"TBD"})]})]})]}),p.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),we.map(le=>p.jsx(Ct,{matchup:le,onPickWinner:X,isLocked:E},le.id))]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),p.jsx(Ct,{matchup:ke,onPickWinner:X,isLocked:E})]})]}),p.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6 relative",children:[p.jsxs("div",{className:"relative w-28 h-28 lg:w-36 lg:h-36 flex items-center justify-center mb-2",children:[p.jsx(Fn.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),p.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80 drop-shadow-[0_0_15px_rgba(202,138,4,0.3)]"})]}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-600/20 via-blue-500/20 to-red-600/20 rounded-2xl blur opacity-30 group-hover:opacity-70 transition duration-1000"}),p.jsx(Ct,{matchup:je,onPickWinner:X,isLocked:E})]}),p.jsxs("div",{className:"mt-4 w-48",children:[p.jsx("label",{className:"block text-center text-[9px] font-bold uppercase tracking-wider text-yellow-500/80 mb-2",children:"Tiebreaker: Total Points"}),p.jsx("input",{type:"number",min:"0",max:"150",value:u?.tiebreakerPoints||"",onChange:le=>te(parseInt(le.target.value)||0),disabled:E,placeholder:"Enter total",className:"w-full px-3 py-2 bg-slate-800/50 border border-yellow-500/30 rounded-lg text-white text-center font-bold focus:ring-2 focus:ring-yellow-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"}),p.jsx("p",{className:"text-[8px] text-slate-500 text-center mt-1",children:"Combined score prediction"})]}),p.jsx("div",{className:"h-[80px] lg:h-[100px] mt-4 lg:mt-6 flex flex-col items-center justify-center",children:p.jsx(PC,{mode:"wait",children:je.winner?p.jsxs(Fn.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"text-center relative",children:[p.jsx(Fn.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1,repeat:1/0,repeatDelay:2},className:"text-amber-500 font-black text-[10px] lg:text-[12px] uppercase tracking-[0.8em] mb-2",children:"Super Bowl Winner"}),p.jsx("div",{className:"text-3xl lg:text-5xl xl:text-6xl font-black text-white italic tracking-tighter uppercase drop-shadow-[0_0_30px_rgba(255,255,255,0.4)] leading-none",children:je.winner.name}),p.jsx(Fn.div,{initial:{width:0},animate:{width:120},className:"h-[2px] lg:h-[3px] bg-gradient-to-r from-transparent via-amber-500 to-transparent mx-auto mt-4 lg:mt-6 rounded-full shadow-[0_0_20px_rgba(245,158,11,0.8)]"})]},"celebration"):p.jsxs(Fn.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center opacity-40",children:[p.jsx("div",{className:"text-[9px] lg:text-[10px] font-black text-slate-400 uppercase tracking-[0.8em] italic",children:"Pick Your Champion"}),p.jsx("div",{className:"w-24 lg:w-32 h-[1px] bg-slate-800 mt-3 lg:mt-4"})]},"placeholder")})})]}),p.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[p.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),I.map(le=>p.jsx(Ct,{matchup:le,onPickWinner:X,isLocked:E},le.id)),p.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[p.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),p.jsxs("div",{className:"text-left overflow-hidden",children:[p.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),p.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:fe?`${fe.city} ${fe.name}`:"TBD"})]})]})]}),p.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),G.map(le=>p.jsx(Ct,{matchup:le,onPickWinner:X,isLocked:E},le.id))]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),p.jsx(Ct,{matchup:z,onPickWinner:X,isLocked:E})]})]})]}),p.jsx("div",{className:"lg:hidden w-full",children:p.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-10 pb-20",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Wild Card Round"}),p.jsx("p",{className:"text-sm text-slate-400",children:"First Round of Playoffs"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:p.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),p.jsx("div",{className:"space-y-4 flex flex-col items-center",children:D.map(le=>p.jsx("div",{className:"w-[220px]",children:p.jsx(Ct,{matchup:le,onPickWinner:X,isLocked:E})},le.id))}),p.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg w-[220px] mx-auto",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-500/30 flex items-center justify-center",children:p.jsx("span",{className:"font-black text-sm text-red-500",children:"1"})}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-xs text-red-500/80 font-bold uppercase",children:"First Round Bye"}),p.jsx("div",{className:"text-base font-black text-white uppercase",children:ie?`${ie.city} ${ie.name}`:"TBD"})]})]})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:p.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),p.jsx("div",{className:"space-y-4 flex flex-col items-center",children:I.map(le=>p.jsx("div",{className:"w-[220px]",children:p.jsx(Ct,{matchup:le,onPickWinner:X,isLocked:E})},le.id))}),p.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg w-[220px] mx-auto",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/30 flex items-center justify-center",children:p.jsx("span",{className:"font-black text-sm text-blue-500",children:"1"})}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-xs text-blue-500/80 font-bold uppercase",children:"First Round Bye"}),p.jsx("div",{className:"text-base font-black text-white uppercase",children:fe?`${fe.city} ${fe.name}`:"TBD"})]})]})})]})]})]}),p.jsxs("div",{className:"flex items-center justify-center py-4",children:[p.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),p.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),p.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Divisional Round"}),p.jsx("p",{className:"text-sm text-slate-400",children:"Top seeds enter the bracket"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("div",{className:"inline-block px-8 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:p.jsx("span",{className:"text-base font-black text-red-500 uppercase tracking-wider",children:"AFC"})})}),p.jsx("div",{className:"space-y-4 flex flex-col items-center",children:we.map(le=>p.jsx("div",{className:"w-[220px]",children:p.jsx(Ct,{matchup:le,onPickWinner:X,isLocked:E})},le.id))})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("div",{className:"inline-block px-8 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:p.jsx("span",{className:"text-base font-black text-blue-500 uppercase tracking-wider",children:"NFC"})})}),p.jsx("div",{className:"space-y-4 flex flex-col items-center",children:G.map(le=>p.jsx("div",{className:"w-[220px]",children:p.jsx(Ct,{matchup:le,onPickWinner:X,isLocked:E})},le.id))})]})]})]}),p.jsxs("div",{className:"flex items-center justify-center py-4",children:[p.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),p.jsx("div",{className:"mx-6 text-slate-600 text-2xl",children:""}),p.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-black text-white uppercase mb-2",children:"Conference Championships"}),p.jsx("p",{className:"text-sm text-slate-400",children:"Battle for Super Bowl berth"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("div",{className:"inline-block px-6 py-2 bg-red-500/20 border-2 border-red-500/40 rounded-xl",children:p.jsx("span",{className:"text-sm font-black text-red-500 uppercase tracking-wider",children:"AFC Championship"})})}),p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"w-[220px]",children:p.jsx(Ct,{matchup:ke,onPickWinner:X,isLocked:E})})}),ke.winner&&p.jsxs("div",{className:"mt-4 text-center p-4 bg-red-500/10 rounded-lg border border-red-500/30 w-[220px] mx-auto",children:[p.jsx("div",{className:"text-xs text-red-500 font-bold uppercase mb-1",children:"AFC Champion"}),p.jsx("div",{className:"text-xl font-black text-white",children:ke.winner.name})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("div",{className:"inline-block px-6 py-2 bg-blue-500/20 border-2 border-blue-500/40 rounded-xl",children:p.jsx("span",{className:"text-sm font-black text-blue-500 uppercase tracking-wider",children:"NFC Championship"})})}),p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"w-[220px]",children:p.jsx(Ct,{matchup:z,onPickWinner:X,isLocked:E})})}),z.winner&&p.jsxs("div",{className:"mt-4 text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/30 w-[220px] mx-auto",children:[p.jsx("div",{className:"text-xs text-blue-500 font-bold uppercase mb-1",children:"NFC Champion"}),p.jsx("div",{className:"text-xl font-black text-white",children:z.winner.name})]})]})]})]}),p.jsxs("div",{className:"flex items-center justify-center py-4",children:[p.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"}),p.jsx("div",{className:"mx-6 text-yellow-600 text-2xl",children:""}),p.jsx("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-yellow-700 to-transparent"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-4",children:[p.jsx(Fn.div,{animate:{opacity:[.05,.15,.05]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-yellow-600/10 rounded-full blur-2xl"}),p.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})]}),p.jsx("h2",{className:"text-4xl font-black text-yellow-500 uppercase mb-2",children:"Super Bowl LX"}),p.jsx("p",{className:"text-sm text-slate-400",children:"Championship Game"})]}),p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"w-[220px]",children:p.jsx(Ct,{matchup:je,onPickWinner:X,isLocked:E})})}),p.jsxs("div",{className:"mt-6 max-w-xs mx-auto",children:[p.jsx("label",{className:"block text-center text-sm font-bold uppercase tracking-wider text-yellow-500 mb-3",children:"Tiebreaker: Total Points Scored"}),p.jsx("input",{type:"number",min:"0",max:"150",value:u?.tiebreakerPoints||"",onChange:le=>te(parseInt(le.target.value)||0),disabled:E,placeholder:"Enter total points",className:"w-full px-4 py-3 bg-slate-800/50 border-2 border-yellow-500/30 rounded-lg text-white text-center text-lg font-bold focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed"}),p.jsx("p",{className:"text-xs text-slate-400 text-center mt-2",children:"Predict the combined final score (used for tiebreaker)"})]}),je.winner&&p.jsxs(Fn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-8 text-center p-8 bg-gradient-to-b from-yellow-500/20 to-yellow-600/10 rounded-2xl border-2 border-yellow-500/40 max-w-md mx-auto",children:[p.jsx(cl,{className:"w-20 h-20 text-yellow-500 mx-auto mb-4"}),p.jsx("div",{className:"text-yellow-500 font-black text-sm uppercase tracking-widest mb-2",children:"Super Bowl Champion"}),p.jsx("div",{className:"text-4xl font-black text-white italic uppercase",children:je.winner.name})]})]}),!E&&u?.picks&&Object.keys(u.picks).length>0&&p.jsx("div",{className:"mt-8 pb-8",children:p.jsxs(Fn.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ae,className:"w-full max-w-md mx-auto flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition font-bold uppercase tracking-wider shadow-2xl text-lg",children:[p.jsx(dg,{className:"w-5 h-5"}),"Submit Bracket"]})})]})})]}),p.jsx("footer",{className:"h-[50px] flex items-center justify-center px-10 bg-slate-950/40 border-t border-white/5 text-[9px] font-bold text-slate-500 uppercase tracking-widest relative z-50",children:p.jsxs("div",{className:"flex items-center space-x-12 opacity-40",children:[p.jsx("span",{children:"NFL Re-seeding Active: #1 hosts highest numeric seed"}),p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-800"}),p.jsx("span",{children:"Predict Super Bowl LX Live"})]})})]})}const UE=[{id:1,name:"Chiefs",city:"Kansas City",seed:1,conference:"AFC",color:"#E31837"},{id:2,name:"Bills",city:"Buffalo",seed:2,conference:"AFC",color:"#00338D"},{id:3,name:"Ravens",city:"Baltimore",seed:3,conference:"AFC",color:"#241773"},{id:4,name:"Texans",city:"Houston",seed:4,conference:"AFC",color:"#03202F"},{id:5,name:"Steelers",city:"Pittsburgh",seed:5,conference:"AFC",color:"#FFB612"},{id:6,name:"Chargers",city:"Los Angeles",seed:6,conference:"AFC",color:"#0080C6"},{id:7,name:"Broncos",city:"Denver",seed:7,conference:"AFC",color:"#FB4F14"},{id:8,name:"Lions",city:"Detroit",seed:1,conference:"NFC",color:"#0076B6"},{id:9,name:"Eagles",city:"Philadelphia",seed:2,conference:"NFC",color:"#004C54"},{id:10,name:"Rams",city:"Los Angeles",seed:3,conference:"NFC",color:"#003594"},{id:11,name:"Buccaneers",city:"Tampa Bay",seed:4,conference:"NFC",color:"#D50A0A"},{id:12,name:"Vikings",city:"Minnesota",seed:5,conference:"NFC",color:"#4F2683"},{id:13,name:"Commanders",city:"Washington",seed:6,conference:"NFC",color:"#5A1414"},{id:14,name:"Packers",city:"Green Bay",seed:7,conference:"NFC",color:"#203731"}],q9=async()=>{try{const t=await cn(lt(Le,"config","playoffs"));if(t.exists()){const e=t.data(),n=e.afcTeams||[],s=e.nfcTeams||[],a=[...n,...s].filter(Boolean);if(a.length===14)return a}return UE}catch(t){return console.error("Error fetching playoff teams:",t),UE}};function G9(){const{roomId:t}=gd(),{isAdmin:e}=gs(),n=Pi(),[s,a]=j.useState([]),[l,u]=j.useState(null),[d,m]=j.useState([]),[y,v]=j.useState(!0),[b,T]=j.useState("");j.useEffect(()=>{if(!e){n("/rooms");return}R()},[t,e]);const R=async()=>{const V=await q9();m(V);const U=await cn(lt(Le,"rooms",t));U.exists()&&T(U.data().code);const B=Vr(Ni(Le,"brackets"),Ii("roomId","==",t),Ii("submitted","==",!0)),H=await Pr(B),X=await Promise.all(H.docs.map(async te=>{const ae=te.data(),A=await cn(lt(Le,"users",ae.userId)),E=A.exists()?A.data():{};return{id:te.id,...ae,username:E.username||E.email||"Unknown User"}}));a(X.sort((te,ae)=>ae.submittedAt?.toDate()-te.submittedAt?.toDate())),v(!1)},k=async(V,U)=>{if(window.confirm(`Are you sure you want to delete ${U}'s bracket? This cannot be undone.`))try{await ZP(lt(Le,"brackets",V)),a(s.filter(B=>B.id!==V)),alert("Bracket deleted successfully!")}catch(B){console.error("Error deleting bracket:",B),alert(`Error deleting bracket: ${B.message}`)}},O=V=>{const U=d.filter(G=>G.conference==="AFC"),B=d.filter(G=>G.conference==="NFC"),H=G=>d.find(ie=>ie.id===G),X=G=>V.picks?.[G]?H(V.picks[G]):null,te=[{id:"afc-wc-0",team1:U[1],team2:U[6],winner:X("afc-wc-0")},{id:"afc-wc-1",team1:U[2],team2:U[5],winner:X("afc-wc-1")},{id:"afc-wc-2",team1:U[3],team2:U[4],winner:X("afc-wc-2")}],ae=[{id:"nfc-wc-0",team1:B[1],team2:B[6],winner:X("nfc-wc-0")},{id:"nfc-wc-1",team1:B[2],team2:B[5],winner:X("nfc-wc-1")},{id:"nfc-wc-2",team1:B[3],team2:B[4],winner:X("nfc-wc-2")}],A=te.map(G=>G.winner).filter(Boolean).sort((G,ie)=>G.seed-ie.seed),E=ae.map(G=>G.winner).filter(Boolean).sort((G,ie)=>G.seed-ie.seed),N=[{id:"afc-div-0",team1:U[0],team2:A[2]||null,winner:X("afc-div-0")},{id:"afc-div-1",team1:A[0]||null,team2:A[1]||null,winner:X("afc-div-1")}],P=[{id:"nfc-div-0",team1:B[0],team2:E[2]||null,winner:X("nfc-div-0")},{id:"nfc-div-1",team1:E[0]||null,team2:E[1]||null,winner:X("nfc-div-1")}],M=N.map(G=>G.winner).filter(Boolean),D=P.map(G=>G.winner).filter(Boolean),I={id:"afc-conf",team1:M[0]||null,team2:M[1]||null,winner:X("afc-conf")},he={id:"nfc-conf",team1:D[0]||null,team2:D[1]||null,winner:X("nfc-conf")},we={id:"super-bowl",team1:I.winner||null,team2:he.winner||null,winner:X("super-bowl")};return p.jsxs("div",{className:"flex items-center justify-between w-full h-full max-w-[1900px] gap-2 lg:gap-4 xl:gap-6 scale-75 lg:scale-85 xl:scale-90",children:[p.jsxs("div",{className:"flex items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[p.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Wild Card"}),te.map(G=>p.jsx(Ct,{matchup:G,isLocked:!0},G.id)),p.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[p.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),p.jsxs("div",{className:"text-left overflow-hidden",children:[p.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"AFC BYE"}),p.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:U[0]?.name})]})]})]}),p.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Divisional"}),N.map(G=>p.jsx(Ct,{matchup:G,isLocked:!0},G.id))]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-red-500/60 mb-1",children:"Conference"}),p.jsx(Ct,{matchup:I,isLocked:!0})]})]}),p.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 px-2 lg:px-4 py-4 lg:py-6",children:[p.jsx("div",{className:"relative w-24 h-24 lg:w-32 lg:h-32 flex items-center justify-center mb-2",children:p.jsx("img",{src:Iy,alt:"Super Bowl LX",className:"w-full h-full object-contain opacity-80"})}),p.jsx(Ct,{matchup:we,isLocked:!0}),we.winner&&p.jsxs("div",{className:"mt-4 text-center",children:[p.jsx("div",{className:"text-amber-500 font-black text-[10px] uppercase tracking-widest mb-1",children:"Super Bowl Winner"}),p.jsx("div",{className:"text-2xl lg:text-4xl font-black text-white italic uppercase",children:we.winner.name})]})]}),p.jsxs("div",{className:"flex flex-row-reverse items-center gap-2 lg:gap-4 xl:gap-6 flex-grow justify-start",children:[p.jsxs("div",{className:"flex flex-col space-y-3 lg:space-y-4",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Wild Card"}),ae.map(G=>p.jsx(Ct,{matchup:G,isLocked:!0},G.id)),p.jsxs("div",{className:"w-40 lg:w-48 h-[70px] lg:h-[80px] rounded-xl border border-dashed border-white/10 bg-slate-900/10 flex items-center justify-center space-x-3 opacity-30",children:[p.jsx("div",{className:"w-6 h-6 lg:w-7 lg:h-7 rounded bg-slate-800 flex items-center justify-center font-bold text-[10px] lg:text-[11px] text-white/50",children:"1"}),p.jsxs("div",{className:"text-left overflow-hidden",children:[p.jsx("div",{className:"text-[8px] lg:text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"NFC BYE"}),p.jsx("div",{className:"font-bold text-[12px] lg:text-[14px] text-slate-400 truncate uppercase",children:B[0]?.name})]})]})]}),p.jsxs("div",{className:"flex flex-col space-y-16 lg:space-y-20",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Divisional"}),P.map(G=>p.jsx(Ct,{matchup:G,isLocked:!0},G.id))]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-center text-[8px] lg:text-[9px] font-black uppercase tracking-[0.5em] text-blue-500/60 mb-1",children:"Conference"}),p.jsx(Ct,{matchup:he,isLocked:!0})]})]})]})};return y?p.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:p.jsx("div",{className:"text-white text-xl",children:"Loading brackets..."})}):l?p.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[#020617] text-slate-100",children:[p.jsx("header",{className:"h-[70px] flex items-center justify-between px-10 bg-slate-950/60 backdrop-blur-xl border-b border-white/5",children:p.jsxs("div",{className:"flex items-center space-x-5",children:[p.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white transition",children:p.jsx(Hr,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl font-black uppercase tracking-tighter text-white",children:[l.username,"'s Bracket"]}),p.jsxs("p",{className:"text-xs text-slate-500",children:["Submitted ",l.submittedAt?.toDate().toLocaleString()]})]})]})}),p.jsx("main",{className:"flex-grow flex items-center justify-center p-2 lg:p-4 overflow-x-auto",children:O(l)})]}):p.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 overflow-hidden",children:p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),p.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("button",{onClick:()=>n("/rooms"),className:"text-slate-400 hover:text-white transition",children:p.jsx(Hr,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Submitted Brackets"}),p.jsxs("p",{className:"text-slate-400",children:["Room: ",b]})]})]}),s.length===0?p.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:p.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):p.jsx("div",{className:"grid gap-4",children:s.map(V=>p.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:bg-slate-800/50 transition-all",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("button",{onClick:()=>u(V),className:"flex items-center gap-4 flex-grow text-left",children:[p.jsx("div",{className:"bg-gradient-to-br from-yellow-600/80 to-yellow-700/80 p-3 rounded-xl",children:p.jsx(eO,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:V.username}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",children:[p.jsx(g3,{className:"w-4 h-4"}),p.jsxs("span",{children:["Submitted ",V.submittedAt?.toDate().toLocaleString()]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:U=>{U.stopPropagation(),k(V.id,V.username)},className:"p-2 bg-red-500/20 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition text-red-400",title:"Delete Bracket",children:p.jsx(BA,{className:"w-4 h-4"})}),p.jsx(Hr,{className:"w-5 h-5 text-yellow-600/70 rotate-180"})]})]})},V.id))})]})]})}const wf={wc:1,div:2,conf:3,"super-bowl":5};function K9(){const{roomId:t}=gd(),{user:e}=gs(),n=Pi(),[s,a]=j.useState([]),[l,u]=j.useState(""),[d,m]=j.useState(!0),[y,v]=j.useState({}),[b,T]=j.useState(!1);j.useEffect(()=>{R()},[t]);const R=async()=>{try{const O=await cn(lt(Le,"brackets",`${t}_${e.uid}`)),V=O.exists()&&O.data().submitted===!0;T(V);const U=await cn(lt(Le,"rooms",t));U.exists()&&u(U.data().code);const B=await cn(lt(Le,"gameResults",t)),H=B.exists()?B.data().results||{}:{};v(H);const X=Vr(Ni(Le,"brackets"),Ii("roomId","==",t),Ii("submitted","==",!0)),te=await Pr(X),ae=await Promise.all(te.docs.map(async A=>{const E=A.data(),N=await cn(lt(Le,"users",E.userId)),P=N.exists()?N.data():{},M=k(E.picks,H);return{userId:E.userId,username:P.username||P.email||"Unknown User",points:M,tiebreakerPoints:E.tiebreakerPoints||0,submittedAt:E.submittedAt}}));ae.sort((A,E)=>{if(E.points!==A.points)return E.points-A.points;const N=H["super-bowl"];if(N&&N.totalPoints){const P=Math.abs(A.tiebreakerPoints-N.totalPoints),M=Math.abs(E.tiebreakerPoints-N.totalPoints);return P-M}return 0}),a(ae)}catch(O){console.error("Error loading leaderboard:",O)}finally{m(!1)}},k=(O,V)=>{let U=0;return Object.entries(O).forEach(([B,H])=>{V[B]===H&&(B.includes("wc")?U+=wf.wc:B.includes("div")?U+=wf.div:B.includes("conf")?U+=wf.conf:B==="super-bowl"&&(U+=wf["super-bowl"]))}),U};return d?p.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:p.jsx("div",{className:"text-white text-xl",children:"Loading leaderboard..."})}):b?p.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 overflow-hidden",children:p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),p.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:p.jsx(Hr,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white flex items-center gap-3",children:[p.jsx(cl,{className:"w-10 h-10 text-yellow-600/90"}),"Leaderboard"]}),p.jsxs("p",{className:"text-slate-400",children:["Room: ",l]})]})]}),s.length===0?p.jsx("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-2xl p-12 text-center",children:p.jsx("p",{className:"text-slate-400 text-lg",children:"No submitted brackets yet"})}):p.jsx("div",{className:"space-y-3",children:s.map((O,V)=>{const U=O.userId===e.uid,B=V+1;return p.jsx("div",{className:`bg-slate-900/40 backdrop-blur-xl border rounded-xl p-6 transition-all ${U?"border-yellow-600/50 bg-yellow-600/5":"border-white/10 hover:bg-slate-800/50"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl ${B===1?"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white":B===2?"bg-gradient-to-br from-slate-300 to-slate-400 text-slate-900":B===3?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-slate-800 text-slate-400"}`,children:B===1?p.jsx(cl,{className:"w-6 h-6"}):B===2?p.jsx(z3,{className:"w-6 h-6"}):B===3?p.jsx(m3,{className:"w-6 h-6"}):B}),p.jsxs("div",{children:[p.jsxs("h3",{className:`text-xl font-bold ${U?"text-yellow-500":"text-white"}`,children:[O.username," ",U&&"(You)"]}),p.jsxs("p",{className:"text-sm text-slate-400",children:["Submitted ",O.submittedAt?.toDate().toLocaleDateString()]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-black text-yellow-600/90",children:O.points}),p.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Points"}),O.tiebreakerPoints>0&&p.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["TB: ",O.tiebreakerPoints]})]})]})},O.userId)})}),p.jsxs("div",{className:"mt-8 bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Point System"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"1"}),p.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Wild Card"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"2"}),p.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Divisional"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"3"}),p.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Conference"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-black text-yellow-600/90",children:"5"}),p.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Super Bowl"})]})]})]})]})]}):p.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 overflow-hidden",children:p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),p.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:p.jsx(Hr,{className:"w-6 h-6"})}),p.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Leaderboard"})]}),p.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-yellow-600/30 rounded-2xl p-12 text-center",children:[p.jsx(ad,{className:"w-16 h-16 text-yellow-600/90 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Submit Your Bracket First"}),p.jsx("p",{className:"text-slate-300 mb-6",children:"You must submit your bracket before viewing the leaderboard."}),p.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"px-6 py-3 bg-gradient-to-r from-yellow-600/80 to-yellow-700/80 text-white rounded-xl hover:from-yellow-600/90 hover:to-yellow-700/90 transition font-bold uppercase tracking-wider",children:"Go to Bracket"})]})]})]})}function $9(){const{roomId:t}=gd(),{isAdmin:e}=gs(),n=Pi(),[s,a]=j.useState(null),[l,u]=j.useState({}),[d,m]=j.useState(""),[y,v]=j.useState(!0),[b,T]=j.useState(!1);j.useEffect(()=>{if(!e){n("/rooms");return}R();const D=setInterval(()=>{k()},3e4);return()=>clearInterval(D)},[t,e]);const R=async()=>{const D=await ld();a(D);const I=await cn(lt(Le,"rooms",t));I.exists()&&m(I.data().code);const he=await cn(lt(Le,"gameResults",t));he.exists()&&u(he.data().results||{}),v(!1),D&&O(D,he.exists()?he.data().results||{}:{})},k=async()=>{T(!0);try{const D=await ld();a(D),D&&await O(D,l)}catch(D){console.error("Error syncing games:",D)}finally{T(!1)}},O=async(D,I)=>{const he={...I};let we=!1;[...D.wildCard||[],...D.divisional||[],...D.conference||[],...D.superBowl||[]].forEach(ie=>{ie.isCompleted&&ie.winner&&!I[ie.id]&&(he[ie.id]=ie.winner,we=!0)}),we&&await V(he)},V=async D=>{await Zo(lt(Le,"gameResults",t),{results:D}),u(D)},U=(D,I)=>{const he={...l,[D]:I};V(he)},B=D=>{const I={...l,"super-bowl":{...l["super-bowl"],totalPoints:parseInt(D)||0}};V(I)},H=D=>{const I={...l};delete I[D],V(I)},X=D=>{if(!D||!D.team1&&!D.team2)return p.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4 opacity-50",children:[p.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Game Not Available"}),p.jsx("div",{className:"text-sm text-slate-600",children:"Waiting for previous round results..."})]});const I=l[D.id];return p.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:[D.team1?.abbreviation||"TBD"," vs ",D.team2?.abbreviation||"TBD"]}),D.isInProgress&&p.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-500 font-bold",children:[p.jsx(q3,{className:"w-3 h-3 animate-pulse"}),"LIVE"]}),D.isCompleted&&p.jsx("div",{className:"text-xs text-green-500 font-bold",children:"FINAL"})]}),p.jsx("div",{className:"space-y-2",children:[D.team1,D.team2].map(he=>he&&p.jsxs("button",{onClick:()=>I===he.id?H(D.id):U(D.id,he.id),className:`w-full p-3 rounded-lg border-2 transition-all flex items-center justify-between ${I===he.id?"border-green-500 bg-green-500/20":I&&I!==he.id?"border-red-500/50 bg-red-500/10 opacity-50":"border-slate-700 hover:border-slate-600"}`,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center text-xs font-bold text-white",style:{backgroundColor:he.color},children:he.seed}),p.jsxs("span",{className:"font-bold text-white",children:[he.city," ",he.name]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[(D.isInProgress||D.isCompleted)&&p.jsx("span",{className:"text-xl font-black text-white",children:he.isHome?D.homeScore:D.awayScore}),I===he.id&&p.jsx(x3,{className:"w-5 h-5 text-green-500"})]})]},he.id))})]})};if(y||!s)return p.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:p.jsx("div",{className:"text-white text-xl",children:"Loading..."})});const te=s.wildCard?.filter(D=>D.conference==="AFC")||[],ae=s.wildCard?.filter(D=>D.conference==="NFC")||[],A=s.divisional?.filter(D=>D.conference==="AFC")||[],E=s.divisional?.filter(D=>D.conference==="NFC")||[],N=s.conference?.find(D=>D.conference==="AFC"),P=s.conference?.find(D=>D.conference==="NFC"),M=s.superBowl?.[0];return p.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 overflow-hidden",children:p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),p.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("button",{onClick:()=>n(`/bracket/${t}`),className:"text-slate-400 hover:text-white transition",children:p.jsx(Hr,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Game Results"}),p.jsxs("p",{className:"text-slate-400",children:["Room: ",d," - Auto-syncs completed games, click to override"]})]}),p.jsxs("button",{onClick:()=>k(),disabled:b,className:"flex items-center gap-2 px-6 py-3 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-xl hover:bg-blue-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[p.jsx(UA,{className:`w-5 h-5 ${b?"animate-spin":""}`}),b?"Syncing...":"Sync Now"]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),p.jsx("div",{className:"space-y-3",children:te.map(D=>p.jsx("div",{children:X(D)},D.id))})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),p.jsx("div",{className:"space-y-3",children:A.map(D=>p.jsx("div",{children:X(D)},D.id))})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),X(N)]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Wild Card"}),p.jsx("div",{className:"space-y-3",children:ae.map(D=>p.jsx("div",{children:X(D)},D.id))})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Divisional"}),p.jsx("div",{className:"space-y-3",children:E.map(D=>p.jsx("div",{children:X(D)},D.id))})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Conference Championship"}),X(P)]})]})]}),p.jsxs("div",{className:"mt-8 max-w-md mx-auto",children:[p.jsx("h2",{className:"text-2xl font-black text-yellow-600/90 uppercase tracking-wider mb-4 text-center",children:"Super Bowl LX"}),X(M),p.jsxs("div",{className:"mt-4 bg-slate-900/40 backdrop-blur-xl border border-yellow-500/30 rounded-xl p-4",children:[p.jsx("label",{className:"block text-sm font-bold text-yellow-500 uppercase tracking-wider mb-2",children:"Total Points Scored (for tiebreaker)"}),p.jsx("input",{type:"number",min:"0",max:"150",value:l["super-bowl"]?.totalPoints||"",onChange:D=>B(D.target.value),placeholder:"Enter combined final score",className:"w-full px-4 py-2 bg-slate-800/50 border border-yellow-500/30 rounded-lg text-white text-center font-bold focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),p.jsx("p",{className:"text-xs text-slate-400 text-center mt-2",children:"Used to break ties in the leaderboard"})]})]})]})]})}const BE=[{id:"chiefs",name:"Chiefs",city:"Kansas City",conference:"AFC",color:"#E31837"},{id:"bills",name:"Bills",city:"Buffalo",conference:"AFC",color:"#00338D"},{id:"ravens",name:"Ravens",city:"Baltimore",conference:"AFC",color:"#241773"},{id:"texans",name:"Texans",city:"Houston",conference:"AFC",color:"#03202F"},{id:"steelers",name:"Steelers",city:"Pittsburgh",conference:"AFC",color:"#FFB612"},{id:"chargers",name:"Chargers",city:"Los Angeles",conference:"AFC",color:"#0080C6"},{id:"broncos",name:"Broncos",city:"Denver",conference:"AFC",color:"#FB4F14"},{id:"eagles",name:"Eagles",city:"Philadelphia",conference:"NFC",color:"#004C54"},{id:"lions",name:"Lions",city:"Detroit",conference:"NFC",color:"#0076B6"},{id:"rams",name:"Rams",city:"Los Angeles",conference:"NFC",color:"#003594"},{id:"buccaneers",name:"Buccaneers",city:"Tampa Bay",conference:"NFC",color:"#D50A0A"},{id:"vikings",name:"Vikings",city:"Minnesota",conference:"NFC",color:"#4F2683"},{id:"packers",name:"Packers",city:"Green Bay",conference:"NFC",color:"#203731"},{id:"commanders",name:"Commanders",city:"Washington",conference:"NFC",color:"#5A1414"}];function Y9(){const{isAdmin:t}=gs(),e=Pi(),[n,s]=j.useState(Array(7).fill(null)),[a,l]=j.useState(Array(7).fill(null)),[u,d]=j.useState(!0),[m,y]=j.useState(!1);j.useEffect(()=>{if(!t){e("/rooms");return}v()},[t]);const v=async()=>{const k=await cn(lt(Le,"config","playoffs"));if(k.exists()){const O=k.data();s(O.afcTeams||Array(7).fill(null)),l(O.nfcTeams||Array(7).fill(null))}d(!1)},b=async()=>{y(!0);try{await Zo(lt(Le,"config","playoffs"),{afcTeams:n,nfcTeams:a,updatedAt:new Date}),alert("Playoff configuration saved!")}catch(k){console.error("Error saving config:",k),alert("Error saving configuration")}finally{y(!1)}},T=(k,O,V)=>{const U=BE.find(H=>H.id===V);if(!U)return;const B={...U,seed:O+1};if(k==="AFC"){const H=[...n];H[O]=B,s(H)}else{const H=[...a];H[O]=B,l(H)}},R=(k,O)=>{const V=k==="AFC"?n:a,U=V[O],B=BE.filter(H=>H.conference===k&&!V.some(X=>X?.id===H.id));return p.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[p.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:["Seed #",O+1]}),p.jsxs("select",{value:U?.id||"",onChange:H=>T(k,O,H.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg text-white font-bold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[p.jsx("option",{value:"",children:"Select Team"}),B.map(H=>p.jsxs("option",{value:H.id,children:[H.city," ",H.name]},H.id)),U&&p.jsxs("option",{value:U.id,children:[U.city," ",U.name]})]})]})};return u?p.jsx("div",{className:"h-screen bg-[#020617] flex items-center justify-center",children:p.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):p.jsxs("div",{className:"min-h-screen bg-[#020617] relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 overflow-hidden",children:p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_-20%,#1e293b,transparent_60%)] pointer-events-none opacity-40"})}),p.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>e("/rooms"),className:"text-slate-400 hover:text-white transition",children:p.jsx(Hr,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter text-white",children:"Playoff Configuration"}),p.jsx("p",{className:"text-slate-400",children:"Set the 14 playoff teams and their seeds"})]})]}),p.jsxs("button",{onClick:b,disabled:m,className:"flex items-center gap-2 px-6 py-3 bg-green-500/20 border border-green-500/30 text-green-400 rounded-xl hover:bg-green-500/30 transition font-bold uppercase tracking-wider disabled:opacity-50",children:[p.jsx($3,{className:"w-5 h-5"}),m?"Saving...":"Save Configuration"]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-wider",children:"AFC Playoff Teams"}),[0,1,2,3,4,5,6].map(k=>R("AFC",k))]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h2",{className:"text-2xl font-black text-blue-500 uppercase tracking-wider",children:"NFC Playoff Teams"}),[0,1,2,3,4,5,6].map(k=>R("NFC",k))]})]})]})]})}function Q9(){const{user:t,logout:e}=gs(),[n,s]=j.useState(!1),[a,l]=j.useState(!0),[u,d]=j.useState("");j.useEffect(()=>{let v;return(async()=>{if(t){await t.reload();const T=Kt.currentUser;T&&T.emailVerified?window.location.reload():(l(!1),v=setInterval(async()=>{if(t){await t.reload();const R=Kt.currentUser;R&&R.emailVerified&&window.location.reload()}},1e3))}})(),()=>{v&&clearInterval(v)}},[t]);const m=async()=>{l(!0),d("");try{await t.reload();const v=Kt.currentUser;v&&v.emailVerified?window.location.reload():d("Email not verified yet. Please check your inbox and spam folder.")}catch{d("Error checking verification status.")}l(!1)},y=async()=>{s(!0),d("");try{await q1(t),d("Verification email sent! Please check your inbox and spam folder.")}catch{d("Error sending email. Please try again later.")}s(!1)};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-900 via-red-800 to-orange-900 flex items-center justify-center p-4",children:a?p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-white mx-auto mb-4"}),p.jsx("p",{className:"text-white text-lg",children:"Checking verification status..."})]}):p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[p.jsx("div",{className:"flex items-center justify-center mb-6",children:p.jsx("div",{className:"bg-orange-100 p-4 rounded-full",children:p.jsx(ry,{className:"w-12 h-12 text-orange-600"})})}),p.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-gray-800",children:"Verify Your Email"}),p.jsxs("p",{className:"text-center text-gray-600 mb-6",children:["We sent a verification link to ",p.jsx("span",{className:"font-semibold",children:t?.email})]}),p.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(ad,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"text-sm text-blue-800",children:[p.jsx("p",{className:"font-semibold mb-1",children:"Check your email"}),p.jsx("p",{children:"Click the verification link in the email to activate your account. Check your spam folder if needed."})]})]})}),u&&p.jsx("div",{className:`border rounded-lg p-3 mb-4 ${u.includes("sent")?"bg-green-50 border-green-200 text-green-800":"bg-yellow-50 border-yellow-200 text-yellow-800"}`,children:p.jsx("p",{className:"text-sm",children:u})}),p.jsxs("button",{onClick:m,disabled:a,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-semibold mb-3 disabled:opacity-50 flex items-center justify-center gap-2",children:[p.jsx(UA,{className:`w-5 h-5 ${a?"animate-spin":""}`}),a?"Checking...":"I Verified My Email"]}),p.jsx("button",{onClick:y,disabled:n,className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold mb-3 disabled:opacity-50",children:n?"Sending...":"Resend Verification Email"}),p.jsx("button",{onClick:e,className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Sign Out"})]})})}function X9(){const[t]=Uy(),e=Pi(),[n,s]=j.useState("verifying"),[a,l]=j.useState("");return j.useEffect(()=>{(async()=>{const d=t.get("oobCode");if(!d){s("error"),l("Invalid verification link");return}try{await H1(Kt,d),s("success"),setTimeout(()=>e("/login?verified=true"),2e3)}catch(m){s("error"),l(m.message)}})()},[t,e]),p.jsx("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 w-full max-w-md text-center",children:[n==="verifying"&&p.jsxs(p.Fragment,{children:[p.jsx(j3,{className:"w-16 h-16 text-blue-400 mx-auto mb-4 animate-spin"}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verifying Email..."}),p.jsx("p",{className:"text-slate-400",children:"Please wait while we verify your email address."})]}),n==="success"&&p.jsxs(p.Fragment,{children:[p.jsx(od,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-2",children:"Email Verified!"}),p.jsx("p",{className:"text-slate-300",children:"Redirecting to login..."})]}),n==="error"&&p.jsxs(p.Fragment,{children:[p.jsx(N3,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-2",children:"Verification Failed"}),p.jsx("p",{className:"text-slate-300 mb-4",children:a}),p.jsx("button",{onClick:()=>e("/login"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Go to Login"})]})]})})}function W9(){const{user:t,isAdmin:e}=gs();return j.useEffect(()=>{(async()=>{if(t)try{const s=await cn(lt(Le,"users",t.uid));if(s.exists()){const a=s.data();console.log("Current user data:",a),console.log("isAdmin from context:",e),e&&!a.isAdmin&&(console.log("Setting admin status in Firestore..."),await JP(lt(Le,"users",t.uid),{isAdmin:!0}),console.log("Admin status updated! Please refresh the page."),alert("Admin status has been set. Please refresh the page."))}else console.log("User document does not exist in Firestore")}catch(s){console.error("Error checking admin status:",s)}})()},[t,e]),null}function Lo({children:t}){const{user:e,loading:n}=gs(),s=Vi();return n?p.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."}):e?e.emailVerified?p.jsxs(p.Fragment,{children:[p.jsx(W9,{}),t]}):p.jsx(Q9,{}):p.jsx(t1,{to:"/login",state:{from:s.pathname+s.search},replace:!0})}function J9(){return p.jsx(r3,{children:p.jsx(II,{children:p.jsxs(rI,{children:[p.jsx(rs,{path:"/login",element:p.jsx(sO,{})}),p.jsx(rs,{path:"/verify-email",element:p.jsx(X9,{})}),p.jsx(rs,{path:"/rooms",element:p.jsx(Lo,{children:p.jsx(aO,{})})}),p.jsx(rs,{path:"/bracket/:roomId",element:p.jsx(Lo,{children:p.jsx(H9,{})})}),p.jsx(rs,{path:"/admin/brackets/:roomId",element:p.jsx(Lo,{children:p.jsx(G9,{})})}),p.jsx(rs,{path:"/leaderboard/:roomId",element:p.jsx(Lo,{children:p.jsx(K9,{})})}),p.jsx(rs,{path:"/game-results/:roomId",element:p.jsx(Lo,{children:p.jsx($9,{})})}),p.jsx(rs,{path:"/admin/playoff-config",element:p.jsx(Lo,{children:p.jsx(Y9,{})})}),p.jsx(rs,{path:"/",element:p.jsx(t1,{to:"/rooms"})})]})})})}lN.createRoot(document.getElementById("root")).render(p.jsx(j.StrictMode,{children:p.jsx(J9,{})}));
